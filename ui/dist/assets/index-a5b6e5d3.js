(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function ce(){}const Ko=n=>n;function Mt(n,e){for(const t in e)n[t]=e[t];return n}function xT(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function kw(n){return n()}function zh(){return Object.create(null)}function it(n){n.forEach(kw)}function ar(n){return typeof n=="function"}function $e(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let wf;function Ui(n,e){return wf||(wf=document.createElement("a")),wf.href=e,n===wf.href}function TT(n){return Object.keys(n).length===0}function yw(n,...e){if(n==null)return ce;const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Et(n,e,t){n.$$.on_destroy.push(yw(e,t))}function Hn(n,e,t,r){if(n){const i=xw(n,e,t,r);return n[0](i)}}function xw(n,e,t,r){return n[1]&&r?Mt(t.ctx.slice(),n[1](r(e))):t.ctx}function Vn(n,e,t,r){if(n[2]&&r){const i=n[2](r(t));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],a=Math.max(e.dirty.length,i.length);for(let l=0;l<a;l+=1)s[l]=e.dirty[l]|i[l];return s}return e.dirty|i}return e.dirty}function Wn(n,e,t,r,i,s){if(i){const a=xw(e,t,r,s);n.p(a,i)}}function jn(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let r=0;r<t;r++)e[r]=-1;return e}return-1}function rs(n){const e={};for(const t in n)t[0]!=="$"&&(e[t]=n[t]);return e}function zn(n,e){const t={};e=new Set(e);for(const r in n)!e.has(r)&&r[0]!=="$"&&(t[r]=n[r]);return t}function Ws(n){return n??""}function kr(n,e,t){return n.set(t),e}function st(n){return n&&ar(n.destroy)?n.destroy:ce}const Tw=typeof window<"u";let Wc=Tw?()=>window.performance.now():()=>Date.now(),rd=Tw?n=>requestAnimationFrame(n):ce;const al=new Set;function Sw(n){al.forEach(e=>{e.c(n)||(al.delete(e),e.f())}),al.size!==0&&rd(Sw)}function jc(n){let e;return al.size===0&&rd(Sw),{promise:new Promise(t=>{al.add(e={c:n,f:t})}),abort(){al.delete(e)}}}function b(n,e){n.appendChild(e)}function Ew(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function ST(n){const e=y("style");return ET(Ew(n),e),e.sheet}function ET(n,e){return b(n.head||n,e),e.sheet}function E(n,e,t){n.insertBefore(e,t||null)}function S(n){n.parentNode&&n.parentNode.removeChild(n)}function zt(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function y(n){return document.createElement(n)}function q(n){return document.createTextNode(n)}function D(){return q(" ")}function Ge(){return q("")}function ae(n,e,t,r){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}function Yt(n){return function(e){return e.preventDefault(),n.call(this,e)}}function ri(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function _(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function ts(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const r in e)e[r]==null?n.removeAttribute(r):r==="style"?n.style.cssText=e[r]:r==="__value"?n.value=n[r]=e[r]:t[r]&&t[r].set?n[r]=e[r]:_(n,r,e[r])}function nn(n){return n===""?null:+n}function CT(n){return Array.from(n.childNodes)}function ke(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function Ne(n,e){n.value=e??""}function h0(n,e,t,r){t===null?n.style.removeProperty(e):n.style.setProperty(e,t,r?"important":"")}function pe(n,e,t){n.classList[t?"add":"remove"](e)}function Cw(n,e,{bubbles:t=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(n,t,r,e),i}function sr(n,e){return new n(e)}const ac=new Map;let lc=0;function AT(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function FT(n,e){const t={stylesheet:ST(e),rules:{}};return ac.set(n,t),t}function xo(n,e,t,r,i,s,a,l=0){const o=16.666/r;let f=`{
`;for(let g=0;g<=1;g+=o){const v=e+(t-e)*s(g);f+=g*100+`%{${a(v,1-v)}}
`}const c=f+`100% {${a(t,1-t)}}
}`,u=`__svelte_${AT(c)}_${l}`,d=Ew(n),{stylesheet:h,rules:m}=ac.get(d)||FT(d,n);m[u]||(m[u]=!0,h.insertRule(`@keyframes ${u} ${c}`,h.cssRules.length));const p=n.style.animation||"";return n.style.animation=`${p?`${p}, `:""}${u} ${r}ms linear ${i}ms 1 both`,lc+=1,u}function To(n,e){const t=(n.style.animation||"").split(", "),r=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),i=t.length-r.length;i&&(n.style.animation=r.join(", "),lc-=i,lc||DT())}function DT(){rd(()=>{lc||(ac.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&S(e)}),ac.clear())})}function OT(n,e,t,r){if(!e)return ce;const i=n.getBoundingClientRect();if(e.left===i.left&&e.right===i.right&&e.top===i.top&&e.bottom===i.bottom)return ce;const{delay:s=0,duration:a=300,easing:l=Ko,start:o=Wc()+s,end:f=o+a,tick:c=ce,css:u}=t(n,{from:e,to:i},r);let d=!0,h=!1,m;function p(){u&&(m=xo(n,0,1,a,s,l,u)),s||(h=!0)}function g(){u&&To(n,m),d=!1}return jc(v=>{if(!h&&v>=o&&(h=!0),h&&v>=f&&(c(1,0),g()),!d)return!1;if(h){const w=v-o,k=0+1*l(w/a);c(k,1-k)}return!0}),p(),c(0,1),g}function MT(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:r}=e,i=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=r,Aw(n,i)}}function Aw(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const r=getComputedStyle(n),i=r.transform==="none"?"":r.transform;n.style.transform=`${i} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}let So;function ms(n){So=n}function Jo(){if(!So)throw new Error("Function called outside component initialization");return So}function ur(n){Jo().$$.on_mount.push(n)}function IT(n){Jo().$$.after_update.push(n)}function Fw(n){Jo().$$.on_destroy.push(n)}function Fn(){const n=Jo();return(e,t,{cancelable:r=!1}={})=>{const i=n.$$.callbacks[e];if(i){const s=Cw(e,t,{cancelable:r});return i.slice().forEach(a=>{a.call(n,s)}),!s.defaultPrevented}return!0}}function mt(n,e){const t=n.$$.callbacks[e.type];t&&t.slice().forEach(r=>r.call(this,e))}const tl=[],ve=[],Qf=[],p0=[],Dw=Promise.resolve();let m0=!1;function Ow(){m0||(m0=!0,Dw.then(id))}function Pr(){return Ow(),Dw}function Nt(n){Qf.push(n)}function He(n){p0.push(n)}const bu=new Set;let qa=0;function id(){if(qa!==0)return;const n=So;do{try{for(;qa<tl.length;){const e=tl[qa];qa++,ms(e),NT(e.$$)}}catch(e){throw tl.length=0,qa=0,e}for(ms(null),tl.length=0,qa=0;ve.length;)ve.pop()();for(let e=0;e<Qf.length;e+=1){const t=Qf[e];bu.has(t)||(bu.add(t),t())}Qf.length=0}while(tl.length);for(;p0.length;)p0.pop()();m0=!1,bu.clear(),ms(n)}function NT(n){if(n.fragment!==null){n.update(),it(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Nt)}}let Ul;function sd(){return Ul||(Ul=Promise.resolve(),Ul.then(()=>{Ul=null})),Ul}function va(n,e,t){n.dispatchEvent(Cw(`${e?"intro":"outro"}${t}`))}const ec=new Set;let Ki;function Me(){Ki={r:0,c:[],p:Ki}}function Ie(){Ki.r||it(Ki.c),Ki=Ki.p}function M(n,e){n&&n.i&&(ec.delete(n),n.i(e))}function L(n,e,t,r){if(n&&n.o){if(ec.has(n))return;ec.add(n),Ki.c.push(()=>{ec.delete(n),r&&(t&&n.d(1),r())}),n.o(e)}else r&&r()}const ad={duration:0};function Mw(n,e,t){const r={direction:"in"};let i=e(n,t,r),s=!1,a,l,o=0;function f(){a&&To(n,a)}function c(){const{delay:d=0,duration:h=300,easing:m=Ko,tick:p=ce,css:g}=i||ad;g&&(a=xo(n,0,1,h,d,m,g,o++)),p(0,1);const v=Wc()+d,w=v+h;l&&l.abort(),s=!0,Nt(()=>va(n,!0,"start")),l=jc(k=>{if(s){if(k>=w)return p(1,0),va(n,!0,"end"),f(),s=!1;if(k>=v){const x=m((k-v)/h);p(x,1-x)}}return s})}let u=!1;return{start(){u||(u=!0,To(n),ar(i)?(i=i(r),sd().then(c)):c())},invalidate(){u=!1},end(){s&&(f(),s=!1)}}}function Iw(n,e,t){const r={direction:"out"};let i=e(n,t,r),s=!0,a;const l=Ki;l.r+=1;function o(){const{delay:f=0,duration:c=300,easing:u=Ko,tick:d=ce,css:h}=i||ad;h&&(a=xo(n,1,0,c,f,u,h));const m=Wc()+f,p=m+c;Nt(()=>va(n,!1,"start")),jc(g=>{if(s){if(g>=p)return d(0,1),va(n,!1,"end"),--l.r||it(l.c),!1;if(g>=m){const v=u((g-m)/c);d(1-v,v)}}return s})}return ar(i)?sd().then(()=>{i=i(r),o()}):o(),{end(f){f&&i.tick&&i.tick(1,0),s&&(a&&To(n,a),s=!1)}}}function ut(n,e,t,r){const i={direction:"both"};let s=e(n,t,i),a=r?0:1,l=null,o=null,f=null;function c(){f&&To(n,f)}function u(h,m){const p=h.b-a;return m*=Math.abs(p),{a,b:h.b,d:p,duration:m,start:h.start,end:h.start+m,group:h.group}}function d(h){const{delay:m=0,duration:p=300,easing:g=Ko,tick:v=ce,css:w}=s||ad,k={start:Wc()+m,b:h};h||(k.group=Ki,Ki.r+=1),l||o?o=k:(w&&(c(),f=xo(n,a,h,p,m,g,w)),h&&v(0,1),l=u(k,p),Nt(()=>va(n,h,"start")),jc(x=>{if(o&&x>o.start&&(l=u(o,p),o=null,va(n,l.b,"start"),w&&(c(),f=xo(n,a,l.b,l.duration,0,g,s.css))),l){if(x>=l.end)v(a=l.b,1-a),va(n,l.b,"end"),o||(l.b?c():--l.group.r||it(l.group.c)),l=null;else if(x>=l.start){const A=x-l.start;a=l.a+l.d*g(A/l.duration),v(a,1-a)}}return!!(l||o)}))}return{run(h){ar(s)?sd().then(()=>{s=s(i),d(h)}):d(h)},end(){c(),l=o=null}}}function oc(n,e){const t=e.token={};function r(i,s,a,l){if(e.token!==t)return;e.resolved=l;let o=e.ctx;a!==void 0&&(o=o.slice(),o[a]=l);const f=i&&(e.current=i)(o);let c=!1;e.block&&(e.blocks?e.blocks.forEach((u,d)=>{d!==s&&u&&(Me(),L(u,1,1,()=>{e.blocks[d]===u&&(e.blocks[d]=null)}),Ie())}):e.block.d(1),f.c(),M(f,1),f.m(e.mount(),e.anchor),c=!0),e.block=f,e.blocks&&(e.blocks[s]=f),c&&id()}if(xT(n)){const i=Jo();if(n.then(s=>{ms(i),r(e.then,1,e.value,s),ms(null)},s=>{if(ms(i),r(e.catch,2,e.error,s),ms(null),!e.hasCatch)throw s}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,n),!0;e.resolved=n}}function Nw(n,e,t){const r=e.slice(),{resolved:i}=n;n.current===n.then&&(r[n.value]=i),n.current===n.catch&&(r[n.error]=i),n.block.p(r,t)}function Hi(n,e){n.d(1),e.delete(n.key)}function Tr(n,e){L(n,1,1,()=>{e.delete(n.key)})}function PT(n,e){n.f(),Tr(n,e)}function sn(n,e,t,r,i,s,a,l,o,f,c,u){let d=n.length,h=s.length,m=d;const p={};for(;m--;)p[n[m].key]=m;const g=[],v=new Map,w=new Map;for(m=h;m--;){const T=u(i,s,m),C=t(T);let F=a.get(C);F?r&&F.p(T,e):(F=f(C,T),F.c()),v.set(C,g[m]=F),C in p&&w.set(C,Math.abs(m-p[C]))}const k=new Set,x=new Set;function A(T){M(T,1),T.m(l,c),a.set(T.key,T),c=T.first,h--}for(;d&&h;){const T=g[h-1],C=n[d-1],F=T.key,O=C.key;T===C?(c=T.first,d--,h--):v.has(O)?!a.has(F)||k.has(F)?A(T):x.has(O)?d--:w.get(F)>w.get(O)?(x.add(F),A(T)):(k.add(O),d--):(o(C,a),d--)}for(;d--;){const T=n[d];v.has(T.key)||o(T,a)}for(;h;)A(g[h-1]);return g}function Rr(n,e){const t={},r={},i={$$scope:1};let s=n.length;for(;s--;){const a=n[s],l=e[s];if(l){for(const o in a)o in l||(r[o]=1);for(const o in l)i[o]||(t[o]=l[o],i[o]=1);n[s]=l}else for(const o in a)i[o]=1}for(const a in r)a in t||(t[a]=void 0);return t}function is(n){return typeof n=="object"&&n!==null?n:{}}function Le(n,e,t){const r=n.$$.props[e];r!==void 0&&(n.$$.bound[r]=t,t(n.$$.ctx[r]))}function z(n){n&&n.c()}function W(n,e,t,r){const{fragment:i,after_update:s}=n.$$;i&&i.m(e,t),r||Nt(()=>{const a=n.$$.on_mount.map(kw).filter(ar);n.$$.on_destroy?n.$$.on_destroy.push(...a):it(a),n.$$.on_mount=[]}),s.forEach(Nt)}function j(n,e){const t=n.$$;t.fragment!==null&&(it(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function LT(n,e){n.$$.dirty[0]===-1&&(tl.push(n),Ow(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Ve(n,e,t,r,i,s,a,l=[-1]){const o=So;ms(n);const f=n.$$={fragment:null,ctx:[],props:s,update:ce,not_equal:i,bound:zh(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:zh(),dirty:l,skip_bound:!1,root:e.target||o.$$.root};a&&a(f.root);let c=!1;if(f.ctx=t?t(n,e.props||{},(u,d,...h)=>{const m=h.length?h[0]:d;return f.ctx&&i(f.ctx[u],f.ctx[u]=m)&&(!f.skip_bound&&f.bound[u]&&f.bound[u](m),c&&LT(n,u)),d}):[],f.update(),c=!0,it(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const u=CT(e.target);f.fragment&&f.fragment.l(u),u.forEach(S)}else f.fragment&&f.fragment.c();e.intro&&M(n.$$.fragment),W(n,e.target,e.anchor,e.customElement),id()}ms(o)}class We{$destroy(){j(this,1),this.$destroy=ce}$on(e,t){if(!ar(t))return ce;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!TT(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Pn(n){if(!n)throw Error("Parameter args is required");if(!n.component==!n.asyncComponent)throw Error("One and only one of component and asyncComponent is required");if(n.component&&(n.asyncComponent=()=>Promise.resolve(n.component)),typeof n.asyncComponent!="function")throw Error("Parameter asyncComponent must be a function");if(n.conditions){Array.isArray(n.conditions)||(n.conditions=[n.conditions]);for(let t=0;t<n.conditions.length;t++)if(!n.conditions[t]||typeof n.conditions[t]!="function")throw Error("Invalid parameter conditions["+t+"]")}return n.loadingComponent&&(n.asyncComponent.loading=n.loadingComponent,n.asyncComponent.loadingParams=n.loadingParams||void 0),{component:n.asyncComponent,userData:n.userData,conditions:n.conditions&&n.conditions.length?n.conditions:void 0,props:n.props&&Object.keys(n.props).length?n.props:{},_sveltesparouter:!0}}const Ya=[];function Pw(n,e){return{subscribe:Ai(n,e).subscribe}}function Ai(n,e=ce){let t;const r=new Set;function i(l){if($e(n,l)&&(n=l,t)){const o=!Ya.length;for(const f of r)f[1](),Ya.push(f,n);if(o){for(let f=0;f<Ya.length;f+=2)Ya[f][0](Ya[f+1]);Ya.length=0}}}function s(l){i(l(n))}function a(l,o=ce){const f=[l,o];return r.add(f),r.size===1&&(t=e(i)||ce),l(n),()=>{r.delete(f),r.size===0&&(t(),t=null)}}return{set:i,update:s,subscribe:a}}function Lw(n,e,t){const r=!Array.isArray(n),i=r?[n]:n,s=e.length<2;return Pw(t,a=>{let l=!1;const o=[];let f=0,c=ce;const u=()=>{if(f)return;c();const h=e(r?o[0]:o,a);s?a(h):c=ar(h)?h:ce},d=i.map((h,m)=>yw(h,p=>{o[m]=p,f&=~(1<<m),l&&u()},()=>{f|=1<<m}));return l=!0,u(),function(){it(d),c()}})}function Rw(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,r,i,s,a=[],l="",o=n.split("/");for(o[0]||o.shift();i=o.shift();)t=i[0],t==="*"?(a.push("wild"),l+="/(.*)"):t===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~r?r:~s?s:i.length)),l+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(l+=(~r?"?":"")+"\\"+i.substring(s))):l+="/"+i;return{keys:a,pattern:new RegExp("^"+l+(e?"(?=$|/)":"/?$"),"i")}}function RT(n){let e,t,r;const i=[n[2]];var s=n[0];function a(l){let o={};for(let f=0;f<i.length;f+=1)o=Mt(o,i[f]);return{props:o}}return s&&(e=sr(s,a()),e.$on("routeEvent",n[7])),{c(){e&&z(e.$$.fragment),t=Ge()},m(l,o){e&&W(e,l,o),E(l,t,o),r=!0},p(l,o){const f=o&4?Rr(i,[is(l[2])]):{};if(s!==(s=l[0])){if(e){Me();const c=e;L(c.$$.fragment,1,0,()=>{j(c,1)}),Ie()}s?(e=sr(s,a()),e.$on("routeEvent",l[7]),z(e.$$.fragment),M(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else s&&e.$set(f)},i(l){r||(e&&M(e.$$.fragment,l),r=!0)},o(l){e&&L(e.$$.fragment,l),r=!1},d(l){l&&S(t),e&&j(e,l)}}}function $T(n){let e,t,r;const i=[{params:n[1]},n[2]];var s=n[0];function a(l){let o={};for(let f=0;f<i.length;f+=1)o=Mt(o,i[f]);return{props:o}}return s&&(e=sr(s,a()),e.$on("routeEvent",n[6])),{c(){e&&z(e.$$.fragment),t=Ge()},m(l,o){e&&W(e,l,o),E(l,t,o),r=!0},p(l,o){const f=o&6?Rr(i,[o&2&&{params:l[1]},o&4&&is(l[2])]):{};if(s!==(s=l[0])){if(e){Me();const c=e;L(c.$$.fragment,1,0,()=>{j(c,1)}),Ie()}s?(e=sr(s,a()),e.$on("routeEvent",l[6]),z(e.$$.fragment),M(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else s&&e.$set(f)},i(l){r||(e&&M(e.$$.fragment,l),r=!0)},o(l){e&&L(e.$$.fragment,l),r=!1},d(l){l&&S(t),e&&j(e,l)}}}function BT(n){let e,t,r,i;const s=[$T,RT],a=[];function l(o,f){return o[1]?0:1}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Ge()},m(o,f){a[e].m(o,f),E(o,r,f),i=!0},p(o,[f]){let c=e;e=l(o),e===c?a[e].p(o,f):(Me(),L(a[c],1,1,()=>{a[c]=null}),Ie(),t=a[e],t?t.p(o,f):(t=a[e]=s[e](o),t.c()),M(t,1),t.m(r.parentNode,r))},i(o){i||(M(t),i=!0)},o(o){L(t),i=!1},d(o){a[e].d(o),o&&S(r)}}}function qh(){const n=window.location.href.indexOf("#/");let e=n>-1?window.location.href.substr(n+1):"/";const t=e.indexOf("?");let r="";return t>-1&&(r=e.substr(t+1),e=e.substr(0,t)),{location:e,querystring:r}}const zc=Pw(null,function(e){e(qh());const t=()=>{e(qh())};return window.addEventListener("hashchange",t,!1),function(){window.removeEventListener("hashchange",t,!1)}});Lw(zc,n=>n.location);const ld=Lw(zc,n=>n.querystring),Yh=Ai(void 0);async function Js(n){if(!n||n.length<1||n.charAt(0)!="/"&&n.indexOf("#/")!==0)throw Error("Invalid parameter location");await Pr();const e=(n.charAt(0)=="#"?"":"#")+n;try{const t={...history.state};delete t.__svelte_spa_router_scrollX,delete t.__svelte_spa_router_scrollY,window.history.replaceState(t,void 0,e)}catch{console.warn("Caught exception while replacing the current page. If you're running this in the Svelte REPL, please note that the `replace` method might not work in this environment.")}window.dispatchEvent(new Event("hashchange"))}function Fr(n,e){if(e=Xh(e),!n||!n.tagName||n.tagName.toLowerCase()!="a")throw Error('Action "link" can only be used with <a> tags');return Gh(n,e),{update(t){t=Xh(t),Gh(n,t)}}}function UT(n){n?window.scrollTo(n.__svelte_spa_router_scrollX,n.__svelte_spa_router_scrollY):window.scrollTo(0,0)}function Gh(n,e){let t=e.href||n.getAttribute("href");if(t&&t.charAt(0)=="/")t="#"+t;else if(!t||t.length<2||t.slice(0,2)!="#/")throw Error('Invalid value for "href" attribute: '+t);n.setAttribute("href",t),n.addEventListener("click",r=>{r.preventDefault(),e.disabled||HT(r.currentTarget.getAttribute("href"))})}function Xh(n){return n&&typeof n=="string"?{href:n}:n||{}}function HT(n){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0),window.location.hash=n}function VT(n,e,t){let{routes:r={}}=e,{prefix:i=""}=e,{restoreScrollState:s=!1}=e;class a{constructor(A,T){if(!T||typeof T!="function"&&(typeof T!="object"||T._sveltesparouter!==!0))throw Error("Invalid component object");if(!A||typeof A=="string"&&(A.length<1||A.charAt(0)!="/"&&A.charAt(0)!="*")||typeof A=="object"&&!(A instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:C,keys:F}=Rw(A);this.path=A,typeof T=="object"&&T._sveltesparouter===!0?(this.component=T.component,this.conditions=T.conditions||[],this.userData=T.userData,this.props=T.props||{}):(this.component=()=>Promise.resolve(T),this.conditions=[],this.props={}),this._pattern=C,this._keys=F}match(A){if(i){if(typeof i=="string")if(A.startsWith(i))A=A.substr(i.length)||"/";else return null;else if(i instanceof RegExp){const O=A.match(i);if(O&&O[0])A=A.substr(O[0].length)||"/";else return null}}const T=this._pattern.exec(A);if(T===null)return null;if(this._keys===!1)return T;const C={};let F=0;for(;F<this._keys.length;){try{C[this._keys[F]]=decodeURIComponent(T[F+1]||"")||null}catch{C[this._keys[F]]=null}F++}return C}async checkConditions(A){for(let T=0;T<this.conditions.length;T++)if(!await this.conditions[T](A))return!1;return!0}}const l=[];r instanceof Map?r.forEach((x,A)=>{l.push(new a(A,x))}):Object.keys(r).forEach(x=>{l.push(new a(x,r[x]))});let o=null,f=null,c={};const u=Fn();async function d(x,A){await Pr(),u(x,A)}let h=null,m=null;s&&(m=x=>{x.state&&(x.state.__svelte_spa_router_scrollY||x.state.__svelte_spa_router_scrollX)?h=x.state:h=null},window.addEventListener("popstate",m),IT(()=>{UT(h)}));let p=null,g=null;const v=zc.subscribe(async x=>{p=x;let A=0;for(;A<l.length;){const T=l[A].match(x.location);if(!T){A++;continue}const C={route:l[A].path,location:x.location,querystring:x.querystring,userData:l[A].userData,params:T&&typeof T=="object"&&Object.keys(T).length?T:null};if(!await l[A].checkConditions(C)){t(0,o=null),g=null,d("conditionsFailed",C);return}d("routeLoading",Object.assign({},C));const F=l[A].component;if(g!=F){F.loading?(t(0,o=F.loading),g=F,t(1,f=F.loadingParams),t(2,c={}),d("routeLoaded",Object.assign({},C,{component:o,name:o.name,params:f}))):(t(0,o=null),g=null);const O=await F();if(x!=p)return;t(0,o=O&&O.default||O),g=F}T&&typeof T=="object"&&Object.keys(T).length?t(1,f=T):t(1,f=null),t(2,c=l[A].props),d("routeLoaded",Object.assign({},C,{component:o,name:o.name,params:f})).then(()=>{Yh.set(f)});return}t(0,o=null),g=null,Yh.set(void 0)});Fw(()=>{v(),m&&window.removeEventListener("popstate",m)});function w(x){mt.call(this,n,x)}function k(x){mt.call(this,n,x)}return n.$$set=x=>{"routes"in x&&t(3,r=x.routes),"prefix"in x&&t(4,i=x.prefix),"restoreScrollState"in x&&t(5,s=x.restoreScrollState)},n.$$.update=()=>{n.$$.dirty&32&&(history.scrollRestoration=s?"manual":"auto")},[o,f,c,r,i,s,w,k]}class WT extends We{constructor(e){super(),Ve(this,e,VT,BT,$e,{routes:3,prefix:4,restoreScrollState:5})}}const tc=[];let $w;function Bw(n){const e=n.pattern.test($w);Kh(n,n.className,e),Kh(n,n.inactiveClassName,!e)}function Kh(n,e,t){(e||"").split(" ").forEach(r=>{r&&(n.node.classList.remove(r),t&&n.node.classList.add(r))})}zc.subscribe(n=>{$w=n.location+(n.querystring?"?"+n.querystring:""),tc.map(Bw)});function Ni(n,e){if(e&&(typeof e=="string"||typeof e=="object"&&e instanceof RegExp)?e={path:e}:e=e||{},!e.path&&n.hasAttribute("href")&&(e.path=n.getAttribute("href"),e.path&&e.path.length>1&&e.path.charAt(0)=="#"&&(e.path=e.path.substring(1))),e.className||(e.className="active"),!e.path||typeof e.path=="string"&&(e.path.length<1||e.path.charAt(0)!="/"&&e.path.charAt(0)!="*"))throw Error('Invalid value for "path" argument');const{pattern:t}=typeof e.path=="string"?Rw(e.path):{pattern:e.path},r={node:n,className:e.className,inactiveClassName:e.inactiveClassName,pattern:t};return tc.push(r),Bw(r),{destroy(){tc.splice(tc.indexOf(r),1)}}}const jT="modulepreload",zT=function(n,e){return new URL(n,e).href},Jh={},jt=function(e,t,r){if(!t||t.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=zT(s,r),s in Jh)return;Jh[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const u=i[c];if(u.href===s&&(!a||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const f=document.createElement("link");if(f.rel=a?"stylesheet":jT,a||(f.as="script",f.crossOrigin=""),f.href=s,document.head.appendChild(f),a)return new Promise((c,u)=>{f.addEventListener("load",c),f.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())};var _0=function(n,e){return _0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},_0(n,e)};function Sr(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}_0(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var g0=function(){return g0=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},g0.apply(this,arguments)};function Dr(n,e,t,r){return new(t||(t=Promise))(function(i,s){function a(f){try{o(r.next(f))}catch(c){s(c)}}function l(f){try{o(r.throw(f))}catch(c){s(c)}}function o(f){f.done?i(f.value):function(u){return u instanceof t?u:new t(function(d){d(u)})}(f.value).then(a,l)}o((r=r.apply(n,e||[])).next())})}function Or(n,e){var t,r,i,s,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(o){return function(f){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return a.label++,{value:u[1],done:!1};case 5:a.label++,r=u[1],u=[0];continue;case 7:u=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!((i=i.length>0&&i[i.length-1])||u[0]!==6&&u[0]!==2)){a=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){a.label=u[1];break}if(u[0]===6&&a.label<i[1]){a.label=i[1],i=u;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(u);break}i[2]&&a.ops.pop(),a.trys.pop();continue}u=e.call(n,a)}catch(d){u=[6,d],r=0}finally{t=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([o,f])}}}var Uw,Eo=function(n){function e(t){var r,i,s,a,l=this;return(l=n.call(this,"ClientResponseError")||this).url="",l.status=0,l.data={},l.isAbort=!1,l.originalError=null,Object.setPrototypeOf(l,e.prototype),t instanceof e||(l.originalError=t),t!==null&&typeof t=="object"&&(l.url=typeof t.url=="string"?t.url:"",l.status=typeof t.status=="number"?t.status:0,l.data=t.data!==null&&typeof t.data=="object"?t.data:{}),typeof DOMException<"u"&&t instanceof DOMException&&(l.isAbort=!0),l.name="ClientResponseError "+l.status,l.message=(r=l.data)===null||r===void 0?void 0:r.message,l.message||(l.isAbort?l.message="The request was autocancelled. You can find more info in https://github.com/pocketbase/js-sdk#auto-cancellation.":!((a=(s=(i=l.originalError)===null||i===void 0?void 0:i.cause)===null||s===void 0?void 0:s.message)===null||a===void 0)&&a.includes("ECONNREFUSED ::1")?l.message="Failed to connect to the PocketBase server. Try changing the SDK URL from localhost to 127.0.0.1 (https://github.com/pocketbase/js-sdk/issues/21).":l.message="Something went wrong while processing your request."),l}return Sr(e,n),e.prototype.toJSON=function(){return g0({},this)},e}(Error),kf=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function Zh(n,e,t){var r=Object.assign({},t||{}),i=r.encode||YT;if(!kf.test(n))throw new TypeError("argument name is invalid");var s=i(e);if(s&&!kf.test(s))throw new TypeError("argument val is invalid");var a=n+"="+s;if(r.maxAge!=null){var l=r.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(l)}if(r.domain){if(!kf.test(r.domain))throw new TypeError("option domain is invalid");a+="; Domain="+r.domain}if(r.path){if(!kf.test(r.path))throw new TypeError("option path is invalid");a+="; Path="+r.path}if(r.expires){if(!function(f){return Object.prototype.toString.call(f)==="[object Date]"||f instanceof Date}(r.expires)||isNaN(r.expires.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(a+="; HttpOnly"),r.secure&&(a+="; Secure"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():r.priority){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return a}function qT(n){return n.indexOf("%")!==-1?decodeURIComponent(n):n}function YT(n){return encodeURIComponent(n)}function Qh(n){if(n)try{var e=decodeURIComponent(Uw(n.split(".")[1]).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(e)||{}}catch{}return{}}Uw=typeof atob=="function"?atob:function(n){var e=String(n).replace(/=+$/,"");if(e.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,r,i=0,s=0,a="";r=e.charAt(s++);~r&&(t=i%4?64*t+r:r,i++%4)?a+=String.fromCharCode(255&t>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return a};var Zo=function(){function n(e){e===void 0&&(e={}),this.load(e||{})}return n.prototype.load=function(e){for(var t=0,r=Object.entries(e);t<r.length;t++){var i=r[t],s=i[0],a=i[1];this[s]=a}this.id=e.id!==void 0?e.id:"",this.created=e.created!==void 0?e.created:"",this.updated=e.updated!==void 0?e.updated:""},Object.defineProperty(n.prototype,"isNew",{get:function(){return!this.id},enumerable:!1,configurable:!0}),n.prototype.clone=function(){var e=typeof structuredClone=="function"?structuredClone(this):JSON.parse(JSON.stringify(this));return new this.constructor(e)},n.prototype.export=function(){return Object.assign({},this)},n}(),ws=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.load=function(t){n.prototype.load.call(this,t),this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.collectionName=typeof t.collectionName=="string"?t.collectionName:"",this.loadExpand(t.expand)},e.prototype.loadExpand=function(t){for(var r in t=t||{},this.expand={},t)Array.isArray(t[r])?this.expand[r]=t[r].map(function(i){return new e(i||{})}):this.expand[r]=new e(t[r]||{})},e}(Zo),Ea=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.load=function(t){n.prototype.load.call(this,t),this.avatar=typeof t.avatar=="number"?t.avatar:0,this.email=typeof t.email=="string"?t.email:""},e}(Zo),GT=function(){function n(){this.baseToken="",this.baseModel=null,this._onChangeCallbacks=[]}return Object.defineProperty(n.prototype,"token",{get:function(){return this.baseToken},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"model",{get:function(){return this.baseModel},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isValid",{get:function(){return!function(t,r){r===void 0&&(r=0);var i=Qh(t);return!(Object.keys(i).length>0&&(!i.exp||i.exp-r>Date.now()/1e3))}(this.token)},enumerable:!1,configurable:!0}),n.prototype.save=function(e,t){this.baseToken=e||"",this.baseModel=t!==null&&typeof t=="object"?t.collectionId!==void 0?new ws(t):new Ea(t):null,this.triggerChange()},n.prototype.clear=function(){this.baseToken="",this.baseModel=null,this.triggerChange()},n.prototype.loadFromCookie=function(e,t){t===void 0&&(t="pb_auth");var r=function(a,l){var o={};if(typeof a!="string")return o;for(var f=Object.assign({},l||{}).decode||qT,c=0;c<a.length;){var u=a.indexOf("=",c);if(u===-1)break;var d=a.indexOf(";",c);if(d===-1)d=a.length;else if(d<u){c=a.lastIndexOf(";",u-1)+1;continue}var h=a.slice(c,u).trim();if(o[h]===void 0){var m=a.slice(u+1,d).trim();m.charCodeAt(0)===34&&(m=m.slice(1,-1));try{o[h]=f(m)}catch{o[h]=m}}c=d+1}return o}(e||"")[t]||"",i={};try{(typeof(i=JSON.parse(r))===null||typeof i!="object"||Array.isArray(i))&&(i={})}catch{}this.save(i.token||"",i.model||null)},n.prototype.exportToCookie=function(e,t){var r,i,s;t===void 0&&(t="pb_auth");var a={secure:!0,sameSite:!0,httpOnly:!0,path:"/"},l=Qh(this.token);l!=null&&l.exp?a.expires=new Date(1e3*l.exp):a.expires=new Date("1970-01-01"),e=Object.assign({},a,e);var o={token:this.token,model:((r=this.model)===null||r===void 0?void 0:r.export())||null},f=Zh(t,JSON.stringify(o),e),c=typeof Blob<"u"?new Blob([f]).size:f.length;return o.model&&c>4096&&(o.model={id:(i=o==null?void 0:o.model)===null||i===void 0?void 0:i.id,email:(s=o==null?void 0:o.model)===null||s===void 0?void 0:s.email},this.model instanceof ws&&(o.model.username=this.model.username,o.model.verified=this.model.verified,o.model.collectionId=this.model.collectionId),f=Zh(t,JSON.stringify(o),e)),f},n.prototype.onChange=function(e,t){var r=this;return t===void 0&&(t=!1),this._onChangeCallbacks.push(e),t&&e(this.token,this.model),function(){for(var i=r._onChangeCallbacks.length-1;i>=0;i--)if(r._onChangeCallbacks[i]==e)return delete r._onChangeCallbacks[i],void r._onChangeCallbacks.splice(i,1)}},n.prototype.triggerChange=function(){for(var e=0,t=this._onChangeCallbacks;e<t.length;e++){var r=t[e];r&&r(this.token,this.model)}},n}(),Hw=function(n){function e(t){t===void 0&&(t="pocketbase_auth");var r=n.call(this)||this;return r.storageFallback={},r.storageKey=t,r}return Sr(e,n),Object.defineProperty(e.prototype,"token",{get:function(){return(this._storageGet(this.storageKey)||{}).token||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){var t,r=this._storageGet(this.storageKey)||{};return r===null||typeof r!="object"||r.model===null||typeof r.model!="object"?null:((t=r.model)===null||t===void 0?void 0:t.collectionId)===void 0?new Ea(r.model):new ws(r.model)},enumerable:!1,configurable:!0}),e.prototype.save=function(t,r){this._storageSet(this.storageKey,{token:t,model:r}),n.prototype.save.call(this,t,r)},e.prototype.clear=function(){this._storageRemove(this.storageKey),n.prototype.clear.call(this)},e.prototype._storageGet=function(t){if(typeof window<"u"&&(window!=null&&window.localStorage)){var r=window.localStorage.getItem(t)||"";try{return JSON.parse(r)}catch{return r}}return this.storageFallback[t]},e.prototype._storageSet=function(t,r){if(typeof window<"u"&&(window!=null&&window.localStorage)){var i=r;typeof r!="string"&&(i=JSON.stringify(r)),window.localStorage.setItem(t,i)}else this.storageFallback[t]=r},e.prototype._storageRemove=function(t){var r;typeof window<"u"&&(window!=null&&window.localStorage)&&((r=window.localStorage)===null||r===void 0||r.removeItem(t)),delete this.storageFallback[t]},e}(GT),Qo=function(e){this.client=e},XT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.getAll=function(t){return t===void 0&&(t={}),this.client.send("/api/settings",{method:"GET",params:t}).then(function(r){return r||{}})},e.prototype.update=function(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),this.client.send("/api/settings",{method:"PATCH",params:r,body:t}).then(function(i){return i||{}})},e.prototype.testS3=function(t){return t===void 0&&(t={}),this.client.send("/api/settings/test/s3",{method:"POST",params:t}).then(function(){return!0})},e.prototype.testEmail=function(t,r,i){i===void 0&&(i={});var s={email:t,template:r};return this.client.send("/api/settings/test/email",{method:"POST",params:i,body:s}).then(function(){return!0})},e}(Qo),Vw=function(e,t,r,i,s){this.page=e>0?e:1,this.perPage=t>=0?t:0,this.totalItems=r>=0?r:0,this.totalPages=i>=0?i:0,this.items=s||[]},od=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.getFullList=function(t,r){return t===void 0&&(t=200),r===void 0&&(r={}),this._getFullList(this.baseCrudPath,t,r)},e.prototype.getList=function(t,r,i){return t===void 0&&(t=1),r===void 0&&(r=30),i===void 0&&(i={}),this._getList(this.baseCrudPath,t,r,i)},e.prototype.getFirstListItem=function(t,r){return r===void 0&&(r={}),this._getFirstListItem(this.baseCrudPath,t,r)},e.prototype.getOne=function(t,r){return r===void 0&&(r={}),this._getOne(this.baseCrudPath,t,r)},e.prototype.create=function(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),this._create(this.baseCrudPath,t,r)},e.prototype.update=function(t,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),this._update(this.baseCrudPath,t,r,i)},e.prototype.delete=function(t,r){return r===void 0&&(r={}),this._delete(this.baseCrudPath,t,r)},e}(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype._getFullList=function(t,r,i){var s=this;r===void 0&&(r=100),i===void 0&&(i={});var a=[],l=function(o){return Dr(s,void 0,void 0,function(){return Or(this,function(f){return[2,this._getList(t,o,r,i).then(function(c){var u=c,d=u.items,h=u.totalItems;return a=a.concat(d),d.length&&h>a.length?l(o+1):a})]})})};return l(1)},e.prototype._getList=function(t,r,i,s){var a=this;return r===void 0&&(r=1),i===void 0&&(i=30),s===void 0&&(s={}),s=Object.assign({page:r,perPage:i},s),this.client.send(t,{method:"GET",params:s}).then(function(l){var o=[];if(l!=null&&l.items){l.items=l.items||[];for(var f=0,c=l.items;f<c.length;f++){var u=c[f];o.push(a.decode(u))}}return new Vw((l==null?void 0:l.page)||1,(l==null?void 0:l.perPage)||0,(l==null?void 0:l.totalItems)||0,(l==null?void 0:l.totalPages)||0,o)})},e.prototype._getOne=function(t,r,i){var s=this;return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(r),{method:"GET",params:i}).then(function(a){return s.decode(a)})},e.prototype._getFirstListItem=function(t,r,i){return i===void 0&&(i={}),i=Object.assign({filter:r,$cancelKey:"one_by_filter_"+t+"_"+r},i),this._getList(t,1,1,i).then(function(s){var a;if(!(!((a=s==null?void 0:s.items)===null||a===void 0)&&a.length))throw new Eo({status:404,data:{code:404,message:"The requested resource wasn't found.",data:{}}});return s.items[0]})},e.prototype._create=function(t,r,i){var s=this;return r===void 0&&(r={}),i===void 0&&(i={}),this.client.send(t,{method:"POST",params:i,body:r}).then(function(a){return s.decode(a)})},e.prototype._update=function(t,r,i,s){var a=this;return i===void 0&&(i={}),s===void 0&&(s={}),this.client.send(t+"/"+encodeURIComponent(r),{method:"PATCH",params:s,body:i}).then(function(l){return a.decode(l)})},e.prototype._delete=function(t,r,i){return i===void 0&&(i={}),this.client.send(t+"/"+encodeURIComponent(r),{method:"DELETE",params:i}).then(function(){return!0})},e}(Qo)),KT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.decode=function(t){return new Ea(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/admins"},enumerable:!1,configurable:!0}),e.prototype.update=function(t,r,i){var s=this;return r===void 0&&(r={}),i===void 0&&(i={}),n.prototype.update.call(this,t,r,i).then(function(a){var l,o;return s.client.authStore.model&&((l=s.client.authStore.model)===null||l===void 0?void 0:l.collectionId)===void 0&&((o=s.client.authStore.model)===null||o===void 0?void 0:o.id)===(a==null?void 0:a.id)&&s.client.authStore.save(s.client.authStore.token,a),a})},e.prototype.delete=function(t,r){var i=this;return r===void 0&&(r={}),n.prototype.delete.call(this,t,r).then(function(s){var a,l;return s&&i.client.authStore.model&&((a=i.client.authStore.model)===null||a===void 0?void 0:a.collectionId)===void 0&&((l=i.client.authStore.model)===null||l===void 0?void 0:l.id)===t&&i.client.authStore.clear(),s})},e.prototype.authResponse=function(t){var r=this.decode((t==null?void 0:t.admin)||{});return t!=null&&t.token&&(t!=null&&t.admin)&&this.client.authStore.save(t.token,r),Object.assign({},t,{token:(t==null?void 0:t.token)||"",admin:r})},e.prototype.authWithPassword=function(t,r,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({identity:t,password:r},i),this.client.send(this.baseCrudPath+"/auth-with-password",{method:"POST",params:s,body:i}).then(this.authResponse.bind(this))},e.prototype.authRefresh=function(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),this.client.send(this.baseCrudPath+"/auth-refresh",{method:"POST",params:r,body:t}).then(this.authResponse.bind(this))},e.prototype.requestPasswordReset=function(t,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({email:t},r),this.client.send(this.baseCrudPath+"/request-password-reset",{method:"POST",params:i,body:r}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,r,i,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({token:t,password:r,passwordConfirm:i},s),this.client.send(this.baseCrudPath+"/confirm-password-reset",{method:"POST",params:a,body:s}).then(function(){return!0})},e}(od),JT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.load=function(t){n.prototype.load.call(this,t),this.recordId=typeof t.recordId=="string"?t.recordId:"",this.collectionId=typeof t.collectionId=="string"?t.collectionId:"",this.provider=typeof t.provider=="string"?t.provider:"",this.providerId=typeof t.providerId=="string"?t.providerId:""},e}(Zo),ZT=function(n){function e(t,r){var i=n.call(this,t)||this;return i.collectionIdOrName=r,i}return Sr(e,n),e.prototype.decode=function(t){return new ws(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return this.baseCollectionPath+"/records"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"baseCollectionPath",{get:function(){return"/api/collections/"+encodeURIComponent(this.collectionIdOrName)},enumerable:!1,configurable:!0}),e.prototype.subscribeOne=function(t,r){return Dr(this,void 0,void 0,function(){return Or(this,function(i){return console.warn("PocketBase: subscribeOne(recordId, callback) is deprecated. Please replace it with subscribe(recordId, callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName+"/"+t,r)]})})},e.prototype.subscribe=function(t,r){return Dr(this,void 0,void 0,function(){var i;return Or(this,function(s){if(typeof t=="function")return console.warn("PocketBase: subscribe(callback) is deprecated. Please replace it with subscribe('*', callback)."),[2,this.client.realtime.subscribe(this.collectionIdOrName,t)];if(!r)throw new Error("Missing subscription callback.");if(t==="")throw new Error("Missing topic.");return i=this.collectionIdOrName,t!=="*"&&(i+="/"+t),[2,this.client.realtime.subscribe(i,r)]})})},e.prototype.unsubscribe=function(t){return Dr(this,void 0,void 0,function(){return Or(this,function(r){return t==="*"?[2,this.client.realtime.unsubscribe(this.collectionIdOrName)]:t?[2,this.client.realtime.unsubscribe(this.collectionIdOrName+"/"+t)]:[2,this.client.realtime.unsubscribeByPrefix(this.collectionIdOrName)]})})},e.prototype.getFullList=function(t,r){return t===void 0&&(t=200),r===void 0&&(r={}),n.prototype.getFullList.call(this,t,r)},e.prototype.getList=function(t,r,i){return t===void 0&&(t=1),r===void 0&&(r=30),i===void 0&&(i={}),n.prototype.getList.call(this,t,r,i)},e.prototype.getFirstListItem=function(t,r){return r===void 0&&(r={}),n.prototype.getFirstListItem.call(this,t,r)},e.prototype.getOne=function(t,r){return r===void 0&&(r={}),n.prototype.getOne.call(this,t,r)},e.prototype.create=function(t,r){return t===void 0&&(t={}),r===void 0&&(r={}),n.prototype.create.call(this,t,r)},e.prototype.update=function(t,r,i){var s=this;return r===void 0&&(r={}),i===void 0&&(i={}),n.prototype.update.call(this,t,r,i).then(function(a){var l,o,f;return((l=s.client.authStore.model)===null||l===void 0?void 0:l.id)!==(a==null?void 0:a.id)||((o=s.client.authStore.model)===null||o===void 0?void 0:o.collectionId)!==s.collectionIdOrName&&((f=s.client.authStore.model)===null||f===void 0?void 0:f.collectionName)!==s.collectionIdOrName||s.client.authStore.save(s.client.authStore.token,a),a})},e.prototype.delete=function(t,r){var i=this;return r===void 0&&(r={}),n.prototype.delete.call(this,t,r).then(function(s){var a,l,o;return!s||((a=i.client.authStore.model)===null||a===void 0?void 0:a.id)!==t||((l=i.client.authStore.model)===null||l===void 0?void 0:l.collectionId)!==i.collectionIdOrName&&((o=i.client.authStore.model)===null||o===void 0?void 0:o.collectionName)!==i.collectionIdOrName||i.client.authStore.clear(),s})},e.prototype.authResponse=function(t){var r=this.decode((t==null?void 0:t.record)||{});return this.client.authStore.save(t==null?void 0:t.token,r),Object.assign({},t,{token:(t==null?void 0:t.token)||"",record:r})},e.prototype.listAuthMethods=function(t){return t===void 0&&(t={}),this.client.send(this.baseCollectionPath+"/auth-methods",{method:"GET",params:t}).then(function(r){return Object.assign({},r,{usernamePassword:!!(r!=null&&r.usernamePassword),emailPassword:!!(r!=null&&r.emailPassword),authProviders:Array.isArray(r==null?void 0:r.authProviders)?r==null?void 0:r.authProviders:[]})})},e.prototype.authWithPassword=function(t,r,i,s){var a=this;return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({identity:t,password:r},i),this.client.send(this.baseCollectionPath+"/auth-with-password",{method:"POST",params:s,body:i}).then(function(l){return a.authResponse(l)})},e.prototype.authWithOAuth2=function(t,r,i,s,a,l,o){var f=this;return a===void 0&&(a={}),l===void 0&&(l={}),o===void 0&&(o={}),l=Object.assign({provider:t,code:r,codeVerifier:i,redirectUrl:s,createData:a},l),this.client.send(this.baseCollectionPath+"/auth-with-oauth2",{method:"POST",params:o,body:l}).then(function(c){return f.authResponse(c)})},e.prototype.authRefresh=function(t,r){var i=this;return t===void 0&&(t={}),r===void 0&&(r={}),this.client.send(this.baseCollectionPath+"/auth-refresh",{method:"POST",params:r,body:t}).then(function(s){return i.authResponse(s)})},e.prototype.requestPasswordReset=function(t,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({email:t},r),this.client.send(this.baseCollectionPath+"/request-password-reset",{method:"POST",params:i,body:r}).then(function(){return!0})},e.prototype.confirmPasswordReset=function(t,r,i,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s=Object.assign({token:t,password:r,passwordConfirm:i},s),this.client.send(this.baseCollectionPath+"/confirm-password-reset",{method:"POST",params:a,body:s}).then(function(){return!0})},e.prototype.requestVerification=function(t,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({email:t},r),this.client.send(this.baseCollectionPath+"/request-verification",{method:"POST",params:i,body:r}).then(function(){return!0})},e.prototype.confirmVerification=function(t,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({token:t},r),this.client.send(this.baseCollectionPath+"/confirm-verification",{method:"POST",params:i,body:r}).then(function(){return!0})},e.prototype.requestEmailChange=function(t,r,i){return r===void 0&&(r={}),i===void 0&&(i={}),r=Object.assign({newEmail:t},r),this.client.send(this.baseCollectionPath+"/request-email-change",{method:"POST",params:i,body:r}).then(function(){return!0})},e.prototype.confirmEmailChange=function(t,r,i,s){return i===void 0&&(i={}),s===void 0&&(s={}),i=Object.assign({token:t,password:r},i),this.client.send(this.baseCollectionPath+"/confirm-email-change",{method:"POST",params:s,body:i}).then(function(){return!0})},e.prototype.listExternalAuths=function(t,r){return r===void 0&&(r={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths",{method:"GET",params:r}).then(function(i){var s=[];if(Array.isArray(i))for(var a=0,l=i;a<l.length;a++){var o=l[a];s.push(new JT(o))}return s})},e.prototype.unlinkExternalAuth=function(t,r,i){return i===void 0&&(i={}),this.client.send(this.baseCrudPath+"/"+encodeURIComponent(t)+"/external-auths/"+encodeURIComponent(r),{method:"DELETE",params:i}).then(function(){return!0})},e}(od),Yr=function(){function n(e){e===void 0&&(e={}),this.load(e||{})}return n.prototype.load=function(e){this.id=e.id!==void 0?e.id:"",this.name=e.name!==void 0?e.name:"",this.type=e.type!==void 0?e.type:"text",this.system=!!e.system,this.required=!!e.required,this.unique=!!e.unique,this.options=typeof e.options=="object"&&e.options!==null?e.options:{}},n}(),zr=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.load=function(t){n.prototype.load.call(this,t),this.system=!!t.system,this.name=typeof t.name=="string"?t.name:"",this.type=typeof t.type=="string"?t.type:"base",this.options=t.options!==void 0?t.options:{},this.listRule=typeof t.listRule=="string"?t.listRule:null,this.viewRule=typeof t.viewRule=="string"?t.viewRule:null,this.createRule=typeof t.createRule=="string"?t.createRule:null,this.updateRule=typeof t.updateRule=="string"?t.updateRule:null,this.deleteRule=typeof t.deleteRule=="string"?t.deleteRule:null,t.schema=Array.isArray(t.schema)?t.schema:[],this.schema=[];for(var r=0,i=t.schema;r<i.length;r++){var s=i[r];this.schema.push(new Yr(s))}},Object.defineProperty(e.prototype,"isBase",{get:function(){return this.type==="base"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuth",{get:function(){return this.type==="auth"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isView",{get:function(){return this.type==="view"},enumerable:!1,configurable:!0}),e}(Zo),QT=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.decode=function(t){return new zr(t)},Object.defineProperty(e.prototype,"baseCrudPath",{get:function(){return"/api/collections"},enumerable:!1,configurable:!0}),e.prototype.import=function(t,r,i){return r===void 0&&(r=!1),i===void 0&&(i={}),Dr(this,void 0,void 0,function(){return Or(this,function(s){return[2,this.client.send(this.baseCrudPath+"/import",{method:"PUT",params:i,body:{collections:t,deleteMissing:r}}).then(function(){return!0})]})})},e}(od),v0=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.load=function(t){n.prototype.load.call(this,t),t.remoteIp=t.remoteIp||t.ip,this.url=typeof t.url=="string"?t.url:"",this.method=typeof t.method=="string"?t.method:"GET",this.status=typeof t.status=="number"?t.status:200,this.auth=typeof t.auth=="string"?t.auth:"guest",this.remoteIp=typeof t.remoteIp=="string"?t.remoteIp:"",this.userIp=typeof t.userIp=="string"?t.userIp:"",this.referer=typeof t.referer=="string"?t.referer:"",this.userAgent=typeof t.userAgent=="string"?t.userAgent:"",this.meta=typeof t.meta=="object"&&t.meta!==null?t.meta:{}},e}(Zo),e3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.getRequestsList=function(t,r,i){return t===void 0&&(t=1),r===void 0&&(r=30),i===void 0&&(i={}),i=Object.assign({page:t,perPage:r},i),this.client.send("/api/logs/requests",{method:"GET",params:i}).then(function(s){var a=[];if(s!=null&&s.items){s.items=(s==null?void 0:s.items)||[];for(var l=0,o=s.items;l<o.length;l++){var f=o[l];a.push(new v0(f))}}return new Vw((s==null?void 0:s.page)||1,(s==null?void 0:s.perPage)||0,(s==null?void 0:s.totalItems)||0,(s==null?void 0:s.totalPages)||0,a)})},e.prototype.getRequest=function(t,r){return r===void 0&&(r={}),this.client.send("/api/logs/requests/"+encodeURIComponent(t),{method:"GET",params:r}).then(function(i){return new v0(i)})},e.prototype.getRequestsStats=function(t){return t===void 0&&(t={}),this.client.send("/api/logs/requests/stats",{method:"GET",params:t}).then(function(r){return r})},e}(Qo),t3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.clientId="",t.eventSource=null,t.subscriptions={},t.lastSentTopics=[],t.maxConnectTimeout=15e3,t.reconnectAttempts=0,t.maxReconnectAttempts=1/0,t.predefinedReconnectIntervals=[200,300,500,1e3,1200,1500,2e3],t.pendingConnects=[],t}return Sr(e,n),Object.defineProperty(e.prototype,"isConnected",{get:function(){return!!this.eventSource&&!!this.clientId&&!this.pendingConnects.length},enumerable:!1,configurable:!0}),e.prototype.subscribe=function(t,r){var i;return Dr(this,void 0,void 0,function(){var s,a=this;return Or(this,function(l){switch(l.label){case 0:if(!t)throw new Error("topic must be set.");return s=function(o){var f,c=o;try{f=JSON.parse(c==null?void 0:c.data)}catch{}r(f||{})},this.subscriptions[t]||(this.subscriptions[t]=[]),this.subscriptions[t].push(s),this.isConnected?[3,2]:[4,this.connect()];case 1:return l.sent(),[3,5];case 2:return this.subscriptions[t].length!==1?[3,4]:[4,this.submitSubscriptions()];case 3:return l.sent(),[3,5];case 4:(i=this.eventSource)===null||i===void 0||i.addEventListener(t,s),l.label=5;case 5:return[2,function(){return Dr(a,void 0,void 0,function(){return Or(this,function(o){return[2,this.unsubscribeByTopicAndListener(t,s)]})})}]}})})},e.prototype.unsubscribe=function(t){var r;return Dr(this,void 0,void 0,function(){var i,s,a;return Or(this,function(l){switch(l.label){case 0:if(!this.hasSubscriptionListeners(t))return[2];if(t){for(i=0,s=this.subscriptions[t];i<s.length;i++)a=s[i],(r=this.eventSource)===null||r===void 0||r.removeEventListener(t,a);delete this.subscriptions[t]}else this.subscriptions={};return this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3]);case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:l.sent(),l.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByPrefix=function(t){var r;return Dr(this,void 0,void 0,function(){var i,s,a,l,o;return Or(this,function(f){switch(f.label){case 0:for(s in i=!1,this.subscriptions)if(s.startsWith(t)){for(i=!0,a=0,l=this.subscriptions[s];a<l.length;a++)o=l[a],(r=this.eventSource)===null||r===void 0||r.removeEventListener(s,o);delete this.subscriptions[s]}return i?this.hasSubscriptionListeners()?[4,this.submitSubscriptions()]:[3,2]:[2];case 1:return f.sent(),[3,3];case 2:this.disconnect(),f.label=3;case 3:return[2]}})})},e.prototype.unsubscribeByTopicAndListener=function(t,r){var i;return Dr(this,void 0,void 0,function(){var s,a;return Or(this,function(l){switch(l.label){case 0:if(!Array.isArray(this.subscriptions[t])||!this.subscriptions[t].length)return[2];for(s=!1,a=this.subscriptions[t].length-1;a>=0;a--)this.subscriptions[t][a]===r&&(s=!0,delete this.subscriptions[t][a],this.subscriptions[t].splice(a,1),(i=this.eventSource)===null||i===void 0||i.removeEventListener(t,r));return s?(this.subscriptions[t].length||delete this.subscriptions[t],this.hasSubscriptionListeners()?[3,1]:(this.disconnect(),[3,3])):[2];case 1:return this.hasSubscriptionListeners(t)?[3,3]:[4,this.submitSubscriptions()];case 2:l.sent(),l.label=3;case 3:return[2]}})})},e.prototype.hasSubscriptionListeners=function(t){var r,i;if(this.subscriptions=this.subscriptions||{},t)return!!(!((r=this.subscriptions[t])===null||r===void 0)&&r.length);for(var s in this.subscriptions)if(!((i=this.subscriptions[s])===null||i===void 0)&&i.length)return!0;return!1},e.prototype.submitSubscriptions=function(){return Dr(this,void 0,void 0,function(){return Or(this,function(t){return this.clientId?(this.addAllSubscriptionListeners(),this.lastSentTopics=this.getNonEmptySubscriptionTopics(),[2,this.client.send("/api/realtime",{method:"POST",body:{clientId:this.clientId,subscriptions:this.lastSentTopics},params:{$cancelKey:"realtime_"+this.clientId}}).catch(function(r){if(!(r!=null&&r.isAbort))throw r})]):[2]})})},e.prototype.getNonEmptySubscriptionTopics=function(){var t=[];for(var r in this.subscriptions)this.subscriptions[r].length&&t.push(r);return t},e.prototype.addAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.removeAllSubscriptionListeners(),this.subscriptions)for(var r=0,i=this.subscriptions[t];r<i.length;r++){var s=i[r];this.eventSource.addEventListener(t,s)}},e.prototype.removeAllSubscriptionListeners=function(){if(this.eventSource)for(var t in this.subscriptions)for(var r=0,i=this.subscriptions[t];r<i.length;r++){var s=i[r];this.eventSource.removeEventListener(t,s)}},e.prototype.connect=function(){return Dr(this,void 0,void 0,function(){var t=this;return Or(this,function(r){return this.reconnectAttempts>0?[2]:[2,new Promise(function(i,s){t.pendingConnects.push({resolve:i,reject:s}),t.pendingConnects.length>1||t.initConnect()})]})})},e.prototype.initConnect=function(){var t=this;this.disconnect(!0),clearTimeout(this.connectTimeoutId),this.connectTimeoutId=setTimeout(function(){t.connectErrorHandler(new Error("EventSource connect took too long."))},this.maxConnectTimeout),this.eventSource=new EventSource(this.client.buildUrl("/api/realtime")),this.eventSource.onerror=function(r){t.connectErrorHandler(new Error("Failed to establish realtime connection."))},this.eventSource.addEventListener("PB_CONNECT",function(r){var i=r;t.clientId=i==null?void 0:i.lastEventId,t.submitSubscriptions().then(function(){return Dr(t,void 0,void 0,function(){var s;return Or(this,function(a){switch(a.label){case 0:s=3,a.label=1;case 1:return this.hasUnsentSubscriptions()&&s>0?(s--,[4,this.submitSubscriptions()]):[3,3];case 2:return a.sent(),[3,1];case 3:return[2]}})})}).then(function(){for(var s=0,a=t.pendingConnects;s<a.length;s++)a[s].resolve();t.pendingConnects=[],t.reconnectAttempts=0,clearTimeout(t.reconnectTimeoutId),clearTimeout(t.connectTimeoutId)}).catch(function(s){t.clientId="",t.connectErrorHandler(s)})})},e.prototype.hasUnsentSubscriptions=function(){var t=this.getNonEmptySubscriptionTopics();if(t.length!=this.lastSentTopics.length)return!0;for(var r=0,i=t;r<i.length;r++){var s=i[r];if(!this.lastSentTopics.includes(s))return!0}return!1},e.prototype.connectErrorHandler=function(t){var r=this;if(clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),!this.clientId&&!this.reconnectAttempts||this.reconnectAttempts>this.maxReconnectAttempts){for(var i=0,s=this.pendingConnects;i<s.length;i++)s[i].reject(new Eo(t));this.disconnect()}else{this.disconnect(!0);var a=this.predefinedReconnectIntervals[this.reconnectAttempts]||this.predefinedReconnectIntervals[this.predefinedReconnectIntervals.length-1];this.reconnectAttempts++,this.reconnectTimeoutId=setTimeout(function(){r.initConnect()},a)}},e.prototype.disconnect=function(t){var r;if(t===void 0&&(t=!1),clearTimeout(this.connectTimeoutId),clearTimeout(this.reconnectTimeoutId),this.removeAllSubscriptionListeners(),(r=this.eventSource)===null||r===void 0||r.close(),this.eventSource=null,this.clientId="",!t){this.reconnectAttempts=0;for(var i=new Eo(new Error("Realtime disconnected.")),s=0,a=this.pendingConnects;s<a.length;s++)a[s].reject(i);this.pendingConnects=[]}},e}(Qo),n3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Sr(e,n),e.prototype.check=function(t){return t===void 0&&(t={}),this.client.send("/api/health",{method:"GET",params:t})},e}(Qo),fd=function(){function n(e,t,r){e===void 0&&(e="/"),r===void 0&&(r="en-US"),this.cancelControllers={},this.recordServices={},this.enableAutoCancellation=!0,this.baseUrl=e,this.lang=r,this.authStore=t||new Hw,this.admins=new KT(this),this.collections=new QT(this),this.logs=new e3(this),this.settings=new XT(this),this.realtime=new t3(this),this.health=new n3(this)}return n.prototype.collection=function(e){return this.recordServices[e]||(this.recordServices[e]=new ZT(this,e)),this.recordServices[e]},n.prototype.autoCancellation=function(e){return this.enableAutoCancellation=!!e,this},n.prototype.cancelRequest=function(e){return this.cancelControllers[e]&&(this.cancelControllers[e].abort(),delete this.cancelControllers[e]),this},n.prototype.cancelAllRequests=function(){for(var e in this.cancelControllers)this.cancelControllers[e].abort();return this.cancelControllers={},this},n.prototype.send=function(e,t){var r,i,s,a,l,o,f,c;return Dr(this,void 0,void 0,function(){var u,d,h,m,p,g=this;return Or(this,function(v){return(u=Object.assign({method:"GET"},t)).body&&u.body.constructor.name!=="FormData"&&(typeof u.body!="string"&&(u.body=JSON.stringify(u.body)),((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r["Content-Type"])===void 0&&(u.headers=Object.assign({},u.headers,{"Content-Type":"application/json"}))),((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i["Accept-Language"])===void 0&&(u.headers=Object.assign({},u.headers,{"Accept-Language":this.lang})),!((s=this.authStore)===null||s===void 0)&&s.token&&((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a.Authorization)===void 0&&(u.headers=Object.assign({},u.headers,{Authorization:this.authStore.token})),this.enableAutoCancellation&&((l=u.params)===null||l===void 0?void 0:l.$autoCancel)!==!1&&(d=((o=u.params)===null||o===void 0?void 0:o.$cancelKey)||(u.method||"GET")+e,this.cancelRequest(d),h=new AbortController,this.cancelControllers[d]=h,u.signal=h.signal),(f=u.params)===null||f===void 0||delete f.$autoCancel,(c=u.params)===null||c===void 0||delete c.$cancelKey,m=this.buildUrl(e),u.params!==void 0&&((p=this.serializeQueryParams(u.params))&&(m+=(m.includes("?")?"&":"?")+p),delete u.params),this.beforeSend&&(u=Object.assign({},this.beforeSend(m,u))),[2,fetch(m,u).then(function(w){return Dr(g,void 0,void 0,function(){var k;return Or(this,function(x){switch(x.label){case 0:k={},x.label=1;case 1:return x.trys.push([1,3,,4]),[4,w.json()];case 2:return k=x.sent(),[3,4];case 3:return x.sent(),[3,4];case 4:if(this.afterSend&&(k=this.afterSend(w,k)),w.status>=400)throw new Eo({url:w.url,status:w.status,data:k});return[2,k]}})})}).catch(function(w){throw new Eo(w)})]})})},n.prototype.getFileUrl=function(e,t,r){r===void 0&&(r={});var i=[];i.push("api"),i.push("files"),i.push(encodeURIComponent(e.collectionId||e.collectionName)),i.push(encodeURIComponent(e.id)),i.push(encodeURIComponent(t));var s=this.buildUrl(i.join("/"));if(Object.keys(r).length){var a=new URLSearchParams(r);s+=(s.includes("?")?"&":"?")+a}return s},n.prototype.buildUrl=function(e){var t=this.baseUrl+(this.baseUrl.endsWith("/")?"":"/");return e&&(t+=e.startsWith("/")?e.substring(1):e),t},n.prototype.serializeQueryParams=function(e){var t=[];for(var r in e)if(e[r]!==null){var i=e[r],s=encodeURIComponent(r);if(Array.isArray(i))for(var a=0,l=i;a<l.length;a++){var o=l[a];t.push(s+"="+encodeURIComponent(o))}else i instanceof Date?t.push(s+"="+encodeURIComponent(i.toISOString())):typeof i!==null&&typeof i=="object"?t.push(s+"="+encodeURIComponent(JSON.stringify(i))):t.push(s+"="+encodeURIComponent(i))}return t.join("&")},n}();class La extends Error{}class r3 extends La{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class i3 extends La{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class s3 extends La{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Ql extends La{}class Ww extends La{constructor(e){super(`Invalid unit ${e}`)}}class bi extends La{}class Fs extends La{constructor(){super("Zone is an abstract class")}}const tt="numeric",Vi="short",ti="long",b0={year:tt,month:tt,day:tt},jw={year:tt,month:Vi,day:tt},a3={year:tt,month:Vi,day:tt,weekday:Vi},zw={year:tt,month:ti,day:tt},qw={year:tt,month:ti,day:tt,weekday:ti},Yw={hour:tt,minute:tt},Gw={hour:tt,minute:tt,second:tt},Xw={hour:tt,minute:tt,second:tt,timeZoneName:Vi},Kw={hour:tt,minute:tt,second:tt,timeZoneName:ti},Jw={hour:tt,minute:tt,hourCycle:"h23"},Zw={hour:tt,minute:tt,second:tt,hourCycle:"h23"},Qw={hour:tt,minute:tt,second:tt,hourCycle:"h23",timeZoneName:Vi},ek={hour:tt,minute:tt,second:tt,hourCycle:"h23",timeZoneName:ti},tk={year:tt,month:tt,day:tt,hour:tt,minute:tt},nk={year:tt,month:tt,day:tt,hour:tt,minute:tt,second:tt},rk={year:tt,month:Vi,day:tt,hour:tt,minute:tt},ik={year:tt,month:Vi,day:tt,hour:tt,minute:tt,second:tt},l3={year:tt,month:Vi,day:tt,weekday:Vi,hour:tt,minute:tt},sk={year:tt,month:ti,day:tt,hour:tt,minute:tt,timeZoneName:Vi},ak={year:tt,month:ti,day:tt,hour:tt,minute:tt,second:tt,timeZoneName:Vi},lk={year:tt,month:ti,day:tt,weekday:ti,hour:tt,minute:tt,timeZoneName:ti},ok={year:tt,month:ti,day:tt,weekday:ti,hour:tt,minute:tt,second:tt,timeZoneName:ti};function Pt(n){return typeof n>"u"}function ba(n){return typeof n=="number"}function qc(n){return typeof n=="number"&&n%1===0}function o3(n){return typeof n=="string"}function f3(n){return Object.prototype.toString.call(n)==="[object Date]"}function fk(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function c3(n){return Array.isArray(n)?n:[n]}function ep(n,e,t){if(n.length!==0)return n.reduce((r,i)=>{const s=[e(i),i];return r&&t(r[0],s[0])===r[0]?r:s},null)[1]}function u3(n,e){return e.reduce((t,r)=>(t[r]=n[r],t),{})}function gl(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function _s(n,e,t){return qc(n)&&n>=e&&n<=t}function d3(n,e){return n-e*Math.floor(n/e)}function Bn(n,e=2){const t=n<0;let r;return t?r="-"+(""+-n).padStart(e,"0"):r=(""+n).padStart(e,"0"),r}function Ms(n){if(!(Pt(n)||n===null||n===""))return parseInt(n,10)}function aa(n){if(!(Pt(n)||n===null||n===""))return parseFloat(n)}function cd(n){if(!(Pt(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function ud(n,e,t=!1){const r=10**e;return(t?Math.trunc:Math.round)(n*r)/r}function ef(n){return n%4===0&&(n%100!==0||n%400===0)}function ao(n){return ef(n)?366:365}function fc(n,e){const t=d3(e-1,12)+1,r=n+(e-t)/12;return t===2?ef(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function dd(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function cc(n){const e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,r=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||r===3?53:52}function w0(n){return n>99?n:n>60?1900+n:2e3+n}function ck(n,e,t,r=null){const i=new Date(n),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const a={timeZoneName:e,...s},l=new Intl.DateTimeFormat(t,a).formatToParts(i).find(o=>o.type.toLowerCase()==="timezonename");return l?l.value:null}function Yc(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const r=parseInt(e,10)||0,i=t<0||Object.is(t,-0)?-r:r;return t*60+i}function uk(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new bi(`Invalid unit value ${n}`);return e}function uc(n,e){const t={};for(const r in n)if(gl(n,r)){const i=n[r];if(i==null)continue;t[e(r)]=uk(i)}return t}function lo(n,e){const t=Math.trunc(Math.abs(n/60)),r=Math.trunc(Math.abs(n%60)),i=n>=0?"+":"-";switch(e){case"short":return`${i}${Bn(t,2)}:${Bn(r,2)}`;case"narrow":return`${i}${t}${r>0?`:${r}`:""}`;case"techie":return`${i}${Bn(t,2)}${Bn(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Gc(n){return u3(n,["hour","minute","second","millisecond"])}const dk=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,h3=["January","February","March","April","May","June","July","August","September","October","November","December"],hk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p3=["J","F","M","A","M","J","J","A","S","O","N","D"];function pk(n){switch(n){case"narrow":return[...p3];case"short":return[...hk];case"long":return[...h3];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const mk=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],_k=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],m3=["M","T","W","T","F","S","S"];function gk(n){switch(n){case"narrow":return[...m3];case"short":return[..._k];case"long":return[...mk];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const vk=["AM","PM"],_3=["Before Christ","Anno Domini"],g3=["BC","AD"],v3=["B","A"];function bk(n){switch(n){case"narrow":return[...v3];case"short":return[...g3];case"long":return[..._3];default:return null}}function b3(n){return vk[n.hour<12?0:1]}function w3(n,e){return gk(e)[n.weekday-1]}function k3(n,e){return pk(e)[n.month-1]}function y3(n,e){return bk(e)[n.year<0?0:1]}function x3(n,e,t="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){const u=n==="days";switch(e){case 1:return u?"tomorrow":`next ${i[n][0]}`;case-1:return u?"yesterday":`last ${i[n][0]}`;case 0:return u?"today":`this ${i[n][0]}`}}const a=Object.is(e,-0)||e<0,l=Math.abs(e),o=l===1,f=i[n],c=r?o?f[1]:f[2]||f[1]:o?i[n][0]:n;return a?`${l} ${c} ago`:`in ${l} ${c}`}function tp(n,e){let t="";for(const r of n)r.literal?t+=r.val:t+=e(r.val);return t}const T3={D:b0,DD:jw,DDD:zw,DDDD:qw,t:Yw,tt:Gw,ttt:Xw,tttt:Kw,T:Jw,TT:Zw,TTT:Qw,TTTT:ek,f:tk,ff:rk,fff:sk,ffff:lk,F:nk,FF:ik,FFF:ak,FFFF:ok};class jr{static create(e,t={}){return new jr(e,t)}static parseFormat(e){let t=null,r="",i=!1;const s=[];for(let a=0;a<e.length;a++){const l=e.charAt(a);l==="'"?(r.length>0&&s.push({literal:i,val:r}),t=null,r="",i=!i):i||l===t?r+=l:(r.length>0&&s.push({literal:!1,val:r}),r=l,t=l)}return r.length>0&&s.push({literal:i,val:r}),s}static macroTokenToFormatOpts(e){return T3[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTime(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).format()}formatDateTimeParts(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).formatToParts()}resolvedOptions(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t}).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Bn(e,t);const r={...this.opts};return t>0&&(r.padTo=t),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,t){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(h,m)=>this.loc.extract(e,h,m),a=h=>e.isOffsetFixed&&e.offset===0&&h.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,h.format):"",l=()=>r?b3(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),o=(h,m)=>r?k3(e,h):s(m?{month:h}:{month:h,day:"numeric"},"month"),f=(h,m)=>r?w3(e,h):s(m?{weekday:h}:{weekday:h,month:"long",day:"numeric"},"weekday"),c=h=>{const m=jr.macroTokenToFormatOpts(h);return m?this.formatWithSystemDefault(e,m):h},u=h=>r?y3(e,h):s({era:h},"era"),d=h=>{switch(h){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return f("short",!0);case"cccc":return f("long",!0);case"ccccc":return f("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return f("short",!1);case"EEEE":return f("long",!1);case"EEEEE":return f("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return o("short",!0);case"LLLL":return o("long",!0);case"LLLLL":return o("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return o("short",!1);case"MMMM":return o("long",!1);case"MMMMM":return o("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(h)}};return tp(jr.parseFormat(t),d)}formatDurationFromString(e,t){const r=o=>{switch(o[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=o=>f=>{const c=r(f);return c?this.num(o.get(c),f.length):f},s=jr.parseFormat(t),a=s.reduce((o,{literal:f,val:c})=>f?o:o.concat(c),[]),l=e.shiftTo(...a.map(r).filter(o=>o));return tp(s,i(l))}}class Pi{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class tf{get type(){throw new Fs}get name(){throw new Fs}get ianaName(){return this.name}get isUniversal(){throw new Fs}offsetName(e,t){throw new Fs}formatOffset(e,t){throw new Fs}offset(e){throw new Fs}equals(e){throw new Fs}get isValid(){throw new Fs}}let wu=null;class hd extends tf{static get instance(){return wu===null&&(wu=new hd),wu}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return ck(e,t,r)}formatOffset(e,t){return lo(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let nc={};function S3(n){return nc[n]||(nc[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),nc[n]}const E3={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function C3(n,e){const t=n.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,i,s,a,l,o,f,c]=r;return[a,i,s,l,o,f,c]}function A3(n,e){const t=n.formatToParts(e),r=[];for(let i=0;i<t.length;i++){const{type:s,value:a}=t[i],l=E3[s];s==="era"?r[l]=a:Pt(l)||(r[l]=parseInt(a,10))}return r}let yf={};class ks extends tf{static create(e){return yf[e]||(yf[e]=new ks(e)),yf[e]}static resetCache(){yf={},nc={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ks.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return ck(e,t,r,this.name)}formatOffset(e,t){return lo(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const r=S3(this.name);let[i,s,a,l,o,f,c]=r.formatToParts?A3(r,t):C3(r,t);l==="BC"&&(i=-Math.abs(i)+1);const d=dd({year:i,month:s,day:a,hour:o===24?0:o,minute:f,second:c,millisecond:0});let h=+t;const m=h%1e3;return h-=m>=0?m:1e3+m,(d-h)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let ku=null;class Nr extends tf{static get utcInstance(){return ku===null&&(ku=new Nr(0)),ku}static instance(e){return e===0?Nr.utcInstance:new Nr(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new Nr(Yc(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${lo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${lo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return lo(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class F3 extends tf{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Is(n,e){if(Pt(n)||n===null)return e;if(n instanceof tf)return n;if(o3(n)){const t=n.toLowerCase();return t==="local"||t==="system"?e:t==="utc"||t==="gmt"?Nr.utcInstance:Nr.parseSpecifier(t)||ks.create(n)}else return ba(n)?Nr.instance(n):typeof n=="object"&&n.offset&&typeof n.offset=="number"?n:new F3(n)}let np=()=>Date.now(),rp="system",ip=null,sp=null,ap=null,lp;class Jn{static get now(){return np}static set now(e){np=e}static set defaultZone(e){rp=e}static get defaultZone(){return Is(rp,hd.instance)}static get defaultLocale(){return ip}static set defaultLocale(e){ip=e}static get defaultNumberingSystem(){return sp}static set defaultNumberingSystem(e){sp=e}static get defaultOutputCalendar(){return ap}static set defaultOutputCalendar(e){ap=e}static get throwOnInvalid(){return lp}static set throwOnInvalid(e){lp=e}static resetCaches(){mn.resetCache(),ks.resetCache()}}let op={};function D3(n,e={}){const t=JSON.stringify([n,e]);let r=op[t];return r||(r=new Intl.ListFormat(n,e),op[t]=r),r}let k0={};function y0(n,e={}){const t=JSON.stringify([n,e]);let r=k0[t];return r||(r=new Intl.DateTimeFormat(n,e),k0[t]=r),r}let x0={};function O3(n,e={}){const t=JSON.stringify([n,e]);let r=x0[t];return r||(r=new Intl.NumberFormat(n,e),x0[t]=r),r}let T0={};function M3(n,e={}){const{base:t,...r}=e,i=JSON.stringify([n,r]);let s=T0[i];return s||(s=new Intl.RelativeTimeFormat(n,e),T0[i]=s),s}let eo=null;function I3(){return eo||(eo=new Intl.DateTimeFormat().resolvedOptions().locale,eo)}function N3(n){const e=n.indexOf("-u-");if(e===-1)return[n];{let t;const r=n.substring(0,e);try{t=y0(n).resolvedOptions()}catch{t=y0(r).resolvedOptions()}const{numberingSystem:i,calendar:s}=t;return[r,i,s]}}function P3(n,e,t){return(t||e)&&(n+="-u",t&&(n+=`-ca-${t}`),e&&(n+=`-nu-${e}`)),n}function L3(n){const e=[];for(let t=1;t<=12;t++){const r=ht.utc(2016,t,1);e.push(n(r))}return e}function R3(n){const e=[];for(let t=1;t<=7;t++){const r=ht.utc(2016,11,13+t);e.push(n(r))}return e}function xf(n,e,t,r,i){const s=n.listingMode(t);return s==="error"?null:s==="en"?r(e):i(e)}function $3(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class B3{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...a}=r;if(!t||Object.keys(a).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=O3(e,l)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):ud(e,3);return Bn(t,this.padTo)}}}class U3{constructor(e,t,r){this.opts=r;let i;if(e.zone.isUniversal){const a=-1*(e.offset/60),l=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;e.offset!==0&&ks.create(l).valid?(i=l,this.dt=e):(i="UTC",r.timeZoneName?this.dt=e:this.dt=e.offset===0?e:ht.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);const s={...this.opts};i&&(s.timeZone=i),this.dtf=y0(t,s)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class H3{constructor(e,t,r){this.opts={style:"long",...r},!t&&fk()&&(this.rtf=M3(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):x3(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class mn{static fromOpts(e){return mn.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,r,i=!1){const s=e||Jn.defaultLocale,a=s||(i?"en-US":I3()),l=t||Jn.defaultNumberingSystem,o=r||Jn.defaultOutputCalendar;return new mn(a,l,o,s)}static resetCache(){eo=null,k0={},x0={},T0={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:r}={}){return mn.create(e,t,r)}constructor(e,t,r,i){const[s,a,l]=N3(e);this.locale=s,this.numberingSystem=t||a||null,this.outputCalendar=r||l||null,this.intl=P3(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=$3(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:mn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1,r=!0){return xf(this,e,r,pk,()=>{const i=t?{month:e,day:"numeric"}:{month:e},s=t?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=L3(a=>this.extract(a,i,"month"))),this.monthsCache[s][e]})}weekdays(e,t=!1,r=!0){return xf(this,e,r,gk,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=t?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=R3(a=>this.extract(a,i,"weekday"))),this.weekdaysCache[s][e]})}meridiems(e=!0){return xf(this,void 0,e,()=>vk,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ht.utc(2016,11,13,9),ht.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(e,t=!0){return xf(this,e,t,bk,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[ht.utc(-40,1,1),ht.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,t,r){const i=this.dtFormatter(e,t),s=i.formatToParts(),a=s.find(l=>l.type.toLowerCase()===r);return a?a.value:null}numberFormatter(e={}){return new B3(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new U3(e,this.intl,t)}relFormatter(e={}){return new H3(this.intl,this.isEnglish(),e)}listFormatter(e={}){return D3(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function Al(...n){const e=n.reduce((t,r)=>t+r.source,"");return RegExp(`^${e}$`)}function Fl(...n){return e=>n.reduce(([t,r,i],s)=>{const[a,l,o]=s(e,i);return[{...t,...a},l||r,o]},[{},null,1]).slice(0,2)}function Dl(n,...e){if(n==null)return[null,null];for(const[t,r]of e){const i=t.exec(n);if(i)return r(i)}return[null,null]}function wk(...n){return(e,t)=>{const r={};let i;for(i=0;i<n.length;i++)r[n[i]]=Ms(e[t+i]);return[r,null,t+i]}}const kk=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,V3=`(?:${kk.source}?(?:\\[(${dk.source})\\])?)?`,pd=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,yk=RegExp(`${pd.source}${V3}`),md=RegExp(`(?:T${yk.source})?`),W3=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,j3=/(\d{4})-?W(\d\d)(?:-?(\d))?/,z3=/(\d{4})-?(\d{3})/,q3=wk("weekYear","weekNumber","weekDay"),Y3=wk("year","ordinal"),G3=/(\d{4})-(\d\d)-(\d\d)/,xk=RegExp(`${pd.source} ?(?:${kk.source}|(${dk.source}))?`),X3=RegExp(`(?: ${xk.source})?`);function ll(n,e,t){const r=n[e];return Pt(r)?t:Ms(r)}function K3(n,e){return[{year:ll(n,e),month:ll(n,e+1,1),day:ll(n,e+2,1)},null,e+3]}function Ol(n,e){return[{hours:ll(n,e,0),minutes:ll(n,e+1,0),seconds:ll(n,e+2,0),milliseconds:cd(n[e+3])},null,e+4]}function nf(n,e){const t=!n[e]&&!n[e+1],r=Yc(n[e+1],n[e+2]),i=t?null:Nr.instance(r);return[{},i,e+3]}function rf(n,e){const t=n[e]?ks.create(n[e]):null;return[{},t,e+1]}const J3=RegExp(`^T?${pd.source}$`),Z3=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Q3(n){const[e,t,r,i,s,a,l,o,f]=n,c=e[0]==="-",u=o&&o[0]==="-",d=(h,m=!1)=>h!==void 0&&(m||h&&c)?-h:h;return[{years:d(aa(t)),months:d(aa(r)),weeks:d(aa(i)),days:d(aa(s)),hours:d(aa(a)),minutes:d(aa(l)),seconds:d(aa(o),o==="-0"),milliseconds:d(cd(f),u)}]}const eS={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function _d(n,e,t,r,i,s,a){const l={year:e.length===2?w0(Ms(e)):Ms(e),month:hk.indexOf(t)+1,day:Ms(r),hour:Ms(i),minute:Ms(s)};return a&&(l.second=Ms(a)),n&&(l.weekday=n.length>3?mk.indexOf(n)+1:_k.indexOf(n)+1),l}const tS=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function nS(n){const[,e,t,r,i,s,a,l,o,f,c,u]=n,d=_d(e,i,r,t,s,a,l);let h;return o?h=eS[o]:f?h=0:h=Yc(c,u),[d,new Nr(h)]}function rS(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const iS=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,sS=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,aS=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function fp(n){const[,e,t,r,i,s,a,l]=n;return[_d(e,i,r,t,s,a,l),Nr.utcInstance]}function lS(n){const[,e,t,r,i,s,a,l]=n;return[_d(e,l,t,r,i,s,a),Nr.utcInstance]}const oS=Al(W3,md),fS=Al(j3,md),cS=Al(z3,md),uS=Al(yk),Tk=Fl(K3,Ol,nf,rf),dS=Fl(q3,Ol,nf,rf),hS=Fl(Y3,Ol,nf,rf),pS=Fl(Ol,nf,rf);function mS(n){return Dl(n,[oS,Tk],[fS,dS],[cS,hS],[uS,pS])}function _S(n){return Dl(rS(n),[tS,nS])}function gS(n){return Dl(n,[iS,fp],[sS,fp],[aS,lS])}function vS(n){return Dl(n,[Z3,Q3])}const bS=Fl(Ol);function wS(n){return Dl(n,[J3,bS])}const kS=Al(G3,X3),yS=Al(xk),xS=Fl(Ol,nf,rf);function TS(n){return Dl(n,[kS,Tk],[yS,xS])}const SS="Invalid Duration",Sk={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ES={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Sk},oi=146097/400,Ga=146097/4800,CS={years:{quarters:4,months:12,weeks:oi/7,days:oi,hours:oi*24,minutes:oi*24*60,seconds:oi*24*60*60,milliseconds:oi*24*60*60*1e3},quarters:{months:3,weeks:oi/28,days:oi/4,hours:oi*24/4,minutes:oi*24*60/4,seconds:oi*24*60*60/4,milliseconds:oi*24*60*60*1e3/4},months:{weeks:Ga/7,days:Ga,hours:Ga*24,minutes:Ga*24*60,seconds:Ga*24*60*60,milliseconds:Ga*24*60*60*1e3},...Sk},da=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],AS=da.slice(0).reverse();function la(n,e,t=!1){const r={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy};return new Bt(r)}function FS(n){return n<0?Math.floor(n):Math.ceil(n)}function Ek(n,e,t,r,i){const s=n[i][t],a=e[t]/s,l=Math.sign(a)===Math.sign(r[i]),o=!l&&r[i]!==0&&Math.abs(a)<=1?FS(a):Math.trunc(a);r[i]+=o,e[t]-=o*s}function DS(n,e){AS.reduce((t,r)=>Pt(e[r])?t:(t&&Ek(n,e,t,e,r),r),null)}class Bt{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;this.values=e.values,this.loc=e.loc||mn.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=t?CS:ES,this.isLuxonDuration=!0}static fromMillis(e,t){return Bt.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new bi(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Bt({values:uc(e,Bt.normalizeUnit),loc:mn.fromObject(t),conversionAccuracy:t.conversionAccuracy})}static fromDurationLike(e){if(ba(e))return Bt.fromMillis(e);if(Bt.isDuration(e))return e;if(typeof e=="object")return Bt.fromObject(e);throw new bi(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[r]=vS(e);return r?Bt.fromObject(r,t):Bt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[r]=wS(e);return r?Bt.fromObject(r,t):Bt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new bi("need to specify a reason the Duration is invalid");const r=e instanceof Pi?e:new Pi(e,t);if(Jn.throwOnInvalid)throw new s3(r);return new Bt({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new Ww(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const r={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?jr.create(this.loc,r).formatDurationFromString(this,e):SS}toHuman(e={}){const t=da.map(r=>{const i=this.values[r];return Pt(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ud(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||r.milliseconds!==0)&&(i+=".SSS"));let s=r.toFormat(i);return e.includePrefix&&(s="T"+s),s}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Bt.fromDurationLike(e),r={};for(const i of da)(gl(t.values,i)||gl(this.values,i))&&(r[i]=t.get(i)+this.get(i));return la(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const t=Bt.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=uk(e(this.values[r],r));return la(this,{values:t},!0)}get(e){return this[Bt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...uc(e,Bt.normalizeUnit)};return la(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r}={}){const i=this.loc.clone({locale:e,numberingSystem:t}),s={loc:i};return r&&(s.conversionAccuracy=r),la(this,s)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return DS(this.matrix,e),la(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(a=>Bt.normalizeUnit(a));const t={},r={},i=this.toObject();let s;for(const a of da)if(e.indexOf(a)>=0){s=a;let l=0;for(const f in r)l+=this.matrix[f][a]*r[f],r[f]=0;ba(i[a])&&(l+=i[a]);const o=Math.trunc(l);t[a]=o,r[a]=(l*1e3-o*1e3)/1e3;for(const f in i)da.indexOf(f)>da.indexOf(a)&&Ek(this.matrix,i,f,t,a)}else ba(i[a])&&(r[a]=i[a]);for(const a in r)r[a]!==0&&(t[s]+=a===s?r[a]:r[a]/this.matrix[s][a]);return la(this,{values:t},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return la(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of da)if(!t(this.values[r],e.values[r]))return!1;return!0}}const Hl="Invalid Interval";function OS(n,e){return!n||!n.isValid?bn.invalid("missing or invalid start"):!e||!e.isValid?bn.invalid("missing or invalid end"):e<n?bn.invalid("end before start",`The end of an interval must be after its start, but you had start=${n.toISO()} and end=${e.toISO()}`):null}class bn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new bi("need to specify a reason the Interval is invalid");const r=e instanceof Pi?e:new Pi(e,t);if(Jn.throwOnInvalid)throw new i3(r);return new bn({invalid:r})}static fromDateTimes(e,t){const r=jl(e),i=jl(t),s=OS(r,i);return s??new bn({start:r,end:i})}static after(e,t){const r=Bt.fromDurationLike(t),i=jl(e);return bn.fromDateTimes(i,i.plus(r))}static before(e,t){const r=Bt.fromDurationLike(t),i=jl(e);return bn.fromDateTimes(i.minus(r),i)}static fromISO(e,t){const[r,i]=(e||"").split("/",2);if(r&&i){let s,a;try{s=ht.fromISO(r,t),a=s.isValid}catch{a=!1}let l,o;try{l=ht.fromISO(i,t),o=l.isValid}catch{o=!1}if(a&&o)return bn.fromDateTimes(s,l);if(a){const f=Bt.fromISO(i,t);if(f.isValid)return bn.after(s,f)}else if(o){const f=Bt.fromISO(r,t);if(f.isValid)return bn.before(l,f)}}return bn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(t,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?bn.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(jl).filter(a=>this.contains(a)).sort(),r=[];let{s:i}=this,s=0;for(;i<this.e;){const a=t[s]||this.e,l=+a>+this.e?this.e:a;r.push(bn.fromDateTimes(i,l)),i=l,s+=1}return r}splitBy(e){const t=Bt.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const a=[];for(;r<this.e;){const l=this.start.plus(t.mapUnits(o=>o*i));s=+l>+this.e?this.e:l,a.push(bn.fromDateTimes(r,s)),r=s,i+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:bn.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return bn.fromDateTimes(t,r)}static merge(e){const[t,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],a)=>s?s.overlaps(a)||s.abutsStart(a)?[i,s.union(a)]:[i.concat([s]),a]:[i,a],[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const i=[],s=e.map(o=>[{time:o.s,type:"s"},{time:o.e,type:"e"}]),a=Array.prototype.concat(...s),l=a.sort((o,f)=>o.time-f.time);for(const o of l)r+=o.type==="s"?1:-1,r===1?t=o.time:(t&&+t!=+o.time&&i.push(bn.fromDateTimes(t,o.time)),t=null);return bn.merge(i)}difference(...e){return bn.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Hl}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Hl}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Hl}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Hl}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Hl}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Bt.invalid(this.invalidReason)}mapEndpoints(e){return bn.fromDateTimes(e(this.s),e(this.e))}}class Tf{static hasDST(e=Jn.defaultZone){const t=ht.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return ks.isValidZone(e)}static normalizeZone(e){return Is(e,Jn.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||mn.create(t,r,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||mn.create(t,r,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null}={}){return(i||mn.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:i=null}={}){return(i||mn.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return mn.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return mn.create(t,null,"gregory").eras(e)}static features(){return{relative:fk()}}}function cp(n,e){const t=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=t(e)-t(n);return Math.floor(Bt.fromMillis(r).as("days"))}function MS(n,e,t){const r=[["years",(l,o)=>o.year-l.year],["quarters",(l,o)=>o.quarter-l.quarter],["months",(l,o)=>o.month-l.month+(o.year-l.year)*12],["weeks",(l,o)=>{const f=cp(l,o);return(f-f%7)/7}],["days",cp]],i={};let s,a;for(const[l,o]of r)if(t.indexOf(l)>=0){s=l;let f=o(n,e);a=n.plus({[l]:f}),a>e?(n=n.plus({[l]:f-1}),f-=1):n=a,i[l]=f}return[n,i,a,s]}function IS(n,e,t,r){let[i,s,a,l]=MS(n,e,t);const o=e-i,f=t.filter(u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0);f.length===0&&(a<e&&(a=i.plus({[l]:1})),a!==i&&(s[l]=(s[l]||0)+o/(a-i)));const c=Bt.fromObject(s,r);return f.length>0?Bt.fromMillis(o,r).shiftTo(...f).plus(c):c}const gd={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},up={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},NS=gd.hanidec.replace(/[\[|\]]/g,"").split("");function PS(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);if(n[t].search(gd.hanidec)!==-1)e+=NS.indexOf(n[t]);else for(const i in up){const[s,a]=up[i];r>=s&&r<=a&&(e+=r-s)}}return parseInt(e,10)}else return e}function Oi({numberingSystem:n},e=""){return new RegExp(`${gd[n||"latn"]}${e}`)}const LS="missing Intl.DateTimeFormat.formatToParts support";function Vt(n,e=t=>t){return{regex:n,deser:([t])=>e(PS(t))}}const RS=String.fromCharCode(160),Ck=`[ ${RS}]`,Ak=new RegExp(Ck,"g");function $S(n){return n.replace(/\./g,"\\.?").replace(Ak,Ck)}function dp(n){return n.replace(/\./g,"").replace(Ak," ").toLowerCase()}function Mi(n,e){return n===null?null:{regex:RegExp(n.map($S).join("|")),deser:([t])=>n.findIndex(r=>dp(t)===dp(r))+e}}function hp(n,e){return{regex:n,deser:([,t,r])=>Yc(t,r),groups:e}}function yu(n){return{regex:n,deser:([e])=>e}}function BS(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function US(n,e){const t=Oi(e),r=Oi(e,"{2}"),i=Oi(e,"{3}"),s=Oi(e,"{4}"),a=Oi(e,"{6}"),l=Oi(e,"{1,2}"),o=Oi(e,"{1,3}"),f=Oi(e,"{1,6}"),c=Oi(e,"{1,9}"),u=Oi(e,"{2,4}"),d=Oi(e,"{4,6}"),h=g=>({regex:RegExp(BS(g.val)),deser:([v])=>v,literal:!0}),p=(g=>{if(n.literal)return h(g);switch(g.val){case"G":return Mi(e.eras("short",!1),0);case"GG":return Mi(e.eras("long",!1),0);case"y":return Vt(f);case"yy":return Vt(u,w0);case"yyyy":return Vt(s);case"yyyyy":return Vt(d);case"yyyyyy":return Vt(a);case"M":return Vt(l);case"MM":return Vt(r);case"MMM":return Mi(e.months("short",!0,!1),1);case"MMMM":return Mi(e.months("long",!0,!1),1);case"L":return Vt(l);case"LL":return Vt(r);case"LLL":return Mi(e.months("short",!1,!1),1);case"LLLL":return Mi(e.months("long",!1,!1),1);case"d":return Vt(l);case"dd":return Vt(r);case"o":return Vt(o);case"ooo":return Vt(i);case"HH":return Vt(r);case"H":return Vt(l);case"hh":return Vt(r);case"h":return Vt(l);case"mm":return Vt(r);case"m":return Vt(l);case"q":return Vt(l);case"qq":return Vt(r);case"s":return Vt(l);case"ss":return Vt(r);case"S":return Vt(o);case"SSS":return Vt(i);case"u":return yu(c);case"uu":return yu(l);case"uuu":return Vt(t);case"a":return Mi(e.meridiems(),0);case"kkkk":return Vt(s);case"kk":return Vt(u,w0);case"W":return Vt(l);case"WW":return Vt(r);case"E":case"c":return Vt(t);case"EEE":return Mi(e.weekdays("short",!1,!1),1);case"EEEE":return Mi(e.weekdays("long",!1,!1),1);case"ccc":return Mi(e.weekdays("short",!0,!1),1);case"cccc":return Mi(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return hp(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return hp(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return yu(/[a-z_+-/]{1,256}?/i);default:return h(g)}})(n)||{invalidReason:LS};return p.token=n,p}const HS={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function VS(n,e,t){const{type:r,value:i}=n;if(r==="literal")return{literal:!0,val:i};const s=t[r];let a=HS[r];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function WS(n){return[`^${n.map(t=>t.regex).reduce((t,r)=>`${t}(${r.source})`,"")}$`,n]}function jS(n,e,t){const r=n.match(e);if(r){const i={};let s=1;for(const a in t)if(gl(t,a)){const l=t[a],o=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(s,s+o))),s+=o}return[r,i]}else return[r,{}]}function zS(n){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,r;return Pt(n.z)||(t=ks.create(n.z)),Pt(n.Z)||(t||(t=new Nr(n.Z)),r=n.Z),Pt(n.q)||(n.M=(n.q-1)*3+1),Pt(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Pt(n.u)||(n.S=cd(n.u)),[Object.keys(n).reduce((s,a)=>{const l=e(a);return l&&(s[l]=n[a]),s},{}),t,r]}let xu=null;function qS(){return xu||(xu=ht.fromMillis(1555555555555)),xu}function YS(n,e){if(n.literal)return n;const t=jr.macroTokenToFormatOpts(n.val);if(!t)return n;const s=jr.create(e,t).formatDateTimeParts(qS()).map(a=>VS(a,e,t));return s.includes(void 0)?n:s}function GS(n,e){return Array.prototype.concat(...n.map(t=>YS(t,e)))}function Fk(n,e,t){const r=GS(jr.parseFormat(t),n),i=r.map(a=>US(a,n)),s=i.find(a=>a.invalidReason);if(s)return{input:e,tokens:r,invalidReason:s.invalidReason};{const[a,l]=WS(i),o=RegExp(a,"i"),[f,c]=jS(e,o,l),[u,d,h]=c?zS(c):[null,null,void 0];if(gl(c,"a")&&gl(c,"H"))throw new Ql("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:o,rawMatches:f,matches:c,result:u,zone:d,specificOffset:h}}}function XS(n,e,t){const{result:r,zone:i,specificOffset:s,invalidReason:a}=Fk(n,e,t);return[r,i,s,a]}const Dk=[0,31,59,90,120,151,181,212,243,273,304,334],Ok=[0,31,60,91,121,152,182,213,244,274,305,335];function ki(n,e){return new Pi("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${n}, which is invalid`)}function Mk(n,e,t){const r=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function Ik(n,e,t){return t+(ef(n)?Ok:Dk)[e-1]}function Nk(n,e){const t=ef(n)?Ok:Dk,r=t.findIndex(s=>s<e),i=e-t[r];return{month:r+1,day:i}}function S0(n){const{year:e,month:t,day:r}=n,i=Ik(e,t,r),s=Mk(e,t,r);let a=Math.floor((i-s+10)/7),l;return a<1?(l=e-1,a=cc(l)):a>cc(e)?(l=e+1,a=1):l=e,{weekYear:l,weekNumber:a,weekday:s,...Gc(n)}}function pp(n){const{weekYear:e,weekNumber:t,weekday:r}=n,i=Mk(e,1,4),s=ao(e);let a=t*7+r-i-3,l;a<1?(l=e-1,a+=ao(l)):a>s?(l=e+1,a-=ao(e)):l=e;const{month:o,day:f}=Nk(l,a);return{year:l,month:o,day:f,...Gc(n)}}function Tu(n){const{year:e,month:t,day:r}=n,i=Ik(e,t,r);return{year:e,ordinal:i,...Gc(n)}}function mp(n){const{year:e,ordinal:t}=n,{month:r,day:i}=Nk(e,t);return{year:e,month:r,day:i,...Gc(n)}}function KS(n){const e=qc(n.weekYear),t=_s(n.weekNumber,1,cc(n.weekYear)),r=_s(n.weekday,1,7);return e?t?r?!1:ki("weekday",n.weekday):ki("week",n.week):ki("weekYear",n.weekYear)}function JS(n){const e=qc(n.year),t=_s(n.ordinal,1,ao(n.year));return e?t?!1:ki("ordinal",n.ordinal):ki("year",n.year)}function Pk(n){const e=qc(n.year),t=_s(n.month,1,12),r=_s(n.day,1,fc(n.year,n.month));return e?t?r?!1:ki("day",n.day):ki("month",n.month):ki("year",n.year)}function Lk(n){const{hour:e,minute:t,second:r,millisecond:i}=n,s=_s(e,0,23)||e===24&&t===0&&r===0&&i===0,a=_s(t,0,59),l=_s(r,0,59),o=_s(i,0,999);return s?a?l?o?!1:ki("millisecond",i):ki("second",r):ki("minute",t):ki("hour",e)}const Su="Invalid DateTime",_p=864e13;function Sf(n){return new Pi("unsupported zone",`the zone "${n.name}" is not supported`)}function Eu(n){return n.weekData===null&&(n.weekData=S0(n.c)),n.weekData}function Vl(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new ht({...t,...e,old:t})}function Rk(n,e,t){let r=n-e*60*1e3;const i=t.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=t.offset(r);return i===s?[r,i]:[n-Math.min(i,s)*60*1e3,Math.max(i,s)]}function gp(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function rc(n,e,t){return Rk(dd(n),e,t)}function vp(n,e){const t=n.o,r=n.c.year+Math.trunc(e.years),i=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...n.c,year:r,month:i,day:Math.min(n.c.day,fc(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},a=Bt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=dd(s);let[o,f]=Rk(l,t,n.zone);return a!==0&&(o+=a,f=n.zone.offset(o)),{ts:o,o:f}}function Wl(n,e,t,r,i,s){const{setZone:a,zone:l}=t;if(n&&Object.keys(n).length!==0){const o=e||l,f=ht.fromObject(n,{...t,zone:o,specificOffset:s});return a?f:f.setZone(l)}else return ht.invalid(new Pi("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Ef(n,e,t=!0){return n.isValid?jr.create(mn.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Cu(n,e){const t=n.c.year>9999||n.c.year<0;let r="";return t&&n.c.year>=0&&(r+="+"),r+=Bn(n.c.year,t?6:4),e?(r+="-",r+=Bn(n.c.month),r+="-",r+=Bn(n.c.day)):(r+=Bn(n.c.month),r+=Bn(n.c.day)),r}function bp(n,e,t,r,i,s){let a=Bn(n.c.hour);return e?(a+=":",a+=Bn(n.c.minute),(n.c.second!==0||!t)&&(a+=":")):a+=Bn(n.c.minute),(n.c.second!==0||!t)&&(a+=Bn(n.c.second),(n.c.millisecond!==0||!r)&&(a+=".",a+=Bn(n.c.millisecond,3))),i&&(n.isOffsetFixed&&n.offset===0&&!s?a+="Z":n.o<0?(a+="-",a+=Bn(Math.trunc(-n.o/60)),a+=":",a+=Bn(Math.trunc(-n.o%60))):(a+="+",a+=Bn(Math.trunc(n.o/60)),a+=":",a+=Bn(Math.trunc(n.o%60)))),s&&(a+="["+n.zone.ianaName+"]"),a}const $k={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ZS={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},QS={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Bk=["year","month","day","hour","minute","second","millisecond"],eE=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],tE=["year","ordinal","hour","minute","second","millisecond"];function wp(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new Ww(n);return e}function kp(n,e){const t=Is(e.zone,Jn.defaultZone),r=mn.fromObject(e),i=Jn.now();let s,a;if(Pt(n.year))s=i;else{for(const f of Bk)Pt(n[f])&&(n[f]=$k[f]);const l=Pk(n)||Lk(n);if(l)return ht.invalid(l);const o=t.offset(i);[s,a]=rc(n,o,t)}return new ht({ts:s,zone:t,loc:r,o:a})}function yp(n,e,t){const r=Pt(t.round)?!0:t.round,i=(a,l)=>(a=ud(a,r||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(a,l)),s=a=>t.calendary?e.hasSame(n,a)?0:e.startOf(a).diff(n.startOf(a),a).get(a):e.diff(n,a).get(a);if(t.unit)return i(s(t.unit),t.unit);for(const a of t.units){const l=s(a);if(Math.abs(l)>=1)return i(l,a)}return i(n>e?-0:0,t.units[t.units.length-1])}function xp(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class ht{constructor(e){const t=e.zone||Jn.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Pi("invalid input"):null)||(t.isValid?null:Sf(t));this.ts=Pt(e.ts)?Jn.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[i,s]=[e.old.c,e.old.o];else{const l=t.offset(this.ts);i=gp(this.ts,l),r=Number.isNaN(i.year)?new Pi("invalid input"):null,i=r?null:i,s=r?null:l}this._zone=t,this.loc=e.loc||mn.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new ht({})}static local(){const[e,t]=xp(arguments),[r,i,s,a,l,o,f]=t;return kp({year:r,month:i,day:s,hour:a,minute:l,second:o,millisecond:f},e)}static utc(){const[e,t]=xp(arguments),[r,i,s,a,l,o,f]=t;return e.zone=Nr.utcInstance,kp({year:r,month:i,day:s,hour:a,minute:l,second:o,millisecond:f},e)}static fromJSDate(e,t={}){const r=f3(e)?e.valueOf():NaN;if(Number.isNaN(r))return ht.invalid("invalid input");const i=Is(t.zone,Jn.defaultZone);return i.isValid?new ht({ts:r,zone:i,loc:mn.fromObject(t)}):ht.invalid(Sf(i))}static fromMillis(e,t={}){if(ba(e))return e<-_p||e>_p?ht.invalid("Timestamp out of range"):new ht({ts:e,zone:Is(t.zone,Jn.defaultZone),loc:mn.fromObject(t)});throw new bi(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(ba(e))return new ht({ts:e*1e3,zone:Is(t.zone,Jn.defaultZone),loc:mn.fromObject(t)});throw new bi("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const r=Is(t.zone,Jn.defaultZone);if(!r.isValid)return ht.invalid(Sf(r));const i=Jn.now(),s=Pt(t.specificOffset)?r.offset(i):t.specificOffset,a=uc(e,wp),l=!Pt(a.ordinal),o=!Pt(a.year),f=!Pt(a.month)||!Pt(a.day),c=o||f,u=a.weekYear||a.weekNumber,d=mn.fromObject(t);if((c||l)&&u)throw new Ql("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&l)throw new Ql("Can't mix ordinal dates with month/day");const h=u||a.weekday&&!c;let m,p,g=gp(i,s);h?(m=eE,p=ZS,g=S0(g)):l?(m=tE,p=QS,g=Tu(g)):(m=Bk,p=$k);let v=!1;for(const F of m){const O=a[F];Pt(O)?v?a[F]=p[F]:a[F]=g[F]:v=!0}const w=h?KS(a):l?JS(a):Pk(a),k=w||Lk(a);if(k)return ht.invalid(k);const x=h?pp(a):l?mp(a):a,[A,T]=rc(x,s,r),C=new ht({ts:A,zone:r,o:T,loc:d});return a.weekday&&c&&e.weekday!==C.weekday?ht.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${C.toISO()}`):C}static fromISO(e,t={}){const[r,i]=mS(e);return Wl(r,i,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[r,i]=_S(e);return Wl(r,i,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[r,i]=gS(e);return Wl(r,i,t,"HTTP",t)}static fromFormat(e,t,r={}){if(Pt(e)||Pt(t))throw new bi("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,a=mn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,o,f,c]=XS(a,e,t);return c?ht.invalid(c):Wl(l,o,r,`format ${t}`,e,f)}static fromString(e,t,r={}){return ht.fromFormat(e,t,r)}static fromSQL(e,t={}){const[r,i]=TS(e);return Wl(r,i,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new bi("need to specify a reason the DateTime is invalid");const r=e instanceof Pi?e:new Pi(e,t);if(Jn.throwOnInvalid)throw new r3(r);return new ht({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Eu(this).weekYear:NaN}get weekNumber(){return this.isValid?Eu(this).weekNumber:NaN}get weekday(){return this.isValid?Eu(this).weekday:NaN}get ordinal(){return this.isValid?Tu(this.c).ordinal:NaN}get monthShort(){return this.isValid?Tf.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Tf.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Tf.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Tf.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return ef(this.year)}get daysInMonth(){return fc(this.year,this.month)}get daysInYear(){return this.isValid?ao(this.year):NaN}get weeksInWeekYear(){return this.isValid?cc(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:r,calendar:i}=jr.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:i}}toUTC(e=0,t={}){return this.setZone(Nr.instance(e),t)}toLocal(){return this.setZone(Jn.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if(e=Is(e,Jn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(t||r){const s=e.offset(this.ts),a=this.toObject();[i]=rc(a,s,e)}return Vl(this,{ts:i,zone:e})}else return ht.invalid(Sf(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r});return Vl(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=uc(e,wp),r=!Pt(t.weekYear)||!Pt(t.weekNumber)||!Pt(t.weekday),i=!Pt(t.ordinal),s=!Pt(t.year),a=!Pt(t.month)||!Pt(t.day),l=s||a,o=t.weekYear||t.weekNumber;if((l||i)&&o)throw new Ql("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&i)throw new Ql("Can't mix ordinal dates with month/day");let f;r?f=pp({...S0(this.c),...t}):Pt(t.ordinal)?(f={...this.toObject(),...t},Pt(t.day)&&(f.day=Math.min(fc(f.year,f.month),f.day))):f=mp({...Tu(this.c),...t});const[c,u]=rc(f,this.o,this.zone);return Vl(this,{ts:c,o:u})}plus(e){if(!this.isValid)return this;const t=Bt.fromDurationLike(e);return Vl(this,vp(this,t))}minus(e){if(!this.isValid)return this;const t=Bt.fromDurationLike(e).negate();return Vl(this,vp(this,t))}startOf(e){if(!this.isValid)return this;const t={},r=Bt.normalizeUnit(e);switch(r){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(r==="weeks"&&(t.weekday=1),r==="quarters"){const i=Math.ceil(this.month/3);t.month=(i-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?jr.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Su}toLocaleString(e=b0,t={}){return this.isValid?jr.create(this.loc.clone(t),e).formatDateTime(this):Su}toLocaleParts(e={}){return this.isValid?jr.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const a=e==="extended";let l=Cu(this,a);return l+="T",l+=bp(this,a,t,r,i,s),l}toISODate({format:e="extended"}={}){return this.isValid?Cu(this,e==="extended"):null}toISOWeekDate(){return Ef(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:a="extended"}={}){return this.isValid?(i?"T":"")+bp(this,a==="extended",t,e,r,s):null}toRFC2822(){return Ef(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ef(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Cu(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(t||e)&&(r&&(i+=" "),t?i+="z":e&&(i+="ZZ")),Ef(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Su}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return Bt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=c3(t).map(Bt.normalizeUnit),a=e.valueOf()>this.valueOf(),l=a?this:e,o=a?e:this,f=IS(l,o,s,i);return a?f.negate():f}diffNow(e="milliseconds",t={}){return this.diff(ht.now(),e,t)}until(e){return this.isValid?bn.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t)<=r&&r<=i.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||ht.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),yp(t,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?yp(e.base||ht.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(ht.isDateTime))throw new bi("min requires all arguments be DateTimes");return ep(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(ht.isDateTime))throw new bi("max requires all arguments be DateTimes");return ep(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,r={}){const{locale:i=null,numberingSystem:s=null}=r,a=mn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return Fk(a,e,t)}static fromStringExplain(e,t,r={}){return ht.fromFormatExplain(e,t,r)}static get DATE_SHORT(){return b0}static get DATE_MED(){return jw}static get DATE_MED_WITH_WEEKDAY(){return a3}static get DATE_FULL(){return zw}static get DATE_HUGE(){return qw}static get TIME_SIMPLE(){return Yw}static get TIME_WITH_SECONDS(){return Gw}static get TIME_WITH_SHORT_OFFSET(){return Xw}static get TIME_WITH_LONG_OFFSET(){return Kw}static get TIME_24_SIMPLE(){return Jw}static get TIME_24_WITH_SECONDS(){return Zw}static get TIME_24_WITH_SHORT_OFFSET(){return Qw}static get TIME_24_WITH_LONG_OFFSET(){return ek}static get DATETIME_SHORT(){return tk}static get DATETIME_SHORT_WITH_SECONDS(){return nk}static get DATETIME_MED(){return rk}static get DATETIME_MED_WITH_SECONDS(){return ik}static get DATETIME_MED_WITH_WEEKDAY(){return l3}static get DATETIME_FULL(){return sk}static get DATETIME_FULL_WITH_SECONDS(){return ak}static get DATETIME_HUGE(){return lk}static get DATETIME_HUGE_WITH_SECONDS(){return ok}}function jl(n){if(ht.isDateTime(n))return n;if(n&&n.valueOf&&ba(n.valueOf()))return ht.fromJSDate(n);if(n&&typeof n=="object")return ht.fromObject(n);throw new bi(`Unknown datetime argument: ${n}, of type ${typeof n}`)}const nE=[".jpg",".jpeg",".png",".svg",".gif",".jfif",".webp",".avif"],rE=[".mp4",".avi",".mov",".3gp",".wmv"],iE=[".aa",".aac",".m4v",".mp3",".ogg",".oga",".mogg",".amr"],sE=[".pdf",".doc",".docx",".xls",".xlsx",".ppt",".pptx",".odp",".odt",".ods",".txt"];class X{static isObject(e){return e!==null&&typeof e=="object"&&e.constructor===Object}static isEmpty(e){return e===""||e===null||e==="00000000-0000-0000-0000-000000000000"||e==="0001-01-01 00:00:00.000Z"||e==="0001-01-01"||typeof e>"u"||Array.isArray(e)&&e.length===0||X.isObject(e)&&Object.keys(e).length===0}static isInput(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return t==="input"||t==="select"||t==="textarea"||e.isContentEditable}static isFocusable(e){let t=e&&e.tagName?e.tagName.toLowerCase():"";return X.isInput(e)||t==="button"||t==="a"||t==="details"||e.tabIndex>=0}static hasNonEmptyProps(e){for(let t in e)if(!X.isEmpty(e[t]))return!0;return!1}static toArray(e,t=!1){return Array.isArray(e)?e.slice():(t||!X.isEmpty(e))&&typeof e<"u"?[e]:[]}static inArray(e,t){e=Array.isArray(e)?e:[];for(let r=e.length-1;r>=0;r--)if(e[r]==t)return!0;return!1}static removeByValue(e,t){e=Array.isArray(e)?e:[];for(let r=e.length-1;r>=0;r--)if(e[r]==t){e.splice(r,1);break}}static pushUnique(e,t){X.inArray(e,t)||e.push(t)}static findByKey(e,t,r){e=Array.isArray(e)?e:[];for(let i in e)if(e[i][t]==r)return e[i];return null}static groupByKey(e,t){e=Array.isArray(e)?e:[];const r={};for(let i in e)r[e[i][t]]=r[e[i][t]]||[],r[e[i][t]].push(e[i]);return r}static removeByKey(e,t,r){for(let i in e)if(e[i][t]==r){e.splice(i,1);break}}static pushOrReplaceByKey(e,t,r="id"){for(let i=e.length-1;i>=0;i--)if(e[i][r]==t[r]){e[i]=t;return}e.push(t)}static filterDuplicatesByKey(e,t="id"){e=Array.isArray(e)?e:[];const r={};for(const i of e)r[i[t]]=i;return Object.values(r)}static filterRedactedProps(e,t="******"){const r=JSON.parse(JSON.stringify(e||{}));for(let i in r)typeof r[i]=="object"&&r[i]!==null?r[i]=X.filterRedactedProps(r[i],t):r[i]===t&&delete r[i];return r}static getNestedVal(e,t,r=null,i="."){let s=e||{},a=(t||"").split(i);for(const l of a){if(!X.isObject(s)&&!Array.isArray(s)||typeof s[l]>"u")return r;s=s[l]}return s}static setByPath(e,t,r,i="."){if(e===null||typeof e!="object"){console.warn("setByPath: data not an object or array.");return}let s=e,a=t.split(i),l=a.pop();for(const o of a)(!X.isObject(s)&&!Array.isArray(s)||!X.isObject(s[o])&&!Array.isArray(s[o]))&&(s[o]={}),s=s[o];s[l]=r}static deleteByPath(e,t,r="."){let i=e||{},s=(t||"").split(r),a=s.pop();for(const l of s)(!X.isObject(i)&&!Array.isArray(i)||!X.isObject(i[l])&&!Array.isArray(i[l]))&&(i[l]={}),i=i[l];Array.isArray(i)?i.splice(a,1):X.isObject(i)&&delete i[a],s.length>0&&(Array.isArray(i)&&!i.length||X.isObject(i)&&!Object.keys(i).length)&&(Array.isArray(e)&&e.length>0||X.isObject(e)&&Object.keys(e).length>0)&&X.deleteByPath(e,s.join(r),r)}static randomString(e){e=e||10;let t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}static sentenize(e,t=!0){if(typeof e!="string")return"";if(e=e.trim().split("_").join(" "),e==="")return e;if(e=e[0].toUpperCase()+e.substring(1),t){let r=e[e.length-1];r!=="."&&r!=="?"&&r!=="!"&&(e+=".")}return e}static plainText(e){return e?(new DOMParser().parseFromString(e,"text/html").body.innerText||"").trim():""}static truncate(e,t=150,r=!0){return e=e||"",e.length<=t?e:e.substring(0,t)+(r?"...":"")}static truncateObject(e){const t={};for(let r in e){let i=e[r];typeof i=="string"&&(i=X.truncate(i,150,!0)),t[r]=i}return t}static slugify(e,t="_",r=[".","=","-"]){if(e==="")return"";const i={a:/||||/gi,b://gi,c:/|/gi,d://gi,e:/|||||/gi,f://gi,g://gi,h://gi,i:/||||/gi,j://gi,k://gi,l://gi,m://gi,n:/|/gi,o:/||||/gi,p://gi,q://gi,r://gi,s://gi,t://gi,u:/||||/gi,v://gi,w://gi,x://gi,y://gi,z://gi,ae:/|/gi,oe://gi,ue://gi,Ae://gi,Ue://gi,Oe://gi,ss://gi,and:/&/gi};for(let a in i)e=e.replace(i[a],a);const s=e.replace(new RegExp("["+r.join("")+"]","g")," ").replace(/[^\w\ ]/gi,"").replace(/\s+/g,t);return s.charAt(0).toLowerCase()+s.slice(1)}static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static splitNonEmpty(e,t=","){const r=(e||"").split(t),i=[];for(let s of r)s=s.trim(),X.isEmpty(s)||i.push(s);return i}static joinNonEmpty(e,t=", "){const r=[];for(let i of e)i=typeof i=="string"?i.trim():"",X.isEmpty(i)||r.push(i);return r.join(t)}static getInitials(e){if(e=(e||"").split("@")[0].trim(),e.length<=2)return e.toUpperCase();const t=e.split(/[\.\_\-\ ]/);return t.length>=2?(t[0][0]+t[1][0]).toUpperCase():e[0].toUpperCase()}static getDateTime(e){if(typeof e=="string"){const t={19:"yyyy-MM-dd HH:mm:ss",23:"yyyy-MM-dd HH:mm:ss.SSS",20:"yyyy-MM-dd HH:mm:ssZ",24:"yyyy-MM-dd HH:mm:ss.SSSZ"},r=t[e.length]||t[19];return ht.fromFormat(e,r,{zone:"UTC"})}return ht.fromJSDate(e)}static formatToUTCDate(e,t="yyyy-MM-dd HH:mm:ss"){return X.getDateTime(e).toUTC().toFormat(t)}static formatToLocalDate(e,t="yyyy-MM-dd HH:mm:ss"){return X.getDateTime(e).toLocal().toFormat(t)}static async copyToClipboard(e){var t;if(e=""+e,!(!e.length||!((t=window==null?void 0:window.navigator)!=null&&t.clipboard)))return window.navigator.clipboard.writeText(e).catch(r=>{console.warn("Failed to copy.",r)})}static downloadJson(e,t){const r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,2)),i=document.createElement("a");i.setAttribute("href",r),i.setAttribute("download",t+".json"),i.click(),i.remove()}static getJWTPayload(e){const t=(e||"").split(".")[1]||"";if(t==="")return{};try{const r=decodeURIComponent(atob(t));return JSON.parse(r)||{}}catch(r){console.warn("Failed to parse JWT payload data.",r)}return{}}static hasImageExtension(e){return!!nE.find(t=>e.toLowerCase().endsWith(t))}static hasVideoExtension(e){return!!rE.find(t=>e.toLowerCase().endsWith(t))}static hasAudioExtension(e){return!!iE.find(t=>e.toLowerCase().endsWith(t))}static hasDocumentExtension(e){return!!sE.find(t=>e.toLowerCase().endsWith(t))}static getFileType(e){return X.hasImageExtension(e)?"image":X.hasDocumentExtension(e)?"document":X.hasVideoExtension(e)?"video":X.hasAudioExtension(e)?"audio":"file"}static generateThumb(e,t=100,r=100){return new Promise(i=>{let s=new FileReader;s.onload=function(a){let l=new Image;l.onload=function(){let o=document.createElement("canvas"),f=o.getContext("2d"),c=l.width,u=l.height;return o.width=t,o.height=r,f.drawImage(l,c>u?(c-u)/2:0,0,c>u?u:c,c>u?u:c,0,0,t,r),i(o.toDataURL(e.type))},l.src=a.target.result},s.readAsDataURL(e)})}static addValueToFormData(e,t,r){if(!(typeof r>"u"))if(X.isEmpty(r))e.append(t,"");else if(Array.isArray(r))for(const i of r)X.addValueToFormData(e,t,i);else r instanceof File?e.append(t,r):r instanceof Date?e.append(t,r.toISOString()):X.isObject(r)?e.append(t,JSON.stringify(r)):e.append(t,""+r)}static dummyCollectionRecord(e){var a,l,o,f,c,u,d;const t=(e==null?void 0:e.schema)||[],r={id:"RECORD_ID",collectionId:e==null?void 0:e.id,collectionName:e==null?void 0:e.name};e!=null&&e.isAuth&&(r.username="username123",r.verified=!1,r.emailVisibility=!0,r.email="test@example.com"),(!(e!=null&&e.isView)||X.extractColumnsFromQuery((a=e==null?void 0:e.options)==null?void 0:a.query).includes("created"))&&(r.created="2022-01-01 01:00:00.123Z"),(!(e!=null&&e.isView)||X.extractColumnsFromQuery((l=e==null?void 0:e.options)==null?void 0:l.query).includes("updated"))&&(r.updated="2022-01-01 23:59:59.456Z");for(const h of t){let m=null;h.type==="number"?m=123:h.type==="date"?m="2022-01-01 10:00:00.123Z":h.type==="bool"?m=!0:h.type==="email"?m="test@example.com":h.type==="url"?m="https://example.com":h.type==="json"?m="JSON":h.type==="file"?(m="filename.jpg",((o=h.options)==null?void 0:o.maxSelect)!==1&&(m=[m])):h.type==="select"?(m=(c=(f=h.options)==null?void 0:f.values)==null?void 0:c[0],((u=h.options)==null?void 0:u.maxSelect)!==1&&(m=[m])):h.type==="relation"?(m="RELATION_RECORD_ID",((d=h.options)==null?void 0:d.maxSelect)!==1&&(m=[m])):m="test",r[h.name]=m}return r}static dummyCollectionSchemaData(e){var i,s,a,l;const t=(e==null?void 0:e.schema)||[],r={};for(const o of t){let f=null;if(o.type==="number")f=123;else if(o.type==="date")f="2022-01-01 10:00:00.123Z";else if(o.type==="bool")f=!0;else if(o.type==="email")f="test@example.com";else if(o.type==="url")f="https://example.com";else if(o.type==="json")f="JSON";else{if(o.type==="file")continue;o.type==="select"?(f=(s=(i=o.options)==null?void 0:i.values)==null?void 0:s[0],((a=o.options)==null?void 0:a.maxSelect)!==1&&(f=[f])):o.type==="relation"?(f="RELATION_RECORD_ID",((l=o.options)==null?void 0:l.maxSelect)!==1&&(f=[f])):f="test"}r[o.name]=f}return r}static getCollectionTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"auth":return"ri-group-line";case"view":return"ri-table-line";default:return"ri-folder-2-line"}}static getFieldTypeIcon(e){switch(e==null?void 0:e.toLowerCase()){case"primary":return"ri-key-line";case"text":return"ri-text";case"number":return"ri-hashtag";case"date":return"ri-calendar-line";case"bool":return"ri-toggle-line";case"email":return"ri-mail-line";case"url":return"ri-link";case"editor":return"ri-edit-2-line";case"select":return"ri-list-check";case"json":return"ri-braces-line";case"file":return"ri-image-line";case"relation":return"ri-mind-map";case"user":return"ri-user-line";default:return"ri-star-s-line"}}static getFieldValueType(e){var t;switch(e==null?void 0:e.type){case"bool":return"Boolean";case"number":return"Number";case"file":return"File";case"select":case"relation":return((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)===1?"String":"Array<String>";default:return"String"}}static zeroDefaultStr(e){var t;return(e==null?void 0:e.type)==="number"?"0":(e==null?void 0:e.type)==="bool"?"false":(e==null?void 0:e.type)==="json"?'null, "", [], {}':["select","relation","file"].includes(e==null?void 0:e.type)&&((t=e==null?void 0:e.options)==null?void 0:t.maxSelect)!=1?"[]":'""'}static getApiExampleUrl(e){return(window.location.href.substring(0,window.location.href.indexOf("/_"))||e||"/").replace("//localhost","//127.0.0.1")}static hasCollectionChanges(e,t,r=!1){if(e=e||{},t=t||{},e.id!=t.id)return!0;for(let f in e)if(f!=="schema"&&JSON.stringify(e[f])!==JSON.stringify(t[f]))return!0;const i=Array.isArray(e.schema)?e.schema:[],s=Array.isArray(t.schema)?t.schema:[],a=i.filter(f=>(f==null?void 0:f.id)&&!X.findByKey(s,"id",f.id)),l=s.filter(f=>(f==null?void 0:f.id)&&!X.findByKey(i,"id",f.id)),o=s.filter(f=>{const c=X.isObject(f)&&X.findByKey(i,"id",f.id);if(!c)return!1;for(let u in c)if(JSON.stringify(f[u])!=JSON.stringify(c[u]))return!0;return!1});return!!(l.length||o.length||r&&a.length)}static sortCollections(e=[]){const t=[],r=[],i=[];for(const s of e)s.type==="auth"?t.push(s):s.type==="base"?r.push(s):i.push(s);return[].concat(t,r,i)}static yieldToMain(){return new Promise(e=>{setTimeout(e,0)})}static defaultFlatpickrOptions(){return{dateFormat:"Y-m-d H:i:S",disableMobile:!0,allowInput:!0,enableTime:!0,time_24hr:!0,locale:{firstDayOfWeek:1}}}static defaultEditorOptions(){return{branding:!1,promotion:!1,menubar:!1,min_height:270,height:270,max_height:700,autoresize_bottom_margin:30,skin:"pocketbase",content_style:"body { font-size: 14px }",plugins:["autoresize","autolink","lists","link","image","searchreplace","fullscreen","media","table","code","codesample"],toolbar:"undo redo | styles | alignleft aligncenter alignright | bold italic forecolor backcolor | bullist numlist | link image table codesample | code fullscreen",file_picker_types:"image",file_picker_callback:(e,t,r)=>{const i=document.createElement("input");i.setAttribute("type","file"),i.setAttribute("accept","image/*"),i.addEventListener("change",s=>{const a=s.target.files[0],l=new FileReader;l.addEventListener("load",()=>{if(!tinymce)return;const o="blobid"+new Date().getTime(),f=tinymce.activeEditor.editorUpload.blobCache,c=l.result.split(",")[1],u=f.create(o,a,c);f.add(u),e(u.blobUri(),{title:a.name})}),l.readAsDataURL(a)}),i.click()}}}static displayValue(e,t,r="N/A"){e=e||{},t=t||[];let i=[];for(const a of t){let l=e[a];typeof l>"u"||(X.isEmpty(l)?i.push(r):typeof l=="boolean"?i.push(l?"True":"False"):typeof l=="string"?(l=l.indexOf("<")>=0?X.plainText(l):l,i.push(X.truncate(l))):i.push(l))}if(i.length>0)return i.join(", ");const s=["title","name","email","username","heading","label","key","id"];for(const a of s)if(!X.isEmpty(e[a]))return e[a];return r}static extractColumnsFromQuery(e){var a;const t="__GROUP__";e=(e||"").replace(/\([\s\S]+?\)/gm,t).replace(/[\t\r\n]|(?:\s\s)+/g," ");const r=e.match(/select\s+([\s\S]+)\s+from/),i=((a=r==null?void 0:r[1])==null?void 0:a.split(","))||[],s=[];for(let l of i){const o=l.trim().split(" ").pop();o!=""&&o!=t&&s.push(o.replace(/[\'\"\`\[\]\s]/g,""))}return s}static getAllCollectionIdentifiers(e,t=""){if(!e)return;let r=[t+"id"];if(e.isView)for(let s of X.extractColumnsFromQuery(e.options.query))X.pushUnique(r,t+s);else e.isAuth?(r.push(t+"username"),r.push(t+"email"),r.push(t+"emailVisibility"),r.push(t+"verified"),r.push(t+"created"),r.push(t+"updated")):(r.push(t+"created"),r.push(t+"updated"));const i=e.schema||[];for(const s of i)X.pushUnique(r,t+s.name);return r}}const Xc=Ai([]);function Uk(n,e=4e3){return Kc(n,"info",e)}function Qn(n,e=3e3){return Kc(n,"success",e)}function Co(n,e=4500){return Kc(n,"error",e)}function aE(n,e=4500){return Kc(n,"warning",e)}function Kc(n,e,t){t=t||4e3;const r={message:n,type:e,duration:t,timeout:setTimeout(()=>{Hk(r)},t)};Xc.update(i=>(bd(i,r.message),X.pushOrReplaceByKey(i,r,"message"),i))}function Hk(n){Xc.update(e=>(bd(e,n),e))}function vd(){Xc.update(n=>{for(let e of n)bd(n,e);return[]})}function bd(n,e){let t;typeof e=="string"?t=X.findByKey(n,"message",e):t=e,t&&(clearTimeout(t.timeout),X.removeByKey(n,"message",t.message))}const xs=Ai({});function Ti(n){xs.set(n||{})}function Ca(n){xs.update(e=>(X.deleteByPath(e,n),e))}const wd=Ai({});function E0(n){wd.set(n||{})}fd.prototype.logout=function(n=!0){this.authStore.clear(),n&&Js("/login")};fd.prototype.errorResponseHandler=function(n,e=!0,t=""){if(!n||!(n instanceof Error)||n.isAbort)return;const r=(n==null?void 0:n.status)<<0||400,i=(n==null?void 0:n.data)||{};if(e&&r!==404){let s=i.message||n.message||t;s&&Co(s)}if(X.isEmpty(i.data)||Ti(i.data),r===401)return this.cancelAllRequests(),this.logout();if(r===403)return this.cancelAllRequests(),Js("/")};class lE extends Hw{save(e,t){super.save(e,t),t instanceof Ea&&E0(t)}clear(){super.clear(),E0(null)}}const Ue=new fd("../",new lE("pb_admin_auth"));Ue.authStore.model instanceof Ea&&E0(Ue.authStore.model);function oE(n){let e,t,r,i,s,a,l,o,f,c,u,d;const h=n[3].default,m=Hn(h,n,n[2],null);return{c(){e=y("div"),t=y("main"),m&&m.c(),r=D(),i=y("footer"),s=y("a"),s.innerHTML='<span class="txt">Docs</span>',a=D(),l=y("span"),l.textContent="|",o=D(),f=y("a"),c=y("span"),c.textContent="PocketBase v0.13.2",_(t,"class","page-content"),_(s,"href","https://pocketbase.io/docs/"),_(s,"target","_blank"),_(s,"rel","noopener noreferrer"),_(l,"class","delimiter"),_(c,"class","txt"),_(f,"href","https://github.com/pocketbase/pocketbase/releases"),_(f,"target","_blank"),_(f,"rel","noopener noreferrer"),_(f,"title","Releases"),_(i,"class","page-footer"),_(e,"class",u="page-wrapper "+n[1]),pe(e,"center-content",n[0])},m(p,g){E(p,e,g),b(e,t),m&&m.m(t,null),b(e,r),b(e,i),b(i,s),b(i,a),b(i,l),b(i,o),b(i,f),b(f,c),d=!0},p(p,[g]){m&&m.p&&(!d||g&4)&&Wn(m,h,p,p[2],d?Vn(h,p[2],g,null):jn(p[2]),null),(!d||g&2&&u!==(u="page-wrapper "+p[1]))&&_(e,"class",u),(!d||g&3)&&pe(e,"center-content",p[0])},i(p){d||(M(m,p),d=!0)},o(p){L(m,p),d=!1},d(p){p&&S(e),m&&m.d(p)}}}function fE(n,e,t){let{$$slots:r={},$$scope:i}=e,{center:s=!1}=e,{class:a=""}=e;return n.$$set=l=>{"center"in l&&t(0,s=l.center),"class"in l&&t(1,a=l.class),"$$scope"in l&&t(2,i=l.$$scope)},[s,a,i,r]}class ai extends We{constructor(e){super(),Ve(this,e,fE,oE,$e,{center:0,class:1})}}function Tp(n){let e,t,r;return{c(){e=y("div"),e.innerHTML=`<figure class="logo"><img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/> 
                    <span class="txt">Pocket<strong>Base</strong></span></figure>`,t=D(),r=y("div"),_(e,"class","block txt-center m-b-lg"),_(r,"class","clearfix")},m(i,s){E(i,e,s),E(i,t,s),E(i,r,s)},d(i){i&&S(e),i&&S(t),i&&S(r)}}}function cE(n){let e,t,r,i=!n[0]&&Tp();const s=n[1].default,a=Hn(s,n,n[2],null);return{c(){e=y("div"),i&&i.c(),t=D(),a&&a.c(),_(e,"class","wrapper wrapper-sm m-b-xl panel-wrapper svelte-lxxzfu")},m(l,o){E(l,e,o),i&&i.m(e,null),b(e,t),a&&a.m(e,null),r=!0},p(l,o){l[0]?i&&(i.d(1),i=null):i||(i=Tp(),i.c(),i.m(e,t)),a&&a.p&&(!r||o&4)&&Wn(a,s,l,l[2],r?Vn(s,l[2],o,null):jn(l[2]),null)},i(l){r||(M(a,l),r=!0)},o(l){L(a,l),r=!1},d(l){l&&S(e),i&&i.d(),a&&a.d(l)}}}function uE(n){let e,t;return e=new ai({props:{class:"full-page",center:!0,$$slots:{default:[cE]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&5&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function dE(n,e,t){let{$$slots:r={},$$scope:i}=e,{nobranding:s=!1}=e;return n.$$set=a=>{"nobranding"in a&&t(0,s=a.nobranding),"$$scope"in a&&t(2,i=a.$$scope)},[s,r,i]}class Vk extends We{constructor(e){super(),Ve(this,e,dE,uE,$e,{nobranding:0})}}function Jc(n){const e=n-1;return e*e*e+1}function dc(n,{delay:e=0,duration:t=400,easing:r=Ko}={}){const i=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:r,css:s=>`opacity: ${s*i}`}}function Si(n,{delay:e=0,duration:t=400,easing:r=Jc,x:i=0,y:s=0,opacity:a=0}={}){const l=getComputedStyle(n),o=+l.opacity,f=l.transform==="none"?"":l.transform,c=o*(1-a);return{delay:e,duration:t,easing:r,css:(u,d)=>`
			transform: ${f} translate(${(1-u)*i}px, ${(1-u)*s}px);
			opacity: ${o-c*d}`}}function Sn(n,{delay:e=0,duration:t=400,easing:r=Jc}={}){const i=getComputedStyle(n),s=+i.opacity,a=parseFloat(i.height),l=parseFloat(i.paddingTop),o=parseFloat(i.paddingBottom),f=parseFloat(i.marginTop),c=parseFloat(i.marginBottom),u=parseFloat(i.borderTopWidth),d=parseFloat(i.borderBottomWidth);return{delay:e,duration:t,easing:r,css:h=>`overflow: hidden;opacity: ${Math.min(h*20,1)*s};height: ${h*a}px;padding-top: ${h*l}px;padding-bottom: ${h*o}px;margin-top: ${h*f}px;margin-bottom: ${h*c}px;border-top-width: ${h*u}px;border-bottom-width: ${h*d}px;`}}function qn(n,{delay:e=0,duration:t=400,easing:r=Jc,start:i=0,opacity:s=0}={}){const a=getComputedStyle(n),l=+a.opacity,o=a.transform==="none"?"":a.transform,f=1-i,c=l*(1-s);return{delay:e,duration:t,easing:r,css:(u,d)=>`
			transform: ${o} scale(${1-f*d});
			opacity: ${l-c*d}
		`}}function Sp(n,e,t){const r=n.slice();return r[11]=e[t],r}const hE=n=>({}),Ep=n=>({uniqueId:n[3]});function pE(n){let e=(n[11]||hc)+"",t;return{c(){t=q(e)},m(r,i){E(r,t,i)},p(r,i){i&4&&e!==(e=(r[11]||hc)+"")&&ke(t,e)},d(r){r&&S(t)}}}function mE(n){var i,s;let e,t=(((i=n[11])==null?void 0:i.message)||((s=n[11])==null?void 0:s.code)||hc)+"",r;return{c(){e=y("pre"),r=q(t)},m(a,l){E(a,e,l),b(e,r)},p(a,l){var o,f;l&4&&t!==(t=(((o=a[11])==null?void 0:o.message)||((f=a[11])==null?void 0:f.code)||hc)+"")&&ke(r,t)},d(a){a&&S(e)}}}function Cp(n){let e,t,r,i;function s(o,f){return typeof o[11]=="object"?mE:pE}let a=s(n),l=a(n);return{c(){e=y("div"),l.c(),t=D(),_(e,"class","help-block help-block-error")},m(o,f){E(o,e,f),l.m(e,null),b(e,t),i=!0},p(o,f){a===(a=s(o))&&l?l.p(o,f):(l.d(1),l=a(o),l&&(l.c(),l.m(e,t)))},i(o){i||(o&&Nt(()=>{r||(r=ut(e,Sn,{duration:150},!0)),r.run(1)}),i=!0)},o(o){o&&(r||(r=ut(e,Sn,{duration:150},!1)),r.run(0)),i=!1},d(o){o&&S(e),l.d(),o&&r&&r.end()}}}function _E(n){let e,t,r,i,s;const a=n[8].default,l=Hn(a,n,n[7],Ep);let o=n[2],f=[];for(let u=0;u<o.length;u+=1)f[u]=Cp(Sp(n,o,u));const c=u=>L(f[u],1,1,()=>{f[u]=null});return{c(){e=y("div"),l&&l.c(),t=D();for(let u=0;u<f.length;u+=1)f[u].c();_(e,"class",n[0]),pe(e,"error",n[2].length)},m(u,d){E(u,e,d),l&&l.m(e,null),b(e,t);for(let h=0;h<f.length;h+=1)f[h].m(e,null);n[10](e),r=!0,i||(s=ae(e,"click",n[9]),i=!0)},p(u,[d]){if(l&&l.p&&(!r||d&128)&&Wn(l,a,u,u[7],r?Vn(a,u[7],d,hE):jn(u[7]),Ep),d&4){o=u[2];let h;for(h=0;h<o.length;h+=1){const m=Sp(u,o,h);f[h]?(f[h].p(m,d),M(f[h],1)):(f[h]=Cp(m),f[h].c(),M(f[h],1),f[h].m(e,null))}for(Me(),h=o.length;h<f.length;h+=1)c(h);Ie()}(!r||d&1)&&_(e,"class",u[0]),(!r||d&5)&&pe(e,"error",u[2].length)},i(u){if(!r){M(l,u);for(let d=0;d<o.length;d+=1)M(f[d]);r=!0}},o(u){L(l,u),f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)L(f[d]);r=!1},d(u){u&&S(e),l&&l.d(u),zt(f,u),n[10](null),i=!1,s()}}}const hc="Invalid value";function gE(n,e,t){let r;Et(n,xs,m=>t(6,r=m));let{$$slots:i={},$$scope:s}=e;const a="field_"+X.randomString(7);let{name:l=""}=e,{class:o=void 0}=e,f,c=[];function u(){Ca(l)}ur(()=>(f.addEventListener("input",u),f.addEventListener("change",u),()=>{f.removeEventListener("input",u),f.removeEventListener("change",u)}));function d(m){mt.call(this,n,m)}function h(m){ve[m?"unshift":"push"](()=>{f=m,t(1,f)})}return n.$$set=m=>{"name"in m&&t(4,l=m.name),"class"in m&&t(0,o=m.class),"$$scope"in m&&t(7,s=m.$$scope)},n.$$.update=()=>{n.$$.dirty&80&&t(2,c=X.toArray(X.getNestedVal(r,l)))},[o,f,c,a,l,u,r,s,i,d,h]}class Re extends We{constructor(e){super(),Ve(this,e,gE,_E,$e,{name:4,class:0,changed:5})}get changed(){return this.$$.ctx[5]}}function vE(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Email"),i=D(),s=y("input"),_(e,"for",r=n[9]),_(s,"type","email"),_(s,"autocomplete","off"),_(s,"id",a=n[9]),s.required=!0,s.autofocus=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0]),s.focus(),l||(o=ae(s,"input",n[5]),l=!0)},p(f,c){c&512&&r!==(r=f[9])&&_(e,"for",r),c&512&&a!==(a=f[9])&&_(s,"id",a),c&1&&s.value!==f[0]&&Ne(s,f[0])},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function bE(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("label"),t=q("Password"),i=D(),s=y("input"),l=D(),o=y("div"),o.textContent="Minimum 10 characters.",_(e,"for",r=n[9]),_(s,"type","password"),_(s,"autocomplete","new-password"),_(s,"minlength","10"),_(s,"id",a=n[9]),s.required=!0,_(o,"class","help-block")},m(u,d){E(u,e,d),b(e,t),E(u,i,d),E(u,s,d),Ne(s,n[1]),E(u,l,d),E(u,o,d),f||(c=ae(s,"input",n[6]),f=!0)},p(u,d){d&512&&r!==(r=u[9])&&_(e,"for",r),d&512&&a!==(a=u[9])&&_(s,"id",a),d&2&&s.value!==u[1]&&Ne(s,u[1])},d(u){u&&S(e),u&&S(i),u&&S(s),u&&S(l),u&&S(o),f=!1,c()}}}function wE(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Password confirm"),i=D(),s=y("input"),_(e,"for",r=n[9]),_(s,"type","password"),_(s,"minlength","10"),_(s,"id",a=n[9]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[2]),l||(o=ae(s,"input",n[7]),l=!0)},p(f,c){c&512&&r!==(r=f[9])&&_(e,"for",r),c&512&&a!==(a=f[9])&&_(s,"id",a),c&4&&s.value!==f[2]&&Ne(s,f[2])},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function kE(n){let e,t,r,i,s,a,l,o,f,c,u,d,h;return i=new Re({props:{class:"form-field required",name:"email",$$slots:{default:[vE,({uniqueId:m})=>({9:m}),({uniqueId:m})=>m?512:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field required",name:"password",$$slots:{default:[bE,({uniqueId:m})=>({9:m}),({uniqueId:m})=>m?512:0]},$$scope:{ctx:n}}}),o=new Re({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[wE,({uniqueId:m})=>({9:m}),({uniqueId:m})=>m?512:0]},$$scope:{ctx:n}}}),{c(){e=y("form"),t=y("div"),t.innerHTML="<h4>Create your first admin account in order to continue</h4>",r=D(),z(i.$$.fragment),s=D(),z(a.$$.fragment),l=D(),z(o.$$.fragment),f=D(),c=y("button"),c.innerHTML=`<span class="txt">Create and login</span> 
        <i class="ri-arrow-right-line"></i>`,_(t,"class","content txt-center m-b-base"),_(c,"type","submit"),_(c,"class","btn btn-lg btn-block btn-next"),pe(c,"btn-disabled",n[3]),pe(c,"btn-loading",n[3]),_(e,"class","block"),_(e,"autocomplete","off")},m(m,p){E(m,e,p),b(e,t),b(e,r),W(i,e,null),b(e,s),W(a,e,null),b(e,l),W(o,e,null),b(e,f),b(e,c),u=!0,d||(h=ae(e,"submit",Yt(n[4])),d=!0)},p(m,[p]){const g={};p&1537&&(g.$$scope={dirty:p,ctx:m}),i.$set(g);const v={};p&1538&&(v.$$scope={dirty:p,ctx:m}),a.$set(v);const w={};p&1540&&(w.$$scope={dirty:p,ctx:m}),o.$set(w),(!u||p&8)&&pe(c,"btn-disabled",m[3]),(!u||p&8)&&pe(c,"btn-loading",m[3])},i(m){u||(M(i.$$.fragment,m),M(a.$$.fragment,m),M(o.$$.fragment,m),u=!0)},o(m){L(i.$$.fragment,m),L(a.$$.fragment,m),L(o.$$.fragment,m),u=!1},d(m){m&&S(e),j(i),j(a),j(o),d=!1,h()}}}function yE(n,e,t){const r=Fn();let i="",s="",a="",l=!1;async function o(){if(!l){t(3,l=!0);try{await Ue.admins.create({email:i,password:s,passwordConfirm:a}),await Ue.admins.authWithPassword(i,s),r("submit")}catch(d){Ue.errorResponseHandler(d)}t(3,l=!1)}}function f(){i=this.value,t(0,i)}function c(){s=this.value,t(1,s)}function u(){a=this.value,t(2,a)}return[i,s,a,l,o,f,c,u]}class xE extends We{constructor(e){super(),Ve(this,e,yE,kE,$e,{})}}function Ap(n){let e,t;return e=new Vk({props:{$$slots:{default:[TE]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i&9&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function TE(n){let e,t;return e=new xE({}),e.$on("submit",n[1]),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p:ce,i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function SE(n){let e,t,r=n[0]&&Ap(n);return{c(){r&&r.c(),e=Ge()},m(i,s){r&&r.m(i,s),E(i,e,s),t=!0},p(i,[s]){i[0]?r?(r.p(i,s),s&1&&M(r,1)):(r=Ap(i),r.c(),M(r,1),r.m(e.parentNode,e)):r&&(Me(),L(r,1,1,()=>{r=null}),Ie())},i(i){t||(M(r),t=!0)},o(i){L(r),t=!1},d(i){r&&r.d(i),i&&S(e)}}}function EE(n,e,t){let r=!1;i();function i(){if(t(0,r=!1),new URLSearchParams(window.location.search).has("installer")){Ue.logout(!1),t(0,r=!0);return}Ue.authStore.isValid?Js("/collections"):Ue.logout()}return[r,async()=>{t(0,r=!1),await Pr(),window.location.search=""}]}class CE extends We{constructor(e){super(),Ve(this,e,EE,SE,$e,{})}}const En=Ai(""),pc=Ai(""),vl=Ai(!1);function AE(n){let e,t,r,i;return{c(){e=y("input"),_(e,"type","text"),_(e,"id",n[8]),_(e,"placeholder",t=n[0]||n[1])},m(s,a){E(s,e,a),n[13](e),Ne(e,n[7]),r||(i=ae(e,"input",n[14]),r=!0)},p(s,a){a&3&&t!==(t=s[0]||s[1])&&_(e,"placeholder",t),a&128&&e.value!==s[7]&&Ne(e,s[7])},i:ce,o:ce,d(s){s&&S(e),n[13](null),r=!1,i()}}}function FE(n){let e,t,r,i;function s(o){n[12](o)}var a=n[4];function l(o){let f={id:o[8],singleLine:!0,disableRequestKeys:!0,disableIndirectCollectionsKeys:!0,extraAutocompleteKeys:o[3],baseCollection:o[2],placeholder:o[0]||o[1]};return o[7]!==void 0&&(f.value=o[7]),{props:f}}return a&&(e=sr(a,l(n)),ve.push(()=>Le(e,"value",s)),e.$on("submit",n[10])),{c(){e&&z(e.$$.fragment),r=Ge()},m(o,f){e&&W(e,o,f),E(o,r,f),i=!0},p(o,f){const c={};if(f&8&&(c.extraAutocompleteKeys=o[3]),f&4&&(c.baseCollection=o[2]),f&3&&(c.placeholder=o[0]||o[1]),!t&&f&128&&(t=!0,c.value=o[7],He(()=>t=!1)),a!==(a=o[4])){if(e){Me();const u=e;L(u.$$.fragment,1,0,()=>{j(u,1)}),Ie()}a?(e=sr(a,l(o)),ve.push(()=>Le(e,"value",s)),e.$on("submit",o[10]),z(e.$$.fragment),M(e.$$.fragment,1),W(e,r.parentNode,r)):e=null}else a&&e.$set(c)},i(o){i||(e&&M(e.$$.fragment,o),i=!0)},o(o){e&&L(e.$$.fragment,o),i=!1},d(o){o&&S(r),e&&j(e,o)}}}function Fp(n){let e,t,r,i,s,a,l=n[7]!==n[0]&&Dp();return{c(){l&&l.c(),e=D(),t=y("button"),t.innerHTML='<span class="txt">Clear</span>',_(t,"type","button"),_(t,"class","btn btn-transparent btn-sm btn-hint p-l-xs p-r-xs m-l-10")},m(o,f){l&&l.m(o,f),E(o,e,f),E(o,t,f),i=!0,s||(a=ae(t,"click",n[15]),s=!0)},p(o,f){o[7]!==o[0]?l?f&129&&M(l,1):(l=Dp(),l.c(),M(l,1),l.m(e.parentNode,e)):l&&(Me(),L(l,1,1,()=>{l=null}),Ie())},i(o){i||(M(l),o&&Nt(()=>{r||(r=ut(t,Si,{duration:150,x:5},!0)),r.run(1)}),i=!0)},o(o){L(l),o&&(r||(r=ut(t,Si,{duration:150,x:5},!1)),r.run(0)),i=!1},d(o){l&&l.d(o),o&&S(e),o&&S(t),o&&r&&r.end(),s=!1,a()}}}function Dp(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Search</span>',_(e,"type","submit"),_(e,"class","btn btn-expanded btn-sm btn-warning")},m(i,s){E(i,e,s),r=!0},i(i){r||(i&&Nt(()=>{t||(t=ut(e,Si,{duration:150,x:5},!0)),t.run(1)}),r=!0)},o(i){i&&(t||(t=ut(e,Si,{duration:150,x:5},!1)),t.run(0)),r=!1},d(i){i&&S(e),i&&t&&t.end()}}}function DE(n){let e,t,r,i,s,a,l,o,f,c;const u=[FE,AE],d=[];function h(p,g){return p[4]&&!p[5]?0:1}s=h(n),a=d[s]=u[s](n);let m=(n[0].length||n[7].length)&&Fp(n);return{c(){e=y("form"),t=y("label"),r=y("i"),i=D(),a.c(),l=D(),m&&m.c(),_(r,"class","ri-search-line"),_(t,"for",n[8]),_(t,"class","m-l-10 txt-xl"),_(e,"class","searchbar")},m(p,g){E(p,e,g),b(e,t),b(t,r),b(e,i),d[s].m(e,null),b(e,l),m&&m.m(e,null),o=!0,f||(c=[ae(e,"click",ri(n[11])),ae(e,"submit",Yt(n[10]))],f=!0)},p(p,[g]){let v=s;s=h(p),s===v?d[s].p(p,g):(Me(),L(d[v],1,1,()=>{d[v]=null}),Ie(),a=d[s],a?a.p(p,g):(a=d[s]=u[s](p),a.c()),M(a,1),a.m(e,l)),p[0].length||p[7].length?m?(m.p(p,g),g&129&&M(m,1)):(m=Fp(p),m.c(),M(m,1),m.m(e,null)):m&&(Me(),L(m,1,1,()=>{m=null}),Ie())},i(p){o||(M(a),M(m),o=!0)},o(p){L(a),L(m),o=!1},d(p){p&&S(e),d[s].d(),m&&m.d(),f=!1,it(c)}}}function OE(n,e,t){const r=Fn(),i="search_"+X.randomString(7);let{value:s=""}=e,{placeholder:a='Search filter, ex. created > "2022-01-01"...'}=e,{autocompleteCollection:l=new zr}=e,{extraAutocompleteKeys:o=[]}=e,f,c=!1,u,d="";function h(A=!0){t(7,d=""),A&&(u==null||u.focus()),r("clear")}function m(){t(0,s=d),r("submit",s)}async function p(){f||c||(t(5,c=!0),t(4,f=(await jt(()=>import("./FilterAutocompleteInput-04c5e30a.js"),["./FilterAutocompleteInput-04c5e30a.js","./index-a6ccb683.js"],import.meta.url)).default),t(5,c=!1))}ur(()=>{p()});function g(A){mt.call(this,n,A)}function v(A){d=A,t(7,d),t(0,s)}function w(A){ve[A?"unshift":"push"](()=>{u=A,t(6,u)})}function k(){d=this.value,t(7,d),t(0,s)}const x=()=>{h(!1),m()};return n.$$set=A=>{"value"in A&&t(0,s=A.value),"placeholder"in A&&t(1,a=A.placeholder),"autocompleteCollection"in A&&t(2,l=A.autocompleteCollection),"extraAutocompleteKeys"in A&&t(3,o=A.extraAutocompleteKeys)},n.$$.update=()=>{n.$$.dirty&1&&typeof s=="string"&&t(7,d=s)},[s,a,l,o,f,c,u,d,i,h,m,g,v,w,k,x]}class Zc extends We{constructor(e){super(),Ve(this,e,OE,DE,$e,{value:0,placeholder:1,autocompleteCollection:2,extraAutocompleteKeys:3})}}let C0,oa;const A0="app-tooltip";function Op(n){return typeof n=="string"?{text:n,position:"bottom",hideOnClick:null}:n||{}}function Hs(){return oa=oa||document.querySelector("."+A0),oa||(oa=document.createElement("div"),oa.classList.add(A0),document.body.appendChild(oa)),oa}function Wk(n,e){let t=Hs();if(!t.classList.contains("active")||!(e!=null&&e.text)){F0();return}t.textContent=e.text,t.className=A0+" active",e.class&&t.classList.add(e.class),e.position&&t.classList.add(e.position),t.style.top="0px",t.style.left="0px";let r=t.offsetHeight,i=t.offsetWidth,s=n.getBoundingClientRect(),a=0,l=0,o=5;e.position=="left"?(a=s.top+s.height/2-r/2,l=s.left-i-o):e.position=="right"?(a=s.top+s.height/2-r/2,l=s.right+o):e.position=="top"?(a=s.top-r-o,l=s.left+s.width/2-i/2):e.position=="top-left"?(a=s.top-r-o,l=s.left):e.position=="top-right"?(a=s.top-r-o,l=s.right-i):e.position=="bottom-left"?(a=s.top+s.height+o,l=s.left):e.position=="bottom-right"?(a=s.top+s.height+o,l=s.right-i):(a=s.top+s.height+o,l=s.left+s.width/2-i/2),l+i>document.documentElement.clientWidth&&(l=document.documentElement.clientWidth-i),l=l>=0?l:0,a+r>document.documentElement.clientHeight&&(a=document.documentElement.clientHeight-r),a=a>=0?a:0,t.style.top=a+"px",t.style.left=l+"px"}function F0(){clearTimeout(C0),Hs().classList.remove("active"),Hs().activeNode=void 0}function ME(n,e){Hs().activeNode=n,clearTimeout(C0),C0=setTimeout(()=>{Hs().classList.add("active"),Wk(n,e)},isNaN(e.delay)?0:e.delay)}function xt(n,e){let t=Op(e);function r(){ME(n,t)}function i(){F0()}return n.addEventListener("mouseenter",r),n.addEventListener("mouseleave",i),n.addEventListener("blur",i),(t.hideOnClick===!0||t.hideOnClick===null&&X.isFocusable(n))&&n.addEventListener("click",i),Hs(),{update(s){var a,l;t=Op(s),(l=(a=Hs())==null?void 0:a.activeNode)!=null&&l.contains(n)&&Wk(n,t)},destroy(){var s,a;(a=(s=Hs())==null?void 0:s.activeNode)!=null&&a.contains(n)&&F0(),n.removeEventListener("mouseenter",r),n.removeEventListener("mouseleave",i),n.removeEventListener("blur",i),n.removeEventListener("click",i)}}}function IE(n){let e,t,r,i;return{c(){e=y("button"),e.innerHTML='<i class="ri-refresh-line svelte-1bvelc2"></i>',_(e,"type","button"),_(e,"aria-label","Refresh"),_(e,"class","btn btn-transparent btn-circle svelte-1bvelc2"),pe(e,"refreshing",n[1])},m(s,a){E(s,e,a),r||(i=[st(t=xt.call(null,e,n[0])),ae(e,"click",n[2])],r=!0)},p(s,[a]){t&&ar(t.update)&&a&1&&t.update.call(null,s[0]),a&2&&pe(e,"refreshing",s[1])},i:ce,o:ce,d(s){s&&S(e),r=!1,it(i)}}}function NE(n,e,t){const r=Fn();let{tooltip:i={text:"Refresh",position:"right"}}=e,s=null;function a(){r("refresh");const l=i;t(0,i=null),clearTimeout(s),t(1,s=setTimeout(()=>{t(1,s=null),t(0,i=l)},150))}return ur(()=>()=>clearTimeout(s)),n.$$set=l=>{"tooltip"in l&&t(0,i=l.tooltip)},[i,s,a]}class kd extends We{constructor(e){super(),Ve(this,e,NE,IE,$e,{tooltip:0})}}function PE(n){let e,t,r,i,s;const a=n[6].default,l=Hn(a,n,n[5],null);return{c(){e=y("th"),l&&l.c(),_(e,"tabindex","0"),_(e,"title",n[2]),_(e,"class",t="col-sort "+n[1]),pe(e,"col-sort-disabled",n[3]),pe(e,"sort-active",n[0]==="-"+n[2]||n[0]==="+"+n[2]),pe(e,"sort-desc",n[0]==="-"+n[2]),pe(e,"sort-asc",n[0]==="+"+n[2])},m(o,f){E(o,e,f),l&&l.m(e,null),r=!0,i||(s=[ae(e,"click",n[7]),ae(e,"keydown",n[8])],i=!0)},p(o,[f]){l&&l.p&&(!r||f&32)&&Wn(l,a,o,o[5],r?Vn(a,o[5],f,null):jn(o[5]),null),(!r||f&4)&&_(e,"title",o[2]),(!r||f&2&&t!==(t="col-sort "+o[1]))&&_(e,"class",t),(!r||f&10)&&pe(e,"col-sort-disabled",o[3]),(!r||f&7)&&pe(e,"sort-active",o[0]==="-"+o[2]||o[0]==="+"+o[2]),(!r||f&7)&&pe(e,"sort-desc",o[0]==="-"+o[2]),(!r||f&7)&&pe(e,"sort-asc",o[0]==="+"+o[2])},i(o){r||(M(l,o),r=!0)},o(o){L(l,o),r=!1},d(o){o&&S(e),l&&l.d(o),i=!1,it(s)}}}function LE(n,e,t){let{$$slots:r={},$$scope:i}=e,{class:s=""}=e,{name:a}=e,{sort:l=""}=e,{disable:o=!1}=e;function f(){o||("-"+a===l?t(0,l="+"+a):t(0,l="-"+a))}const c=()=>f(),u=d=>{(d.code==="Enter"||d.code==="Space")&&(d.preventDefault(),f())};return n.$$set=d=>{"class"in d&&t(1,s=d.class),"name"in d&&t(2,a=d.name),"sort"in d&&t(0,l=d.sort),"disable"in d&&t(3,o=d.disable),"$$scope"in d&&t(5,i=d.$$scope)},[l,s,a,o,f,i,r,c,u]}class gr extends We{constructor(e){super(),Ve(this,e,LE,PE,$e,{class:1,name:2,sort:0,disable:3})}}function RE(n){let e;return{c(){e=y("span"),e.textContent="N/A",_(e,"class","txt txt-hint")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function $E(n){let e,t,r,i,s,a,l;return{c(){e=y("div"),t=y("div"),r=q(n[2]),i=D(),s=y("div"),a=q(n[1]),l=q(" UTC"),_(t,"class","date"),_(s,"class","time svelte-zdiknu"),_(e,"class","datetime svelte-zdiknu")},m(o,f){E(o,e,f),b(e,t),b(t,r),b(e,i),b(e,s),b(s,a),b(s,l)},p(o,f){f&4&&ke(r,o[2]),f&2&&ke(a,o[1])},d(o){o&&S(e)}}}function BE(n){let e;function t(s,a){return s[0]?$E:RE}let r=t(n),i=r(n);return{c(){i.c(),e=Ge()},m(s,a){i.m(s,a),E(s,e,a)},p(s,[a]){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:ce,o:ce,d(s){i.d(s),s&&S(e)}}}function UE(n,e,t){let r,i,{date:s=""}=e;return n.$$set=a=>{"date"in a&&t(0,s=a.date)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=s?s.substring(0,10):null),n.$$.dirty&1&&t(1,i=s?s.substring(10,19):null)},[s,i,r]}class ys extends We{constructor(e){super(),Ve(this,e,UE,BE,$e,{date:0})}}const HE=n=>({}),Mp=n=>({}),VE=n=>({}),Ip=n=>({});function WE(n){let e,t,r,i,s,a,l,o;const f=n[5].before,c=Hn(f,n,n[4],Ip),u=n[5].default,d=Hn(u,n,n[4],null),h=n[5].after,m=Hn(h,n,n[4],Mp);return{c(){e=y("div"),c&&c.c(),t=D(),r=y("div"),d&&d.c(),s=D(),m&&m.c(),_(r,"class",i="horizontal-scroller "+n[0]+" "+n[3]+" svelte-wc2j9h"),_(e,"class","horizontal-scroller-wrapper svelte-wc2j9h")},m(p,g){E(p,e,g),c&&c.m(e,null),b(e,t),b(e,r),d&&d.m(r,null),n[6](r),b(e,s),m&&m.m(e,null),a=!0,l||(o=[ae(window,"resize",n[1]),ae(r,"scroll",n[1])],l=!0)},p(p,[g]){c&&c.p&&(!a||g&16)&&Wn(c,f,p,p[4],a?Vn(f,p[4],g,VE):jn(p[4]),Ip),d&&d.p&&(!a||g&16)&&Wn(d,u,p,p[4],a?Vn(u,p[4],g,null):jn(p[4]),null),(!a||g&9&&i!==(i="horizontal-scroller "+p[0]+" "+p[3]+" svelte-wc2j9h"))&&_(r,"class",i),m&&m.p&&(!a||g&16)&&Wn(m,h,p,p[4],a?Vn(h,p[4],g,HE):jn(p[4]),Mp)},i(p){a||(M(c,p),M(d,p),M(m,p),a=!0)},o(p){L(c,p),L(d,p),L(m,p),a=!1},d(p){p&&S(e),c&&c.d(p),d&&d.d(p),n[6](null),m&&m.d(p),l=!1,it(o)}}}function jE(n,e,t){let{$$slots:r={},$$scope:i}=e,{class:s=""}=e,a=null,l="",o=null,f;function c(){a&&(clearTimeout(o),o=setTimeout(()=>{const d=a.offsetWidth,h=a.scrollWidth;h-d?(t(3,l="scrollable"),a.scrollLeft===0?t(3,l+=" scroll-start"):a.scrollLeft+d==h&&t(3,l+=" scroll-end")):t(3,l="")},100))}ur(()=>(c(),f=new MutationObserver(()=>{c()}),f.observe(a,{attributeFilter:["width"],childList:!0,subtree:!0}),()=>{f==null||f.disconnect(),clearTimeout(o)}));function u(d){ve[d?"unshift":"push"](()=>{a=d,t(2,a)})}return n.$$set=d=>{"class"in d&&t(0,s=d.class),"$$scope"in d&&t(4,i=d.$$scope)},[s,c,a,l,i,r,u]}class yd extends We{constructor(e){super(),Ve(this,e,jE,WE,$e,{class:0,refresh:1})}get refresh(){return this.$$.ctx[1]}}function Np(n,e,t){const r=n.slice();return r[23]=e[t],r}function zE(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="ri-global-line"></i> 
                        <span class="txt">method</span>`,_(e,"class","col-header-content")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function qE(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="url",_(t,"class",X.getFieldTypeIcon("url")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function YE(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="referer",_(t,"class",X.getFieldTypeIcon("url")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function GE(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="User IP",_(t,"class",X.getFieldTypeIcon("number")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function XE(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="status",_(t,"class",X.getFieldTypeIcon("number")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function KE(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="created",_(t,"class",X.getFieldTypeIcon("date")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function Pp(n){let e;function t(s,a){return s[6]?ZE:JE}let r=t(n),i=r(n);return{c(){i.c(),e=Ge()},m(s,a){i.m(s,a),E(s,e,a)},p(s,a){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&S(e)}}}function JE(n){var l;let e,t,r,i,s,a=((l=n[0])==null?void 0:l.length)&&Lp(n);return{c(){e=y("tr"),t=y("td"),r=y("h6"),r.textContent="No logs found.",i=D(),a&&a.c(),s=D(),_(t,"colspan","99"),_(t,"class","txt-center txt-hint p-xs")},m(o,f){E(o,e,f),b(e,t),b(t,r),b(t,i),a&&a.m(t,null),b(e,s)},p(o,f){var c;(c=o[0])!=null&&c.length?a?a.p(o,f):(a=Lp(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&S(e),a&&a.d()}}}function ZE(n){let e;return{c(){e=y("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                    `},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function Lp(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear filters</span>',_(e,"type","button"),_(e,"class","btn btn-hint btn-expanded m-t-sm")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[19]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function Rp(n){let e;return{c(){e=y("i"),_(e,"class","ri-error-warning-line txt-danger m-l-5 m-r-5"),_(e,"title","Error")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function $p(n,e){var we,Fe,Oe;let t,r,i,s=((we=e[23].method)==null?void 0:we.toUpperCase())+"",a,l,o,f,c,u=e[23].url+"",d,h,m,p,g,v,w=(e[23].referer||"N/A")+"",k,x,A,T,C,F=(e[23].userIp||"N/A")+"",O,I,N,P,R,Y=e[23].status+"",ne,V,se,ue,U,be,fe,B,K,G,J=(((Fe=e[23].meta)==null?void 0:Fe.errorMessage)||((Oe=e[23].meta)==null?void 0:Oe.errorData))&&Rp();ue=new ys({props:{date:e[23].created}});function de(){return e[17](e[23])}function me(...ye){return e[18](e[23],...ye)}return{key:n,first:null,c(){t=y("tr"),r=y("td"),i=y("span"),a=q(s),o=D(),f=y("td"),c=y("span"),d=q(u),m=D(),J&&J.c(),p=D(),g=y("td"),v=y("span"),k=q(w),A=D(),T=y("td"),C=y("span"),O=q(F),N=D(),P=y("td"),R=y("span"),ne=q(Y),V=D(),se=y("td"),z(ue.$$.fragment),U=D(),be=y("td"),be.innerHTML='<i class="ri-arrow-right-line"></i>',fe=D(),_(i,"class",l="label txt-uppercase "+e[9][e[23].method.toLowerCase()]),_(r,"class","col-type-text col-field-method min-width"),_(c,"class","txt txt-ellipsis"),_(c,"title",h=e[23].url),_(f,"class","col-type-text col-field-url"),_(v,"class","txt txt-ellipsis"),_(v,"title",x=e[23].referer),pe(v,"txt-hint",!e[23].referer),_(g,"class","col-type-text col-field-referer"),_(C,"class","txt txt-ellipsis"),_(C,"title",I=e[23].userIp),pe(C,"txt-hint",!e[23].userIp),_(T,"class","col-type-number col-field-userIp"),_(R,"class","label"),pe(R,"label-danger",e[23].status>=400),_(P,"class","col-type-number col-field-status"),_(se,"class","col-type-date col-field-created"),_(be,"class","col-type-action min-width"),_(t,"tabindex","0"),_(t,"class","row-handle"),this.first=t},m(ye,te){E(ye,t,te),b(t,r),b(r,i),b(i,a),b(t,o),b(t,f),b(f,c),b(c,d),b(f,m),J&&J.m(f,null),b(t,p),b(t,g),b(g,v),b(v,k),b(t,A),b(t,T),b(T,C),b(C,O),b(t,N),b(t,P),b(P,R),b(R,ne),b(t,V),b(t,se),W(ue,se,null),b(t,U),b(t,be),b(t,fe),B=!0,K||(G=[ae(t,"click",de),ae(t,"keydown",me)],K=!0)},p(ye,te){var qe,ot,ct;e=ye,(!B||te&8)&&s!==(s=((qe=e[23].method)==null?void 0:qe.toUpperCase())+"")&&ke(a,s),(!B||te&8&&l!==(l="label txt-uppercase "+e[9][e[23].method.toLowerCase()]))&&_(i,"class",l),(!B||te&8)&&u!==(u=e[23].url+"")&&ke(d,u),(!B||te&8&&h!==(h=e[23].url))&&_(c,"title",h),(ot=e[23].meta)!=null&&ot.errorMessage||(ct=e[23].meta)!=null&&ct.errorData?J||(J=Rp(),J.c(),J.m(f,null)):J&&(J.d(1),J=null),(!B||te&8)&&w!==(w=(e[23].referer||"N/A")+"")&&ke(k,w),(!B||te&8&&x!==(x=e[23].referer))&&_(v,"title",x),(!B||te&8)&&pe(v,"txt-hint",!e[23].referer),(!B||te&8)&&F!==(F=(e[23].userIp||"N/A")+"")&&ke(O,F),(!B||te&8&&I!==(I=e[23].userIp))&&_(C,"title",I),(!B||te&8)&&pe(C,"txt-hint",!e[23].userIp),(!B||te&8)&&Y!==(Y=e[23].status+"")&&ke(ne,Y),(!B||te&8)&&pe(R,"label-danger",e[23].status>=400);const he={};te&8&&(he.date=e[23].created),ue.$set(he)},i(ye){B||(M(ue.$$.fragment,ye),B=!0)},o(ye){L(ue.$$.fragment,ye),B=!1},d(ye){ye&&S(t),J&&J.d(),j(ue),K=!1,it(G)}}}function QE(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T,C,F,O=[],I=new Map,N;function P(me){n[11](me)}let R={disable:!0,class:"col-field-method",name:"method",$$slots:{default:[zE]},$$scope:{ctx:n}};n[1]!==void 0&&(R.sort=n[1]),i=new gr({props:R}),ve.push(()=>Le(i,"sort",P));function Y(me){n[12](me)}let ne={disable:!0,class:"col-type-text col-field-url",name:"url",$$slots:{default:[qE]},$$scope:{ctx:n}};n[1]!==void 0&&(ne.sort=n[1]),l=new gr({props:ne}),ve.push(()=>Le(l,"sort",Y));function V(me){n[13](me)}let se={disable:!0,class:"col-type-text col-field-referer",name:"referer",$$slots:{default:[YE]},$$scope:{ctx:n}};n[1]!==void 0&&(se.sort=n[1]),c=new gr({props:se}),ve.push(()=>Le(c,"sort",V));function ue(me){n[14](me)}let U={disable:!0,class:"col-type-number col-field-userIp",name:"userIp",$$slots:{default:[GE]},$$scope:{ctx:n}};n[1]!==void 0&&(U.sort=n[1]),h=new gr({props:U}),ve.push(()=>Le(h,"sort",ue));function be(me){n[15](me)}let fe={disable:!0,class:"col-type-number col-field-status",name:"status",$$slots:{default:[XE]},$$scope:{ctx:n}};n[1]!==void 0&&(fe.sort=n[1]),g=new gr({props:fe}),ve.push(()=>Le(g,"sort",be));function B(me){n[16](me)}let K={disable:!0,class:"col-type-date col-field-created",name:"created",$$slots:{default:[KE]},$$scope:{ctx:n}};n[1]!==void 0&&(K.sort=n[1]),k=new gr({props:K}),ve.push(()=>Le(k,"sort",B));let G=n[3];const J=me=>me[23].id;for(let me=0;me<G.length;me+=1){let we=Np(n,G,me),Fe=J(we);I.set(Fe,O[me]=$p(Fe,we))}let de=null;return G.length||(de=Pp(n)),{c(){e=y("table"),t=y("thead"),r=y("tr"),z(i.$$.fragment),a=D(),z(l.$$.fragment),f=D(),z(c.$$.fragment),d=D(),z(h.$$.fragment),p=D(),z(g.$$.fragment),w=D(),z(k.$$.fragment),A=D(),T=y("th"),C=D(),F=y("tbody");for(let me=0;me<O.length;me+=1)O[me].c();de&&de.c(),_(T,"class","col-type-action min-width"),_(e,"class","table"),pe(e,"table-loading",n[6])},m(me,we){E(me,e,we),b(e,t),b(t,r),W(i,r,null),b(r,a),W(l,r,null),b(r,f),W(c,r,null),b(r,d),W(h,r,null),b(r,p),W(g,r,null),b(r,w),W(k,r,null),b(r,A),b(r,T),b(e,C),b(e,F);for(let Fe=0;Fe<O.length;Fe+=1)O[Fe].m(F,null);de&&de.m(F,null),N=!0},p(me,we){const Fe={};we&67108864&&(Fe.$$scope={dirty:we,ctx:me}),!s&&we&2&&(s=!0,Fe.sort=me[1],He(()=>s=!1)),i.$set(Fe);const Oe={};we&67108864&&(Oe.$$scope={dirty:we,ctx:me}),!o&&we&2&&(o=!0,Oe.sort=me[1],He(()=>o=!1)),l.$set(Oe);const ye={};we&67108864&&(ye.$$scope={dirty:we,ctx:me}),!u&&we&2&&(u=!0,ye.sort=me[1],He(()=>u=!1)),c.$set(ye);const te={};we&67108864&&(te.$$scope={dirty:we,ctx:me}),!m&&we&2&&(m=!0,te.sort=me[1],He(()=>m=!1)),h.$set(te);const he={};we&67108864&&(he.$$scope={dirty:we,ctx:me}),!v&&we&2&&(v=!0,he.sort=me[1],He(()=>v=!1)),g.$set(he);const qe={};we&67108864&&(qe.$$scope={dirty:we,ctx:me}),!x&&we&2&&(x=!0,qe.sort=me[1],He(()=>x=!1)),k.$set(qe),we&841&&(G=me[3],Me(),O=sn(O,we,J,1,me,G,I,F,Tr,$p,null,Np),Ie(),!G.length&&de?de.p(me,we):G.length?de&&(de.d(1),de=null):(de=Pp(me),de.c(),de.m(F,null))),(!N||we&64)&&pe(e,"table-loading",me[6])},i(me){if(!N){M(i.$$.fragment,me),M(l.$$.fragment,me),M(c.$$.fragment,me),M(h.$$.fragment,me),M(g.$$.fragment,me),M(k.$$.fragment,me);for(let we=0;we<G.length;we+=1)M(O[we]);N=!0}},o(me){L(i.$$.fragment,me),L(l.$$.fragment,me),L(c.$$.fragment,me),L(h.$$.fragment,me),L(g.$$.fragment,me),L(k.$$.fragment,me);for(let we=0;we<O.length;we+=1)L(O[we]);N=!1},d(me){me&&S(e),j(i),j(l),j(c),j(h),j(g),j(k);for(let we=0;we<O.length;we+=1)O[we].d();de&&de.d()}}}function Bp(n){let e,t,r=n[3].length+"",i,s,a;return{c(){e=y("small"),t=q("Showing "),i=q(r),s=q(" of "),a=q(n[4]),_(e,"class","block txt-hint txt-right m-t-sm")},m(l,o){E(l,e,o),b(e,t),b(e,i),b(e,s),b(e,a)},p(l,o){o&8&&r!==(r=l[3].length+"")&&ke(i,r),o&16&&ke(a,l[4])},d(l){l&&S(e)}}}function Up(n){let e,t,r,i,s=n[4]-n[3].length+"",a,l,o,f;return{c(){e=y("div"),t=y("button"),r=y("span"),i=q("Load more ("),a=q(s),l=q(")"),_(r,"class","txt"),_(t,"type","button"),_(t,"class","btn btn-lg btn-secondary btn-expanded"),pe(t,"btn-loading",n[6]),pe(t,"btn-disabled",n[6]),_(e,"class","block txt-center m-t-xs")},m(c,u){E(c,e,u),b(e,t),b(t,r),b(r,i),b(r,a),b(r,l),o||(f=ae(t,"click",n[20]),o=!0)},p(c,u){u&24&&s!==(s=c[4]-c[3].length+"")&&ke(a,s),u&64&&pe(t,"btn-loading",c[6]),u&64&&pe(t,"btn-disabled",c[6])},d(c){c&&S(e),o=!1,f()}}}function eC(n){let e,t,r,i,s;e=new yd({props:{class:"table-wrapper",$$slots:{default:[QE]},$$scope:{ctx:n}}});let a=n[3].length&&Bp(n),l=n[3].length&&n[7]&&Up(n);return{c(){z(e.$$.fragment),t=D(),a&&a.c(),r=D(),l&&l.c(),i=Ge()},m(o,f){W(e,o,f),E(o,t,f),a&&a.m(o,f),E(o,r,f),l&&l.m(o,f),E(o,i,f),s=!0},p(o,[f]){const c={};f&67108939&&(c.$$scope={dirty:f,ctx:o}),e.$set(c),o[3].length?a?a.p(o,f):(a=Bp(o),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null),o[3].length&&o[7]?l?l.p(o,f):(l=Up(o),l.c(),l.m(i.parentNode,i)):l&&(l.d(1),l=null)},i(o){s||(M(e.$$.fragment,o),s=!0)},o(o){L(e.$$.fragment,o),s=!1},d(o){j(e,o),o&&S(t),a&&a.d(o),o&&S(r),l&&l.d(o),o&&S(i)}}}function tC(n,e,t){let r;const i=Fn(),s={get:"label-info",post:"label-success",patch:"label-warning",delete:"label-danger"};let{filter:a=""}=e,{presets:l=""}=e,{sort:o="-rowid"}=e,f=[],c=1,u=0,d=!1,h=0;async function m(I=1,N=!0){return t(6,d=!0),Ue.logs.getRequestsList(I,30,{sort:o,filter:[l,a].filter(Boolean).join("&&")}).then(async P=>{if(I<=1&&p(),t(6,d=!1),t(5,c=P.page),t(4,u=P.totalItems),i("load",f.concat(P.items)),N){const R=++h;for(;P.items.length&&h==R;)t(3,f=f.concat(P.items.splice(0,10))),await X.yieldToMain()}else t(3,f=f.concat(P.items))}).catch(P=>{P!=null&&P.isAbort||(t(6,d=!1),console.warn(P),p(),Ue.errorResponseHandler(P,!1))})}function p(){t(3,f=[]),t(5,c=1),t(4,u=0)}function g(I){o=I,t(1,o)}function v(I){o=I,t(1,o)}function w(I){o=I,t(1,o)}function k(I){o=I,t(1,o)}function x(I){o=I,t(1,o)}function A(I){o=I,t(1,o)}const T=I=>i("select",I),C=(I,N)=>{N.code==="Enter"&&(N.preventDefault(),i("select",I))},F=()=>t(0,a=""),O=()=>m(c+1);return n.$$set=I=>{"filter"in I&&t(0,a=I.filter),"presets"in I&&t(10,l=I.presets),"sort"in I&&t(1,o=I.sort)},n.$$.update=()=>{n.$$.dirty&1027&&(typeof o<"u"||typeof a<"u"||typeof l<"u")&&(p(),m(1)),n.$$.dirty&24&&t(7,r=u>f.length)},[a,o,m,f,u,c,d,r,i,s,l,g,v,w,k,x,A,T,C,F,O]}class nC extends We{constructor(e){super(),Ve(this,e,tC,eC,$e,{filter:0,presets:10,sort:1,load:2})}get load(){return this.$$.ctx[2]}}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */function us(){}const rC=function(){let n=0;return function(){return n++}}();function qt(n){return n===null||typeof n>"u"}function fn(n){if(Array.isArray&&Array.isArray(n))return!0;const e=Object.prototype.toString.call(n);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Ot(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}const On=n=>(typeof n=="number"||n instanceof Number)&&isFinite(+n);function pi(n,e){return On(n)?n:e}function Rt(n,e){return typeof n>"u"?e:n}const iC=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:n/e,jk=(n,e)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*e:+n;function wn(n,e,t){if(n&&typeof n.call=="function")return n.apply(t,e)}function Jt(n,e,t,r){let i,s,a;if(fn(n))if(s=n.length,r)for(i=s-1;i>=0;i--)e.call(t,n[i],i);else for(i=0;i<s;i++)e.call(t,n[i],i);else if(Ot(n))for(a=Object.keys(n),s=a.length,i=0;i<s;i++)e.call(t,n[a[i]],a[i])}function mc(n,e){let t,r,i,s;if(!n||!e||n.length!==e.length)return!1;for(t=0,r=n.length;t<r;++t)if(i=n[t],s=e[t],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function _c(n){if(fn(n))return n.map(_c);if(Ot(n)){const e=Object.create(null),t=Object.keys(n),r=t.length;let i=0;for(;i<r;++i)e[t[i]]=_c(n[t[i]]);return e}return n}function zk(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function sC(n,e,t,r){if(!zk(n))return;const i=e[n],s=t[n];Ot(i)&&Ot(s)?Ao(i,s,r):e[n]=_c(s)}function Ao(n,e,t){const r=fn(e)?e:[e],i=r.length;if(!Ot(n))return n;t=t||{};const s=t.merger||sC;for(let a=0;a<i;++a){if(e=r[a],!Ot(e))continue;const l=Object.keys(e);for(let o=0,f=l.length;o<f;++o)s(l[o],n,e,t)}return n}function oo(n,e){return Ao(n,e,{merger:aC})}function aC(n,e,t){if(!zk(n))return;const r=e[n],i=t[n];Ot(r)&&Ot(i)?oo(r,i):Object.prototype.hasOwnProperty.call(e,n)||(e[n]=_c(i))}const Hp={"":n=>n,x:n=>n.x,y:n=>n.y};function js(n,e){return(Hp[e]||(Hp[e]=lC(e)))(n)}function lC(n){const e=oC(n);return t=>{for(const r of e){if(r==="")break;t=t&&t[r]}return t}}function oC(n){const e=n.split("."),t=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(t.push(r),r="");return t}function xd(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Ei=n=>typeof n<"u",zs=n=>typeof n=="function",Vp=(n,e)=>{if(n.size!==e.size)return!1;for(const t of n)if(!e.has(t))return!1;return!0};function fC(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Cn=Math.PI,en=2*Cn,cC=en+Cn,gc=Number.POSITIVE_INFINITY,uC=Cn/180,yn=Cn/2,zl=Cn/4,Wp=Cn*2/3,wi=Math.log10,Qi=Math.sign;function jp(n){const e=Math.round(n);n=fo(n,e,n/1e3)?e:n;const t=Math.pow(10,Math.floor(wi(n))),r=n/t;return(r<=1?1:r<=2?2:r<=5?5:10)*t}function dC(n){const e=[],t=Math.sqrt(n);let r;for(r=1;r<t;r++)n%r===0&&(e.push(r),e.push(n/r));return t===(t|0)&&e.push(t),e.sort((i,s)=>i-s).pop(),e}function bl(n){return!isNaN(parseFloat(n))&&isFinite(n)}function fo(n,e,t){return Math.abs(n-e)<t}function hC(n,e){const t=Math.round(n);return t-e<=n&&t+e>=n}function qk(n,e,t){let r,i,s;for(r=0,i=n.length;r<i;r++)s=n[r][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Li(n){return n*(Cn/180)}function Td(n){return n*(180/Cn)}function zp(n){if(!On(n))return;let e=1,t=0;for(;Math.round(n*e)/e!==n;)e*=10,t++;return t}function Yk(n,e){const t=e.x-n.x,r=e.y-n.y,i=Math.sqrt(t*t+r*r);let s=Math.atan2(r,t);return s<-.5*Cn&&(s+=en),{angle:s,distance:i}}function D0(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function pC(n,e){return(n-e+cC)%en-Cn}function Kr(n){return(n%en+en)%en}function Fo(n,e,t,r){const i=Kr(n),s=Kr(e),a=Kr(t),l=Kr(s-i),o=Kr(a-i),f=Kr(i-s),c=Kr(i-a);return i===s||i===a||r&&s===a||l>o&&f<c}function wr(n,e,t){return Math.max(e,Math.min(t,n))}function mC(n){return wr(n,-32768,32767)}function Do(n,e,t,r=1e-6){return n>=Math.min(e,t)-r&&n<=Math.max(e,t)+r}function Sd(n,e,t){t=t||(a=>n[a]<e);let r=n.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,t(s)?i=s:r=s;return{lo:i,hi:r}}const ga=(n,e,t,r)=>Sd(n,t,r?i=>n[i][e]<=t:i=>n[i][e]<t),_C=(n,e,t)=>Sd(n,t,r=>n[r][e]>=t);function gC(n,e,t){let r=0,i=n.length;for(;r<i&&n[r]<e;)r++;for(;i>r&&n[i-1]>t;)i--;return r>0||i<n.length?n.slice(r,i):n}const Gk=["push","pop","shift","splice","unshift"];function vC(n,e){if(n._chartjs){n._chartjs.listeners.push(e);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Gk.forEach(t=>{const r="_onData"+xd(t),i=n[t];Object.defineProperty(n,t,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return n._chartjs.listeners.forEach(l=>{typeof l[r]=="function"&&l[r](...s)}),a}})})}function qp(n,e){const t=n._chartjs;if(!t)return;const r=t.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(Gk.forEach(s=>{delete n[s]}),delete n._chartjs)}function Xk(n){const e=new Set;let t,r;for(t=0,r=n.length;t<r;++t)e.add(n[t]);return e.size===r?n:Array.from(e)}const Kk=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function Jk(n,e,t){const r=t||(a=>Array.prototype.slice.call(a));let i=!1,s=[];return function(...a){s=r(a),i||(i=!0,Kk.call(window,()=>{i=!1,n.apply(e,s)}))}}function bC(n,e){let t;return function(...r){return e?(clearTimeout(t),t=setTimeout(n,e,r)):n.apply(this,r),e}}const wC=n=>n==="start"?"left":n==="end"?"right":"center",Yp=(n,e,t)=>n==="start"?e:n==="end"?t:(e+t)/2;function Zk(n,e,t){const r=e.length;let i=0,s=r;if(n._sorted){const{iScale:a,_parsed:l}=n,o=a.axis,{min:f,max:c,minDefined:u,maxDefined:d}=a.getUserBounds();u&&(i=wr(Math.min(ga(l,a.axis,f).lo,t?r:ga(e,o,a.getPixelForValue(f)).lo),0,r-1)),d?s=wr(Math.max(ga(l,a.axis,c,!0).hi+1,t?0:ga(e,o,a.getPixelForValue(c),!0).hi+1),i,r)-i:s=r-i}return{start:i,count:s}}function Qk(n){const{xScale:e,yScale:t,_scaleRanges:r}=n,i={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!r)return n._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==t.min||r.ymax!==t.max;return Object.assign(r,i),s}const Cf=n=>n===0||n===1,Gp=(n,e,t)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-e)*en/t)),Xp=(n,e,t)=>Math.pow(2,-10*n)*Math.sin((n-e)*en/t)+1,co={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*yn)+1,easeOutSine:n=>Math.sin(n*yn),easeInOutSine:n=>-.5*(Math.cos(Cn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Cf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Cf(n)?n:Gp(n,.075,.3),easeOutElastic:n=>Cf(n)?n:Xp(n,.075,.3),easeInOutElastic(n){return Cf(n)?n:n<.5?.5*Gp(n*2,.1125,.45):.5+.5*Xp(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let e=1.70158;return(n/=.5)<1?.5*(n*n*(((e*=1.525)+1)*n-e)):.5*((n-=2)*n*(((e*=1.525)+1)*n+e)+2)},easeInBounce:n=>1-co.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?co.easeInBounce(n*2)*.5:co.easeOutBounce(n*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function sf(n){return n+.5|0}const Ns=(n,e,t)=>Math.max(Math.min(n,t),e);function to(n){return Ns(sf(n*2.55),0,255)}function Vs(n){return Ns(sf(n*255),0,255)}function ps(n){return Ns(sf(n/2.55)/100,0,1)}function Kp(n){return Ns(sf(n*100),0,100)}const fi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},O0=[..."0123456789ABCDEF"],kC=n=>O0[n&15],yC=n=>O0[(n&240)>>4]+O0[n&15],Af=n=>(n&240)>>4===(n&15),xC=n=>Af(n.r)&&Af(n.g)&&Af(n.b)&&Af(n.a);function TC(n){var e=n.length,t;return n[0]==="#"&&(e===4||e===5?t={r:255&fi[n[1]]*17,g:255&fi[n[2]]*17,b:255&fi[n[3]]*17,a:e===5?fi[n[4]]*17:255}:(e===7||e===9)&&(t={r:fi[n[1]]<<4|fi[n[2]],g:fi[n[3]]<<4|fi[n[4]],b:fi[n[5]]<<4|fi[n[6]],a:e===9?fi[n[7]]<<4|fi[n[8]]:255})),t}const SC=(n,e)=>n<255?e(n):"";function EC(n){var e=xC(n)?kC:yC;return n?"#"+e(n.r)+e(n.g)+e(n.b)+SC(n.a,e):void 0}const CC=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ey(n,e,t){const r=e*Math.min(t,1-t),i=(s,a=(s+n/30)%12)=>t-r*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function AC(n,e,t){const r=(i,s=(i+n/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function FC(n,e,t){const r=ey(n,1,.5);let i;for(e+t>1&&(i=1/(e+t),e*=i,t*=i),i=0;i<3;i++)r[i]*=1-e-t,r[i]+=e;return r}function DC(n,e,t,r,i){return n===i?(e-t)/r+(e<t?6:0):e===i?(t-n)/r+2:(n-e)/r+4}function Ed(n){const t=n.r/255,r=n.g/255,i=n.b/255,s=Math.max(t,r,i),a=Math.min(t,r,i),l=(s+a)/2;let o,f,c;return s!==a&&(c=s-a,f=l>.5?c/(2-s-a):c/(s+a),o=DC(t,r,i,c,s),o=o*60+.5),[o|0,f||0,l]}function Cd(n,e,t,r){return(Array.isArray(e)?n(e[0],e[1],e[2]):n(e,t,r)).map(Vs)}function Ad(n,e,t){return Cd(ey,n,e,t)}function OC(n,e,t){return Cd(FC,n,e,t)}function MC(n,e,t){return Cd(AC,n,e,t)}function ty(n){return(n%360+360)%360}function IC(n){const e=CC.exec(n);let t=255,r;if(!e)return;e[5]!==r&&(t=e[6]?to(+e[5]):Vs(+e[5]));const i=ty(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?r=OC(i,s,a):e[1]==="hsv"?r=MC(i,s,a):r=Ad(i,s,a),{r:r[0],g:r[1],b:r[2],a:t}}function NC(n,e){var t=Ed(n);t[0]=ty(t[0]+e),t=Ad(t),n.r=t[0],n.g=t[1],n.b=t[2]}function PC(n){if(!n)return;const e=Ed(n),t=e[0],r=Kp(e[1]),i=Kp(e[2]);return n.a<255?`hsla(${t}, ${r}%, ${i}%, ${ps(n.a)})`:`hsl(${t}, ${r}%, ${i}%)`}const Jp={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Zp={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function LC(){const n={},e=Object.keys(Zp),t=Object.keys(Jp);let r,i,s,a,l;for(r=0;r<e.length;r++){for(a=l=e[r],i=0;i<t.length;i++)s=t[i],l=l.replace(s,Jp[s]);s=parseInt(Zp[a],16),n[l]=[s>>16&255,s>>8&255,s&255]}return n}let Ff;function RC(n){Ff||(Ff=LC(),Ff.transparent=[0,0,0,0]);const e=Ff[n.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const $C=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function BC(n){const e=$C.exec(n);let t=255,r,i,s;if(e){if(e[7]!==r){const a=+e[7];t=e[8]?to(a):Ns(a*255,0,255)}return r=+e[1],i=+e[3],s=+e[5],r=255&(e[2]?to(r):Ns(r,0,255)),i=255&(e[4]?to(i):Ns(i,0,255)),s=255&(e[6]?to(s):Ns(s,0,255)),{r,g:i,b:s,a:t}}}function UC(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ps(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Au=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Xa=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function HC(n,e,t){const r=Xa(ps(n.r)),i=Xa(ps(n.g)),s=Xa(ps(n.b));return{r:Vs(Au(r+t*(Xa(ps(e.r))-r))),g:Vs(Au(i+t*(Xa(ps(e.g))-i))),b:Vs(Au(s+t*(Xa(ps(e.b))-s))),a:n.a+t*(e.a-n.a)}}function Df(n,e,t){if(n){let r=Ed(n);r[e]=Math.max(0,Math.min(r[e]+r[e]*t,e===0?360:1)),r=Ad(r),n.r=r[0],n.g=r[1],n.b=r[2]}}function ny(n,e){return n&&Object.assign(e||{},n)}function Qp(n){var e={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(e={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(e.a=Vs(n[3]))):(e=ny(n,{r:0,g:0,b:0,a:1}),e.a=Vs(e.a)),e}function VC(n){return n.charAt(0)==="r"?BC(n):IC(n)}class vc{constructor(e){if(e instanceof vc)return e;const t=typeof e;let r;t==="object"?r=Qp(e):t==="string"&&(r=TC(e)||RC(e)||VC(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=ny(this._rgb);return e&&(e.a=ps(e.a)),e}set rgb(e){this._rgb=Qp(e)}rgbString(){return this._valid?UC(this._rgb):void 0}hexString(){return this._valid?EC(this._rgb):void 0}hslString(){return this._valid?PC(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,i=e.rgb;let s;const a=t===s?.5:t,l=2*a-1,o=r.a-i.a,f=((l*o===-1?l:(l+o)/(1+l*o))+1)/2;s=1-f,r.r=255&f*r.r+s*i.r+.5,r.g=255&f*r.g+s*i.g+.5,r.b=255&f*r.b+s*i.b+.5,r.a=a*r.a+(1-a)*i.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=HC(this._rgb,e._rgb,t)),this}clone(){return new vc(this.rgb)}alpha(e){return this._rgb.a=Vs(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=sf(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Df(this._rgb,2,e),this}darken(e){return Df(this._rgb,2,-e),this}saturate(e){return Df(this._rgb,1,e),this}desaturate(e){return Df(this._rgb,1,-e),this}rotate(e){return NC(this._rgb,e),this}}function ry(n){return new vc(n)}function iy(n){if(n&&typeof n=="object"){const e=n.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function em(n){return iy(n)?n:ry(n)}function Fu(n){return iy(n)?n:ry(n).saturate(.5).darken(.1).hexString()}const Aa=Object.create(null),M0=Object.create(null);function uo(n,e){if(!e)return n;const t=e.split(".");for(let r=0,i=t.length;r<i;++r){const s=t[r];n=n[s]||(n[s]=Object.create(null))}return n}function Du(n,e,t){return typeof e=="string"?Ao(uo(n,e),t):Ao(uo(n,""),e)}class WC{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,r)=>Fu(r.backgroundColor),this.hoverBorderColor=(t,r)=>Fu(r.borderColor),this.hoverColor=(t,r)=>Fu(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return Du(this,e,t)}get(e){return uo(this,e)}describe(e,t){return Du(M0,e,t)}override(e,t){return Du(Aa,e,t)}route(e,t,r,i){const s=uo(this,e),a=uo(this,r),l="_"+t;Object.defineProperties(s,{[l]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const o=this[l],f=a[i];return Ot(o)?Object.assign({},f,o):Rt(o,f)},set(o){this[l]=o}}})}}var $t=new WC({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function jC(n){return!n||qt(n.size)||qt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function bc(n,e,t,r,i){let s=e[i];return s||(s=e[i]=n.measureText(i).width,t.push(i)),s>r&&(r=s),r}function zC(n,e,t,r){r=r||{};let i=r.data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),n.save(),n.font=e;let a=0;const l=t.length;let o,f,c,u,d;for(o=0;o<l;o++)if(u=t[o],u!=null&&fn(u)!==!0)a=bc(n,i,s,a,u);else if(fn(u))for(f=0,c=u.length;f<c;f++)d=u[f],d!=null&&!fn(d)&&(a=bc(n,i,s,a,d));n.restore();const h=s.length/2;if(h>t.length){for(o=0;o<h;o++)delete i[s[o]];s.splice(0,h)}return a}function fa(n,e,t){const r=n.currentDevicePixelRatio,i=t!==0?Math.max(t/2,.5):0;return Math.round((e-i)*r)/r+i}function tm(n,e){e=e||n.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,n.width,n.height),e.restore()}function I0(n,e,t,r){qC(n,e,t,r,null)}function qC(n,e,t,r,i){let s,a,l,o,f,c;const u=e.pointStyle,d=e.rotation,h=e.radius;let m=(d||0)*uC;if(u&&typeof u=="object"&&(s=u.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){n.save(),n.translate(t,r),n.rotate(m),n.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),n.restore();return}if(!(isNaN(h)||h<=0)){switch(n.beginPath(),u){default:i?n.ellipse(t,r,i/2,h,0,0,en):n.arc(t,r,h,0,en),n.closePath();break;case"triangle":n.moveTo(t+Math.sin(m)*h,r-Math.cos(m)*h),m+=Wp,n.lineTo(t+Math.sin(m)*h,r-Math.cos(m)*h),m+=Wp,n.lineTo(t+Math.sin(m)*h,r-Math.cos(m)*h),n.closePath();break;case"rectRounded":f=h*.516,o=h-f,a=Math.cos(m+zl)*o,l=Math.sin(m+zl)*o,n.arc(t-a,r-l,f,m-Cn,m-yn),n.arc(t+l,r-a,f,m-yn,m),n.arc(t+a,r+l,f,m,m+yn),n.arc(t-l,r+a,f,m+yn,m+Cn),n.closePath();break;case"rect":if(!d){o=Math.SQRT1_2*h,c=i?i/2:o,n.rect(t-c,r-o,2*c,2*o);break}m+=zl;case"rectRot":a=Math.cos(m)*h,l=Math.sin(m)*h,n.moveTo(t-a,r-l),n.lineTo(t+l,r-a),n.lineTo(t+a,r+l),n.lineTo(t-l,r+a),n.closePath();break;case"crossRot":m+=zl;case"cross":a=Math.cos(m)*h,l=Math.sin(m)*h,n.moveTo(t-a,r-l),n.lineTo(t+a,r+l),n.moveTo(t+l,r-a),n.lineTo(t-l,r+a);break;case"star":a=Math.cos(m)*h,l=Math.sin(m)*h,n.moveTo(t-a,r-l),n.lineTo(t+a,r+l),n.moveTo(t+l,r-a),n.lineTo(t-l,r+a),m+=zl,a=Math.cos(m)*h,l=Math.sin(m)*h,n.moveTo(t-a,r-l),n.lineTo(t+a,r+l),n.moveTo(t+l,r-a),n.lineTo(t-l,r+a);break;case"line":a=i?i/2:Math.cos(m)*h,l=Math.sin(m)*h,n.moveTo(t-a,r-l),n.lineTo(t+a,r+l);break;case"dash":n.moveTo(t,r),n.lineTo(t+Math.cos(m)*h,r+Math.sin(m)*h);break}n.fill(),e.borderWidth>0&&n.stroke()}}function Oo(n,e,t){return t=t||.5,!e||n&&n.x>e.left-t&&n.x<e.right+t&&n.y>e.top-t&&n.y<e.bottom+t}function Fd(n,e){n.save(),n.beginPath(),n.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),n.clip()}function Dd(n){n.restore()}function YC(n,e,t,r,i){if(!e)return n.lineTo(t.x,t.y);if(i==="middle"){const s=(e.x+t.x)/2;n.lineTo(s,e.y),n.lineTo(s,t.y)}else i==="after"!=!!r?n.lineTo(e.x,t.y):n.lineTo(t.x,e.y);n.lineTo(t.x,t.y)}function GC(n,e,t,r){if(!e)return n.lineTo(t.x,t.y);n.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?t.cp2x:t.cp1x,r?t.cp2y:t.cp1y,t.x,t.y)}function wc(n,e,t,r,i,s={}){const a=fn(e)?e:[e],l=s.strokeWidth>0&&s.strokeColor!=="";let o,f;for(n.save(),n.font=i.string,XC(n,s),o=0;o<a.length;++o)f=a[o],l&&(s.strokeColor&&(n.strokeStyle=s.strokeColor),qt(s.strokeWidth)||(n.lineWidth=s.strokeWidth),n.strokeText(f,t,r,s.maxWidth)),n.fillText(f,t,r,s.maxWidth),KC(n,t,r,f,s),r+=i.lineHeight;n.restore()}function XC(n,e){e.translation&&n.translate(e.translation[0],e.translation[1]),qt(e.rotation)||n.rotate(e.rotation),e.color&&(n.fillStyle=e.color),e.textAlign&&(n.textAlign=e.textAlign),e.textBaseline&&(n.textBaseline=e.textBaseline)}function KC(n,e,t,r,i){if(i.strikethrough||i.underline){const s=n.measureText(r),a=e-s.actualBoundingBoxLeft,l=e+s.actualBoundingBoxRight,o=t-s.actualBoundingBoxAscent,f=t+s.actualBoundingBoxDescent,c=i.strikethrough?(o+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=i.decorationWidth||2,n.moveTo(a,c),n.lineTo(l,c),n.stroke()}}function kc(n,e){const{x:t,y:r,w:i,h:s,radius:a}=e;n.arc(t+a.topLeft,r+a.topLeft,a.topLeft,-yn,Cn,!0),n.lineTo(t,r+s-a.bottomLeft),n.arc(t+a.bottomLeft,r+s-a.bottomLeft,a.bottomLeft,Cn,yn,!0),n.lineTo(t+i-a.bottomRight,r+s),n.arc(t+i-a.bottomRight,r+s-a.bottomRight,a.bottomRight,yn,0,!0),n.lineTo(t+i,r+a.topRight),n.arc(t+i-a.topRight,r+a.topRight,a.topRight,0,-yn,!0),n.lineTo(t+a.topLeft,r)}const JC=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ZC=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function QC(n,e){const t=(""+n).match(JC);if(!t||t[1]==="normal")return e*1.2;switch(n=+t[2],t[3]){case"px":return n;case"%":n/=100;break}return e*n}const eA=n=>+n||0;function Od(n,e){const t={},r=Ot(e),i=r?Object.keys(e):e,s=Ot(n)?r?a=>Rt(n[a],n[e[a]]):a=>n[a]:()=>n;for(const a of i)t[a]=eA(s(a));return t}function sy(n){return Od(n,{top:"y",right:"x",bottom:"y",left:"x"})}function ol(n){return Od(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ci(n){const e=sy(n);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function ei(n,e){n=n||{},e=e||$t.font;let t=Rt(n.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let r=Rt(n.style,e.style);r&&!(""+r).match(ZC)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");const i={family:Rt(n.family,e.family),lineHeight:QC(Rt(n.lineHeight,e.lineHeight),t),size:t,style:r,weight:Rt(n.weight,e.weight),string:""};return i.string=jC(i),i}function Of(n,e,t,r){let i=!0,s,a,l;for(s=0,a=n.length;s<a;++s)if(l=n[s],l!==void 0&&(e!==void 0&&typeof l=="function"&&(l=l(e),i=!1),t!==void 0&&fn(l)&&(l=l[t%l.length],i=!1),l!==void 0))return r&&!i&&(r.cacheable=!1),l}function tA(n,e,t){const{min:r,max:i}=n,s=jk(e,(i-r)/2),a=(l,o)=>t&&l===0?0:l+o;return{min:a(r,-Math.abs(s)),max:a(i,s)}}function Zs(n,e){return Object.assign(Object.create(n),e)}function Md(n,e=[""],t=n,r,i=()=>n[0]){Ei(r)||(r=fy("_fallback",n));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:t,_fallback:r,_getTarget:i,override:a=>Md([a,...n],e,t,r)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete n[0][l],!0},get(a,l){return ly(a,l,()=>fA(l,e,n,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(a,l){return rm(a).includes(l)},ownKeys(a){return rm(a)},set(a,l,o){const f=a._storage||(a._storage=i());return a[l]=f[l]=o,delete a._keys,!0}})}function wl(n,e,t,r){const i={_cacheable:!1,_proxy:n,_context:e,_subProxy:t,_stack:new Set,_descriptors:ay(n,r),setContext:s=>wl(n,s,t,r),override:s=>wl(n.override(s),e,t,r)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete n[a],!0},get(s,a,l){return ly(s,a,()=>rA(s,a,l))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(n,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,a)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(s,a){return Reflect.has(n,a)},ownKeys(){return Reflect.ownKeys(n)},set(s,a,l){return n[a]=l,delete s[a],!0}})}function ay(n,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=n;return{allKeys:i,scriptable:t,indexable:r,isScriptable:zs(t)?t:()=>t,isIndexable:zs(r)?r:()=>r}}const nA=(n,e)=>n?n+xd(e):e,Id=(n,e)=>Ot(e)&&n!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function ly(n,e,t){if(Object.prototype.hasOwnProperty.call(n,e))return n[e];const r=t();return n[e]=r,r}function rA(n,e,t){const{_proxy:r,_context:i,_subProxy:s,_descriptors:a}=n;let l=r[e];return zs(l)&&a.isScriptable(e)&&(l=iA(e,l,n,t)),fn(l)&&l.length&&(l=sA(e,l,n,a.isIndexable)),Id(e,l)&&(l=wl(l,i,s&&s[e],a)),l}function iA(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_stack:l}=t;if(l.has(n))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+n);return l.add(n),e=e(s,a||r),l.delete(n),Id(n,e)&&(e=Nd(i._scopes,i,n,e)),e}function sA(n,e,t,r){const{_proxy:i,_context:s,_subProxy:a,_descriptors:l}=t;if(Ei(s.index)&&r(n))e=e[s.index%e.length];else if(Ot(e[0])){const o=e,f=i._scopes.filter(c=>c!==o);e=[];for(const c of o){const u=Nd(f,i,n,c);e.push(wl(u,s,a&&a[n],l))}}return e}function oy(n,e,t){return zs(n)?n(e,t):n}const aA=(n,e)=>n===!0?e:typeof n=="string"?js(e,n):void 0;function lA(n,e,t,r,i){for(const s of e){const a=aA(t,s);if(a){n.add(a);const l=oy(a._fallback,t,i);if(Ei(l)&&l!==t&&l!==r)return l}else if(a===!1&&Ei(r)&&t!==r)return null}return!1}function Nd(n,e,t,r){const i=e._rootScopes,s=oy(e._fallback,t,r),a=[...n,...i],l=new Set;l.add(r);let o=nm(l,a,t,s||t,r);return o===null||Ei(s)&&s!==t&&(o=nm(l,a,s,o,r),o===null)?!1:Md(Array.from(l),[""],i,s,()=>oA(e,t,r))}function nm(n,e,t,r,i){for(;t;)t=lA(n,e,t,r,i);return t}function oA(n,e,t){const r=n._getTarget();e in r||(r[e]={});const i=r[e];return fn(i)&&Ot(t)?t:i}function fA(n,e,t,r){let i;for(const s of e)if(i=fy(nA(s,n),t),Ei(i))return Id(n,i)?Nd(t,r,n,i):i}function fy(n,e){for(const t of e){if(!t)continue;const r=t[n];if(Ei(r))return r}}function rm(n){let e=n._keys;return e||(e=n._keys=cA(n._scopes)),e}function cA(n){const e=new Set;for(const t of n)for(const r of Object.keys(t).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function cy(n,e,t,r){const{iScale:i}=n,{key:s="r"}=this._parsing,a=new Array(r);let l,o,f,c;for(l=0,o=r;l<o;++l)f=l+t,c=e[f],a[l]={r:i.parse(js(c,s),f)};return a}const uA=Number.EPSILON||1e-14,kl=(n,e)=>e<n.length&&!n[e].skip&&n[e],uy=n=>n==="x"?"y":"x";function dA(n,e,t,r){const i=n.skip?e:n,s=e,a=t.skip?e:t,l=D0(s,i),o=D0(a,s);let f=l/(l+o),c=o/(l+o);f=isNaN(f)?0:f,c=isNaN(c)?0:c;const u=r*f,d=r*c;return{previous:{x:s.x-u*(a.x-i.x),y:s.y-u*(a.y-i.y)},next:{x:s.x+d*(a.x-i.x),y:s.y+d*(a.y-i.y)}}}function hA(n,e,t){const r=n.length;let i,s,a,l,o,f=kl(n,0);for(let c=0;c<r-1;++c)if(o=f,f=kl(n,c+1),!(!o||!f)){if(fo(e[c],0,uA)){t[c]=t[c+1]=0;continue}i=t[c]/e[c],s=t[c+1]/e[c],l=Math.pow(i,2)+Math.pow(s,2),!(l<=9)&&(a=3/Math.sqrt(l),t[c]=i*a*e[c],t[c+1]=s*a*e[c])}}function pA(n,e,t="x"){const r=uy(t),i=n.length;let s,a,l,o=kl(n,0);for(let f=0;f<i;++f){if(a=l,l=o,o=kl(n,f+1),!l)continue;const c=l[t],u=l[r];a&&(s=(c-a[t])/3,l[`cp1${t}`]=c-s,l[`cp1${r}`]=u-s*e[f]),o&&(s=(o[t]-c)/3,l[`cp2${t}`]=c+s,l[`cp2${r}`]=u+s*e[f])}}function mA(n,e="x"){const t=uy(e),r=n.length,i=Array(r).fill(0),s=Array(r);let a,l,o,f=kl(n,0);for(a=0;a<r;++a)if(l=o,o=f,f=kl(n,a+1),!!o){if(f){const c=f[e]-o[e];i[a]=c!==0?(f[t]-o[t])/c:0}s[a]=l?f?Qi(i[a-1])!==Qi(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}hA(n,i,s),pA(n,s,e)}function Mf(n,e,t){return Math.max(Math.min(n,t),e)}function _A(n,e){let t,r,i,s,a,l=Oo(n[0],e);for(t=0,r=n.length;t<r;++t)a=s,s=l,l=t<r-1&&Oo(n[t+1],e),s&&(i=n[t],a&&(i.cp1x=Mf(i.cp1x,e.left,e.right),i.cp1y=Mf(i.cp1y,e.top,e.bottom)),l&&(i.cp2x=Mf(i.cp2x,e.left,e.right),i.cp2y=Mf(i.cp2y,e.top,e.bottom)))}function gA(n,e,t,r,i){let s,a,l,o;if(e.spanGaps&&(n=n.filter(f=>!f.skip)),e.cubicInterpolationMode==="monotone")mA(n,i);else{let f=r?n[n.length-1]:n[0];for(s=0,a=n.length;s<a;++s)l=n[s],o=dA(f,l,n[Math.min(s+1,a-(r?0:1))%a],e.tension),l.cp1x=o.previous.x,l.cp1y=o.previous.y,l.cp2x=o.next.x,l.cp2y=o.next.y,f=l}e.capBezierPoints&&_A(n,t)}function dy(){return typeof window<"u"&&typeof document<"u"}function Pd(n){let e=n.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function yc(n,e,t){let r;return typeof n=="string"?(r=parseInt(n,10),n.indexOf("%")!==-1&&(r=r/100*e.parentNode[t])):r=n,r}const Qc=n=>window.getComputedStyle(n,null);function vA(n,e){return Qc(n).getPropertyValue(e)}const bA=["top","right","bottom","left"];function wa(n,e,t){const r={};t=t?"-"+t:"";for(let i=0;i<4;i++){const s=bA[i];r[s]=parseFloat(n[e+"-"+s+t])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const wA=(n,e,t)=>(n>0||e>0)&&(!t||!t.shadowRoot);function kA(n,e){const t=n.touches,r=t&&t.length?t[0]:n,{offsetX:i,offsetY:s}=r;let a=!1,l,o;if(wA(i,s,n.target))l=i,o=s;else{const f=e.getBoundingClientRect();l=r.clientX-f.left,o=r.clientY-f.top,a=!0}return{x:l,y:o,box:a}}function ha(n,e){if("native"in n)return n;const{canvas:t,currentDevicePixelRatio:r}=e,i=Qc(t),s=i.boxSizing==="border-box",a=wa(i,"padding"),l=wa(i,"border","width"),{x:o,y:f,box:c}=kA(n,t),u=a.left+(c&&l.left),d=a.top+(c&&l.top);let{width:h,height:m}=e;return s&&(h-=a.width+l.width,m-=a.height+l.height),{x:Math.round((o-u)/h*t.width/r),y:Math.round((f-d)/m*t.height/r)}}function yA(n,e,t){let r,i;if(e===void 0||t===void 0){const s=Pd(n);if(!s)e=n.clientWidth,t=n.clientHeight;else{const a=s.getBoundingClientRect(),l=Qc(s),o=wa(l,"border","width"),f=wa(l,"padding");e=a.width-f.width-o.width,t=a.height-f.height-o.height,r=yc(l.maxWidth,s,"clientWidth"),i=yc(l.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:r||gc,maxHeight:i||gc}}const Ou=n=>Math.round(n*10)/10;function xA(n,e,t,r){const i=Qc(n),s=wa(i,"margin"),a=yc(i.maxWidth,n,"clientWidth")||gc,l=yc(i.maxHeight,n,"clientHeight")||gc,o=yA(n,e,t);let{width:f,height:c}=o;if(i.boxSizing==="content-box"){const u=wa(i,"border","width"),d=wa(i,"padding");f-=d.width+u.width,c-=d.height+u.height}return f=Math.max(0,f-s.width),c=Math.max(0,r?Math.floor(f/r):c-s.height),f=Ou(Math.min(f,a,o.maxWidth)),c=Ou(Math.min(c,l,o.maxHeight)),f&&!c&&(c=Ou(f/2)),{width:f,height:c}}function im(n,e,t){const r=e||1,i=Math.floor(n.height*r),s=Math.floor(n.width*r);n.height=i/r,n.width=s/r;const a=n.canvas;return a.style&&(t||!a.style.height&&!a.style.width)&&(a.style.height=`${n.height}px`,a.style.width=`${n.width}px`),n.currentDevicePixelRatio!==r||a.height!==i||a.width!==s?(n.currentDevicePixelRatio=r,a.height=i,a.width=s,n.ctx.setTransform(r,0,0,r,0,0),!0):!1}const TA=function(){let n=!1;try{const e={get passive(){return n=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return n}();function sm(n,e){const t=vA(n,e),r=t&&t.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function pa(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:n.y+t*(e.y-n.y)}}function SA(n,e,t,r){return{x:n.x+t*(e.x-n.x),y:r==="middle"?t<.5?n.y:e.y:r==="after"?t<1?n.y:e.y:t>0?e.y:n.y}}function EA(n,e,t,r){const i={x:n.cp2x,y:n.cp2y},s={x:e.cp1x,y:e.cp1y},a=pa(n,i,t),l=pa(i,s,t),o=pa(s,e,t),f=pa(a,l,t),c=pa(l,o,t);return pa(f,c,t)}const am=new Map;function CA(n,e){e=e||{};const t=n+JSON.stringify(e);let r=am.get(t);return r||(r=new Intl.NumberFormat(n,e),am.set(t,r)),r}function af(n,e,t){return CA(e,t).format(n)}const AA=function(n,e){return{x(t){return n+n+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,r){return t-r},leftForLtr(t,r){return t-r}}},FA=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,e){return n+e},leftForLtr(n,e){return n}}};function Mu(n,e,t){return n?AA(e,t):FA()}function DA(n,e){let t,r;(e==="ltr"||e==="rtl")&&(t=n.canvas.style,r=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),n.prevTextDirection=r)}function OA(n,e){e!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",e[0],e[1]))}function hy(n){return n==="angle"?{between:Fo,compare:pC,normalize:Kr}:{between:Do,compare:(e,t)=>e-t,normalize:e=>e}}function lm({start:n,end:e,count:t,loop:r,style:i}){return{start:n%t,end:e%t,loop:r&&(e-n+1)%t===0,style:i}}function MA(n,e,t){const{property:r,start:i,end:s}=t,{between:a,normalize:l}=hy(r),o=e.length;let{start:f,end:c,loop:u}=n,d,h;if(u){for(f+=o,c+=o,d=0,h=o;d<h&&a(l(e[f%o][r]),i,s);++d)f--,c--;f%=o,c%=o}return c<f&&(c+=o),{start:f,end:c,loop:u,style:n.style}}function py(n,e,t){if(!t)return[n];const{property:r,start:i,end:s}=t,a=e.length,{compare:l,between:o,normalize:f}=hy(r),{start:c,end:u,loop:d,style:h}=MA(n,e,t),m=[];let p=!1,g=null,v,w,k;const x=()=>o(i,k,v)&&l(i,k)!==0,A=()=>l(s,v)===0||o(s,k,v),T=()=>p||x(),C=()=>!p||A();for(let F=c,O=c;F<=u;++F)w=e[F%a],!w.skip&&(v=f(w[r]),v!==k&&(p=o(v,i,s),g===null&&T()&&(g=l(v,i)===0?F:O),g!==null&&C()&&(m.push(lm({start:g,end:F,loop:d,count:a,style:h})),g=null),O=F,k=v));return g!==null&&m.push(lm({start:g,end:u,loop:d,count:a,style:h})),m}function my(n,e){const t=[],r=n.segments;for(let i=0;i<r.length;i++){const s=py(r[i],n.points,e);s.length&&t.push(...s)}return t}function IA(n,e,t,r){let i=0,s=e-1;if(t&&!r)for(;i<e&&!n[i].skip;)i++;for(;i<e&&n[i].skip;)i++;for(i%=e,t&&(s+=i);s>i&&n[s%e].skip;)s--;return s%=e,{start:i,end:s}}function NA(n,e,t,r){const i=n.length,s=[];let a=e,l=n[e],o;for(o=e+1;o<=t;++o){const f=n[o%i];f.skip||f.stop?l.skip||(r=!1,s.push({start:e%i,end:(o-1)%i,loop:r}),e=a=f.stop?o:null):(a=o,l.skip&&(e=o)),l=f}return a!==null&&s.push({start:e%i,end:a%i,loop:r}),s}function PA(n,e){const t=n.points,r=n.options.spanGaps,i=t.length;if(!i)return[];const s=!!n._loop,{start:a,end:l}=IA(t,i,s,r);if(r===!0)return om(n,[{start:a,end:l,loop:s}],t,e);const o=l<a?l+i:l,f=!!n._fullLoop&&a===0&&l===i-1;return om(n,NA(t,a,o,f),t,e)}function om(n,e,t,r){return!r||!r.setContext||!t?e:LA(n,e,t,r)}function LA(n,e,t,r){const i=n._chart.getContext(),s=fm(n.options),{_datasetIndex:a,options:{spanGaps:l}}=n,o=t.length,f=[];let c=s,u=e[0].start,d=u;function h(m,p,g,v){const w=l?-1:1;if(m!==p){for(m+=o;t[m%o].skip;)m-=w;for(;t[p%o].skip;)p+=w;m%o!==p%o&&(f.push({start:m%o,end:p%o,loop:g,style:v}),c=v,u=p%o)}}for(const m of e){u=l?u:m.start;let p=t[u%o],g;for(d=u+1;d<=m.end;d++){const v=t[d%o];g=fm(r.setContext(Zs(i,{type:"segment",p0:p,p1:v,p0DataIndex:(d-1)%o,p1DataIndex:d%o,datasetIndex:a}))),RA(g,c)&&h(u,d-1,m.loop,c),p=v,c=g}u<d-1&&h(u,d-1,m.loop,c)}return f}function fm(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function RA(n,e){return e&&JSON.stringify(n)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class $A{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,i){const s=t.listeners[i],a=t.duration;s.forEach(l=>l({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(r-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=Kk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let a=s.length-1,l=!1,o;for(;a>=0;--a)o=s[a],o._active?(o._total>r.duration&&(r.duration=o._total),o.tick(e),l=!0):(s[a]=s[s.length-1],s.pop());l&&(i.draw(),this._notify(i,r,e,"progress")),s.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var ds=new $A;const cm="transparent",BA={boolean(n,e,t){return t>.5?e:n},color(n,e,t){const r=em(n||cm),i=r.valid&&em(e||cm);return i&&i.valid?i.mix(r,t).hexString():e},number(n,e,t){return n+(e-n)*t}};class UA{constructor(e,t,r,i){const s=t[r];i=Of([e.to,i,s,e.from]);const a=Of([e.from,s,i]);this._active=!0,this._fn=e.fn||BA[e.type||typeof a],this._easing=co[e.easing]||co.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,a=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Of([e.to,t,i,e.from]),this._from=Of([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,i=this._prop,s=this._from,a=this._loop,l=this._to;let o;if(this._active=s!==l&&(a||t<r),!this._active){this._target[i]=l,this._notify(!0);return}if(t<0){this._target[i]=s;return}o=t/r%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[i]=this._fn(s,l,o)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][t]()}}const HA=["x","y","borderWidth","radius","tension"],VA=["color","borderColor","backgroundColor"];$t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const WA=Object.keys($t.animation);$t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:n=>n!=="onProgress"&&n!=="onComplete"&&n!=="fn"});$t.set("animations",{colors:{type:"color",properties:VA},numbers:{type:"number",properties:HA}});$t.describe("animations",{_fallback:"animation"});$t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:n=>n|0}}}});class _y{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Ot(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const i=e[r];if(!Ot(i))return;const s={};for(const a of WA)s[a]=i[a];(fn(i.properties)&&i.properties||[r]).forEach(a=>{(a===r||!t.has(a))&&t.set(a,s)})})}_animateOptions(e,t){const r=t.options,i=zA(e,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&jA(e.options.$animations,r).then(()=>{e.options=r},()=>{}),s}_createAnimations(e,t){const r=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();let o;for(o=a.length-1;o>=0;--o){const f=a[o];if(f.charAt(0)==="$")continue;if(f==="options"){i.push(...this._animateOptions(e,t));continue}const c=t[f];let u=s[f];const d=r.get(f);if(u)if(d&&u.active()){u.update(d,c,l);continue}else u.cancel();if(!d||!d.duration){e[f]=c;continue}s[f]=u=new UA(d,e,f,c),i.push(u)}return i}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const r=this._createAnimations(e,t);if(r.length)return ds.add(this._chart,r),!0}}function jA(n,e){const t=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const s=n[r[i]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function zA(n,e){if(!e)return;let t=n.options;if(!t){n.options=e;return}return t.$shared&&(n.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function um(n,e){const t=n&&n.options||{},r=t.reverse,i=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:r?s:i,end:r?i:s}}function qA(n,e,t){if(t===!1)return!1;const r=um(n,t),i=um(e,t);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function YA(n){let e,t,r,i;return Ot(n)?(e=n.top,t=n.right,r=n.bottom,i=n.left):e=t=r=i=n,{top:e,right:t,bottom:r,left:i,disabled:n===!1}}function gy(n,e){const t=[],r=n._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)t.push(r[i].index);return t}function dm(n,e,t,r={}){const i=n.keys,s=r.mode==="single";let a,l,o,f;if(e!==null){for(a=0,l=i.length;a<l;++a){if(o=+i[a],o===t){if(r.all)continue;break}f=n.values[o],On(f)&&(s||e===0||Qi(e)===Qi(f))&&(e+=f)}return e}}function GA(n){const e=Object.keys(n),t=new Array(e.length);let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r],t[r]={x:s,y:n[s]};return t}function hm(n,e){const t=n&&n.options.stacked;return t||t===void 0&&e.stack!==void 0}function XA(n,e,t){return`${n.id}.${e.id}.${t.stack||t.type}`}function KA(n){const{min:e,max:t,minDefined:r,maxDefined:i}=n.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?t:Number.POSITIVE_INFINITY}}function JA(n,e,t){const r=n[e]||(n[e]={});return r[t]||(r[t]={})}function pm(n,e,t,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const s=n[i.index];if(t&&s>0||!t&&s<0)return i.index}return null}function mm(n,e){const{chart:t,_cachedMeta:r}=n,i=t._stacks||(t._stacks={}),{iScale:s,vScale:a,index:l}=r,o=s.axis,f=a.axis,c=XA(s,a,r),u=e.length;let d;for(let h=0;h<u;++h){const m=e[h],{[o]:p,[f]:g}=m,v=m._stacks||(m._stacks={});d=v[f]=JA(i,c,p),d[l]=g,d._top=pm(d,a,!0,r.type),d._bottom=pm(d,a,!1,r.type)}}function Iu(n,e){const t=n.scales;return Object.keys(t).filter(r=>t[r].axis===e).shift()}function ZA(n,e){return Zs(n,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function QA(n,e,t){return Zs(n,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function ql(n,e){const t=n.controller.index,r=n.vScale&&n.vScale.axis;if(r){e=e||n._parsed;for(const i of e){const s=i._stacks;if(!s||s[r]===void 0||s[r][t]===void 0)return;delete s[r][t]}}}const Nu=n=>n==="reset"||n==="none",_m=(n,e)=>e?n:Object.assign({},n),eF=(n,e,t)=>n&&!e.hidden&&e._stacked&&{keys:gy(t,!0),values:null};class Wi{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=hm(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&ql(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),i=(u,d,h,m)=>u==="x"?d:u==="r"?m:h,s=t.xAxisID=Rt(r.xAxisID,Iu(e,"x")),a=t.yAxisID=Rt(r.yAxisID,Iu(e,"y")),l=t.rAxisID=Rt(r.rAxisID,Iu(e,"r")),o=t.indexAxis,f=t.iAxisID=i(o,s,a,l),c=t.vAxisID=i(o,a,s,l);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(l),t.iScale=this.getScaleForId(f),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&qp(this._data,this),e._stacked&&ql(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(Ot(t))this._data=GA(t);else if(r!==t){if(r){qp(r,this);const i=this._cachedMeta;ql(i),i._parsed=[]}t&&Object.isExtensible(t)&&vC(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=t._stacked;t._stacked=hm(t.vScale,t),t.stack!==r.stack&&(i=!0,ql(t),t.stack=r.stack),this._resyncElements(e),(i||s!==t._stacked)&&mm(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:a}=r,l=s.axis;let o=e===0&&t===i.length?!0:r._sorted,f=e>0&&r._parsed[e-1],c,u,d;if(this._parsing===!1)r._parsed=i,r._sorted=!0,d=i;else{fn(i[e])?d=this.parseArrayData(r,i,e,t):Ot(i[e])?d=this.parseObjectData(r,i,e,t):d=this.parsePrimitiveData(r,i,e,t);const h=()=>u[l]===null||f&&u[l]<f[l];for(c=0;c<t;++c)r._parsed[c+e]=u=d[c],o&&(h()&&(o=!1),f=u);r._sorted=o}a&&mm(this,d)}parsePrimitiveData(e,t,r,i){const{iScale:s,vScale:a}=e,l=s.axis,o=a.axis,f=s.getLabels(),c=s===a,u=new Array(i);let d,h,m;for(d=0,h=i;d<h;++d)m=d+r,u[d]={[l]:c||s.parse(f[m],m),[o]:a.parse(t[m],m)};return u}parseArrayData(e,t,r,i){const{xScale:s,yScale:a}=e,l=new Array(i);let o,f,c,u;for(o=0,f=i;o<f;++o)c=o+r,u=t[c],l[o]={x:s.parse(u[0],c),y:a.parse(u[1],c)};return l}parseObjectData(e,t,r,i){const{xScale:s,yScale:a}=e,{xAxisKey:l="x",yAxisKey:o="y"}=this._parsing,f=new Array(i);let c,u,d,h;for(c=0,u=i;c<u;++c)d=c+r,h=t[d],f[c]={x:s.parse(js(h,l),d),y:a.parse(js(h,o),d)};return f}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const i=this.chart,s=this._cachedMeta,a=t[e.axis],l={keys:gy(i,!0),values:t._stacks[e.axis]};return dm(l,a,s.index,{mode:r})}updateRangeFromParsed(e,t,r,i){const s=r[t.axis];let a=s===null?NaN:s;const l=i&&r._stacks[t.axis];i&&l&&(i.values=l,a=dm(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&e===r.iScale,a=i.length,l=this._getOtherScale(e),o=eF(t,r,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=KA(l);let d,h;function m(){h=i[d];const p=h[l.axis];return!On(h[e.axis])||c>p||u<p}for(d=0;d<a&&!(!m()&&(this.updateRangeFromParsed(f,e,h,o),s));++d);if(s){for(d=a-1;d>=0;--d)if(!m()){this.updateRangeFromParsed(f,e,h,o);break}}return f}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let i,s,a;for(i=0,s=t.length;i<s;++i)a=t[i][e.axis],On(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,i=t.vScale,s=this.getParsed(e);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=YA(Rt(this.options.clip,qA(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,i=r.data||[],s=t.chartArea,a=[],l=this._drawStart||0,o=this._drawCount||i.length-l,f=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,s,l,o),c=l;c<l+o;++c){const u=i[c];u.hidden||(u.active&&f?a.push(u):u.draw(e,s))}for(c=0;c<a.length;++c)a[c].draw(e,s)}getStyle(e,t){const r=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=QA(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=ZA(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=r,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",r){const i=t==="active",s=this._cachedDataOpts,a=e+"-"+t,l=s[a],o=this.enableOptionSharing&&Ei(r);if(l)return _m(l,o);const f=this.chart.config,c=f.datasetElementScopeKeys(this._type,e),u=i?[`${e}Hover`,"hover",e,""]:[e,""],d=f.getOptionScopes(this.getDataset(),c),h=Object.keys($t.elements[e]),m=()=>this.getContext(r,i),p=f.resolveNamedOptions(d,h,m,u);return p.$shared&&(p.$shared=o,s[a]=Object.freeze(_m(p,o))),p}_resolveAnimations(e,t,r){const i=this.chart,s=this._cachedDataOpts,a=`animation-${t}`,l=s[a];if(l)return l;let o;if(i.options.animation!==!1){const c=this.chart.config,u=c.datasetAnimationScopeKeys(this._type,t),d=c.getOptionScopes(this.getDataset(),u);o=c.createResolver(d,this.getContext(e,r,t))}const f=new _y(i,o&&o.animations);return o&&o._cacheable&&(s[a]=Object.freeze(f)),f}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||Nu(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),i=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(t,s)||s!==i;return this.updateSharedOptions(s,t,r),{sharedOptions:s,includeOptions:a}}updateElement(e,t,r,i){Nu(i)?Object.assign(e,r):this._resolveAnimations(t,i).update(e,r)}updateSharedOptions(e,t,r){e&&!Nu(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,i){e.active=i;const s=this.getStyle(t,i);this._resolveAnimations(t,r,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[l,o,f]of this._syncList)this[l](o,f);this._syncList=[];const i=r.length,s=t.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,t,r=!0){const i=this._cachedMeta,s=i.data,a=e+t;let l;const o=f=>{for(f.length+=t,l=f.length-1;l>=a;l--)f[l]=f[l-t]};for(o(s),l=e;l<a;++l)s[l]=new this.dataElementType;this._parsing&&o(i._parsed),this.parse(e,t),r&&this.updateElements(s,e,t,"reset")}updateElements(e,t,r,i){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,t);r._stacked&&ql(r,i)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,i]=e;this[t](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Wi.defaults={};Wi.prototype.datasetElementType=null;Wi.prototype.dataElementType=null;function tF(n,e){if(!n._cache.$bar){const t=n.getMatchingVisibleMetas(e);let r=[];for(let i=0,s=t.length;i<s;i++)r=r.concat(t[i].controller.getAllParsedValues(n));n._cache.$bar=Xk(r.sort((i,s)=>i-s))}return n._cache.$bar}function nF(n){const e=n.iScale,t=tF(e,n.type);let r=e._length,i,s,a,l;const o=()=>{a===32767||a===-32768||(Ei(l)&&(r=Math.min(r,Math.abs(a-l)||r)),l=a)};for(i=0,s=t.length;i<s;++i)a=e.getPixelForValue(t[i]),o();for(l=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),o();return r}function rF(n,e,t,r){const i=t.barThickness;let s,a;return qt(i)?(s=e.min*t.categoryPercentage,a=t.barPercentage):(s=i*r,a=1),{chunk:s/r,ratio:a,start:e.pixels[n]-s/2}}function iF(n,e,t,r){const i=e.pixels,s=i[n];let a=n>0?i[n-1]:null,l=n<i.length-1?i[n+1]:null;const o=t.categoryPercentage;a===null&&(a=s-(l===null?e.end-e.start:l-s)),l===null&&(l=s+s-a);const f=s-(s-Math.min(a,l))/2*o;return{chunk:Math.abs(l-a)/2*o/r,ratio:t.barPercentage,start:f}}function sF(n,e,t,r){const i=t.parse(n[0],r),s=t.parse(n[1],r),a=Math.min(i,s),l=Math.max(i,s);let o=a,f=l;Math.abs(a)>Math.abs(l)&&(o=l,f=a),e[t.axis]=f,e._custom={barStart:o,barEnd:f,start:i,end:s,min:a,max:l}}function vy(n,e,t,r){return fn(n)?sF(n,e,t,r):e[t.axis]=t.parse(n,r),e}function gm(n,e,t,r){const i=n.iScale,s=n.vScale,a=i.getLabels(),l=i===s,o=[];let f,c,u,d;for(f=t,c=t+r;f<c;++f)d=e[f],u={},u[i.axis]=l||i.parse(a[f],f),o.push(vy(d,u,s,f));return o}function Pu(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function aF(n,e,t){return n!==0?Qi(n):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function lF(n){let e,t,r,i,s;return n.horizontal?(e=n.base>n.x,t="left",r="right"):(e=n.base<n.y,t="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:t,end:r,reverse:e,top:i,bottom:s}}function oF(n,e,t,r){let i=e.borderSkipped;const s={};if(!i){n.borderSkipped=s;return}if(i===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:l,reverse:o,top:f,bottom:c}=lF(n);i==="middle"&&t&&(n.enableBorderRadius=!0,(t._top||0)===r?i=f:(t._bottom||0)===r?i=c:(s[vm(c,a,l,o)]=!0,i=f)),s[vm(i,a,l,o)]=!0,n.borderSkipped=s}function vm(n,e,t,r){return r?(n=fF(n,e,t),n=bm(n,t,e)):n=bm(n,e,t),n}function fF(n,e,t){return n===e?t:n===t?e:n}function bm(n,e,t){return n==="start"?e:n==="end"?t:n}function cF(n,{inflateAmount:e},t){n.inflateAmount=e==="auto"?t===1?.33:0:e}class Ld extends Wi{parsePrimitiveData(e,t,r,i){return gm(e,t,r,i)}parseArrayData(e,t,r,i){return gm(e,t,r,i)}parseObjectData(e,t,r,i){const{iScale:s,vScale:a}=e,{xAxisKey:l="x",yAxisKey:o="y"}=this._parsing,f=s.axis==="x"?l:o,c=a.axis==="x"?l:o,u=[];let d,h,m,p;for(d=r,h=r+i;d<h;++d)p=t[d],m={},m[s.axis]=s.parse(js(p,f),d),u.push(vy(js(p,c),m,a,d));return u}updateRangeFromParsed(e,t,r,i){super.updateRangeFromParsed(e,t,r,i);const s=r._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:i}=t,s=this.getParsed(e),a=s._custom,l=Pu(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:l}}=this,o=l.getBasePixel(),f=l.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,i);for(let h=t;h<t+r;h++){const m=this.getParsed(h),p=s||qt(m[l.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),g=this._calculateBarIndexPixels(h,c),v=(m._stacks||{})[l.axis],w={horizontal:f,base:p.base,enableBorderRadius:!v||Pu(m._custom)||a===v._top||a===v._bottom,x:f?p.head:g.center,y:f?g.center:p.head,height:f?g.size:Math.abs(p.size),width:f?Math.abs(p.size):g.size};d&&(w.options=u||this.resolveDataElementOptions(h,e[h].active?"active":i));const k=w.options||e[h].options;oF(w,k,v,a),cF(w,k,c.ratio),this.updateElement(e[h],h,w,i)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(o=>o.controller.options.grouped),s=r.options.stacked,a=[],l=o=>{const f=o.controller.getParsed(t),c=f&&f[o.vScale.axis];if(qt(c)||isNaN(c))return!0};for(const o of i)if(!(t!==void 0&&l(o))&&((s===!1||a.indexOf(o.stack)===-1||s===void 0&&o.stack===void 0)&&a.push(o.stack),o.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,r){const i=this._getStacks(e,r),s=t!==void 0?i.indexOf(t):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,i=[];let s,a;for(s=0,a=t.data.length;s<a;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const l=e.barThickness;return{min:l||nF(t),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r},options:{base:i,minBarLength:s}}=this,a=i||0,l=this.getParsed(e),o=l._custom,f=Pu(o);let c=l[t.axis],u=0,d=r?this.applyStack(t,l,r):c,h,m;d!==c&&(u=d-c,d=c),f&&(c=o.barStart,d=o.barEnd-o.barStart,c!==0&&Qi(c)!==Qi(o.barEnd)&&(u=0),u+=c);const p=!qt(i)&&!f?i:u;let g=t.getPixelForValue(p);if(this.chart.getDataVisibility(e)?h=t.getPixelForValue(u+d):h=g,m=h-g,Math.abs(m)<s){m=aF(m,t,a)*s,c===a&&(g-=m/2);const v=t.getPixelForDecimal(0),w=t.getPixelForDecimal(1),k=Math.min(v,w),x=Math.max(v,w);g=Math.max(Math.min(g,x),k),h=g+m}if(g===t.getPixelForValue(a)){const v=Qi(m)*t.getLineWidthForValue(a)/2;g+=v,m-=v}return{size:m,base:g,head:h,center:h+m/2}}_calculateBarIndexPixels(e,t){const r=t.scale,i=this.options,s=i.skipNull,a=Rt(i.maxBarThickness,1/0);let l,o;if(t.grouped){const f=s?this._getStackCount(e):t.stackCount,c=i.barThickness==="flex"?iF(e,t,i,f):rF(e,t,i,f),u=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);l=c.start+c.chunk*u+c.chunk/2,o=Math.min(a,c.chunk*c.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),o=Math.min(a,t.min*t.ratio);return{base:l-o/2,head:l+o/2,center:l,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[t.axis]!==null&&r[s].draw(this._ctx)}}Ld.id="bar";Ld.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};Ld.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class Rd extends Wi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,r,i){const s=super.parsePrimitiveData(e,t,r,i);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(e,t,r,i){const s=super.parseArrayData(e,t,r,i);for(let a=0;a<s.length;a++){const l=t[r+a];s[a]._custom=Rt(l[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(e,t,r,i){const s=super.parseObjectData(e,t,r,i);for(let a=0;a<s.length;a++){const l=t[r+a];s[a]._custom=Rt(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let r=e.length-1;r>=0;--r)t=Math.max(t,e[r].size(this.resolveDataElementOptions(r))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:r,yScale:i}=t,s=this.getParsed(e),a=r.getLabelForValue(s.x),l=i.getLabelForValue(s.y),o=s._custom;return{label:t.label,value:"("+a+", "+l+(o?", "+o:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:o,includeOptions:f}=this._getSharedOptions(t,i),c=a.axis,u=l.axis;for(let d=t;d<t+r;d++){const h=e[d],m=!s&&this.getParsed(d),p={},g=p[c]=s?a.getPixelForDecimal(.5):a.getPixelForValue(m[c]),v=p[u]=s?l.getBasePixel():l.getPixelForValue(m[u]);p.skip=isNaN(g)||isNaN(v),f&&(p.options=o||this.resolveDataElementOptions(d,h.active?"active":i),s&&(p.options.radius=0)),this.updateElement(h,d,p,i)}}resolveDataElementOptions(e,t){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const s=i.radius;return t!=="active"&&(i.radius=0),i.radius+=Rt(r&&r._custom,s),i}}Rd.id="bubble";Rd.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Rd.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function uF(n,e,t){let r=1,i=1,s=0,a=0;if(e<en){const l=n,o=l+e,f=Math.cos(l),c=Math.sin(l),u=Math.cos(o),d=Math.sin(o),h=(k,x,A)=>Fo(k,l,o,!0)?1:Math.max(x,x*t,A,A*t),m=(k,x,A)=>Fo(k,l,o,!0)?-1:Math.min(x,x*t,A,A*t),p=h(0,f,u),g=h(yn,c,d),v=m(Cn,f,u),w=m(Cn+yn,c,d);r=(p-v)/2,i=(g-w)/2,s=-(p+v)/2,a=-(g+w)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:a}}class lf extends Wi{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=o=>+r[o];if(Ot(r[e])){const{key:o="value"}=this._parsing;s=f=>+js(r[f],o)}let a,l;for(a=e,l=e+t;a<l;++a)i._parsed[a]=s(a)}}_getRotation(){return Li(this.options.rotation-90)}_getCircumference(){return Li(this.options.circumference)}_getRotationExtents(){let e=en,t=-en;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),a=i._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,i=this._cachedMeta,s=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),o=Math.min(iC(this.options.cutout,l),1),f=this._getRingWeight(this.index),{circumference:c,rotation:u}=this._getRotationExtents(),{ratioX:d,ratioY:h,offsetX:m,offsetY:p}=uF(u,c,o),g=(r.width-a)/d,v=(r.height-a)/h,w=Math.max(Math.min(g,v)/2,0),k=jk(this.options.radius,w),x=Math.max(k*o,0),A=(k-x)/this._getVisibleDatasetWeightTotal();this.offsetX=m*k,this.offsetY=p*k,i.total=this.calculateTotal(),this.outerRadius=k-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*f,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*s/en)}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,l=a.chartArea,f=a.options.animation,c=(l.left+l.right)/2,u=(l.top+l.bottom)/2,d=s&&f.animateScale,h=d?0:this.innerRadius,m=d?0:this.outerRadius,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(t,i);let v=this._getRotation(),w;for(w=0;w<t;++w)v+=this._circumference(w,s);for(w=t;w<t+r;++w){const k=this._circumference(w,s),x=e[w],A={x:c+this.offsetX,y:u+this.offsetY,startAngle:v,endAngle:v+k,circumference:k,outerRadius:m,innerRadius:h};g&&(A.options=p||this.resolveDataElementOptions(w,x.active?"active":i)),v+=k,this.updateElement(x,w,A,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r=0,i;for(i=0;i<t.length;i++){const s=e._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!t[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?en*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=af(t._parsed[e],r.options.locale);return{label:i[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const r=this.chart;let i,s,a,l,o;if(!e){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){a=r.getDatasetMeta(i),e=a.data,l=a.controller;break}}if(!e)return 0;for(i=0,s=e.length;i<s;++i)o=l.resolveDataElementOptions(i),o.borderAlign!=="inner"&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,i=e.length;r<i;++r){const s=this.resolveDataElementOptions(r);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Rt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}lf.id="doughnut";lf.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};lf.descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"};lf.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const e=n.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=n.legend.options;return e.labels.map((r,i)=>{const a=n.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:t,hidden:!n.getDataVisibility(i),index:i}})}return[]}},onClick(n,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){let e=n.label;const t=": "+n.formattedValue;return fn(e)?(e=e.slice(),e[0]+=t):e+=t,e}}}}};class eu extends Wi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:l,count:o}=Zk(t,i,a);this._drawStart=l,this._drawCount=o,Qk(t)&&(l=0,o=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const f=this.resolveDatasetElementOptions(e);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:f},e),this.updateElements(i,l,o,e)}updateElements(e,t,r,i){const s=i==="reset",{iScale:a,vScale:l,_stacked:o,_dataset:f}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(t,i),d=a.axis,h=l.axis,{spanGaps:m,segment:p}=this.options,g=bl(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||i==="none";let w=t>0&&this.getParsed(t-1);for(let k=t;k<t+r;++k){const x=e[k],A=this.getParsed(k),T=v?x:{},C=qt(A[h]),F=T[d]=a.getPixelForValue(A[d],k),O=T[h]=s||C?l.getBasePixel():l.getPixelForValue(o?this.applyStack(l,A,o):A[h],k);T.skip=isNaN(F)||isNaN(O)||C,T.stop=k>0&&Math.abs(A[d]-w[d])>g,p&&(T.parsed=A,T.raw=f.data[k]),u&&(T.options=c||this.resolveDataElementOptions(k,x.active?"active":i)),v||this.updateElement(x,k,T,i),w=A}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}eu.id="line";eu.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};eu.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class $d extends Wi{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=af(t._parsed[e].r,r.options.locale);return{label:i[e]||"",value:s}}parseObjectData(e,t,r,i){return cy.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const s=this.getParsed(i).r;!isNaN(s)&&this.chart.getDataVisibility(i)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,r=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(i/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),l=(s-a)/e.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,t,r,i){const s=i==="reset",a=this.chart,o=a.options.animation,f=this._cachedMeta.rScale,c=f.xCenter,u=f.yCenter,d=f.getIndexAngle(0)-.5*Cn;let h=d,m;const p=360/this.countVisibleElements();for(m=0;m<t;++m)h+=this._computeAngle(m,i,p);for(m=t;m<t+r;m++){const g=e[m];let v=h,w=h+this._computeAngle(m,i,p),k=a.getDataVisibility(m)?f.getDistanceFromCenterForValue(this.getParsed(m).r):0;h=w,s&&(o.animateScale&&(k=0),o.animateRotate&&(v=w=d));const x={x:c,y:u,innerRadius:0,outerRadius:k,startAngle:v,endAngle:w,options:this.resolveDataElementOptions(m,g.active?"active":i)};this.updateElement(g,m,x,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&t++}),t}_computeAngle(e,t,r){return this.chart.getDataVisibility(e)?Li(this.resolveDataElementOptions(e,t).angle||r):0}}$d.id="polarArea";$d.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};$d.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){const e=n.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=n.legend.options;return e.labels.map((r,i)=>{const a=n.getDatasetMeta(0).controller.getStyle(i);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:t,hidden:!n.getDataVisibility(i),index:i}})}return[]}},onClick(n,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(n){return n.chart.data.labels[n.dataIndex]+": "+n.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class by extends lf{}by.id="pie";by.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Bd extends Wi{getLabelAndValue(e){const t=this._cachedMeta.vScale,r=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(r[t.axis])}}parseObjectData(e,t,r,i){return cy.bind(this)(e,t,r,i)}update(e){const t=this._cachedMeta,r=t.dataset,i=t.data||[],s=t.iScale.getLabels();if(r.points=i,e!=="resize"){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0);const l={_loop:!0,_fullLoop:s.length===i.length,options:a};this.updateElement(r,void 0,l,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,r,i){const s=this._cachedMeta.rScale,a=i==="reset";for(let l=t;l<t+r;l++){const o=e[l],f=this.resolveDataElementOptions(l,o.active?"active":i),c=s.getPointPositionForValue(l,this.getParsed(l).r),u=a?s.xCenter:c.x,d=a?s.yCenter:c.y,h={x:u,y:d,angle:c.angle,skip:isNaN(u)||isNaN(d),options:f};this.updateElement(o,l,h,i)}}}Bd.id="radar";Bd.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};Bd.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};let Ts=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return bl(this.x)&&bl(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const i={};return e.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}};Ts.defaults={};Ts.defaultRoutes=void 0;const wy={values(n){return fn(n)?n:""+n},numeric(n,e,t){if(n===0)return"0";const r=this.chart.options.locale;let i,s=n;if(t.length>1){const f=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(f<1e-4||f>1e15)&&(i="scientific"),s=dF(n,t)}const a=wi(Math.abs(s)),l=Math.max(Math.min(-1*Math.floor(a),20),0),o={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(o,this.options.ticks.format),af(n,r,o)},logarithmic(n,e,t){if(n===0)return"0";const r=n/Math.pow(10,Math.floor(wi(n)));return r===1||r===2||r===5?wy.numeric.call(this,n,e,t):""}};function dF(n,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&n!==Math.floor(n)&&(t=n-Math.floor(n)),t}var tu={formatters:wy};$t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(n,e)=>e.lineWidth,tickColor:(n,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tu.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});$t.route("scale.ticks","color","","color");$t.route("scale.grid","color","","borderColor");$t.route("scale.grid","borderColor","","borderColor");$t.route("scale.title","color","","color");$t.describe("scale",{_fallback:!1,_scriptable:n=>!n.startsWith("before")&&!n.startsWith("after")&&n!=="callback"&&n!=="parser",_indexable:n=>n!=="borderDash"&&n!=="tickBorderDash"});$t.describe("scales",{_fallback:"scale"});$t.describe("scale.ticks",{_scriptable:n=>n!=="backdropPadding"&&n!=="callback",_indexable:n=>n!=="backdropPadding"});function hF(n,e){const t=n.options.ticks,r=t.maxTicksLimit||pF(n),i=t.major.enabled?_F(e):[],s=i.length,a=i[0],l=i[s-1],o=[];if(s>r)return gF(e,o,i,s/r),o;const f=mF(i,e,r);if(s>0){let c,u;const d=s>1?Math.round((l-a)/(s-1)):null;for(If(e,o,f,qt(d)?0:a-d,a),c=0,u=s-1;c<u;c++)If(e,o,f,i[c],i[c+1]);return If(e,o,f,l,qt(d)?e.length:l+d),o}return If(e,o,f),o}function pF(n){const e=n.options.offset,t=n._tickSize(),r=n._length/t+(e?0:1),i=n._maxLength/t;return Math.floor(Math.min(r,i))}function mF(n,e,t){const r=vF(n),i=e.length/t;if(!r)return Math.max(i,1);const s=dC(r);for(let a=0,l=s.length-1;a<l;a++){const o=s[a];if(o>i)return o}return Math.max(i,1)}function _F(n){const e=[];let t,r;for(t=0,r=n.length;t<r;t++)n[t].major&&e.push(t);return e}function gF(n,e,t,r){let i=0,s=t[0],a;for(r=Math.ceil(r),a=0;a<n.length;a++)a===s&&(e.push(n[a]),i++,s=t[i*r])}function If(n,e,t,r,i){const s=Rt(r,0),a=Math.min(Rt(i,n.length),n.length);let l=0,o,f,c;for(t=Math.ceil(t),i&&(o=i-r,t=o/Math.floor(o/t)),c=s;c<0;)l++,c=Math.round(s+l*t);for(f=Math.max(s,0);f<a;f++)f===c&&(e.push(n[f]),l++,c=Math.round(s+l*t))}function vF(n){const e=n.length;let t,r;if(e<2)return!1;for(r=n[0],t=1;t<e;++t)if(n[t]-n[t-1]!==r)return!1;return r}const bF=n=>n==="left"?"right":n==="right"?"left":n,wm=(n,e,t)=>e==="top"||e==="left"?n[e]+t:n[e]-t;function km(n,e){const t=[],r=n.length/e,i=n.length;let s=0;for(;s<i;s+=r)t.push(n[Math.floor(s)]);return t}function wF(n,e,t){const r=n.ticks.length,i=Math.min(e,r-1),s=n._startPixel,a=n._endPixel,l=1e-6;let o=n.getPixelForTick(i),f;if(!(t&&(r===1?f=Math.max(o-s,a-o):e===0?f=(n.getPixelForTick(1)-o)/2:f=(o-n.getPixelForTick(i-1))/2,o+=i<e?f:-f,o<s-l||o>a+l)))return o}function kF(n,e){Jt(n,t=>{const r=t.gc,i=r.length/2;let s;if(i>e){for(s=0;s<i;++s)delete t.data[r[s]];r.splice(0,i)}})}function Yl(n){return n.drawTicks?n.tickLength:0}function ym(n,e){if(!n.display)return 0;const t=ei(n.font,e),r=Ci(n.padding);return(fn(n.text)?n.text.length:1)*t.lineHeight+r.height}function yF(n,e){return Zs(n,{scale:e,type:"scale"})}function xF(n,e,t){return Zs(n,{tick:t,index:e,type:"tick"})}function TF(n,e,t){let r=wC(n);return(t&&e!=="right"||!t&&e==="right")&&(r=bF(r)),r}function SF(n,e,t,r){const{top:i,left:s,bottom:a,right:l,chart:o}=n,{chartArea:f,scales:c}=o;let u=0,d,h,m;const p=a-i,g=l-s;if(n.isHorizontal()){if(h=Yp(r,s,l),Ot(t)){const v=Object.keys(t)[0],w=t[v];m=c[v].getPixelForValue(w)+p-e}else t==="center"?m=(f.bottom+f.top)/2+p-e:m=wm(n,t,e);d=l-s}else{if(Ot(t)){const v=Object.keys(t)[0],w=t[v];h=c[v].getPixelForValue(w)-g+e}else t==="center"?h=(f.left+f.right)/2-g+e:h=wm(n,t,e);m=Yp(r,a,i),u=t==="left"?-yn:yn}return{titleX:h,titleY:m,maxWidth:d,rotation:u}}class Ra extends Ts{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:i}=this;return e=pi(e,Number.POSITIVE_INFINITY),t=pi(t,Number.NEGATIVE_INFINITY),r=pi(r,Number.POSITIVE_INFINITY),i=pi(i,Number.NEGATIVE_INFINITY),{min:pi(e,r),max:pi(t,i),minDefined:On(e),maxDefined:On(t)}}getMinMax(e){let{min:t,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:t,max:r};const l=this.getMatchingVisibleMetas();for(let o=0,f=l.length;o<f;++o)a=l[o].controller.getMinMax(this,e),i||(t=Math.min(t,a.min)),s||(r=Math.max(r,a.max));return t=s&&t>r?r:t,r=i&&t>r?t:r,{min:pi(t,pi(r,t)),max:pi(r,pi(t,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){wn(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:i,grace:s,ticks:a}=this.options,l=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tA(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=l<this.ticks.length;this._convertTicksToLabels(o?km(this.ticks,l):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=hF(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,r;this.isHorizontal()?(t=this.left,r=this.right):(t=this.top,r=this.bottom,e=!e),this._startPixel=t,this._endPixel=r,this._reversePixels=e,this._length=r-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){wn(this.options.afterUpdate,[this])}beforeSetDimensions(){wn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){wn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),wn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){wn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r],s.label=wn(t.callback,[s.value,r,e],this)}afterTickToLabelConversion(){wn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){wn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=this.ticks.length,i=t.minRotation||0,s=t.maxRotation;let a=i,l,o,f;if(!this._isVisible()||!t.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const c=this._getLabelSizes(),u=c.widest.width,d=c.highest.height,h=wr(this.chart.width-u,0,this.maxWidth);l=e.offset?this.maxWidth/r:h/(r-1),u+6>l&&(l=h/(r-(e.offset?.5:1)),o=this.maxHeight-Yl(e.grid)-t.padding-ym(e.title,this.chart.options.font),f=Math.sqrt(u*u+d*d),a=Td(Math.min(Math.asin(wr((c.highest.height+6)/l,-1,1)),Math.asin(wr(o/f,-1,1))-Math.asin(wr(d/f,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){wn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){wn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:i,grid:s}}=this,a=this._isVisible(),l=this.isHorizontal();if(a){const o=ym(i,t.options.font);if(l?(e.width=this.maxWidth,e.height=Yl(s)+o):(e.height=this.maxHeight,e.width=Yl(s)+o),r.display&&this.ticks.length){const{first:f,last:c,widest:u,highest:d}=this._getLabelSizes(),h=r.padding*2,m=Li(this.labelRotation),p=Math.cos(m),g=Math.sin(m);if(l){const v=r.mirror?0:g*u.width+p*d.height;e.height=Math.min(this.maxHeight,e.height+v+h)}else{const v=r.mirror?0:p*u.width+g*d.height;e.width=Math.min(this.maxWidth,e.width+v+h)}this._calculatePadding(f,c,g,p)}}this._handleMargins(),l?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,i){const{ticks:{align:s,padding:a},position:l}=this.options,o=this.labelRotation!==0,f=l!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,h=0;o?f?(d=i*e.width,h=r*t.height):(d=r*e.height,h=i*t.width):s==="start"?h=t.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,h=t.width/2),this.paddingLeft=Math.max((d-c+a)*this.width/(this.width-c),0),this.paddingRight=Math.max((h-u+a)*this.width/(this.width-u),0)}else{let c=t.height/2,u=e.height/2;s==="start"?(c=0,u=e.height):s==="end"&&(c=t.height,u=0),this.paddingTop=c+a,this.paddingBottom=u+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){wn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,r;for(t=0,r=e.length;t<r;t++)qt(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=km(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length)}return e}_computeLabelSizes(e,t){const{ctx:r,_longestTextCache:i}=this,s=[],a=[];let l=0,o=0,f,c,u,d,h,m,p,g,v,w,k;for(f=0;f<t;++f){if(d=e[f].label,h=this._resolveTickFontOptions(f),r.font=m=h.string,p=i[m]=i[m]||{data:{},gc:[]},g=h.lineHeight,v=w=0,!qt(d)&&!fn(d))v=bc(r,p.data,p.gc,v,d),w=g;else if(fn(d))for(c=0,u=d.length;c<u;++c)k=d[c],!qt(k)&&!fn(k)&&(v=bc(r,p.data,p.gc,v,k),w+=g);s.push(v),a.push(w),l=Math.max(v,l),o=Math.max(w,o)}kF(i,t);const x=s.indexOf(l),A=a.indexOf(o),T=C=>({width:s[C]||0,height:a[C]||0});return{first:T(0),last:T(t-1),widest:T(x),highest:T(A),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return mC(this._alignToPixels?fa(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=xF(this.getContext(),e,r))}return this.$context||(this.$context=yF(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=Li(this.labelRotation),r=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,l=s?s.widest.width+a:0,o=s?s.highest.height+a:0;return this.isHorizontal()?o*r>l*i?l/r:o/i:o*i<l*r?o/r:l/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,i=this.options,{grid:s,position:a}=i,l=s.offset,o=this.isHorizontal(),c=this.ticks.length+(l?1:0),u=Yl(s),d=[],h=s.setContext(this.getContext()),m=h.drawBorder?h.borderWidth:0,p=m/2,g=function(ne){return fa(r,ne,m)};let v,w,k,x,A,T,C,F,O,I,N,P;if(a==="top")v=g(this.bottom),T=this.bottom-u,F=v-p,I=g(e.top)+p,P=e.bottom;else if(a==="bottom")v=g(this.top),I=e.top,P=g(e.bottom)-p,T=v+p,F=this.top+u;else if(a==="left")v=g(this.right),A=this.right-u,C=v-p,O=g(e.left)+p,N=e.right;else if(a==="right")v=g(this.left),O=e.left,N=g(e.right)-p,A=v+p,C=this.left+u;else if(t==="x"){if(a==="center")v=g((e.top+e.bottom)/2+.5);else if(Ot(a)){const ne=Object.keys(a)[0],V=a[ne];v=g(this.chart.scales[ne].getPixelForValue(V))}I=e.top,P=e.bottom,T=v+p,F=T+u}else if(t==="y"){if(a==="center")v=g((e.left+e.right)/2);else if(Ot(a)){const ne=Object.keys(a)[0],V=a[ne];v=g(this.chart.scales[ne].getPixelForValue(V))}A=v-p,C=A-u,O=e.left,N=e.right}const R=Rt(i.ticks.maxTicksLimit,c),Y=Math.max(1,Math.ceil(c/R));for(w=0;w<c;w+=Y){const ne=s.setContext(this.getContext(w)),V=ne.lineWidth,se=ne.color,ue=ne.borderDash||[],U=ne.borderDashOffset,be=ne.tickWidth,fe=ne.tickColor,B=ne.tickBorderDash||[],K=ne.tickBorderDashOffset;k=wF(this,w,l),k!==void 0&&(x=fa(r,k,V),o?A=C=O=N=x:T=F=I=P=x,d.push({tx1:A,ty1:T,tx2:C,ty2:F,x1:O,y1:I,x2:N,y2:P,width:V,color:se,borderDash:ue,borderDashOffset:U,tickWidth:be,tickColor:fe,tickBorderDash:B,tickBorderDashOffset:K}))}return this._ticksLength=c,this._borderValue=v,d}_computeLabelItems(e){const t=this.axis,r=this.options,{position:i,ticks:s}=r,a=this.isHorizontal(),l=this.ticks,{align:o,crossAlign:f,padding:c,mirror:u}=s,d=Yl(r.grid),h=d+c,m=u?-c:h,p=-Li(this.labelRotation),g=[];let v,w,k,x,A,T,C,F,O,I,N,P,R="middle";if(i==="top")T=this.bottom-m,C=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+m,C=this._getXAxisLabelAlignment();else if(i==="left"){const ne=this._getYAxisLabelAlignment(d);C=ne.textAlign,A=ne.x}else if(i==="right"){const ne=this._getYAxisLabelAlignment(d);C=ne.textAlign,A=ne.x}else if(t==="x"){if(i==="center")T=(e.top+e.bottom)/2+h;else if(Ot(i)){const ne=Object.keys(i)[0],V=i[ne];T=this.chart.scales[ne].getPixelForValue(V)+h}C=this._getXAxisLabelAlignment()}else if(t==="y"){if(i==="center")A=(e.left+e.right)/2-h;else if(Ot(i)){const ne=Object.keys(i)[0],V=i[ne];A=this.chart.scales[ne].getPixelForValue(V)}C=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(o==="start"?R="top":o==="end"&&(R="bottom"));const Y=this._getLabelSizes();for(v=0,w=l.length;v<w;++v){k=l[v],x=k.label;const ne=s.setContext(this.getContext(v));F=this.getPixelForTick(v)+s.labelOffset,O=this._resolveTickFontOptions(v),I=O.lineHeight,N=fn(x)?x.length:1;const V=N/2,se=ne.color,ue=ne.textStrokeColor,U=ne.textStrokeWidth;let be=C;a?(A=F,C==="inner"&&(v===w-1?be=this.options.reverse?"left":"right":v===0?be=this.options.reverse?"right":"left":be="center"),i==="top"?f==="near"||p!==0?P=-N*I+I/2:f==="center"?P=-Y.highest.height/2-V*I+I:P=-Y.highest.height+I/2:f==="near"||p!==0?P=I/2:f==="center"?P=Y.highest.height/2-V*I:P=Y.highest.height-N*I,u&&(P*=-1)):(T=F,P=(1-N)*I/2);let fe;if(ne.showLabelBackdrop){const B=Ci(ne.backdropPadding),K=Y.heights[v],G=Y.widths[v];let J=T+P-B.top,de=A-B.left;switch(R){case"middle":J-=K/2;break;case"bottom":J-=K;break}switch(C){case"center":de-=G/2;break;case"right":de-=G;break}fe={left:de,top:J,width:G+B.width,height:K+B.height,color:ne.backdropColor}}g.push({rotation:p,label:x,font:O,color:se,strokeColor:ue,strokeWidth:U,textOffset:P,textAlign:be,textBaseline:R,translation:[A,T],backdrop:fe})}return g}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Li(this.labelRotation))return e==="top"?"left":"right";let i="center";return t.align==="start"?i="left":t.align==="end"?i="right":t.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),l=e+s,o=a.widest.width;let f,c;return t==="left"?i?(c=this.right+s,r==="near"?f="left":r==="center"?(f="center",c+=o/2):(f="right",c+=o)):(c=this.right-l,r==="near"?f="right":r==="center"?(f="center",c-=o/2):(f="left",c=this.left)):t==="right"?i?(c=this.left+s,r==="near"?f="right":r==="center"?(f="center",c-=o/2):(f="left",c-=o)):(c=this.left+l,r==="near"?f="left":r==="center"?(f="center",c+=o/2):(f="right",c=this.right)):f="right",{textAlign:f,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:i,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,i,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?t.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const t=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const l=(o,f,c)=>{!c.width||!c.color||(r.save(),r.lineWidth=c.width,r.strokeStyle=c.color,r.setLineDash(c.borderDash||[]),r.lineDashOffset=c.borderDashOffset,r.beginPath(),r.moveTo(o.x,o.y),r.lineTo(f.x,f.y),r.stroke(),r.restore())};if(t.display)for(s=0,a=i.length;s<a;++s){const o=i[s];t.drawOnChartArea&&l({x:o.x1,y:o.y1},{x:o.x2,y:o.y2},o),t.drawTicks&&l({x:o.tx1,y:o.ty1},{x:o.tx2,y:o.ty2},{color:o.tickColor,width:o.tickWidth,borderDash:o.tickBorderDash,borderDashOffset:o.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:r}}=this,i=r.setContext(this.getContext()),s=r.drawBorder?i.borderWidth:0;if(!s)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let o,f,c,u;this.isHorizontal()?(o=fa(e,this.left,s)-s/2,f=fa(e,this.right,a)+a/2,c=u=l):(c=fa(e,this.top,s)-s/2,u=fa(e,this.bottom,a)+a/2,o=f=l),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(o,c),t.lineTo(f,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Fd(r,i);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let a,l;for(a=0,l=s.length;a<l;++a){const o=s[a],f=o.font,c=o.label;o.backdrop&&(r.fillStyle=o.backdrop.color,r.fillRect(o.backdrop.left,o.backdrop.top,o.backdrop.width,o.backdrop.height));let u=o.textOffset;wc(r,c,0,u,f,o)}i&&Dd(r)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:i}}=this;if(!r.display)return;const s=ei(r.font),a=Ci(r.padding),l=r.align;let o=s.lineHeight/2;t==="bottom"||t==="center"||Ot(t)?(o+=a.bottom,fn(r.text)&&(o+=s.lineHeight*(r.text.length-1))):o+=a.top;const{titleX:f,titleY:c,maxWidth:u,rotation:d}=SF(this,o,t,l);wc(e,r.text,0,0,s,{color:r.color,maxWidth:u,rotation:d,textAlign:TF(l,t,i),textBaseline:"middle",translation:[f,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Rt(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Ra.prototype.draw?[{z:t,draw:i=>{this.draw(i)}}]:[{z:r,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r+1,draw:()=>{this.drawBorder()}},{z:t,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,a;for(s=0,a=t.length;s<a;++s){const l=t[s];l[r]===this.id&&(!e||l.type===e)&&i.push(l)}return i}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return ei(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Nf{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;AF(t)&&(r=this.register(t));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,EF(e,a,r),this.override&&$t.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,i=this.scope;r in t&&delete t[r],i&&r in $t[i]&&(delete $t[i][r],this.override&&delete Aa[r])}}function EF(n,e,t){const r=Ao(Object.create(null),[t?$t.get(t):{},$t.get(e),n.defaults]);$t.set(e,r),n.defaultRoutes&&CF(e,n.defaultRoutes),n.descriptors&&$t.describe(e,n.descriptors)}function CF(n,e){Object.keys(e).forEach(t=>{const r=t.split("."),i=r.pop(),s=[n].concat(r).join("."),a=e[t].split("."),l=a.pop(),o=a.join(".");$t.route(s,i,o,l)})}function AF(n){return"id"in n&&"defaults"in n}class FF{constructor(){this.controllers=new Nf(Wi,"datasets",!0),this.elements=new Nf(Ts,"elements"),this.plugins=new Nf(Object,"plugins"),this.scales=new Nf(Ra,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,r){[...t].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):Jt(i,a=>{const l=r||this._getRegistryForType(a);this._exec(e,l,a)})})}_exec(e,t,r){const i=xd(e);wn(r["before"+i],[],r),t[e](r),wn(r["after"+i],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const i=t.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var Ji=new FF;class Ud extends Wi{update(e){const t=this._cachedMeta,{data:r=[]}=t,i=this.chart._animationsDisabled;let{start:s,count:a}=Zk(t,r,i);if(this._drawStart=s,this._drawCount=a,Qk(t)&&(s=0,a=r.length),this.options.showLine){const{dataset:l,_dataset:o}=t;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!o._decimated,l.points=r;const f=this.resolveDatasetElementOptions(e);f.segment=this.options.segment,this.updateElement(l,void 0,{animated:!i,options:f},e)}this.updateElements(r,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=Ji.getElement("line")),super.addElements()}updateElements(e,t,r,i){const s=i==="reset",{iScale:a,vScale:l,_stacked:o,_dataset:f}=this._cachedMeta,c=this.resolveDataElementOptions(t,i),u=this.getSharedOptions(c),d=this.includeOptions(i,u),h=a.axis,m=l.axis,{spanGaps:p,segment:g}=this.options,v=bl(p)?p:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||s||i==="none";let k=t>0&&this.getParsed(t-1);for(let x=t;x<t+r;++x){const A=e[x],T=this.getParsed(x),C=w?A:{},F=qt(T[m]),O=C[h]=a.getPixelForValue(T[h],x),I=C[m]=s||F?l.getBasePixel():l.getPixelForValue(o?this.applyStack(l,T,o):T[m],x);C.skip=isNaN(O)||isNaN(I)||F,C.stop=x>0&&Math.abs(T[h]-k[h])>v,g&&(C.parsed=T,C.raw=f.data[x]),d&&(C.options=u||this.resolveDataElementOptions(x,A.active?"active":i)),w||this.updateElement(A,x,C,i),k=T}this.updateSharedOptions(u,i,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let l=0;for(let o=t.length-1;o>=0;--o)l=Math.max(l,t[o].size(this.resolveDataElementOptions(o))/2);return l>0&&l}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!t.length)return i;const s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,s,a)/2}}Ud.id="scatter";Ud.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Ud.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(n){return"("+n.label+", "+n.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function ca(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class N0{constructor(e){this.options=e||{}}init(e){}formats(){return ca()}parse(e,t){return ca()}format(e,t){return ca()}add(e,t,r){return ca()}diff(e,t,r){return ca()}startOf(e,t,r){return ca()}endOf(e,t){return ca()}}N0.override=function(n){Object.assign(N0.prototype,n)};var ky={_date:N0};function DF(n,e,t,r){const{controller:i,data:s,_sorted:a}=n,l=i._cachedMeta.iScale;if(l&&e===l.axis&&e!=="r"&&a&&s.length){const o=l._reversePixels?_C:ga;if(r){if(i._sharedOptions){const f=s[0],c=typeof f.getRange=="function"&&f.getRange(e);if(c){const u=o(s,e,t-c),d=o(s,e,t+c);return{lo:u.lo,hi:d.hi}}}}else return o(s,e,t)}return{lo:0,hi:s.length-1}}function of(n,e,t,r,i){const s=n.getSortedVisibleDatasetMetas(),a=t[e];for(let l=0,o=s.length;l<o;++l){const{index:f,data:c}=s[l],{lo:u,hi:d}=DF(s[l],e,a,i);for(let h=u;h<=d;++h){const m=c[h];m.skip||r(m,f,h)}}}function OF(n){const e=n.indexOf("x")!==-1,t=n.indexOf("y")!==-1;return function(r,i){const s=e?Math.abs(r.x-i.x):0,a=t?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function Lu(n,e,t,r,i){const s=[];return!i&&!n.isPointInArea(e)||of(n,t,e,function(l,o,f){!i&&!Oo(l,n.chartArea,0)||l.inRange(e.x,e.y,r)&&s.push({element:l,datasetIndex:o,index:f})},!0),s}function MF(n,e,t,r){let i=[];function s(a,l,o){const{startAngle:f,endAngle:c}=a.getProps(["startAngle","endAngle"],r),{angle:u}=Yk(a,{x:e.x,y:e.y});Fo(u,f,c)&&i.push({element:a,datasetIndex:l,index:o})}return of(n,t,e,s),i}function IF(n,e,t,r,i,s){let a=[];const l=OF(t);let o=Number.POSITIVE_INFINITY;function f(c,u,d){const h=c.inRange(e.x,e.y,i);if(r&&!h)return;const m=c.getCenterPoint(i);if(!(!!s||n.isPointInArea(m))&&!h)return;const g=l(e,m);g<o?(a=[{element:c,datasetIndex:u,index:d}],o=g):g===o&&a.push({element:c,datasetIndex:u,index:d})}return of(n,t,e,f),a}function Ru(n,e,t,r,i,s){return!s&&!n.isPointInArea(e)?[]:t==="r"&&!r?MF(n,e,t,i):IF(n,e,t,r,i,s)}function xm(n,e,t,r,i){const s=[],a=t==="x"?"inXRange":"inYRange";let l=!1;return of(n,t,e,(o,f,c)=>{o[a](e[t],i)&&(s.push({element:o,datasetIndex:f,index:c}),l=l||o.inRange(e.x,e.y,i))}),r&&!l?[]:s}var NF={evaluateInteractionItems:of,modes:{index(n,e,t,r){const i=ha(e,n),s=t.axis||"x",a=t.includeInvisible||!1,l=t.intersect?Lu(n,i,s,r,a):Ru(n,i,s,!1,r,a),o=[];return l.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const c=l[0].index,u=f.data[c];u&&!u.skip&&o.push({element:u,datasetIndex:f.index,index:c})}),o):[]},dataset(n,e,t,r){const i=ha(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;let l=t.intersect?Lu(n,i,s,r,a):Ru(n,i,s,!1,r,a);if(l.length>0){const o=l[0].datasetIndex,f=n.getDatasetMeta(o).data;l=[];for(let c=0;c<f.length;++c)l.push({element:f[c],datasetIndex:o,index:c})}return l},point(n,e,t,r){const i=ha(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return Lu(n,i,s,r,a)},nearest(n,e,t,r){const i=ha(e,n),s=t.axis||"xy",a=t.includeInvisible||!1;return Ru(n,i,s,t.intersect,r,a)},x(n,e,t,r){const i=ha(e,n);return xm(n,i,"x",t.intersect,r)},y(n,e,t,r){const i=ha(e,n);return xm(n,i,"y",t.intersect,r)}}};const yy=["left","top","right","bottom"];function Gl(n,e){return n.filter(t=>t.pos===e)}function Tm(n,e){return n.filter(t=>yy.indexOf(t.pos)===-1&&t.box.axis===e)}function Xl(n,e){return n.sort((t,r)=>{const i=e?r:t,s=e?t:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function PF(n){const e=[];let t,r,i,s,a,l;for(t=0,r=(n||[]).length;t<r;++t)i=n[t],{position:s,options:{stack:a,stackWeight:l=1}}=i,e.push({index:t,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:l});return e}function LF(n){const e={};for(const t of n){const{stack:r,pos:i,stackWeight:s}=t;if(!r||!yy.includes(i))continue;const a=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function RF(n,e){const t=LF(n),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,a,l;for(s=0,a=n.length;s<a;++s){l=n[s];const{fullSize:o}=l.box,f=t[l.stack],c=f&&l.stackWeight/f.weight;l.horizontal?(l.width=c?c*r:o&&e.availableWidth,l.height=i):(l.width=r,l.height=c?c*i:o&&e.availableHeight)}return t}function $F(n){const e=PF(n),t=Xl(e.filter(f=>f.box.fullSize),!0),r=Xl(Gl(e,"left"),!0),i=Xl(Gl(e,"right")),s=Xl(Gl(e,"top"),!0),a=Xl(Gl(e,"bottom")),l=Tm(e,"x"),o=Tm(e,"y");return{fullSize:t,leftAndTop:r.concat(s),rightAndBottom:i.concat(o).concat(a).concat(l),chartArea:Gl(e,"chartArea"),vertical:r.concat(i).concat(o),horizontal:s.concat(a).concat(l)}}function Sm(n,e,t,r){return Math.max(n[t],e[t])+Math.max(n[r],e[r])}function xy(n,e){n.top=Math.max(n.top,e.top),n.left=Math.max(n.left,e.left),n.bottom=Math.max(n.bottom,e.bottom),n.right=Math.max(n.right,e.right)}function BF(n,e,t,r){const{pos:i,box:s}=t,a=n.maxPadding;if(!Ot(i)){t.size&&(n[i]-=t.size);const u=r[t.stack]||{size:0,count:1};u.size=Math.max(u.size,t.horizontal?s.height:s.width),t.size=u.size/u.count,n[i]+=t.size}s.getPadding&&xy(a,s.getPadding());const l=Math.max(0,e.outerWidth-Sm(a,n,"left","right")),o=Math.max(0,e.outerHeight-Sm(a,n,"top","bottom")),f=l!==n.w,c=o!==n.h;return n.w=l,n.h=o,t.horizontal?{same:f,other:c}:{same:c,other:f}}function UF(n){const e=n.maxPadding;function t(r){const i=Math.max(e[r]-n[r],0);return n[r]+=i,i}n.y+=t("top"),n.x+=t("left"),t("right"),t("bottom")}function HF(n,e){const t=e.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],t[a])}),s}return r(n?["left","right"]:["top","bottom"])}function no(n,e,t,r){const i=[];let s,a,l,o,f,c;for(s=0,a=n.length,f=0;s<a;++s){l=n[s],o=l.box,o.update(l.width||e.w,l.height||e.h,HF(l.horizontal,e));const{same:u,other:d}=BF(e,t,l,r);f|=u&&i.length,c=c||d,o.fullSize||i.push(l)}return f&&no(i,e,t,r)||c}function Pf(n,e,t,r,i){n.top=t,n.left=e,n.right=e+r,n.bottom=t+i,n.width=r,n.height=i}function Em(n,e,t,r){const i=t.padding;let{x:s,y:a}=e;for(const l of n){const o=l.box,f=r[l.stack]||{count:1,placed:0,weight:1},c=l.stackWeight/f.weight||1;if(l.horizontal){const u=e.w*c,d=f.size||o.height;Ei(f.start)&&(a=f.start),o.fullSize?Pf(o,i.left,a,t.outerWidth-i.right-i.left,d):Pf(o,e.left+f.placed,a,u,d),f.start=a,f.placed+=u,a=o.bottom}else{const u=e.h*c,d=f.size||o.width;Ei(f.start)&&(s=f.start),o.fullSize?Pf(o,s,i.top,d,t.outerHeight-i.bottom-i.top):Pf(o,s,e.top+f.placed,d,u),f.start=s,f.placed+=u,s=o.right}}e.x=s,e.y=a}$t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Lf={addBox(n,e){n.boxes||(n.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},n.boxes.push(e)},removeBox(n,e){const t=n.boxes?n.boxes.indexOf(e):-1;t!==-1&&n.boxes.splice(t,1)},configure(n,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(n,e,t,r){if(!n)return;const i=Ci(n.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(t-i.height,0),l=$F(n.boxes),o=l.vertical,f=l.horizontal;Jt(n.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});const c=o.reduce((p,g)=>g.box.options&&g.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:e,outerHeight:t,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/c,hBoxMaxHeight:a/2}),d=Object.assign({},i);xy(d,Ci(r));const h=Object.assign({maxPadding:d,w:s,h:a,x:i.left,y:i.top},i),m=RF(o.concat(f),u);no(l.fullSize,h,u,m),no(o,h,u,m),no(f,h,u,m)&&no(o,h,u,m),UF(h),Em(l.leftAndTop,h,u,m),h.x+=h.w,h.y+=h.h,Em(l.rightAndBottom,h,u,m),n.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},Jt(l.chartArea,p=>{const g=p.box;Object.assign(g,n.chartArea),g.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})})}};class Ty{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,i){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):r)}}isAttached(e){return!0}updateConfig(e){}}class VF extends Ty{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ic="$chartjs",WF={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cm=n=>n===null||n==="";function jF(n,e){const t=n.style,r=n.getAttribute("height"),i=n.getAttribute("width");if(n[ic]={initial:{height:r,width:i,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",Cm(i)){const s=sm(n,"width");s!==void 0&&(n.width=s)}if(Cm(r))if(n.style.height==="")n.height=n.width/(e||2);else{const s=sm(n,"height");s!==void 0&&(n.height=s)}return n}const Sy=TA?{passive:!0}:!1;function zF(n,e,t){n.addEventListener(e,t,Sy)}function qF(n,e,t){n.canvas.removeEventListener(e,t,Sy)}function YF(n,e){const t=WF[n.type]||n.type,{x:r,y:i}=ha(n,e);return{type:t,chart:e,native:n,x:r!==void 0?r:null,y:i!==void 0?i:null}}function xc(n,e){for(const t of n)if(t===e||t.contains(e))return!0}function GF(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||xc(l.addedNodes,r),a=a&&!xc(l.removedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}function XF(n,e,t){const r=n.canvas,i=new MutationObserver(s=>{let a=!1;for(const l of s)a=a||xc(l.removedNodes,r),a=a&&!xc(l.addedNodes,r);a&&t()});return i.observe(document,{childList:!0,subtree:!0}),i}const Mo=new Map;let Am=0;function Ey(){const n=window.devicePixelRatio;n!==Am&&(Am=n,Mo.forEach((e,t)=>{t.currentDevicePixelRatio!==n&&e()}))}function KF(n,e){Mo.size||window.addEventListener("resize",Ey),Mo.set(n,e)}function JF(n){Mo.delete(n),Mo.size||window.removeEventListener("resize",Ey)}function ZF(n,e,t){const r=n.canvas,i=r&&Pd(r);if(!i)return;const s=Jk((l,o)=>{const f=i.clientWidth;t(l,o),f<i.clientWidth&&t()},window),a=new ResizeObserver(l=>{const o=l[0],f=o.contentRect.width,c=o.contentRect.height;f===0&&c===0||s(f,c)});return a.observe(i),KF(n,s),a}function $u(n,e,t){t&&t.disconnect(),e==="resize"&&JF(n)}function QF(n,e,t){const r=n.canvas,i=Jk(s=>{n.ctx!==null&&t(YF(s,n))},n,s=>{const a=s[0];return[a,a.offsetX,a.offsetY]});return zF(r,e,i),i}class e5 extends Ty{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(jF(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[ic])return!1;const r=t[ic].initial;["height","width"].forEach(s=>{const a=r[s];qt(a)?t.removeAttribute(s):t.setAttribute(s,a)});const i=r.style||{};return Object.keys(i).forEach(s=>{t.style[s]=i[s]}),t.width=t.width,delete t[ic],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),a={attach:GF,detach:XF,resize:ZF}[t]||QF;i[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),i=r[t];if(!i)return;({attach:$u,detach:$u,resize:$u}[t]||qF)(e,t,i),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,i){return xA(e,t,r,i)}isAttached(e){const t=Pd(e);return!!(t&&t.isConnected)}}function t5(n){return!dy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?VF:e5}class n5{constructor(){this._init=[]}notify(e,t,r,i){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,t,r);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,r,i){i=i||{};for(const s of e){const a=s.plugin,l=a[r],o=[t,i,s.options];if(wn(l,o,a)===!1&&i.cancelable)return!1}return!0}invalidate(){qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,i=Rt(r.options&&r.options.plugins,{}),s=r5(r);return i===!1&&!t?[]:s5(e,s,i,t)}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,i=(s,a)=>s.filter(l=>!a.some(o=>l.plugin.id===o.plugin.id));this._notify(i(t,r),e,"stop"),this._notify(i(r,t),e,"start")}}function r5(n){const e={},t=[],r=Object.keys(Ji.plugins.items);for(let s=0;s<r.length;s++)t.push(Ji.getPlugin(r[s]));const i=n.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];t.indexOf(a)===-1&&(t.push(a),e[a.id]=!0)}return{plugins:t,localIds:e}}function i5(n,e){return!e&&n===!1?null:n===!0?{}:n}function s5(n,{plugins:e,localIds:t},r,i){const s=[],a=n.getContext();for(const l of e){const o=l.id,f=i5(r[o],i);f!==null&&s.push({plugin:l,options:a5(n.config,{plugin:l,local:t[o]},f,a)})}return s}function a5(n,{plugin:e,local:t},r,i){const s=n.pluginScopeKeys(e),a=n.getOptionScopes(r,s);return t&&e.defaults&&a.push(e.defaults),n.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function P0(n,e){const t=$t.datasets[n]||{};return((e.datasets||{})[n]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function l5(n,e){let t=n;return n==="_index_"?t=e:n==="_value_"&&(t=e==="x"?"y":"x"),t}function o5(n,e){return n===e?"_index_":"_value_"}function f5(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function L0(n,e){return n==="x"||n==="y"?n:e.axis||f5(e.position)||n.charAt(0).toLowerCase()}function c5(n,e){const t=Aa[n.type]||{scales:{}},r=e.scales||{},i=P0(n.type,e),s=Object.create(null),a=Object.create(null);return Object.keys(r).forEach(l=>{const o=r[l];if(!Ot(o))return console.error(`Invalid scale configuration for scale: ${l}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=L0(l,o),c=o5(f,i),u=t.scales||{};s[f]=s[f]||l,a[l]=oo(Object.create(null),[{axis:f},o,u[f],u[c]])}),n.data.datasets.forEach(l=>{const o=l.type||n.type,f=l.indexAxis||P0(o,e),u=(Aa[o]||{}).scales||{};Object.keys(u).forEach(d=>{const h=l5(d,f),m=l[h+"AxisID"]||s[h]||h;a[m]=a[m]||Object.create(null),oo(a[m],[{axis:h},r[m],u[d]])})}),Object.keys(a).forEach(l=>{const o=a[l];oo(o,[$t.scales[o.type],$t.scale])}),a}function Cy(n){const e=n.options||(n.options={});e.plugins=Rt(e.plugins,{}),e.scales=c5(n,e)}function Ay(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function u5(n){return n=n||{},n.data=Ay(n.data),Cy(n),n}const Fm=new Map,Fy=new Set;function Rf(n,e){let t=Fm.get(n);return t||(t=e(),Fm.set(n,t),Fy.add(t)),t}const Kl=(n,e,t)=>{const r=js(e,t);r!==void 0&&n.add(r)};class d5{constructor(e){this._config=u5(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Ay(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Cy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Rf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Rf(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Rf(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,r=this.type;return Rf(`${r}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let i=r.get(e);return(!i||t)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,t,r){const{options:i,type:s}=this,a=this._cachedScopes(e,r),l=a.get(t);if(l)return l;const o=new Set;t.forEach(c=>{e&&(o.add(e),c.forEach(u=>Kl(o,e,u))),c.forEach(u=>Kl(o,i,u)),c.forEach(u=>Kl(o,Aa[s]||{},u)),c.forEach(u=>Kl(o,$t,u)),c.forEach(u=>Kl(o,M0,u))});const f=Array.from(o);return f.length===0&&f.push(Object.create(null)),Fy.has(t)&&a.set(t,f),f}chartOptionScopes(){const{options:e,type:t}=this;return[e,Aa[t]||{},$t.datasets[t]||{},{type:t},$t,M0]}resolveNamedOptions(e,t,r,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:l}=Dm(this._resolverCache,e,i);let o=a;if(p5(a,t)){s.$shared=!1,r=zs(r)?r():r;const f=this.createResolver(e,r,l);o=wl(a,r,f)}for(const f of t)s[f]=o[f];return s}createResolver(e,t,r=[""],i){const{resolver:s}=Dm(this._resolverCache,e,r);return Ot(t)?wl(s,t,void 0,i):s}}function Dm(n,e,t){let r=n.get(e);r||(r=new Map,n.set(e,r));const i=t.join();let s=r.get(i);return s||(s={resolver:Md(e,t),subPrefixes:t.filter(l=>!l.toLowerCase().includes("hover"))},r.set(i,s)),s}const h5=n=>Ot(n)&&Object.getOwnPropertyNames(n).reduce((e,t)=>e||zs(n[t]),!1);function p5(n,e){const{isScriptable:t,isIndexable:r}=ay(n);for(const i of e){const s=t(i),a=r(i),l=(a||s)&&n[i];if(s&&(zs(l)||h5(l))||a&&fn(l))return!0}return!1}var m5="3.9.1";const _5=["top","bottom","left","right","chartArea"];function Om(n,e){return n==="top"||n==="bottom"||_5.indexOf(n)===-1&&e==="x"}function Mm(n,e){return function(t,r){return t[n]===r[n]?t[e]-r[e]:t[n]-r[n]}}function Im(n){const e=n.chart,t=e.options.animation;e.notifyPlugins("afterRender"),wn(t&&t.onComplete,[n],e)}function g5(n){const e=n.chart,t=e.options.animation;wn(t&&t.onProgress,[n],e)}function Dy(n){return dy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Tc={},Oy=n=>{const e=Dy(n);return Object.values(Tc).filter(t=>t.canvas===e).pop()};function v5(n,e,t){const r=Object.keys(n);for(const i of r){const s=+i;if(s>=e){const a=n[i];delete n[i],(t>0||s>e)&&(n[s+t]=a)}}}function b5(n,e,t,r){return!t||n.type==="mouseout"?null:r?e:n}class Sc{constructor(e,t){const r=this.config=new d5(t),i=Dy(e),s=Oy(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||t5(i)),this.platform.updateConfig(r);const l=this.platform.acquireContext(i,a.aspectRatio),o=l&&l.canvas,f=o&&o.height,c=o&&o.width;if(this.id=rC(),this.ctx=l,this.canvas=o,this.width=c,this.height=f,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new n5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=bC(u=>this.update(u),a.resizeDelay||0),this._dataChanges=[],Tc[this.id]=this,!l||!o){console.error("Failed to create chart: can't acquire context from the given item");return}ds.listen(this,"complete",Im),ds.listen(this,"progress",g5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:i,_aspectRatio:s}=this;return qt(e)?t&&s?s:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():im(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tm(this.canvas,this.ctx),this}stop(){return ds.stop(this),this}resize(e,t){ds.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,im(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),wn(r.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};Jt(t,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,i=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{});let s=[];t&&(s=s.concat(Object.keys(t).map(a=>{const l=t[a],o=L0(a,l),f=o==="r",c=o==="x";return{options:l,dposition:f?"chartArea":c?"bottom":"left",dtype:f?"radialLinear":c?"category":"linear"}}))),Jt(s,a=>{const l=a.options,o=l.id,f=L0(o,l),c=Rt(l.type,a.dtype);(l.position===void 0||Om(l.position,f)!==Om(a.dposition))&&(l.position=a.dposition),i[o]=!0;let u=null;if(o in r&&r[o].type===c)u=r[o];else{const d=Ji.getScale(c);u=new d({id:o,type:c,ctx:this.ctx,chart:this}),r[u.id]=u}u.init(l,e)}),Jt(i,(a,l)=>{a||delete r[l]}),Jt(r,a=>{Lf.configure(this,a,a.options),Lf.addBox(this,a)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((i,s)=>i.index-s.index),r>t){for(let i=t;i<r;++i)this._destroyDatasetMeta(i);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(Mm("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((r,i)=>{t.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=t.length;r<i;r++){const s=t[r];let a=this.getDatasetMeta(r);const l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||P0(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const o=Ji.getController(l),{datasetElementType:f,dataElementType:c}=$t.datasets[l];Object.assign(o.prototype,{dataElementType:Ji.getElement(c),datasetElementType:f&&Ji.getElement(f)}),a.controller=new o(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Jt(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let f=0,c=this.data.datasets.length;f<c;f++){const{controller:u}=this.getDatasetMeta(f),d=!i&&s.indexOf(u)===-1;u.buildOrUpdateElements(d),a=Math.max(+u.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),i||Jt(s,f=>{f.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Mm("z","_idx"));const{_active:l,_lastEvent:o}=this;o?this._eventHandler(o,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){Jt(this.scales,e=>{Lf.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Vp(t,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of t){const a=r==="_removeElements"?-s:s;v5(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=s=>new Set(e.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),i=r(0);for(let s=1;s<t;s++)if(!Vp(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Lf.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Jt(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,r=this.data.datasets.length;t<r;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,zs(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ds.has(this)?this.attached&&!ds.running(this)&&ds.start(this):(this.draw(),Im({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let i,s;for(i=0,s=t.length;i<s;++i){const a=t[i];(!e||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r=e._clip,i=!r.disabled,s=this.chartArea,a={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(i&&Fd(t,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),e.controller.draw(),i&&Dd(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return Oo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,i){const s=NF.modes[t];return typeof s=="function"?s(this,e,r,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let i=r.filter(s=>s&&s._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Zs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!t.hidden}setDatasetVisibility(e,t){const r=this.getDatasetMeta(e);r.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const i=r?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);Ei(t)?(s.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ds.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),tm(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Tc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(s,a)=>{t.addEventListener(this,s,a),e[s]=a},i=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};Jt(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(o,f)=>{t.addEventListener(this,o,f),e[o]=f},i=(o,f)=>{e[o]&&(t.removeEventListener(this,o,f),delete e[o])},s=(o,f)=>{this.canvas&&this.resize(o,f)};let a;const l=()=>{i("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",l)},t.isAttached(this.canvas)?l():a()}unbindEvents(){Jt(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Jt(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const i=r?"set":"remove";let s,a,l,o;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),l=0,o=e.length;l<o;++l){a=e[l];const f=a&&this.getDatasetMeta(a.datasetIndex).controller;f&&f[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(({datasetIndex:s,index:a})=>{const l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!mc(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}_updateHoverStyles(e,t,r){const i=this.options.hover,s=(o,f)=>o.filter(c=>!f.some(u=>c.datasetIndex===u.datasetIndex&&c.index===u.index)),a=s(t,e),l=r?e:s(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),l.length&&i.mode&&this.updateHoverStyle(l,i.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:i=[],options:s}=this,a=t,l=this._getActiveElements(e,i,r,a),o=fC(e),f=b5(e,this._lastEvent,r,o);r&&(this._lastEvent=null,wn(s.onHover,[e,l,this],this),o&&wn(s.onClick,[e,l,this],this));const c=!mc(l,i);return(c||t)&&(this._active=l,this._updateHoverStyles(l,i,t)),this._lastEvent=f,c}_getActiveElements(e,t,r,i){if(e.type==="mouseout")return[];if(!r)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}}const Nm=()=>Jt(Sc.instances,n=>n._plugins.invalidate()),Ds=!0;Object.defineProperties(Sc,{defaults:{enumerable:Ds,value:$t},instances:{enumerable:Ds,value:Tc},overrides:{enumerable:Ds,value:Aa},registry:{enumerable:Ds,value:Ji},version:{enumerable:Ds,value:m5},getChart:{enumerable:Ds,value:Oy},register:{enumerable:Ds,value:(...n)=>{Ji.add(...n),Nm()}},unregister:{enumerable:Ds,value:(...n)=>{Ji.remove(...n),Nm()}}});function My(n,e,t){const{startAngle:r,pixelMargin:i,x:s,y:a,outerRadius:l,innerRadius:o}=e;let f=i/l;n.beginPath(),n.arc(s,a,l,r-f,t+f),o>i?(f=i/o,n.arc(s,a,o,t+f,r-f,!0)):n.arc(s,a,i,t+yn,r-yn),n.closePath(),n.clip()}function w5(n){return Od(n,["outerStart","outerEnd","innerStart","innerEnd"])}function k5(n,e,t,r){const i=w5(n.options.borderRadius),s=(t-e)/2,a=Math.min(s,r*e/2),l=o=>{const f=(t-Math.min(s,o))*r/2;return wr(o,0,Math.min(s,f))};return{outerStart:l(i.outerStart),outerEnd:l(i.outerEnd),innerStart:wr(i.innerStart,0,a),innerEnd:wr(i.innerEnd,0,a)}}function Ka(n,e,t,r){return{x:t+n*Math.cos(e),y:r+n*Math.sin(e)}}function R0(n,e,t,r,i,s){const{x:a,y:l,startAngle:o,pixelMargin:f,innerRadius:c}=e,u=Math.max(e.outerRadius+r+t-f,0),d=c>0?c+r+t+f:0;let h=0;const m=i-o;if(r){const ne=c>0?c-r:0,V=u>0?u-r:0,se=(ne+V)/2,ue=se!==0?m*se/(se+r):m;h=(m-ue)/2}const p=Math.max(.001,m*u-t/Cn)/u,g=(m-p)/2,v=o+g+h,w=i-g-h,{outerStart:k,outerEnd:x,innerStart:A,innerEnd:T}=k5(e,d,u,w-v),C=u-k,F=u-x,O=v+k/C,I=w-x/F,N=d+A,P=d+T,R=v+A/N,Y=w-T/P;if(n.beginPath(),s){if(n.arc(a,l,u,O,I),x>0){const se=Ka(F,I,a,l);n.arc(se.x,se.y,x,I,w+yn)}const ne=Ka(P,w,a,l);if(n.lineTo(ne.x,ne.y),T>0){const se=Ka(P,Y,a,l);n.arc(se.x,se.y,T,w+yn,Y+Math.PI)}if(n.arc(a,l,d,w-T/d,v+A/d,!0),A>0){const se=Ka(N,R,a,l);n.arc(se.x,se.y,A,R+Math.PI,v-yn)}const V=Ka(C,v,a,l);if(n.lineTo(V.x,V.y),k>0){const se=Ka(C,O,a,l);n.arc(se.x,se.y,k,v-yn,O)}}else{n.moveTo(a,l);const ne=Math.cos(O)*u+a,V=Math.sin(O)*u+l;n.lineTo(ne,V);const se=Math.cos(I)*u+a,ue=Math.sin(I)*u+l;n.lineTo(se,ue)}n.closePath()}function y5(n,e,t,r,i){const{fullCircles:s,startAngle:a,circumference:l}=e;let o=e.endAngle;if(s){R0(n,e,t,r,a+en,i);for(let f=0;f<s;++f)n.fill();isNaN(l)||(o=a+l%en,l%en===0&&(o+=en))}return R0(n,e,t,r,o,i),n.fill(),o}function x5(n,e,t){const{x:r,y:i,startAngle:s,pixelMargin:a,fullCircles:l}=e,o=Math.max(e.outerRadius-a,0),f=e.innerRadius+a;let c;for(t&&My(n,e,s+en),n.beginPath(),n.arc(r,i,f,s+en,s,!0),c=0;c<l;++c)n.stroke();for(n.beginPath(),n.arc(r,i,o,s,s+en),c=0;c<l;++c)n.stroke()}function T5(n,e,t,r,i,s){const{options:a}=e,{borderWidth:l,borderJoinStyle:o}=a,f=a.borderAlign==="inner";l&&(f?(n.lineWidth=l*2,n.lineJoin=o||"round"):(n.lineWidth=l,n.lineJoin=o||"bevel"),e.fullCircles&&x5(n,e,f),f&&My(n,e,i),R0(n,e,t,r,i,s),n.stroke())}class Hd extends Ts{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.getProps(["x","y"],r),{angle:s,distance:a}=Yk(i,{x:e,y:t}),{startAngle:l,endAngle:o,innerRadius:f,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),d=this.options.spacing/2,m=Rt(u,o-l)>=en||Fo(s,l,o),p=Do(a,f+d,c+d);return m&&p}getCenterPoint(e){const{x:t,y:r,startAngle:i,endAngle:s,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:o,spacing:f}=this.options,c=(i+s)/2,u=(a+l+f+o)/2;return{x:t+Math.cos(c)*u,y:r+Math.sin(c)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,i=(t.offset||0)/2,s=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=r>en?Math.floor(r/en):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let l=0;if(i){l=i/2;const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*l,Math.sin(f)*l),this.circumference>=Cn&&(l=i)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const o=y5(e,this,l,s,a);T5(e,this,l,s,o,a),e.restore()}}Hd.id="arc";Hd.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Hd.defaultRoutes={backgroundColor:"backgroundColor"};function Iy(n,e,t=e){n.lineCap=Rt(t.borderCapStyle,e.borderCapStyle),n.setLineDash(Rt(t.borderDash,e.borderDash)),n.lineDashOffset=Rt(t.borderDashOffset,e.borderDashOffset),n.lineJoin=Rt(t.borderJoinStyle,e.borderJoinStyle),n.lineWidth=Rt(t.borderWidth,e.borderWidth),n.strokeStyle=Rt(t.borderColor,e.borderColor)}function S5(n,e,t){n.lineTo(t.x,t.y)}function E5(n){return n.stepped?YC:n.tension||n.cubicInterpolationMode==="monotone"?GC:S5}function Ny(n,e,t={}){const r=n.length,{start:i=0,end:s=r-1}=t,{start:a,end:l}=e,o=Math.max(i,a),f=Math.min(s,l),c=i<a&&s<a||i>l&&s>l;return{count:r,start:o,loop:e.loop,ilen:f<o&&!c?r+f-o:f-o}}function C5(n,e,t,r){const{points:i,options:s}=e,{count:a,start:l,loop:o,ilen:f}=Ny(i,t,r),c=E5(s);let{move:u=!0,reverse:d}=r||{},h,m,p;for(h=0;h<=f;++h)m=i[(l+(d?f-h:h))%a],!m.skip&&(u?(n.moveTo(m.x,m.y),u=!1):c(n,p,m,d,s.stepped),p=m);return o&&(m=i[(l+(d?f:0))%a],c(n,p,m,d,s.stepped)),!!o}function A5(n,e,t,r){const i=e.points,{count:s,start:a,ilen:l}=Ny(i,t,r),{move:o=!0,reverse:f}=r||{};let c=0,u=0,d,h,m,p,g,v;const w=x=>(a+(f?l-x:x))%s,k=()=>{p!==g&&(n.lineTo(c,g),n.lineTo(c,p),n.lineTo(c,v))};for(o&&(h=i[w(0)],n.moveTo(h.x,h.y)),d=0;d<=l;++d){if(h=i[w(d)],h.skip)continue;const x=h.x,A=h.y,T=x|0;T===m?(A<p?p=A:A>g&&(g=A),c=(u*c+x)/++u):(k(),n.lineTo(x,A),m=T,u=0,p=g=A),v=A}k()}function $0(n){const e=n.options,t=e.borderDash&&e.borderDash.length;return!n._decimated&&!n._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?A5:C5}function F5(n){return n.stepped?SA:n.tension||n.cubicInterpolationMode==="monotone"?EA:pa}function D5(n,e,t,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,t,r)&&i.closePath()),Iy(n,e.options),n.stroke(i)}function O5(n,e,t,r){const{segments:i,options:s}=e,a=$0(e);for(const l of i)Iy(n,s,l.style),n.beginPath(),a(n,e,l,{start:t,end:t+r-1})&&n.closePath(),n.stroke()}const M5=typeof Path2D=="function";function I5(n,e,t,r){M5&&!e.options.segment?D5(n,e,t,r):O5(n,e,t,r)}class Qs extends Ts{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;gA(this._points,r,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=PA(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,i=e[t],s=this.points,a=my(this,{property:t,start:i,end:i});if(!a.length)return;const l=[],o=F5(r);let f,c;for(f=0,c=a.length;f<c;++f){const{start:u,end:d}=a[f],h=s[u],m=s[d];if(h===m){l.push(h);continue}const p=Math.abs((i-h[t])/(m[t]-h[t])),g=o(h,m,p,r.stepped);g[t]=e[t],l.push(g)}return l.length===1?l[0]:l}pathSegment(e,t,r){return $0(this)(e,this,t,r)}path(e,t,r){const i=this.segments,s=$0(this);let a=this._loop;t=t||0,r=r||this.points.length-t;for(const l of i)a&=s(e,this,l,{start:t,end:t+r-1});return!!a}draw(e,t,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),I5(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Qs.id="line";Qs.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};Qs.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};Qs.descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};function Pm(n,e,t,r){const i=n.options,{[t]:s}=n.getProps([t],r);return Math.abs(e-s)<i.radius+i.hitRadius}class nu extends Ts{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const i=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return Pm(this,e,"x",t)}inYRange(e,t){return Pm(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const r=t&&e.borderWidth||0;return(t+r)*2}draw(e,t){const r=this.options;this.skip||r.radius<.1||!Oo(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,I0(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}nu.id="point";nu.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};nu.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function Py(n,e){const{x:t,y:r,base:i,width:s,height:a}=n.getProps(["x","y","base","width","height"],e);let l,o,f,c,u;return n.horizontal?(u=a/2,l=Math.min(t,i),o=Math.max(t,i),f=r-u,c=r+u):(u=s/2,l=t-u,o=t+u,f=Math.min(r,i),c=Math.max(r,i)),{left:l,top:f,right:o,bottom:c}}function Ps(n,e,t,r){return n?0:wr(e,t,r)}function N5(n,e,t){const r=n.options.borderWidth,i=n.borderSkipped,s=sy(r);return{t:Ps(i.top,s.top,0,t),r:Ps(i.right,s.right,0,e),b:Ps(i.bottom,s.bottom,0,t),l:Ps(i.left,s.left,0,e)}}function P5(n,e,t){const{enableBorderRadius:r}=n.getProps(["enableBorderRadius"]),i=n.options.borderRadius,s=ol(i),a=Math.min(e,t),l=n.borderSkipped,o=r||Ot(i);return{topLeft:Ps(!o||l.top||l.left,s.topLeft,0,a),topRight:Ps(!o||l.top||l.right,s.topRight,0,a),bottomLeft:Ps(!o||l.bottom||l.left,s.bottomLeft,0,a),bottomRight:Ps(!o||l.bottom||l.right,s.bottomRight,0,a)}}function L5(n){const e=Py(n),t=e.right-e.left,r=e.bottom-e.top,i=N5(n,t/2,r/2),s=P5(n,t/2,r/2);return{outer:{x:e.left,y:e.top,w:t,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:t-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function Bu(n,e,t,r){const i=e===null,s=t===null,l=n&&!(i&&s)&&Py(n,r);return l&&(i||Do(e,l.left,l.right))&&(s||Do(t,l.top,l.bottom))}function R5(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function $5(n,e){n.rect(e.x,e.y,e.w,e.h)}function Uu(n,e,t={}){const r=n.x!==t.x?-e:0,i=n.y!==t.y?-e:0,s=(n.x+n.w!==t.x+t.w?e:0)-r,a=(n.y+n.h!==t.y+t.h?e:0)-i;return{x:n.x+r,y:n.y+i,w:n.w+s,h:n.h+a,radius:n.radius}}class Vd extends Ts{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:a}=L5(this),l=R5(a.radius)?kc:$5;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),l(e,Uu(a,t,s)),e.clip(),l(e,Uu(s,-t,a)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),l(e,Uu(s,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,r){return Bu(this,e,t,r)}inXRange(e,t){return Bu(this,e,null,t)}inYRange(e,t){return Bu(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+i)/2:t,y:s?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Vd.id="bar";Vd.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Vd.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function B5(n,e,t){const r=n.segments,i=n.points,s=e.points,a=[];for(const l of r){let{start:o,end:f}=l;f=Wd(o,f,i);const c=B0(t,i[o],i[f],l.loop);if(!e.segments){a.push({source:l,target:c,start:i[o],end:i[f]});continue}const u=my(e,c);for(const d of u){const h=B0(t,s[d.start],s[d.end],d.loop),m=py(l,i,h);for(const p of m)a.push({source:p,target:d,start:{[t]:Lm(c,h,"start",Math.max)},end:{[t]:Lm(c,h,"end",Math.min)}})}}return a}function B0(n,e,t,r){if(r)return;let i=e[n],s=t[n];return n==="angle"&&(i=Kr(i),s=Kr(s)),{property:n,start:i,end:s}}function U5(n,e){const{x:t=null,y:r=null}=n||{},i=e.points,s=[];return e.segments.forEach(({start:a,end:l})=>{l=Wd(a,l,i);const o=i[a],f=i[l];r!==null?(s.push({x:o.x,y:r}),s.push({x:f.x,y:r})):t!==null&&(s.push({x:t,y:o.y}),s.push({x:t,y:f.y}))}),s}function Wd(n,e,t){for(;e>n;e--){const r=t[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function Lm(n,e,t,r){return n&&e?r(n[t],e[t]):n?n[t]:e?e[t]:0}function Ly(n,e){let t=[],r=!1;return fn(n)?(r=!0,t=n):t=U5(n,e),t.length?new Qs({points:t,options:{tension:0},_loop:r,_fullLoop:r}):null}function Rm(n){return n&&n.fill!==!1}function H5(n,e,t){let i=n[e].fill;const s=[e];let a;if(!t)return i;for(;i!==!1&&s.indexOf(i)===-1;){if(!On(i))return i;if(a=n[i],!a)return!1;if(a.visible)return i;s.push(i),i=a.fill}return!1}function V5(n,e,t){const r=q5(n);if(Ot(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return On(i)&&Math.floor(i)===i?W5(r[0],e,i,t):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function W5(n,e,t,r){return(n==="-"||n==="+")&&(t=e+t),t===e||t<0||t>=r?!1:t}function j5(n,e){let t=null;return n==="start"?t=e.bottom:n==="end"?t=e.top:Ot(n)?t=e.getPixelForValue(n.value):e.getBasePixel&&(t=e.getBasePixel()),t}function z5(n,e,t){let r;return n==="start"?r=t:n==="end"?r=e.options.reverse?e.min:e.max:Ot(n)?r=n.value:r=e.getBaseValue(),r}function q5(n){const e=n.options,t=e.fill;let r=Rt(t&&t.target,t);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function Y5(n){const{scale:e,index:t,line:r}=n,i=[],s=r.segments,a=r.points,l=G5(e,t);l.push(Ly({x:null,y:e.bottom},r));for(let o=0;o<s.length;o++){const f=s[o];for(let c=f.start;c<=f.end;c++)X5(i,a[c],l)}return new Qs({points:i,options:{}})}function G5(n,e){const t=[],r=n.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const s=r[i];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function X5(n,e,t){const r=[];for(let i=0;i<t.length;i++){const s=t[i],{first:a,last:l,point:o}=K5(s,e,"x");if(!(!o||a&&l)){if(a)r.unshift(o);else if(n.push(o),!l)break}}n.push(...r)}function K5(n,e,t){const r=n.interpolate(e,t);if(!r)return{};const i=r[t],s=n.segments,a=n.points;let l=!1,o=!1;for(let f=0;f<s.length;f++){const c=s[f],u=a[c.start][t],d=a[c.end][t];if(Do(i,u,d)){l=i===u,o=i===d;break}}return{first:l,last:o,point:r}}class Ry{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,r){const{x:i,y:s,radius:a}=this;return t=t||{start:0,end:en},e.arc(i,s,a,t.end,t.start,!0),!r.bounds}interpolate(e){const{x:t,y:r,radius:i}=this,s=e.angle;return{x:t+Math.cos(s)*i,y:r+Math.sin(s)*i,angle:s}}}function J5(n){const{chart:e,fill:t,line:r}=n;if(On(t))return Z5(e,t);if(t==="stack")return Y5(n);if(t==="shape")return!0;const i=Q5(n);return i instanceof Ry?i:Ly(i,r)}function Z5(n,e){const t=n.getDatasetMeta(e);return t&&n.isDatasetVisible(e)?t.dataset:null}function Q5(n){return(n.scale||{}).getPointPositionForValue?t6(n):e6(n)}function e6(n){const{scale:e={},fill:t}=n,r=j5(t,e);if(On(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function t6(n){const{scale:e,fill:t}=n,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,a=z5(t,e,s),l=[];if(r.grid.circular){const o=e.getPointPositionForValue(0,s);return new Ry({x:o.x,y:o.y,radius:e.getDistanceFromCenterForValue(a)})}for(let o=0;o<i;++o)l.push(e.getPointPositionForValue(o,a));return l}function Hu(n,e,t){const r=J5(e),{line:i,scale:s,axis:a}=e,l=i.options,o=l.fill,f=l.backgroundColor,{above:c=f,below:u=f}=o||{};r&&i.points.length&&(Fd(n,t),n6(n,{line:i,target:r,above:c,below:u,area:t,scale:s,axis:a}),Dd(n))}function n6(n,e){const{line:t,target:r,above:i,below:s,area:a,scale:l}=e,o=t._loop?"angle":e.axis;n.save(),o==="x"&&s!==i&&($m(n,r,a.top),Bm(n,{line:t,target:r,color:i,scale:l,property:o}),n.restore(),n.save(),$m(n,r,a.bottom)),Bm(n,{line:t,target:r,color:s,scale:l,property:o}),n.restore()}function $m(n,e,t){const{segments:r,points:i}=e;let s=!0,a=!1;n.beginPath();for(const l of r){const{start:o,end:f}=l,c=i[o],u=i[Wd(o,f,i)];s?(n.moveTo(c.x,c.y),s=!1):(n.lineTo(c.x,t),n.lineTo(c.x,c.y)),a=!!e.pathSegment(n,l,{move:a}),a?n.closePath():n.lineTo(u.x,t)}n.lineTo(e.first().x,t),n.closePath(),n.clip()}function Bm(n,e){const{line:t,target:r,property:i,color:s,scale:a}=e,l=B5(t,r,i);for(const{source:o,target:f,start:c,end:u}of l){const{style:{backgroundColor:d=s}={}}=o,h=r!==!0;n.save(),n.fillStyle=d,r6(n,a,h&&B0(i,c,u)),n.beginPath();const m=!!t.pathSegment(n,o);let p;if(h){m?n.closePath():Um(n,r,u,i);const g=!!r.pathSegment(n,f,{move:m,reverse:!0});p=m&&g,p||Um(n,r,c,i)}n.closePath(),n.fill(p?"evenodd":"nonzero"),n.restore()}}function r6(n,e,t){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:a,end:l}=t||{};s==="x"&&(n.beginPath(),n.rect(a,r,l-a,i-r),n.clip())}function Um(n,e,t,r){const i=e.interpolate(t,r);i&&n.lineTo(i.x,i.y)}var i6={id:"filler",afterDatasetsUpdate(n,e,t){const r=(n.data.datasets||[]).length,i=[];let s,a,l,o;for(a=0;a<r;++a)s=n.getDatasetMeta(a),l=s.dataset,o=null,l&&l.options&&l instanceof Qs&&(o={visible:n.isDatasetVisible(a),index:a,fill:V5(l,a,r),chart:n,axis:s.controller.options.indexAxis,scale:s.vScale,line:l}),s.$filler=o,i.push(o);for(a=0;a<r;++a)o=i[a],!(!o||o.fill===!1)&&(o.fill=H5(i,a,t.propagate))},beforeDraw(n,e,t){const r=t.drawTime==="beforeDraw",i=n.getSortedVisibleDatasetMetas(),s=n.chartArea;for(let a=i.length-1;a>=0;--a){const l=i[a].$filler;l&&(l.line.updateControlPoints(s,l.axis),r&&l.fill&&Hu(n.ctx,l,s))}},beforeDatasetsDraw(n,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const r=n.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const s=r[i].$filler;Rm(s)&&Hu(n.ctx,s,n.chartArea)}},beforeDatasetDraw(n,e,t){const r=e.meta.$filler;!Rm(r)||t.drawTime!=="beforeDatasetDraw"||Hu(n.ctx,r,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ho={average(n){if(!n.length)return!1;let e,t,r=0,i=0,s=0;for(e=0,t=n.length;e<t;++e){const a=n[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r+=l.x,i+=l.y,++s}}return{x:r/s,y:i/s}},nearest(n,e){if(!n.length)return!1;let t=e.x,r=e.y,i=Number.POSITIVE_INFINITY,s,a,l;for(s=0,a=n.length;s<a;++s){const o=n[s].element;if(o&&o.hasValue()){const f=o.getCenterPoint(),c=D0(e,f);c<i&&(i=c,l=o)}}if(l){const o=l.tooltipPosition();t=o.x,r=o.y}return{x:t,y:r}}};function Yi(n,e){return e&&(fn(e)?Array.prototype.push.apply(n,e):n.push(e)),n}function hs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function s6(n,e){const{element:t,datasetIndex:r,index:i}=e,s=n.getDatasetMeta(r).controller,{label:a,value:l}=s.getLabelAndValue(i);return{chart:n,label:a,parsed:s.getParsed(i),raw:n.data.datasets[r].data[i],formattedValue:l,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:t}}function Hm(n,e){const t=n.chart.ctx,{body:r,footer:i,title:s}=n,{boxWidth:a,boxHeight:l}=e,o=ei(e.bodyFont),f=ei(e.titleFont),c=ei(e.footerFont),u=s.length,d=i.length,h=r.length,m=Ci(e.padding);let p=m.height,g=0,v=r.reduce((x,A)=>x+A.before.length+A.lines.length+A.after.length,0);if(v+=n.beforeBody.length+n.afterBody.length,u&&(p+=u*f.lineHeight+(u-1)*e.titleSpacing+e.titleMarginBottom),v){const x=e.displayColors?Math.max(l,o.lineHeight):o.lineHeight;p+=h*x+(v-h)*o.lineHeight+(v-1)*e.bodySpacing}d&&(p+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let w=0;const k=function(x){g=Math.max(g,t.measureText(x).width+w)};return t.save(),t.font=f.string,Jt(n.title,k),t.font=o.string,Jt(n.beforeBody.concat(n.afterBody),k),w=e.displayColors?a+2+e.boxPadding:0,Jt(r,x=>{Jt(x.before,k),Jt(x.lines,k),Jt(x.after,k)}),w=0,t.font=c.string,Jt(n.footer,k),t.restore(),g+=m.width,{width:g,height:p}}function a6(n,e){const{y:t,height:r}=e;return t<r/2?"top":t>n.height-r/2?"bottom":"center"}function l6(n,e,t,r){const{x:i,width:s}=r,a=t.caretSize+t.caretPadding;if(n==="left"&&i+s+a>e.width||n==="right"&&i-s-a<0)return!0}function o6(n,e,t,r){const{x:i,width:s}=t,{width:a,chartArea:{left:l,right:o}}=n;let f="center";return r==="center"?f=i<=(l+o)/2?"left":"right":i<=s/2?f="left":i>=a-s/2&&(f="right"),l6(f,n,e,t)&&(f="center"),f}function Vm(n,e,t){const r=t.yAlign||e.yAlign||a6(n,t);return{xAlign:t.xAlign||e.xAlign||o6(n,e,t,r),yAlign:r}}function f6(n,e){let{x:t,width:r}=n;return e==="right"?t-=r:e==="center"&&(t-=r/2),t}function c6(n,e,t){let{y:r,height:i}=n;return e==="top"?r+=t:e==="bottom"?r-=i+t:r-=i/2,r}function Wm(n,e,t,r){const{caretSize:i,caretPadding:s,cornerRadius:a}=n,{xAlign:l,yAlign:o}=t,f=i+s,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=ol(a);let m=f6(e,l);const p=c6(e,o,f);return o==="center"?l==="left"?m+=f:l==="right"&&(m-=f):l==="left"?m-=Math.max(c,d)+i:l==="right"&&(m+=Math.max(u,h)+i),{x:wr(m,0,r.width-e.width),y:wr(p,0,r.height-e.height)}}function $f(n,e,t){const r=Ci(t.padding);return e==="center"?n.x+n.width/2:e==="right"?n.x+n.width-r.right:n.x+r.left}function jm(n){return Yi([],hs(n))}function u6(n,e,t){return Zs(n,{tooltip:e,tooltipItems:t,type:"tooltip"})}function zm(n,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?n.override(t):n}class U0 extends Ts{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&t.options.animation&&r.animations,s=new _y(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=u6(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:r}=t,i=r.beforeTitle.apply(this,[e]),s=r.title.apply(this,[e]),a=r.afterTitle.apply(this,[e]);let l=[];return l=Yi(l,hs(i)),l=Yi(l,hs(s)),l=Yi(l,hs(a)),l}getBeforeBody(e,t){return jm(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:r}=t,i=[];return Jt(e,s=>{const a={before:[],lines:[],after:[]},l=zm(r,s);Yi(a.before,hs(l.beforeLabel.call(this,s))),Yi(a.lines,l.label.call(this,s)),Yi(a.after,hs(l.afterLabel.call(this,s))),i.push(a)}),i}getAfterBody(e,t){return jm(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:r}=t,i=r.beforeFooter.apply(this,[e]),s=r.footer.apply(this,[e]),a=r.afterFooter.apply(this,[e]);let l=[];return l=Yi(l,hs(i)),l=Yi(l,hs(s)),l=Yi(l,hs(a)),l}_createItems(e){const t=this._active,r=this.chart.data,i=[],s=[],a=[];let l=[],o,f;for(o=0,f=t.length;o<f;++o)l.push(s6(this.chart,t[o]));return e.filter&&(l=l.filter((c,u,d)=>e.filter(c,u,d,r))),e.itemSort&&(l=l.sort((c,u)=>e.itemSort(c,u,r))),Jt(l,c=>{const u=zm(e.callbacks,c);i.push(u.labelColor.call(this,c)),s.push(u.labelPointStyle.call(this,c)),a.push(u.labelTextColor.call(this,c))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const r=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const l=ho[r.position].call(this,i,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const o=this._size=Hm(this,r),f=Object.assign({},l,o),c=Vm(this.chart,r,f),u=Wm(r,f,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:u.x,y:u.y,width:o.width,height:o.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,i){const s=this.getCaretPosition(e,r,i);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,r){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:o,topRight:f,bottomLeft:c,bottomRight:u}=ol(l),{x:d,y:h}=e,{width:m,height:p}=t;let g,v,w,k,x,A;return s==="center"?(x=h+p/2,i==="left"?(g=d,v=g-a,k=x+a,A=x-a):(g=d+m,v=g+a,k=x-a,A=x+a),w=g):(i==="left"?v=d+Math.max(o,c)+a:i==="right"?v=d+m-Math.max(f,u)-a:v=this.caretX,s==="top"?(k=h,x=k-a,g=v-a,w=v+a):(k=h+p,x=k+a,g=v+a,w=v-a),A=k),{x1:g,x2:v,x3:w,y1:k,y2:x,y3:A}}drawTitle(e,t,r){const i=this.title,s=i.length;let a,l,o;if(s){const f=Mu(r.rtl,this.x,this.width);for(e.x=$f(this,r.titleAlign,r),t.textAlign=f.textAlign(r.titleAlign),t.textBaseline="middle",a=ei(r.titleFont),l=r.titleSpacing,t.fillStyle=r.titleColor,t.font=a.string,o=0;o<s;++o)t.fillText(i[o],f.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,o+1===s&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,t,r,i,s){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:o,boxWidth:f,boxPadding:c}=s,u=ei(s.bodyFont),d=$f(this,"left",s),h=i.x(d),m=o<u.lineHeight?(u.lineHeight-o)/2:0,p=t.y+m;if(s.usePointStyle){const g={radius:Math.min(f,o)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},v=i.leftForLtr(h,f)+f/2,w=p+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,I0(e,g,v,w),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,I0(e,g,v,w)}else{e.lineWidth=Ot(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const g=i.leftForLtr(h,f-c),v=i.leftForLtr(i.xPlus(h,1),f-c-2),w=ol(a.borderRadius);Object.values(w).some(k=>k!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,kc(e,{x:g,y:p,w:f,h:o,radius:w}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),kc(e,{x:v,y:p+1,w:f-2,h:o-2,radius:w}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(g,p,f,o),e.strokeRect(g,p,f,o),e.fillStyle=a.backgroundColor,e.fillRect(v,p+1,f-2,o-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:o,boxWidth:f,boxPadding:c}=r,u=ei(r.bodyFont);let d=u.lineHeight,h=0;const m=Mu(r.rtl,this.x,this.width),p=function(F){t.fillText(F,m.x(e.x+h),e.y+d/2),e.y+=d+s},g=m.textAlign(a);let v,w,k,x,A,T,C;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=$f(this,g,r),t.fillStyle=r.bodyColor,Jt(this.beforeBody,p),h=l&&g!=="right"?a==="center"?f/2+c:f+2+c:0,x=0,T=i.length;x<T;++x){for(v=i[x],w=this.labelTextColors[x],t.fillStyle=w,Jt(v.before,p),k=v.lines,l&&k.length&&(this._drawColorBox(t,e,x,m,r),d=Math.max(u.lineHeight,o)),A=0,C=k.length;A<C;++A)p(k[A]),d=u.lineHeight;Jt(v.after,p)}h=0,d=u.lineHeight,Jt(this.afterBody,p),e.y-=s}drawFooter(e,t,r){const i=this.footer,s=i.length;let a,l;if(s){const o=Mu(r.rtl,this.x,this.width);for(e.x=$f(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=o.textAlign(r.footerAlign),t.textBaseline="middle",a=ei(r.footerFont),t.fillStyle=r.footerColor,t.font=a.string,l=0;l<s;++l)t.fillText(i[l],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,t,r,i){const{xAlign:s,yAlign:a}=this,{x:l,y:o}=e,{width:f,height:c}=r,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:m}=ol(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(l+u,o),a==="top"&&this.drawCaret(e,t,r,i),t.lineTo(l+f-d,o),t.quadraticCurveTo(l+f,o,l+f,o+d),a==="center"&&s==="right"&&this.drawCaret(e,t,r,i),t.lineTo(l+f,o+c-m),t.quadraticCurveTo(l+f,o+c,l+f-m,o+c),a==="bottom"&&this.drawCaret(e,t,r,i),t.lineTo(l+h,o+c),t.quadraticCurveTo(l,o+c,l,o+c-h),a==="center"&&s==="left"&&this.drawCaret(e,t,r,i),t.lineTo(l,o+u),t.quadraticCurveTo(l,o,l+u,o),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const a=ho[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=Hm(this,e),o=Object.assign({},a,this._size),f=Vm(t,e,o),c=Wm(e,o,f,t);(i._to!==c.x||s._to!==c.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Ci(t.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&l&&(e.save(),e.globalAlpha=r,this.drawBackground(s,e,i,t),DA(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),OA(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,i=e.map(({datasetIndex:l,index:o})=>{const f=this.chart.getDatasetMeta(l);if(!f)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:f.data[o],index:o}}),s=!mc(r,i),a=this._positionChanged(i,t);(s||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,r=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,r),l=this._positionChanged(a,e),o=t||!mc(a,s)||l;return o&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,r,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return t;const a=this.chart.getElementsAtEventForMode(e,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:r,caretY:i,options:s}=this,a=ho[s.position].call(this,e,t);return a!==!1&&(r!==a.x||i!==a.y)}}U0.positioners=ho;var d6={id:"tooltip",_element:U0,positioners:ho,afterInit(n,e,t){t&&(n.tooltip=new U0({chart:n,options:t}))},beforeUpdate(n,e,t){n.tooltip&&n.tooltip.initialize(t)},reset(n,e,t){n.tooltip&&n.tooltip.initialize(t)},afterDraw(n){const e=n.tooltip;if(e&&e._willRender()){const t={tooltip:e};if(n.notifyPlugins("beforeTooltipDraw",t)===!1)return;e.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",t)}},afterEvent(n,e){if(n.tooltip){const t=e.replay;n.tooltip.handleEvent(e.event,t,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,e)=>e.bodyFont.size,boxWidth:(n,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:us,title(n){if(n.length>0){const e=n[0],t=e.chart.data.labels,r=t?t.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return t[e.dataIndex]}return""},afterTitle:us,beforeBody:us,beforeLabel:us,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let e=n.dataset.label||"";e&&(e+=": ");const t=n.formattedValue;return qt(t)||(e+=t),e},labelColor(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const t=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:us,afterBody:us,beforeFooter:us,footer:us,afterFooter:us}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const h6=(n,e,t,r)=>(typeof e=="string"?(t=n.push(e)-1,r.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function p6(n,e,t,r){const i=n.indexOf(e);if(i===-1)return h6(n,e,t,r);const s=n.lastIndexOf(e);return i!==s?t:i}const m6=(n,e)=>n===null?null:wr(Math.round(n),0,e);class H0 extends Ra{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const r=this.getLabels();for(const{index:i,label:s}of t)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(qt(e))return null;const r=this.getLabels();return t=isFinite(t)&&r[t]===e?t:p6(r,e,Rt(t,e),this._addedLabels),m6(t,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),t||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=e;a<=t;a++)i.push({value:a});return i}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}H0.id="category";H0.defaults={ticks:{callback:H0.prototype.getLabelForValue}};function _6(n,e){const t=[],{bounds:i,step:s,min:a,max:l,precision:o,count:f,maxTicks:c,maxDigits:u,includeBounds:d}=n,h=s||1,m=c-1,{min:p,max:g}=e,v=!qt(a),w=!qt(l),k=!qt(f),x=(g-p)/(u+1);let A=jp((g-p)/m/h)*h,T,C,F,O;if(A<1e-14&&!v&&!w)return[{value:p},{value:g}];O=Math.ceil(g/A)-Math.floor(p/A),O>m&&(A=jp(O*A/m/h)*h),qt(o)||(T=Math.pow(10,o),A=Math.ceil(A*T)/T),i==="ticks"?(C=Math.floor(p/A)*A,F=Math.ceil(g/A)*A):(C=p,F=g),v&&w&&s&&hC((l-a)/s,A/1e3)?(O=Math.round(Math.min((l-a)/A,c)),A=(l-a)/O,C=a,F=l):k?(C=v?a:C,F=w?l:F,O=f-1,A=(F-C)/O):(O=(F-C)/A,fo(O,Math.round(O),A/1e3)?O=Math.round(O):O=Math.ceil(O));const I=Math.max(zp(A),zp(C));T=Math.pow(10,qt(o)?I:o),C=Math.round(C*T)/T,F=Math.round(F*T)/T;let N=0;for(v&&(d&&C!==a?(t.push({value:a}),C<a&&N++,fo(Math.round((C+N*A)*T)/T,a,qm(a,x,n))&&N++):C<a&&N++);N<O;++N)t.push({value:Math.round((C+N*A)*T)/T});return w&&d&&F!==l?t.length&&fo(t[t.length-1].value,l,qm(l,x,n))?t[t.length-1].value=l:t.push({value:l}):(!w||F===l)&&t.push({value:F}),t}function qm(n,e,{horizontal:t,minRotation:r}){const i=Li(r),s=(t?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+n).length;return Math.min(e/s,a)}class Ec extends Ra{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return qt(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const a=o=>i=t?i:o,l=o=>s=r?s:o;if(e){const o=Qi(i),f=Qi(s);o<0&&f<0?l(0):o>0&&f>0&&a(0)}if(i===s){let o=1;(s>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(o=Math.abs(s*.05)),l(s+o),e||a(i-o)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),t=t||11),t&&(i=Math.min(t,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,a=_6(i,s);return e.bounds==="ticks"&&qk(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-t)/Math.max(e.length-1,1)/2;t-=i,r+=i}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return af(e,this.chart.options.locale,this.options.ticks.format)}}class jd extends Ec{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=On(e)?e:0,this.max=On(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=Li(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}jd.id="linear";jd.defaults={ticks:{callback:tu.formatters.numeric}};function Ym(n){return n/Math.pow(10,Math.floor(wi(n)))===1}function g6(n,e){const t=Math.floor(wi(e.max)),r=Math.ceil(e.max/Math.pow(10,t)),i=[];let s=pi(n.min,Math.pow(10,Math.floor(wi(e.min)))),a=Math.floor(wi(s)),l=Math.floor(s/Math.pow(10,a)),o=a<0?Math.pow(10,Math.abs(a)):1;do i.push({value:s,major:Ym(s)}),++l,l===10&&(l=1,++a,o=a>=0?1:o),s=Math.round(l*Math.pow(10,a)*o)/o;while(a<t||a===t&&l<r);const f=pi(n.max,s);return i.push({value:f,major:Ym(s)}),i}class $y extends Ra{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const r=Ec.prototype.parse.apply(this,[e,t]);if(r===0){this._zero=!0;return}return On(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=On(e)?Math.max(0,e):null,this.max=On(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let r=this.min,i=this.max;const s=o=>r=e?r:o,a=o=>i=t?i:o,l=(o,f)=>Math.pow(10,Math.floor(wi(o))+f);r===i&&(r<=0?(s(1),a(10)):(s(l(r,-1)),a(l(i,1)))),r<=0&&s(l(i,-1)),i<=0&&a(l(r,1)),this._zero&&this.min!==this._suggestedMin&&r===l(this.min,0)&&s(l(r,-1)),this.min=r,this.max=i}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},r=g6(t,this);return e.bounds==="ticks"&&qk(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":af(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=wi(e),this._valueRange=wi(this.max)-wi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(wi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}$y.id="logarithmic";$y.defaults={ticks:{callback:tu.formatters.logarithmic,major:{enabled:!0}}};function V0(n){const e=n.ticks;if(e.display&&n.display){const t=Ci(e.backdropPadding);return Rt(e.font&&e.font.size,$t.font.size)+t.height}return 0}function v6(n,e,t){return t=fn(t)?t:[t],{w:zC(n,e.string,t),h:t.length*e.lineHeight}}function Gm(n,e,t,r,i){return n===r||n===i?{start:e-t/2,end:e+t/2}:n<r||n>i?{start:e-t,end:e}:{start:e,end:e+t}}function b6(n){const e={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},t=Object.assign({},e),r=[],i=[],s=n._pointLabels.length,a=n.options.pointLabels,l=a.centerPointLabels?Cn/s:0;for(let o=0;o<s;o++){const f=a.setContext(n.getPointLabelContext(o));i[o]=f.padding;const c=n.getPointPosition(o,n.drawingArea+i[o],l),u=ei(f.font),d=v6(n.ctx,u,n._pointLabels[o]);r[o]=d;const h=Kr(n.getIndexAngle(o)+l),m=Math.round(Td(h)),p=Gm(m,c.x,d.w,0,180),g=Gm(m,c.y,d.h,90,270);w6(t,e,h,p,g)}n.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),n._pointLabelItems=k6(n,r,i)}function w6(n,e,t,r,i){const s=Math.abs(Math.sin(t)),a=Math.abs(Math.cos(t));let l=0,o=0;r.start<e.l?(l=(e.l-r.start)/s,n.l=Math.min(n.l,e.l-l)):r.end>e.r&&(l=(r.end-e.r)/s,n.r=Math.max(n.r,e.r+l)),i.start<e.t?(o=(e.t-i.start)/a,n.t=Math.min(n.t,e.t-o)):i.end>e.b&&(o=(i.end-e.b)/a,n.b=Math.max(n.b,e.b+o))}function k6(n,e,t){const r=[],i=n._pointLabels.length,s=n.options,a=V0(s)/2,l=n.drawingArea,o=s.pointLabels.centerPointLabels?Cn/i:0;for(let f=0;f<i;f++){const c=n.getPointPosition(f,l+a+t[f],o),u=Math.round(Td(Kr(c.angle+yn))),d=e[f],h=T6(c.y,d.h,u),m=y6(u),p=x6(c.x,d.w,m);r.push({x:c.x,y:h,textAlign:m,left:p,top:h,right:p+d.w,bottom:h+d.h})}return r}function y6(n){return n===0||n===180?"center":n<180?"left":"right"}function x6(n,e,t){return t==="right"?n-=e:t==="center"&&(n-=e/2),n}function T6(n,e,t){return t===90||t===270?n-=e/2:(t>270||t<90)&&(n-=e),n}function S6(n,e){const{ctx:t,options:{pointLabels:r}}=n;for(let i=e-1;i>=0;i--){const s=r.setContext(n.getPointLabelContext(i)),a=ei(s.font),{x:l,y:o,textAlign:f,left:c,top:u,right:d,bottom:h}=n._pointLabelItems[i],{backdropColor:m}=s;if(!qt(m)){const p=ol(s.borderRadius),g=Ci(s.backdropPadding);t.fillStyle=m;const v=c-g.left,w=u-g.top,k=d-c+g.width,x=h-u+g.height;Object.values(p).some(A=>A!==0)?(t.beginPath(),kc(t,{x:v,y:w,w:k,h:x,radius:p}),t.fill()):t.fillRect(v,w,k,x)}wc(t,n._pointLabels[i],l,o+a.lineHeight/2,a,{color:s.color,textAlign:f,textBaseline:"middle"})}}function By(n,e,t,r){const{ctx:i}=n;if(t)i.arc(n.xCenter,n.yCenter,e,0,en);else{let s=n.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<r;a++)s=n.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function E6(n,e,t,r){const i=n.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!r||!a||!l||t<0||(i.save(),i.strokeStyle=a,i.lineWidth=l,i.setLineDash(e.borderDash),i.lineDashOffset=e.borderDashOffset,i.beginPath(),By(n,t,s,r),i.closePath(),i.stroke(),i.restore())}function C6(n,e,t){return Zs(n,{label:t,index:e,type:"pointLabel"})}class ru extends Ec{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Ci(V0(this.options)/2),t=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(t,r)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=On(e)&&!isNaN(e)?e:0,this.max=On(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/V0(this.options))}generateTickLabels(e){Ec.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,r)=>{const i=wn(this.options.pointLabels.callback,[t,r],this);return i||i===0?i:""}).filter((t,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?b6(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,r,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,r,i))}getIndexAngle(e){const t=en/(this._pointLabels.length||1),r=this.options.startAngle||0;return Kr(e*t+Li(r))}getDistanceFromCenterForValue(e){if(qt(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(qt(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const r=t[e];return C6(this.getContext(),e,r)}}getPointPosition(e,t,r=0){const i=this.getIndexAngle(e)-yn+r;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:r,right:i,bottom:s}=this._pointLabelItems[e];return{left:t,top:r,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),By(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:r,grid:i}=t,s=this._pointLabels.length;let a,l,o;if(t.pointLabels.display&&S6(this,s),i.display&&this.ticks.forEach((f,c)=>{if(c!==0){l=this.getDistanceFromCenterForValue(f.value);const u=i.setContext(this.getContext(c-1));E6(this,u,l,s)}}),r.display){for(e.save(),a=s-1;a>=0;a--){const f=r.setContext(this.getPointLabelContext(a)),{color:c,lineWidth:u}=f;!u||!c||(e.lineWidth=u,e.strokeStyle=c,e.setLineDash(f.borderDash),e.lineDashOffset=f.borderDashOffset,l=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),o=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(o.x,o.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,r=t.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((l,o)=>{if(o===0&&!t.reverse)return;const f=r.setContext(this.getContext(o)),c=ei(f.font);if(s=this.getDistanceFromCenterForValue(this.ticks[o].value),f.showLabelBackdrop){e.font=c.string,a=e.measureText(l.label).width,e.fillStyle=f.backdropColor;const u=Ci(f.backdropPadding);e.fillRect(-a/2-u.left,-s-c.size/2-u.top,a+u.width,c.size+u.height)}wc(e,l.label,0,-s,c,{color:f.color})}),e.restore()}drawTitle(){}}ru.id="radialLinear";ru.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:tu.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(n){return n},padding:5,centerPointLabels:!1}};ru.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};ru.descriptors={angleLines:{_fallback:"grid"}};const iu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Vr=Object.keys(iu);function A6(n,e){return n-e}function Xm(n,e){if(qt(e))return null;const t=n._adapter,{parser:r,round:i,isoWeekday:s}=n._parseOpts;let a=e;return typeof r=="function"&&(a=r(a)),On(a)||(a=typeof r=="string"?t.parse(a,r):t.parse(a)),a===null?null:(i&&(a=i==="week"&&(bl(s)||s===!0)?t.startOf(a,"isoWeek",s):t.startOf(a,i)),+a)}function Km(n,e,t,r){const i=Vr.length;for(let s=Vr.indexOf(n);s<i-1;++s){const a=iu[Vr[s]],l=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((t-e)/(l*a.size))<=r)return Vr[s]}return Vr[i-1]}function F6(n,e,t,r,i){for(let s=Vr.length-1;s>=Vr.indexOf(t);s--){const a=Vr[s];if(iu[a].common&&n._adapter.diff(i,r,a)>=e-1)return a}return Vr[t?Vr.indexOf(t):0]}function D6(n){for(let e=Vr.indexOf(n)+1,t=Vr.length;e<t;++e)if(iu[Vr[e]].common)return Vr[e]}function Jm(n,e,t){if(!t)n[e]=!0;else if(t.length){const{lo:r,hi:i}=Sd(t,e),s=t[r]>=e?t[r]:t[i];n[s]=!0}}function O6(n,e,t,r){const i=n._adapter,s=+i.startOf(e[0].value,r),a=e[e.length-1].value;let l,o;for(l=s;l<=a;l=+i.add(l,1,r))o=t[l],o>=0&&(e[o].major=!0);return e}function Zm(n,e,t){const r=[],i={},s=e.length;let a,l;for(a=0;a<s;++a)l=e[a],i[l]=a,r.push({value:l,major:!1});return s===0||!t?r:O6(n,r,i,t)}class ff extends Ra{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const r=e.time||(e.time={}),i=this._adapter=new ky._date(e.adapters.date);i.init(t),oo(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:Xm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function o(f){!a&&!isNaN(f.min)&&(i=Math.min(i,f.min)),!l&&!isNaN(f.max)&&(s=Math.max(s,f.max))}(!a||!l)&&(o(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&o(this.getMinMax(!1))),i=On(i)&&!isNaN(i)?i:+t.startOf(Date.now(),r),s=On(s)&&!isNaN(s)?s:+t.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,l=gC(i,s,a);return this._unit=t.unit||(r.autoSkip?Km(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):F6(this,l.length,t.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:D6(this._unit),this.initOffsets(i),e.reverse&&l.reverse(),Zm(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let t=0,r=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?t=1-i:t=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?r=s:r=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;t=wr(t,0,a),r=wr(r,0,a),this._offsets={start:t,end:r,factor:1/(t+1+r)}}_generate(){const e=this._adapter,t=this.min,r=this.max,i=this.options,s=i.time,a=s.unit||Km(s.minUnit,t,r,this._getLabelCapacity(t)),l=Rt(s.stepSize,1),o=a==="week"?s.isoWeekday:!1,f=bl(o)||o===!0,c={};let u=t,d,h;if(f&&(u=+e.startOf(u,"isoWeek",o)),u=+e.startOf(u,f?"day":a),e.diff(r,t,a)>1e5*l)throw new Error(t+" and "+r+" are too far apart with stepSize of "+l+" "+a);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(d=u,h=0;d<r;d=+e.add(d,l,a),h++)Jm(c,d,m);return(d===r||i.bounds==="ticks"||h===1)&&Jm(c,d,m),Object.keys(c).sort((p,g)=>p-g).map(p=>+p)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}_tickFormatFunction(e,t,r,i){const s=this.options,a=s.time.displayFormats,l=this._unit,o=this._majorUnit,f=l&&a[l],c=o&&a[o],u=r[t],d=o&&c&&u&&u.major,h=this._adapter.format(e,i||(d?c:f)),m=s.ticks.callback;return m?wn(m,[h,t,r],this):h}generateTickLabels(e){let t,r,i;for(t=0,r=e.length;t<r;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,i=Li(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(i),a=Math.sin(i),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,i=r[t.unit]||r.millisecond,s=this._tickFormatFunction(e,0,Zm(this,[e],this._majorUnit),i),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let e=this._cache.data||[],t,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(t=0,r=i.length;t<r;++t)e=e.concat(i[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const i=this.getLabels();for(t=0,r=i.length;t<r;++t)e.push(Xm(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Xk(e.sort(A6))}}ff.id="time";ff.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Bf(n,e,t){let r=0,i=n.length-1,s,a,l,o;t?(e>=n[r].pos&&e<=n[i].pos&&({lo:r,hi:i}=ga(n,"pos",e)),{pos:s,time:l}=n[r],{pos:a,time:o}=n[i]):(e>=n[r].time&&e<=n[i].time&&({lo:r,hi:i}=ga(n,"time",e)),{time:s,pos:l}=n[r],{time:a,pos:o}=n[i]);const f=a-s;return f?l+(o-l)*(e-s)/f:l}class Uy extends ff{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Bf(t,this.min),this._tableRange=Bf(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:r}=this,i=[],s=[];let a,l,o,f,c;for(a=0,l=e.length;a<l;++a)f=e[a],f>=t&&f<=r&&i.push(f);if(i.length<2)return[{time:t,pos:0},{time:r,pos:1}];for(a=0,l=i.length;a<l;++a)c=i[a+1],o=i[a-1],f=i[a],Math.round((c+o)/2)!==f&&s.push({time:f,pos:a/(l-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),r=this.getLabelTimestamps();return t.length&&r.length?e=this.normalize(t.concat(r)):e=t.length?t:r,e=this._cache.all=e,e}getDecimalForValue(e){return(Bf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return Bf(this._table,r*this._tableRange+this._minPos,!0)}}Uy.id="timeseries";Uy.defaults=ff.defaults;/*!
 * chartjs-adapter-luxon v1.3.1
 * https://www.chartjs.org
 * (c) 2023 chartjs-adapter-luxon Contributors
 * Released under the MIT license
 */const M6={datetime:ht.DATETIME_MED_WITH_SECONDS,millisecond:"h:mm:ss.SSS a",second:ht.TIME_WITH_SECONDS,minute:ht.TIME_SIMPLE,hour:{hour:"numeric"},day:{day:"numeric",month:"short"},week:"DD",month:{month:"short",year:"numeric"},quarter:"'Q'q - yyyy",year:{year:"numeric"}};ky._date.override({_id:"luxon",_create:function(n){return ht.fromMillis(n,this.options)},init(n){this.options.locale||(this.options.locale=n.locale)},formats:function(){return M6},parse:function(n,e){const t=this.options,r=typeof n;return n===null||r==="undefined"?null:(r==="number"?n=this._create(n):r==="string"?typeof e=="string"?n=ht.fromFormat(n,e,t):n=ht.fromISO(n,t):n instanceof Date?n=ht.fromJSDate(n,t):r==="object"&&!(n instanceof ht)&&(n=ht.fromObject(n,t)),n.isValid?n.valueOf():null)},format:function(n,e){const t=this._create(n);return typeof e=="string"?t.toFormat(e):t.toLocaleString(e)},add:function(n,e,t){const r={};return r[t]=e,this._create(n).plus(r).valueOf()},diff:function(n,e,t){return this._create(n).diff(this._create(e)).as(t).valueOf()},startOf:function(n,e,t){if(e==="isoWeek"){t=Math.trunc(Math.min(Math.max(0,t),6));const r=this._create(n);return r.minus({days:(r.weekday-t+7)%7}).startOf("day").valueOf()}return e?this._create(n).startOf(e).valueOf():n},endOf:function(n,e){return this._create(n).endOf(e).valueOf()}});function Qm(n){let e,t,r;return{c(){e=y("div"),_(e,"class","chart-loader loader svelte-vh4sl8")},m(i,s){E(i,e,s),r=!0},i(i){r||(i&&Nt(()=>{t||(t=ut(e,qn,{duration:150},!0)),t.run(1)}),r=!0)},o(i){i&&(t||(t=ut(e,qn,{duration:150},!1)),t.run(0)),r=!1},d(i){i&&S(e),i&&t&&t.end()}}}function I6(n){let e,t,r=n[1]===1?"log":"logs",i;return{c(){e=q(n[1]),t=D(),i=q(r)},m(s,a){E(s,e,a),E(s,t,a),E(s,i,a)},p(s,a){a&2&&ke(e,s[1]),a&2&&r!==(r=s[1]===1?"log":"logs")&&ke(i,r)},d(s){s&&S(e),s&&S(t),s&&S(i)}}}function N6(n){let e;return{c(){e=q("Loading...")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function P6(n){let e,t,r,i,s,a=n[2]&&Qm();function l(c,u){return c[2]?N6:I6}let o=l(n),f=o(n);return{c(){e=y("div"),a&&a.c(),t=D(),r=y("canvas"),i=D(),s=y("div"),f.c(),_(r,"class","chart-canvas svelte-vh4sl8"),h0(r,"height","250px"),h0(r,"width","100%"),_(e,"class","chart-wrapper svelte-vh4sl8"),pe(e,"loading",n[2]),_(s,"class","txt-hint m-t-xs txt-right")},m(c,u){E(c,e,u),a&&a.m(e,null),b(e,t),b(e,r),n[8](r),E(c,i,u),E(c,s,u),f.m(s,null)},p(c,[u]){c[2]?a?u&4&&M(a,1):(a=Qm(),a.c(),M(a,1),a.m(e,t)):a&&(Me(),L(a,1,1,()=>{a=null}),Ie()),u&4&&pe(e,"loading",c[2]),o===(o=l(c))&&f?f.p(c,u):(f.d(1),f=o(c),f&&(f.c(),f.m(s,null)))},i(c){M(a)},o(c){L(a)},d(c){c&&S(e),a&&a.d(),n[8](null),c&&S(i),c&&S(s),f.d()}}}function L6(n,e,t){let{filter:r=""}=e,{presets:i=""}=e,s,a,l=[],o=0,f=!1;async function c(){return t(2,f=!0),Ue.logs.getRequestsStats({filter:[i,r].filter(Boolean).join("&&")}).then(h=>{u();for(let m of h)l.push({x:new Date(m.date),y:m.total}),t(1,o+=m.total);l.push({x:new Date,y:void 0})}).catch(h=>{h!=null&&h.isAbort||(u(),console.warn(h),Ue.errorResponseHandler(h,!1))}).finally(()=>{t(2,f=!1)})}function u(){t(1,o=0),t(7,l=[])}ur(()=>(Sc.register(Qs,nu,eu,jd,ff,i6,d6),t(6,a=new Sc(s,{type:"line",data:{datasets:[{label:"Total requests",data:l,borderColor:"#ef4565",pointBackgroundColor:"#ef4565",backgroundColor:"rgb(239,69,101,0.05)",borderWidth:2,pointRadius:1,pointBorderWidth:0,fill:!0}]},options:{animation:!1,interaction:{intersect:!1,mode:"index"},scales:{y:{beginAtZero:!0,grid:{color:"#edf0f3",borderColor:"#dee3e8"},ticks:{precision:0,maxTicksLimit:6,autoSkip:!0,color:"#666f75"}},x:{type:"time",time:{unit:"hour",tooltipFormat:"DD h a"},grid:{borderColor:"#dee3e8",color:h=>h.tick.major?"#edf0f3":""},ticks:{maxTicksLimit:15,autoSkip:!0,maxRotation:0,major:{enabled:!0},color:h=>h.tick.major?"#16161a":"#666f75"}}},plugins:{legend:{display:!1}}}})),()=>a==null?void 0:a.destroy()));function d(h){ve[h?"unshift":"push"](()=>{s=h,t(0,s)})}return n.$$set=h=>{"filter"in h&&t(3,r=h.filter),"presets"in h&&t(4,i=h.presets)},n.$$.update=()=>{n.$$.dirty&24&&(typeof r<"u"||typeof i<"u")&&c(),n.$$.dirty&192&&typeof l<"u"&&a&&(t(6,a.data.datasets[0].data=l,a),a.update())},[s,o,f,r,i,c,a,l,d]}class R6 extends We{constructor(e){super(),Ve(this,e,L6,P6,$e,{filter:3,presets:4,load:5})}get load(){return this.$$.ctx[5]}}var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W0={},$6={get exports(){return W0},set exports(n){W0=n}};(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var t=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,a={},l={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function w(k){return k instanceof o?new o(k.type,w(k.content),k.alias):Array.isArray(k)?k.map(w):k.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(w){return Object.prototype.toString.call(w).slice(8,-1)},objId:function(w){return w.__id||Object.defineProperty(w,"__id",{value:++s}),w.__id},clone:function w(k,x){x=x||{};var A,T;switch(l.util.type(k)){case"Object":if(T=l.util.objId(k),x[T])return x[T];A={},x[T]=A;for(var C in k)k.hasOwnProperty(C)&&(A[C]=w(k[C],x));return A;case"Array":return T=l.util.objId(k),x[T]?x[T]:(A=[],x[T]=A,k.forEach(function(F,O){A[O]=w(F,x)}),A);default:return k}},getLanguage:function(w){for(;w;){var k=i.exec(w.className);if(k)return k[1].toLowerCase();w=w.parentElement}return"none"},setLanguage:function(w,k){w.className=w.className.replace(RegExp(i,"gi"),""),w.classList.add("language-"+k)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(A){var w=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(A.stack)||[])[1];if(w){var k=document.getElementsByTagName("script");for(var x in k)if(k[x].src==w)return k[x]}return null}},isActive:function(w,k,x){for(var A="no-"+k;w;){var T=w.classList;if(T.contains(k))return!0;if(T.contains(A))return!1;w=w.parentElement}return!!x}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(w,k){var x=l.util.clone(l.languages[w]);for(var A in k)x[A]=k[A];return x},insertBefore:function(w,k,x,A){A=A||l.languages;var T=A[w],C={};for(var F in T)if(T.hasOwnProperty(F)){if(F==k)for(var O in x)x.hasOwnProperty(O)&&(C[O]=x[O]);x.hasOwnProperty(F)||(C[F]=T[F])}var I=A[w];return A[w]=C,l.languages.DFS(l.languages,function(N,P){P===I&&N!=w&&(this[N]=C)}),C},DFS:function w(k,x,A,T){T=T||{};var C=l.util.objId;for(var F in k)if(k.hasOwnProperty(F)){x.call(k,F,k[F],A||F);var O=k[F],I=l.util.type(O);I==="Object"&&!T[C(O)]?(T[C(O)]=!0,w(O,x,null,T)):I==="Array"&&!T[C(O)]&&(T[C(O)]=!0,w(O,x,F,T))}}},plugins:{},highlightAll:function(w,k){l.highlightAllUnder(document,w,k)},highlightAllUnder:function(w,k,x){var A={callback:x,container:w,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",A),A.elements=Array.prototype.slice.apply(A.container.querySelectorAll(A.selector)),l.hooks.run("before-all-elements-highlight",A);for(var T=0,C;C=A.elements[T++];)l.highlightElement(C,k===!0,A.callback)},highlightElement:function(w,k,x){var A=l.util.getLanguage(w),T=l.languages[A];l.util.setLanguage(w,A);var C=w.parentElement;C&&C.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(C,A);var F=w.textContent,O={element:w,language:A,grammar:T,code:F};function I(P){O.highlightedCode=P,l.hooks.run("before-insert",O),O.element.innerHTML=O.highlightedCode,l.hooks.run("after-highlight",O),l.hooks.run("complete",O),x&&x.call(O.element)}if(l.hooks.run("before-sanity-check",O),C=O.element.parentElement,C&&C.nodeName.toLowerCase()==="pre"&&!C.hasAttribute("tabindex")&&C.setAttribute("tabindex","0"),!O.code){l.hooks.run("complete",O),x&&x.call(O.element);return}if(l.hooks.run("before-highlight",O),!O.grammar){I(l.util.encode(O.code));return}if(k&&r.Worker){var N=new Worker(l.filename);N.onmessage=function(P){I(P.data)},N.postMessage(JSON.stringify({language:O.language,code:O.code,immediateClose:!0}))}else I(l.highlight(O.code,O.grammar,O.language))},highlight:function(w,k,x){var A={code:w,grammar:k,language:x};if(l.hooks.run("before-tokenize",A),!A.grammar)throw new Error('The language "'+A.language+'" has no grammar.');return A.tokens=l.tokenize(A.code,A.grammar),l.hooks.run("after-tokenize",A),o.stringify(l.util.encode(A.tokens),A.language)},tokenize:function(w,k){var x=k.rest;if(x){for(var A in x)k[A]=x[A];delete k.rest}var T=new u;return d(T,T.head,w),c(w,T,k,T.head,0),m(T)},hooks:{all:{},add:function(w,k){var x=l.hooks.all;x[w]=x[w]||[],x[w].push(k)},run:function(w,k){var x=l.hooks.all[w];if(!(!x||!x.length))for(var A=0,T;T=x[A++];)T(k)}},Token:o};r.Prism=l;function o(w,k,x,A){this.type=w,this.content=k,this.alias=x,this.length=(A||"").length|0}o.stringify=function w(k,x){if(typeof k=="string")return k;if(Array.isArray(k)){var A="";return k.forEach(function(I){A+=w(I,x)}),A}var T={type:k.type,content:w(k.content,x),tag:"span",classes:["token",k.type],attributes:{},language:x},C=k.alias;C&&(Array.isArray(C)?Array.prototype.push.apply(T.classes,C):T.classes.push(C)),l.hooks.run("wrap",T);var F="";for(var O in T.attributes)F+=" "+O+'="'+(T.attributes[O]||"").replace(/"/g,"&quot;")+'"';return"<"+T.tag+' class="'+T.classes.join(" ")+'"'+F+">"+T.content+"</"+T.tag+">"};function f(w,k,x,A){w.lastIndex=k;var T=w.exec(x);if(T&&A&&T[1]){var C=T[1].length;T.index+=C,T[0]=T[0].slice(C)}return T}function c(w,k,x,A,T,C){for(var F in x)if(!(!x.hasOwnProperty(F)||!x[F])){var O=x[F];O=Array.isArray(O)?O:[O];for(var I=0;I<O.length;++I){if(C&&C.cause==F+","+I)return;var N=O[I],P=N.inside,R=!!N.lookbehind,Y=!!N.greedy,ne=N.alias;if(Y&&!N.pattern.global){var V=N.pattern.toString().match(/[imsuy]*$/)[0];N.pattern=RegExp(N.pattern.source,V+"g")}for(var se=N.pattern||N,ue=A.next,U=T;ue!==k.tail&&!(C&&U>=C.reach);U+=ue.value.length,ue=ue.next){var be=ue.value;if(k.length>w.length)return;if(!(be instanceof o)){var fe=1,B;if(Y){if(B=f(se,U,w,R),!B||B.index>=w.length)break;var de=B.index,K=B.index+B[0].length,G=U;for(G+=ue.value.length;de>=G;)ue=ue.next,G+=ue.value.length;if(G-=ue.value.length,U=G,ue.value instanceof o)continue;for(var J=ue;J!==k.tail&&(G<K||typeof J.value=="string");J=J.next)fe++,G+=J.value.length;fe--,be=w.slice(U,G),B.index-=U}else if(B=f(se,0,be,R),!B)continue;var de=B.index,me=B[0],we=be.slice(0,de),Fe=be.slice(de+me.length),Oe=U+be.length;C&&Oe>C.reach&&(C.reach=Oe);var ye=ue.prev;we&&(ye=d(k,ye,we),U+=we.length),h(k,ye,fe);var te=new o(F,P?l.tokenize(me,P):me,ne,me);if(ue=d(k,ye,te),Fe&&d(k,ue,Fe),fe>1){var he={cause:F+","+I,reach:Oe};c(w,k,x,ue.prev,U,he),C&&he.reach>C.reach&&(C.reach=he.reach)}}}}}}function u(){var w={value:null,prev:null,next:null},k={value:null,prev:w,next:null};w.next=k,this.head=w,this.tail=k,this.length=0}function d(w,k,x){var A=k.next,T={value:x,prev:k,next:A};return k.next=T,A.prev=T,w.length++,T}function h(w,k,x){for(var A=k.next,T=0;T<x&&A!==w.tail;T++)A=A.next;k.next=A,A.prev=k,w.length-=T}function m(w){for(var k=[],x=w.head.next;x!==w.tail;)k.push(x.value),x=x.next;return k}if(!r.document)return r.addEventListener&&(l.disableWorkerMessageHandler||r.addEventListener("message",function(w){var k=JSON.parse(w.data),x=k.language,A=k.code,T=k.immediateClose;r.postMessage(l.highlight(A,l.languages[x],x)),T&&r.close()},!1)),l;var p=l.util.currentScript();p&&(l.filename=p.src,p.hasAttribute("data-manual")&&(l.manual=!0));function g(){l.manual||l.highlightAll()}if(!l.manual){var v=document.readyState;v==="loading"||v==="interactive"&&p&&p.defer?document.addEventListener("DOMContentLoaded",g):window.requestAnimationFrame?window.requestAnimationFrame(g):window.setTimeout(g,16)}return l}(e);n.exports&&(n.exports=t),typeof e1<"u"&&(e1.Prism=t),t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(r){r.type==="entity"&&(r.attributes.title=r.content.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(i,s){var a={};a["language-"+s]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[s]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var l={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};l["language-"+s]={pattern:/[\s\S]+/,inside:t.languages[s]};var o={};o[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:l},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(r,i){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+r+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:t.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml,function(r){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;r.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+i.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},r.languages.css.atrule.inside.rest=r.languages.css;var s=r.languages.markup;s&&(s.tag.addInlined("style","css"),s.tag.addAttribute("style","css"))}(t),t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript,function(){if(typeof t>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var r="Loading",i=function(p,g){return" Error "+p+" while fetching file: "+g},s=" Error: File does not exist or is empty",a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},l="data-src-status",o="loading",f="loaded",c="failed",u="pre[data-src]:not(["+l+'="'+f+'"]):not(['+l+'="'+o+'"])';function d(p,g,v){var w=new XMLHttpRequest;w.open("GET",p,!0),w.onreadystatechange=function(){w.readyState==4&&(w.status<400&&w.responseText?g(w.responseText):w.status>=400?v(i(w.status,w.statusText)):v(s))},w.send(null)}function h(p){var g=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(p||"");if(g){var v=Number(g[1]),w=g[2],k=g[3];return w?k?[v,Number(k)]:[v,void 0]:[v,v]}}t.hooks.add("before-highlightall",function(p){p.selector+=", "+u}),t.hooks.add("before-sanity-check",function(p){var g=p.element;if(g.matches(u)){p.code="",g.setAttribute(l,o);var v=g.appendChild(document.createElement("CODE"));v.textContent=r;var w=g.getAttribute("data-src"),k=p.language;if(k==="none"){var x=(/\.(\w+)$/.exec(w)||[,"none"])[1];k=a[x]||x}t.util.setLanguage(v,k),t.util.setLanguage(g,k);var A=t.plugins.autoloader;A&&A.loadLanguages(k),d(w,function(T){g.setAttribute(l,f);var C=h(g.getAttribute("data-range"));if(C){var F=T.split(/\r\n?|\n/g),O=C[0],I=C[1]==null?F.length:C[1];O<0&&(O+=F.length),O=Math.max(0,Math.min(O-1,F.length)),I<0&&(I+=F.length),I=Math.max(0,Math.min(I,F.length)),T=F.slice(O,I).join(`
`),g.hasAttribute("data-start")||g.setAttribute("data-start",String(O+1))}v.textContent=T,t.highlightElement(v)},function(T){g.setAttribute(l,c),v.textContent=T})}}),t.plugins.fileHighlight={highlight:function(g){for(var v=(g||document).querySelectorAll(u),w=0,k;k=v[w++];)t.highlightElement(k)}};var m=!1;t.fileHighlight=function(){m||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),m=!0),t.plugins.fileHighlight.highlight.apply(this,arguments)}}()})($6);const Jl=W0;var t1={},B6={get exports(){return t1},set exports(n){t1=n}};(function(n){(function(){if(typeof Prism>"u")return;var e=Object.assign||function(a,l){for(var o in l)l.hasOwnProperty(o)&&(a[o]=l[o]);return a};function t(a){this.defaults=e({},a)}function r(a){return a.replace(/-(\w)/g,function(l,o){return o.toUpperCase()})}function i(a){for(var l=0,o=0;o<a.length;++o)a.charCodeAt(o)=="	".charCodeAt(0)&&(l+=3);return a.length+l}var s={"remove-trailing":"boolean","remove-indent":"boolean","left-trim":"boolean","right-trim":"boolean","break-lines":"number",indent:"number","remove-initial-line-feed":"boolean","tabs-to-spaces":"number","spaces-to-tabs":"number"};t.prototype={setDefaults:function(a){this.defaults=e(this.defaults,a)},normalize:function(a,l){l=e(this.defaults,l);for(var o in l){var f=r(o);o!=="normalize"&&f!=="setDefaults"&&l[o]&&this[f]&&(a=this[f].call(this,a,l[o]))}return a},leftTrim:function(a){return a.replace(/^\s+/,"")},rightTrim:function(a){return a.replace(/\s+$/,"")},tabsToSpaces:function(a,l){return l=l|0||4,a.replace(/\t/g,new Array(++l).join(" "))},spacesToTabs:function(a,l){return l=l|0||4,a.replace(RegExp(" {"+l+"}","g"),"	")},removeTrailing:function(a){return a.replace(/\s*?$/gm,"")},removeInitialLineFeed:function(a){return a.replace(/^(?:\r?\n|\r)/,"")},removeIndent:function(a){var l=a.match(/^[^\S\n\r]*(?=\S)/gm);return!l||!l[0].length||(l.sort(function(o,f){return o.length-f.length}),!l[0].length)?a:a.replace(RegExp("^"+l[0],"gm"),"")},indent:function(a,l){return a.replace(/^[^\S\n\r]*(?=\S)/gm,new Array(++l).join("	")+"$&")},breakLines:function(a,l){l=l===!0?80:l|0||80;for(var o=a.split(`
`),f=0;f<o.length;++f)if(!(i(o[f])<=l)){for(var c=o[f].split(/(\s+)/g),u=0,d=0;d<c.length;++d){var h=i(c[d]);u+=h,u>l&&(c[d]=`
`+c[d],u=h)}o[f]=c.join("")}return o.join(`
`)}},n.exports&&(n.exports=t),Prism.plugins.NormalizeWhitespace=new t({"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Prism.hooks.add("before-sanity-check",function(a){var l=Prism.plugins.NormalizeWhitespace;if(!(a.settings&&a.settings["whitespace-normalization"]===!1)&&Prism.util.isActive(a.element,"whitespace-normalization",!0)){if((!a.element||!a.element.parentNode)&&a.code){a.code=l.normalize(a.code,a.settings);return}var o=a.element.parentNode;if(!(!a.code||!o||o.nodeName.toLowerCase()!=="pre")){a.settings==null&&(a.settings={});for(var f in s)if(Object.hasOwnProperty.call(s,f)){var c=s[f];if(o.hasAttribute("data-"+f))try{var u=JSON.parse(o.getAttribute("data-"+f)||"true");typeof u===c&&(a.settings[f]=u)}catch{}}for(var d=o.childNodes,h="",m="",p=!1,g=0;g<d.length;++g){var v=d[g];v==a.element?p=!0:v.nodeName==="#text"&&(p?m+=v.nodeValue:h+=v.nodeValue,o.removeChild(v),--g)}if(!a.element.children.length||!Prism.plugins.KeepMarkup)a.code=h+a.code+m,a.code=l.normalize(a.code,a.settings);else{var w=h+a.element.innerHTML+m;a.element.innerHTML=l.normalize(w,a.settings),a.code=a.element.textContent}}}})})()})(B6);(function(n){var e=[/\b(?:async|sync|yield)\*/,/\b(?:abstract|assert|async|await|break|case|catch|class|const|continue|covariant|default|deferred|do|dynamic|else|enum|export|extends|extension|external|factory|final|finally|for|get|hide|if|implements|import|in|interface|library|mixin|new|null|on|operator|part|rethrow|return|set|show|static|super|switch|sync|this|throw|try|typedef|var|void|while|with|yield)\b/],t=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,r={pattern:RegExp(t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}}}};n.languages.dart=n.languages.extend("clike",{"class-name":[r,{pattern:RegExp(t+/[A-Z]\w*(?=\s+\w+\s*[;,=()])/.source),lookbehind:!0,inside:r.inside}],keyword:e,operator:/\bis!|\b(?:as|is)\b|\+\+|--|&&|\|\||<<=?|>>=?|~(?:\/=?)?|[+\-*\/%&^|=!<>]=?|\?/}),n.languages.insertBefore("dart","string",{"string-literal":{pattern:/r?(?:("""|''')[\s\S]*?\1|(["'])(?:\\.|(?!\2)[^\\\r\n])*\2(?!\2))/,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:\w+|\{(?:[^{}]|\{[^{}]*\})*\})/,lookbehind:!0,inside:{punctuation:/^\$\{?|\}$/,expression:{pattern:/[\s\S]+/,inside:n.languages.dart}}},string:/[\s\S]+/}},string:void 0}),n.languages.insertBefore("dart","class-name",{metadata:{pattern:/@\w+/,alias:"function"}}),n.languages.insertBefore("dart","class-name",{generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":r,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}}})})(Prism);function U6(n){let e,t,r;return{c(){e=y("div"),t=y("code"),_(t,"class","svelte-10s5tkd"),_(e,"class",r="code-wrapper prism-light "+n[0]+" svelte-10s5tkd")},m(i,s){E(i,e,s),b(e,t),t.innerHTML=n[1]},p(i,[s]){s&2&&(t.innerHTML=i[1]),s&1&&r!==(r="code-wrapper prism-light "+i[0]+" svelte-10s5tkd")&&_(e,"class",r)},i:ce,o:ce,d(i){i&&S(e)}}}function H6(n,e,t){let{class:r=""}=e,{content:i=""}=e,{language:s="javascript"}=e,a="";function l(o){return o=typeof o=="string"?o:"",o=Jl.plugins.NormalizeWhitespace.normalize(o,{"remove-trailing":!0,"remove-indent":!0,"left-trim":!0,"right-trim":!0}),Jl.highlight(o,Jl.languages[s]||Jl.languages.javascript,s)}return n.$$set=o=>{"class"in o&&t(0,r=o.class),"content"in o&&t(2,i=o.content),"language"in o&&t(3,s=o.language)},n.$$.update=()=>{n.$$.dirty&4&&typeof Jl<"u"&&i&&t(1,a=l(i))},[r,a,i,s]}class Hy extends We{constructor(e){super(),Ve(this,e,H6,U6,$e,{class:0,content:2,language:3})}}const V6=n=>({}),n1=n=>({}),W6=n=>({}),r1=n=>({});function i1(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k=n[4]&&!n[2]&&s1(n);const x=n[19].header,A=Hn(x,n,n[18],r1);let T=n[4]&&n[2]&&a1(n);const C=n[19].default,F=Hn(C,n,n[18],null),O=n[19].footer,I=Hn(O,n,n[18],n1);return{c(){e=y("div"),t=y("div"),i=D(),s=y("div"),a=y("div"),k&&k.c(),l=D(),A&&A.c(),o=D(),T&&T.c(),f=D(),c=y("div"),F&&F.c(),u=D(),d=y("div"),I&&I.c(),_(t,"class","overlay"),_(a,"class","overlay-panel-section panel-header"),_(c,"class","overlay-panel-section panel-content"),_(d,"class","overlay-panel-section panel-footer"),_(s,"class",h="overlay-panel "+n[1]+" "+n[8]),pe(s,"popup",n[2]),_(e,"class","overlay-panel-container"),pe(e,"padded",n[2]),pe(e,"active",n[0])},m(N,P){E(N,e,P),b(e,t),b(e,i),b(e,s),b(s,a),k&&k.m(a,null),b(a,l),A&&A.m(a,null),b(a,o),T&&T.m(a,null),b(s,f),b(s,c),F&&F.m(c,null),n[21](c),b(s,u),b(s,d),I&&I.m(d,null),g=!0,v||(w=[ae(t,"click",Yt(n[20])),ae(c,"scroll",n[22])],v=!0)},p(N,P){n=N,n[4]&&!n[2]?k?k.p(n,P):(k=s1(n),k.c(),k.m(a,l)):k&&(k.d(1),k=null),A&&A.p&&(!g||P[0]&262144)&&Wn(A,x,n,n[18],g?Vn(x,n[18],P,W6):jn(n[18]),r1),n[4]&&n[2]?T?T.p(n,P):(T=a1(n),T.c(),T.m(a,null)):T&&(T.d(1),T=null),F&&F.p&&(!g||P[0]&262144)&&Wn(F,C,n,n[18],g?Vn(C,n[18],P,null):jn(n[18]),null),I&&I.p&&(!g||P[0]&262144)&&Wn(I,O,n,n[18],g?Vn(O,n[18],P,V6):jn(n[18]),n1),(!g||P[0]&258&&h!==(h="overlay-panel "+n[1]+" "+n[8]))&&_(s,"class",h),(!g||P[0]&262)&&pe(s,"popup",n[2]),(!g||P[0]&4)&&pe(e,"padded",n[2]),(!g||P[0]&1)&&pe(e,"active",n[0])},i(N){g||(N&&Nt(()=>{r||(r=ut(t,dc,{duration:Ja,opacity:0},!0)),r.run(1)}),M(A,N),M(F,N),M(I,N),Nt(()=>{p&&p.end(1),m=Mw(s,Si,n[2]?{duration:Ja,y:-10}:{duration:Ja,x:50}),m.start()}),g=!0)},o(N){N&&(r||(r=ut(t,dc,{duration:Ja,opacity:0},!1)),r.run(0)),L(A,N),L(F,N),L(I,N),m&&m.invalidate(),p=Iw(s,Si,n[2]?{duration:Ja,y:10}:{duration:Ja,x:50}),g=!1},d(N){N&&S(e),N&&r&&r.end(),k&&k.d(),A&&A.d(N),T&&T.d(),F&&F.d(N),n[21](null),I&&I.d(N),N&&p&&p.end(),v=!1,it(w)}}}function s1(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line"></i>',_(e,"type","button"),_(e,"class","overlay-close")},m(i,s){E(i,e,s),t||(r=ae(e,"click",Yt(n[5])),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function a1(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line txt-lg"></i>',_(e,"type","button"),_(e,"class","btn btn-sm btn-circle btn-transparent btn-close m-l-auto")},m(i,s){E(i,e,s),t||(r=ae(e,"click",Yt(n[5])),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function j6(n){let e,t,r,i,s=n[0]&&i1(n);return{c(){e=y("div"),s&&s.c(),_(e,"class","overlay-panel-wrapper")},m(a,l){E(a,e,l),s&&s.m(e,null),n[23](e),t=!0,r||(i=[ae(window,"resize",n[10]),ae(window,"keydown",n[9])],r=!0)},p(a,l){a[0]?s?(s.p(a,l),l[0]&1&&M(s,1)):(s=i1(a),s.c(),M(s,1),s.m(e,null)):s&&(Me(),L(s,1,1,()=>{s=null}),Ie())},i(a){t||(M(s),t=!0)},o(a){L(s),t=!1},d(a){a&&S(e),s&&s.d(),n[23](null),r=!1,it(i)}}}let ua,Vu=[];function Vy(){return ua=ua||document.querySelector(".overlays"),ua||(ua=document.createElement("div"),ua.classList.add("overlays"),document.body.appendChild(ua)),ua}let Ja=150;function l1(){return 1e3+Vy().querySelectorAll(".overlay-panel-container.active").length}function z6(n,e,t){let{$$slots:r={},$$scope:i}=e,{class:s=""}=e,{active:a=!1}=e,{popup:l=!1}=e,{overlayClose:o=!0}=e,{btnClose:f=!0}=e,{escClose:c=!0}=e,{beforeOpen:u=void 0}=e,{beforeHide:d=void 0}=e;const h=Fn(),m="op_"+X.randomString(10);let p,g,v,w,k="",x=a;function A(){typeof u=="function"&&u()===!1||t(0,a=!0)}function T(){typeof d=="function"&&d()===!1||t(0,a=!1)}function C(){return a}async function F(U){t(17,x=U),U?(v=document.activeElement,p==null||p.focus(),h("show")):(clearTimeout(w),v==null||v.focus(),h("hide")),await Pr(),O()}function O(){p&&(a?t(6,p.style.zIndex=l1(),p):t(6,p.style="",p))}function I(){X.pushUnique(Vu,m),document.body.classList.add("overlay-active")}function N(){X.removeByValue(Vu,m),Vu.length||document.body.classList.remove("overlay-active")}function P(U){a&&c&&U.code=="Escape"&&!X.isInput(U.target)&&p&&p.style.zIndex==l1()&&(U.preventDefault(),T())}function R(U){a&&Y(g)}function Y(U,be){be&&t(8,k=""),U&&(w||(w=setTimeout(()=>{if(clearTimeout(w),w=null,!U)return;if(U.scrollHeight-U.offsetHeight>0)t(8,k="scrollable");else{t(8,k="");return}U.scrollTop==0?t(8,k+=" scroll-top-reached"):U.scrollTop+U.offsetHeight==U.scrollHeight&&t(8,k+=" scroll-bottom-reached")},100)))}ur(()=>(Vy().appendChild(p),()=>{var U;clearTimeout(w),N(),(U=p==null?void 0:p.classList)==null||U.add("hidden"),setTimeout(()=>{p==null||p.remove()},0)}));const ne=()=>o?T():!0;function V(U){ve[U?"unshift":"push"](()=>{g=U,t(7,g)})}const se=U=>Y(U.target);function ue(U){ve[U?"unshift":"push"](()=>{p=U,t(6,p)})}return n.$$set=U=>{"class"in U&&t(1,s=U.class),"active"in U&&t(0,a=U.active),"popup"in U&&t(2,l=U.popup),"overlayClose"in U&&t(3,o=U.overlayClose),"btnClose"in U&&t(4,f=U.btnClose),"escClose"in U&&t(12,c=U.escClose),"beforeOpen"in U&&t(13,u=U.beforeOpen),"beforeHide"in U&&t(14,d=U.beforeHide),"$$scope"in U&&t(18,i=U.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&131073&&x!=a&&F(a),n.$$.dirty[0]&128&&Y(g,!0),n.$$.dirty[0]&64&&p&&O(),n.$$.dirty[0]&1&&(a?I():N())},[a,s,l,o,f,T,p,g,k,P,R,Y,c,u,d,A,C,x,i,r,ne,V,se,ue]}class $r extends We{constructor(e){super(),Ve(this,e,z6,j6,$e,{class:1,active:0,popup:2,overlayClose:3,btnClose:4,escClose:12,beforeOpen:13,beforeHide:14,show:15,hide:5,isActive:16},null,[-1,-1])}get show(){return this.$$.ctx[15]}get hide(){return this.$$.ctx[5]}get isActive(){return this.$$.ctx[16]}}function q6(n){let e;return{c(){e=y("span"),e.textContent="N/A",_(e,"class","txt-hint")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function Y6(n){let e,t=n[2].referer+"",r,i;return{c(){e=y("a"),r=q(t),_(e,"href",i=n[2].referer),_(e,"target","_blank"),_(e,"rel","noopener noreferrer")},m(s,a){E(s,e,a),b(e,r)},p(s,a){a&4&&t!==(t=s[2].referer+"")&&ke(r,t),a&4&&i!==(i=s[2].referer)&&_(e,"href",i)},d(s){s&&S(e)}}}function G6(n){let e;return{c(){e=y("span"),e.textContent="N/A",_(e,"class","txt-hint")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function X6(n){let e,t;return e=new Hy({props:{content:JSON.stringify(n[2].meta,null,2)}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i&4&&(s.content=JSON.stringify(r[2].meta,null,2)),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function K6(n){var et;let e,t,r,i,s,a,l=n[2].id+"",o,f,c,u,d,h,m,p=n[2].status+"",g,v,w,k,x,A,T=((et=n[2].method)==null?void 0:et.toUpperCase())+"",C,F,O,I,N,P,R=n[2].auth+"",Y,ne,V,se,ue,U,be=n[2].url+"",fe,B,K,G,J,de,me,we,Fe,Oe,ye,te=n[2].remoteIp+"",he,qe,ot,ct,Ce,_e,je=n[2].userIp+"",wt,kt,Qt,dn,gn,At,Yn=n[2].userAgent+"",li,In,Gn,bt,an,Nn,ln,vn,Ft,As,Di,os,ji,zi,Xn,lr;function fs(nt,Ze){return nt[2].referer?Y6:q6}let Z=fs(n),re=Z(n);const ge=[X6,G6],Ae=[];function Ye(nt,Ze){return Ze&4&&(ln=null),ln==null&&(ln=!X.isEmpty(nt[2].meta)),ln?0:1}return vn=Ye(n,-1),Ft=Ae[vn]=ge[vn](n),Xn=new ys({props:{date:n[2].created}}),{c(){e=y("table"),t=y("tbody"),r=y("tr"),i=y("td"),i.textContent="ID",s=D(),a=y("td"),o=q(l),f=D(),c=y("tr"),u=y("td"),u.textContent="Status",d=D(),h=y("td"),m=y("span"),g=q(p),v=D(),w=y("tr"),k=y("td"),k.textContent="Method",x=D(),A=y("td"),C=q(T),F=D(),O=y("tr"),I=y("td"),I.textContent="Auth",N=D(),P=y("td"),Y=q(R),ne=D(),V=y("tr"),se=y("td"),se.textContent="URL",ue=D(),U=y("td"),fe=q(be),B=D(),K=y("tr"),G=y("td"),G.textContent="Referer",J=D(),de=y("td"),re.c(),me=D(),we=y("tr"),Fe=y("td"),Fe.textContent="Remote IP",Oe=D(),ye=y("td"),he=q(te),qe=D(),ot=y("tr"),ct=y("td"),ct.textContent="User IP",Ce=D(),_e=y("td"),wt=q(je),kt=D(),Qt=y("tr"),dn=y("td"),dn.textContent="UserAgent",gn=D(),At=y("td"),li=q(Yn),In=D(),Gn=y("tr"),bt=y("td"),bt.textContent="Meta",an=D(),Nn=y("td"),Ft.c(),As=D(),Di=y("tr"),os=y("td"),os.textContent="Created",ji=D(),zi=y("td"),z(Xn.$$.fragment),_(i,"class","min-width txt-hint txt-bold"),_(u,"class","min-width txt-hint txt-bold"),_(m,"class","label"),pe(m,"label-danger",n[2].status>=400),_(k,"class","min-width txt-hint txt-bold"),_(I,"class","min-width txt-hint txt-bold"),_(se,"class","min-width txt-hint txt-bold"),_(G,"class","min-width txt-hint txt-bold"),_(Fe,"class","min-width txt-hint txt-bold"),_(ct,"class","min-width txt-hint txt-bold"),_(dn,"class","min-width txt-hint txt-bold"),_(bt,"class","min-width txt-hint txt-bold"),_(os,"class","min-width txt-hint txt-bold"),_(e,"class","table-border")},m(nt,Ze){E(nt,e,Ze),b(e,t),b(t,r),b(r,i),b(r,s),b(r,a),b(a,o),b(t,f),b(t,c),b(c,u),b(c,d),b(c,h),b(h,m),b(m,g),b(t,v),b(t,w),b(w,k),b(w,x),b(w,A),b(A,C),b(t,F),b(t,O),b(O,I),b(O,N),b(O,P),b(P,Y),b(t,ne),b(t,V),b(V,se),b(V,ue),b(V,U),b(U,fe),b(t,B),b(t,K),b(K,G),b(K,J),b(K,de),re.m(de,null),b(t,me),b(t,we),b(we,Fe),b(we,Oe),b(we,ye),b(ye,he),b(t,qe),b(t,ot),b(ot,ct),b(ot,Ce),b(ot,_e),b(_e,wt),b(t,kt),b(t,Qt),b(Qt,dn),b(Qt,gn),b(Qt,At),b(At,li),b(t,In),b(t,Gn),b(Gn,bt),b(Gn,an),b(Gn,Nn),Ae[vn].m(Nn,null),b(t,As),b(t,Di),b(Di,os),b(Di,ji),b(Di,zi),W(Xn,zi,null),lr=!0},p(nt,Ze){var dt;(!lr||Ze&4)&&l!==(l=nt[2].id+"")&&ke(o,l),(!lr||Ze&4)&&p!==(p=nt[2].status+"")&&ke(g,p),(!lr||Ze&4)&&pe(m,"label-danger",nt[2].status>=400),(!lr||Ze&4)&&T!==(T=((dt=nt[2].method)==null?void 0:dt.toUpperCase())+"")&&ke(C,T),(!lr||Ze&4)&&R!==(R=nt[2].auth+"")&&ke(Y,R),(!lr||Ze&4)&&be!==(be=nt[2].url+"")&&ke(fe,be),Z===(Z=fs(nt))&&re?re.p(nt,Ze):(re.d(1),re=Z(nt),re&&(re.c(),re.m(de,null))),(!lr||Ze&4)&&te!==(te=nt[2].remoteIp+"")&&ke(he,te),(!lr||Ze&4)&&je!==(je=nt[2].userIp+"")&&ke(wt,je),(!lr||Ze&4)&&Yn!==(Yn=nt[2].userAgent+"")&&ke(li,Yn);let vt=vn;vn=Ye(nt,Ze),vn===vt?Ae[vn].p(nt,Ze):(Me(),L(Ae[vt],1,1,()=>{Ae[vt]=null}),Ie(),Ft=Ae[vn],Ft?Ft.p(nt,Ze):(Ft=Ae[vn]=ge[vn](nt),Ft.c()),M(Ft,1),Ft.m(Nn,null));const lt={};Ze&4&&(lt.date=nt[2].created),Xn.$set(lt)},i(nt){lr||(M(Ft),M(Xn.$$.fragment,nt),lr=!0)},o(nt){L(Ft),L(Xn.$$.fragment,nt),lr=!1},d(nt){nt&&S(e),re.d(),Ae[vn].d(),j(Xn)}}}function J6(n){let e;return{c(){e=y("h4"),e.textContent="Request log"},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function Z6(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Close</span>',_(e,"type","button"),_(e,"class","btn btn-transparent")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[4]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function Q6(n){let e,t,r={class:"overlay-panel-lg log-panel",$$slots:{footer:[Z6],header:[J6],default:[K6]},$$scope:{ctx:n}};return e=new $r({props:r}),n[5](e),e.$on("hide",n[6]),e.$on("show",n[7]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&260&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[5](null),j(e,i)}}}function e8(n,e,t){let r,i=new v0;function s(u){return t(2,i=u),r==null?void 0:r.show()}function a(){return r==null?void 0:r.hide()}const l=()=>a();function o(u){ve[u?"unshift":"push"](()=>{r=u,t(1,r)})}function f(u){mt.call(this,n,u)}function c(u){mt.call(this,n,u)}return[a,r,i,s,l,o,f,c]}class t8 extends We{constructor(e){super(),Ve(this,e,e8,Q6,$e,{show:3,hide:0})}get show(){return this.$$.ctx[3]}get hide(){return this.$$.ctx[0]}}function n8(n){let e,t,r,i,s,a,l,o;return{c(){e=y("input"),r=D(),i=y("label"),s=q("Include requests by admins"),_(e,"type","checkbox"),_(e,"id",t=n[14]),_(i,"for",a=n[14])},m(f,c){E(f,e,c),e.checked=n[0],E(f,r,c),E(f,i,c),b(i,s),l||(o=ae(e,"change",n[8]),l=!0)},p(f,c){c&16384&&t!==(t=f[14])&&_(e,"id",t),c&1&&(e.checked=f[0]),c&16384&&a!==(a=f[14])&&_(i,"for",a)},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,o()}}}function o1(n){let e,t,r;function i(a){n[10](a)}let s={presets:n[4]};return n[2]!==void 0&&(s.filter=n[2]),e=new R6({props:s}),ve.push(()=>Le(e,"filter",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l&16&&(o.presets=a[4]),!t&&l&4&&(t=!0,o.filter=a[2],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function f1(n){let e,t,r;function i(a){n[11](a)}let s={presets:n[4]};return n[2]!==void 0&&(s.filter=n[2]),e=new nC({props:s}),ve.push(()=>Le(e,"filter",i)),e.$on("select",n[12]),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l&16&&(o.presets=a[4]),!t&&l&4&&(t=!0,o.filter=a[2],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function r8(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w=n[3],k,x=n[3],A,T;l=new kd({}),l.$on("refresh",n[7]),d=new Re({props:{class:"form-field form-field-toggle m-0",$$slots:{default:[n8,({uniqueId:O})=>({14:O}),({uniqueId:O})=>O?16384:0]},$$scope:{ctx:n}}}),m=new Zc({props:{value:n[2],placeholder:"Search logs, ex. status > 200",extraAutocompleteKeys:["method","url","remoteIp","userIp","referer","status","auth","userAgent"]}}),m.$on("submit",n[9]);let C=o1(n),F=f1(n);return{c(){e=y("div"),t=y("header"),r=y("nav"),i=y("div"),s=q(n[5]),a=D(),z(l.$$.fragment),o=D(),f=y("div"),c=D(),u=y("div"),z(d.$$.fragment),h=D(),z(m.$$.fragment),p=D(),g=y("div"),v=D(),C.c(),k=D(),F.c(),A=Ge(),_(i,"class","breadcrumb-item"),_(r,"class","breadcrumbs"),_(f,"class","flex-fill"),_(u,"class","inline-flex"),_(t,"class","page-header"),_(g,"class","clearfix m-b-base"),_(e,"class","page-header-wrapper m-b-0")},m(O,I){E(O,e,I),b(e,t),b(t,r),b(r,i),b(i,s),b(t,a),W(l,t,null),b(t,o),b(t,f),b(t,c),b(t,u),W(d,u,null),b(e,h),W(m,e,null),b(e,p),b(e,g),b(e,v),C.m(e,null),E(O,k,I),F.m(O,I),E(O,A,I),T=!0},p(O,I){(!T||I&32)&&ke(s,O[5]);const N={};I&49153&&(N.$$scope={dirty:I,ctx:O}),d.$set(N);const P={};I&4&&(P.value=O[2]),m.$set(P),I&8&&$e(w,w=O[3])?(Me(),L(C,1,1,ce),Ie(),C=o1(O),C.c(),M(C,1),C.m(e,null)):C.p(O,I),I&8&&$e(x,x=O[3])?(Me(),L(F,1,1,ce),Ie(),F=f1(O),F.c(),M(F,1),F.m(A.parentNode,A)):F.p(O,I)},i(O){T||(M(l.$$.fragment,O),M(d.$$.fragment,O),M(m.$$.fragment,O),M(C),M(F),T=!0)},o(O){L(l.$$.fragment,O),L(d.$$.fragment,O),L(m.$$.fragment,O),L(C),L(F),T=!1},d(O){O&&S(e),j(l),j(d),j(m),C.d(O),O&&S(k),O&&S(A),F.d(O)}}}function i8(n){let e,t,r,i;e=new ai({props:{$$slots:{default:[r8]},$$scope:{ctx:n}}});let s={};return r=new t8({props:s}),n[13](r),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment)},m(a,l){W(e,a,l),E(a,t,l),W(r,a,l),i=!0},p(a,[l]){const o={};l&32831&&(o.$$scope={dirty:l,ctx:a}),e.$set(o);const f={};r.$set(f)},i(a){i||(M(e.$$.fragment,a),M(r.$$.fragment,a),i=!0)},o(a){L(e.$$.fragment,a),L(r.$$.fragment,a),i=!1},d(a){j(e,a),a&&S(t),n[13](null),j(r,a)}}}const c1="includeAdminLogs";function s8(n,e,t){var v;let r,i;Et(n,En,w=>t(5,i=w)),kr(En,i="Request logs",i);let s,a="",l=((v=window.localStorage)==null?void 0:v.getItem(c1))<<0,o=1;function f(){t(3,o++,o)}const c=()=>f();function u(){l=this.checked,t(0,l)}const d=w=>t(2,a=w.detail);function h(w){a=w,t(2,a)}function m(w){a=w,t(2,a)}const p=w=>s==null?void 0:s.show(w==null?void 0:w.detail);function g(w){ve[w?"unshift":"push"](()=>{s=w,t(1,s)})}return n.$$.update=()=>{n.$$.dirty&1&&t(4,r=l?"":'auth!="admin"'),n.$$.dirty&1&&typeof l<"u"&&window.localStorage&&window.localStorage.setItem(c1,l<<0)},[l,s,a,o,r,i,f,c,u,d,h,m,p,g]}class a8 extends We{constructor(e){super(),Ve(this,e,s8,i8,$e,{})}}const ea=Ai([]),qs=Ai({}),Cc=Ai(!1);function l8(n){ea.update(e=>{const t=X.findByKey(e,"id",n);return t?qs.set(t):e.length&&qs.set(e[0]),e})}function o8(n){ea.update(e=>(X.removeByKey(e,"id",n.id),qs.update(t=>t.id===n.id?e[0]:t),e))}async function Wy(n=null){Cc.set(!0);try{let e=await Ue.collections.getFullList(200,{sort:"+name"});e=X.sortCollections(e),ea.set(e);const t=n&&X.findByKey(e,"id",n);t?qs.set(t):e.length&&qs.set(e[0])}catch(e){Ue.errorResponseHandler(e)}Cc.set(!1)}const zd=Ai({});function Wr(n,e,t){zd.set({text:n,yesCallback:e,noCallback:t})}function jy(){zd.set({})}function u1(n){let e,t,r,i;const s=n[14].default,a=Hn(s,n,n[13],null);return{c(){e=y("div"),a&&a.c(),_(e,"class",n[1]),pe(e,"active",n[0])},m(l,o){E(l,e,o),a&&a.m(e,null),i=!0},p(l,o){a&&a.p&&(!i||o&8192)&&Wn(a,s,l,l[13],i?Vn(s,l[13],o,null):jn(l[13]),null),(!i||o&2)&&_(e,"class",l[1]),(!i||o&3)&&pe(e,"active",l[0])},i(l){i||(M(a,l),l&&Nt(()=>{r&&r.end(1),t=Mw(e,Si,{duration:150,y:-5}),t.start()}),i=!0)},o(l){L(a,l),t&&t.invalidate(),l&&(r=Iw(e,Si,{duration:150,y:2})),i=!1},d(l){l&&S(e),a&&a.d(l),l&&r&&r.end()}}}function f8(n){let e,t,r,i,s=n[0]&&u1(n);return{c(){e=y("div"),s&&s.c(),_(e,"class","toggler-container")},m(a,l){E(a,e,l),s&&s.m(e,null),n[15](e),t=!0,r||(i=[ae(window,"click",n[3]),ae(window,"keydown",n[4]),ae(window,"focusin",n[5])],r=!0)},p(a,[l]){a[0]?s?(s.p(a,l),l&1&&M(s,1)):(s=u1(a),s.c(),M(s,1),s.m(e,null)):s&&(Me(),L(s,1,1,()=>{s=null}),Ie())},i(a){t||(M(s),t=!0)},o(a){L(s),t=!1},d(a){a&&S(e),s&&s.d(),n[15](null),r=!1,it(i)}}}function c8(n,e,t){let{$$slots:r={},$$scope:i}=e,{trigger:s=void 0}=e,{active:a=!1}=e,{escClose:l=!0}=e,{closableClass:o="closable"}=e,{class:f=""}=e,c,u;const d=Fn();function h(){t(0,a=!1)}function m(){t(0,a=!0)}function p(){a?h():m()}function g(O){return!c||O.classList.contains(o)||(u==null?void 0:u.contains(O))&&!c.contains(O)||c.contains(O)&&O.closest&&O.closest("."+o)}function v(O){(!a||g(O.target))&&(O.preventDefault(),O.stopPropagation(),p())}function w(O){(O.code==="Enter"||O.code==="Space")&&(!a||g(O.target))&&(O.preventDefault(),O.stopPropagation(),p())}function k(O){a&&!(c!=null&&c.contains(O.target))&&!(u!=null&&u.contains(O.target))&&h()}function x(O){a&&l&&O.code==="Escape"&&(O.preventDefault(),h())}function A(O){return k(O)}function T(O){C(),t(12,u=O||(c==null?void 0:c.parentNode)),u&&(c==null||c.addEventListener("click",v),u.addEventListener("click",v),u.addEventListener("keydown",w))}function C(){u&&(c==null||c.removeEventListener("click",v),u.removeEventListener("click",v),u.removeEventListener("keydown",w))}ur(()=>(T(),()=>C()));function F(O){ve[O?"unshift":"push"](()=>{c=O,t(2,c)})}return n.$$set=O=>{"trigger"in O&&t(6,s=O.trigger),"active"in O&&t(0,a=O.active),"escClose"in O&&t(7,l=O.escClose),"closableClass"in O&&t(8,o=O.closableClass),"class"in O&&t(1,f=O.class),"$$scope"in O&&t(13,i=O.$$scope)},n.$$.update=()=>{var O,I;n.$$.dirty&68&&c&&T(s),n.$$.dirty&4097&&(a?((O=u==null?void 0:u.classList)==null||O.add("active"),d("show")):((I=u==null?void 0:u.classList)==null||I.remove("active"),d("hide")))},[a,f,c,k,x,A,s,l,o,h,m,p,u,i,r,F]}class ss extends We{constructor(e){super(),Ve(this,e,c8,f8,$e,{trigger:6,active:0,escClose:7,closableClass:8,class:1,hide:9,show:10,toggle:11})}get hide(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}get toggle(){return this.$$.ctx[11]}}const u8=n=>({active:n&1}),d1=n=>({active:n[0]});function h1(n){let e,t,r;const i=n[15].default,s=Hn(i,n,n[14],null);return{c(){e=y("div"),s&&s.c(),_(e,"class","accordion-content")},m(a,l){E(a,e,l),s&&s.m(e,null),r=!0},p(a,l){s&&s.p&&(!r||l&16384)&&Wn(s,i,a,a[14],r?Vn(i,a[14],l,null):jn(a[14]),null)},i(a){r||(M(s,a),a&&Nt(()=>{t||(t=ut(e,Sn,{duration:150},!0)),t.run(1)}),r=!0)},o(a){L(s,a),a&&(t||(t=ut(e,Sn,{duration:150},!1)),t.run(0)),r=!1},d(a){a&&S(e),s&&s.d(a),a&&t&&t.end()}}}function d8(n){let e,t,r,i,s,a,l;const o=n[15].header,f=Hn(o,n,n[14],d1);let c=n[0]&&h1(n);return{c(){e=y("div"),t=y("button"),f&&f.c(),r=D(),c&&c.c(),_(t,"type","button"),_(t,"class","accordion-header"),_(t,"draggable",n[2]),pe(t,"interactive",n[3]),_(e,"class",i="accordion "+(n[7]?"drag-over":"")+" "+n[1]),pe(e,"active",n[0])},m(u,d){E(u,e,d),b(e,t),f&&f.m(t,null),b(e,r),c&&c.m(e,null),n[22](e),s=!0,a||(l=[ae(t,"click",Yt(n[17])),ae(t,"drop",Yt(n[18])),ae(t,"dragstart",n[19]),ae(t,"dragenter",n[20]),ae(t,"dragleave",n[21]),ae(t,"dragover",Yt(n[16]))],a=!0)},p(u,[d]){f&&f.p&&(!s||d&16385)&&Wn(f,o,u,u[14],s?Vn(o,u[14],d,u8):jn(u[14]),d1),(!s||d&4)&&_(t,"draggable",u[2]),(!s||d&8)&&pe(t,"interactive",u[3]),u[0]?c?(c.p(u,d),d&1&&M(c,1)):(c=h1(u),c.c(),M(c,1),c.m(e,null)):c&&(Me(),L(c,1,1,()=>{c=null}),Ie()),(!s||d&130&&i!==(i="accordion "+(u[7]?"drag-over":"")+" "+u[1]))&&_(e,"class",i),(!s||d&131)&&pe(e,"active",u[0])},i(u){s||(M(f,u),M(c),s=!0)},o(u){L(f,u),L(c),s=!1},d(u){u&&S(e),f&&f.d(u),c&&c.d(),n[22](null),a=!1,it(l)}}}function h8(n,e,t){let{$$slots:r={},$$scope:i}=e;const s=Fn();let a,l,{class:o=""}=e,{draggable:f=!1}=e,{active:c=!1}=e,{interactive:u=!0}=e,{single:d=!1}=e,h=!1;function m(){return!!c}function p(){w(),t(0,c=!0),s("expand")}function g(){t(0,c=!1),clearTimeout(l),s("collapse")}function v(){s("toggle"),c?g():p()}function w(){if(d&&a.closest(".accordions")){const I=a.closest(".accordions").querySelectorAll(".accordion.active .accordion-header.interactive");for(const N of I)N.click()}}ur(()=>()=>clearTimeout(l));function k(I){mt.call(this,n,I)}const x=()=>u&&v(),A=I=>{f&&(t(7,h=!1),w(),s("drop",I))},T=I=>f&&s("dragstart",I),C=I=>{f&&(t(7,h=!0),s("dragenter",I))},F=I=>{f&&(t(7,h=!1),s("dragleave",I))};function O(I){ve[I?"unshift":"push"](()=>{a=I,t(6,a)})}return n.$$set=I=>{"class"in I&&t(1,o=I.class),"draggable"in I&&t(2,f=I.draggable),"active"in I&&t(0,c=I.active),"interactive"in I&&t(3,u=I.interactive),"single"in I&&t(9,d=I.single),"$$scope"in I&&t(14,i=I.$$scope)},n.$$.update=()=>{n.$$.dirty&8257&&c&&(clearTimeout(l),t(13,l=setTimeout(()=>{a!=null&&a.scrollIntoViewIfNeeded?a.scrollIntoViewIfNeeded():a!=null&&a.scrollIntoView&&a.scrollIntoView({behavior:"smooth",block:"nearest"})},200)))},[c,o,f,u,v,w,a,h,s,d,m,p,g,l,i,r,k,x,A,T,C,F,O]}class fl extends We{constructor(e){super(),Ve(this,e,h8,d8,$e,{class:1,draggable:2,active:0,interactive:3,single:9,isExpanded:10,expand:11,collapse:12,toggle:4,collapseSiblings:5})}get isExpanded(){return this.$$.ctx[10]}get expand(){return this.$$.ctx[11]}get collapse(){return this.$$.ctx[12]}get toggle(){return this.$$.ctx[4]}get collapseSiblings(){return this.$$.ctx[5]}}const p8=n=>({}),p1=n=>({});function m1(n,e,t){const r=n.slice();return r[46]=e[t],r}const m8=n=>({}),_1=n=>({});function g1(n,e,t){const r=n.slice();return r[46]=e[t],r[50]=t,r}function v1(n){let e,t,r;return{c(){e=y("div"),t=q(n[2]),r=D(),_(e,"class","block txt-placeholder"),pe(e,"link-hint",!n[5])},m(i,s){E(i,e,s),b(e,t),b(e,r)},p(i,s){s[0]&4&&ke(t,i[2]),s[0]&32&&pe(e,"link-hint",!i[5])},d(i){i&&S(e)}}}function _8(n){let e,t=n[46]+"",r;return{c(){e=y("span"),r=q(t),_(e,"class","txt")},m(i,s){E(i,e,s),b(e,r)},p(i,s){s[0]&1&&t!==(t=i[46]+"")&&ke(r,t)},i:ce,o:ce,d(i){i&&S(e)}}}function g8(n){let e,t,r;const i=[{item:n[46]},n[9]];var s=n[8];function a(l){let o={};for(let f=0;f<i.length;f+=1)o=Mt(o,i[f]);return{props:o}}return s&&(e=sr(s,a())),{c(){e&&z(e.$$.fragment),t=Ge()},m(l,o){e&&W(e,l,o),E(l,t,o),r=!0},p(l,o){const f=o[0]&513?Rr(i,[o[0]&1&&{item:l[46]},o[0]&512&&is(l[9])]):{};if(s!==(s=l[8])){if(e){Me();const c=e;L(c.$$.fragment,1,0,()=>{j(c,1)}),Ie()}s?(e=sr(s,a()),z(e.$$.fragment),M(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else s&&e.$set(f)},i(l){r||(e&&M(e.$$.fragment,l),r=!0)},o(l){e&&L(e.$$.fragment,l),r=!1},d(l){l&&S(t),e&&j(e,l)}}}function b1(n){let e,t,r;function i(){return n[34](n[46])}return{c(){e=y("span"),e.innerHTML='<i class="ri-close-line"></i>',_(e,"class","clear")},m(s,a){E(s,e,a),t||(r=[st(xt.call(null,e,"Clear")),ae(e,"click",ri(Yt(i)))],t=!0)},p(s,a){n=s},d(s){s&&S(e),t=!1,it(r)}}}function w1(n){let e,t,r,i,s,a;const l=[g8,_8],o=[];function f(u,d){return u[8]?0:1}t=f(n),r=o[t]=l[t](n);let c=(n[4]||n[6])&&b1(n);return{c(){e=y("div"),r.c(),i=D(),c&&c.c(),s=D(),_(e,"class","option")},m(u,d){E(u,e,d),o[t].m(e,null),b(e,i),c&&c.m(e,null),b(e,s),a=!0},p(u,d){let h=t;t=f(u),t===h?o[t].p(u,d):(Me(),L(o[h],1,1,()=>{o[h]=null}),Ie(),r=o[t],r?r.p(u,d):(r=o[t]=l[t](u),r.c()),M(r,1),r.m(e,i)),u[4]||u[6]?c?c.p(u,d):(c=b1(u),c.c(),c.m(e,s)):c&&(c.d(1),c=null)},i(u){a||(M(r),a=!0)},o(u){L(r),a=!1},d(u){u&&S(e),o[t].d(),c&&c.d()}}}function k1(n){let e,t,r={class:"dropdown dropdown-block options-dropdown dropdown-left",trigger:n[18],$$slots:{default:[w8]},$$scope:{ctx:n}};return e=new ss({props:r}),n[39](e),e.$on("show",n[24]),e.$on("hide",n[40]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const a={};s[0]&262144&&(a.trigger=i[18]),s[0]&1612938|s[1]&2048&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[39](null),j(e,i)}}}function y1(n){let e,t,r,i,s,a,l,o,f=n[15].length&&x1(n);return{c(){e=y("div"),t=y("label"),r=y("div"),r.innerHTML='<i class="ri-search-line"></i>',i=D(),s=y("input"),a=D(),f&&f.c(),_(r,"class","addon p-r-0"),s.autofocus=!0,_(s,"type","text"),_(s,"placeholder",n[3]),_(t,"class","input-group"),_(e,"class","form-field form-field-sm options-search")},m(c,u){E(c,e,u),b(e,t),b(t,r),b(t,i),b(t,s),Ne(s,n[15]),b(t,a),f&&f.m(t,null),s.focus(),l||(o=ae(s,"input",n[36]),l=!0)},p(c,u){u[0]&8&&_(s,"placeholder",c[3]),u[0]&32768&&s.value!==c[15]&&Ne(s,c[15]),c[15].length?f?f.p(c,u):(f=x1(c),f.c(),f.m(t,null)):f&&(f.d(1),f=null)},d(c){c&&S(e),f&&f.d(),l=!1,o()}}}function x1(n){let e,t,r,i;return{c(){e=y("div"),t=y("button"),t.innerHTML='<i class="ri-close-line"></i>',_(t,"type","button"),_(t,"class","btn btn-sm btn-circle btn-transparent clear"),_(e,"class","addon suffix p-r-5")},m(s,a){E(s,e,a),b(e,t),r||(i=ae(t,"click",ri(Yt(n[21]))),r=!0)},p:ce,d(s){s&&S(e),r=!1,i()}}}function T1(n){let e,t=n[1]&&S1(n);return{c(){t&&t.c(),e=Ge()},m(r,i){t&&t.m(r,i),E(r,e,i)},p(r,i){r[1]?t?t.p(r,i):(t=S1(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&S(e)}}}function S1(n){let e,t;return{c(){e=y("div"),t=q(n[1]),_(e,"class","txt-missing")},m(r,i){E(r,e,i),b(e,t)},p(r,i){i[0]&2&&ke(t,r[1])},d(r){r&&S(e)}}}function v8(n){let e=n[46]+"",t;return{c(){t=q(e)},m(r,i){E(r,t,i)},p(r,i){i[0]&1048576&&e!==(e=r[46]+"")&&ke(t,e)},i:ce,o:ce,d(r){r&&S(t)}}}function b8(n){let e,t,r;const i=[{item:n[46]},n[11]];var s=n[10];function a(l){let o={};for(let f=0;f<i.length;f+=1)o=Mt(o,i[f]);return{props:o}}return s&&(e=sr(s,a())),{c(){e&&z(e.$$.fragment),t=Ge()},m(l,o){e&&W(e,l,o),E(l,t,o),r=!0},p(l,o){const f=o[0]&1050624?Rr(i,[o[0]&1048576&&{item:l[46]},o[0]&2048&&is(l[11])]):{};if(s!==(s=l[10])){if(e){Me();const c=e;L(c.$$.fragment,1,0,()=>{j(c,1)}),Ie()}s?(e=sr(s,a()),z(e.$$.fragment),M(e.$$.fragment,1),W(e,t.parentNode,t)):e=null}else s&&e.$set(f)},i(l){r||(e&&M(e.$$.fragment,l),r=!0)},o(l){e&&L(e.$$.fragment,l),r=!1},d(l){l&&S(t),e&&j(e,l)}}}function E1(n){let e,t,r,i,s,a,l;const o=[b8,v8],f=[];function c(h,m){return h[10]?0:1}t=c(n),r=f[t]=o[t](n);function u(...h){return n[37](n[46],...h)}function d(...h){return n[38](n[46],...h)}return{c(){e=y("div"),r.c(),i=D(),_(e,"tabindex","0"),_(e,"class","dropdown-item option"),pe(e,"closable",n[7]),pe(e,"selected",n[19](n[46]))},m(h,m){E(h,e,m),f[t].m(e,null),b(e,i),s=!0,a||(l=[ae(e,"click",u),ae(e,"keydown",d)],a=!0)},p(h,m){n=h;let p=t;t=c(n),t===p?f[t].p(n,m):(Me(),L(f[p],1,1,()=>{f[p]=null}),Ie(),r=f[t],r?r.p(n,m):(r=f[t]=o[t](n),r.c()),M(r,1),r.m(e,i)),(!s||m[0]&128)&&pe(e,"closable",n[7]),(!s||m[0]&1572864)&&pe(e,"selected",n[19](n[46]))},i(h){s||(M(r),s=!0)},o(h){L(r),s=!1},d(h){h&&S(e),f[t].d(),a=!1,it(l)}}}function w8(n){let e,t,r,i,s,a=n[12]&&y1(n);const l=n[33].beforeOptions,o=Hn(l,n,n[42],_1);let f=n[20],c=[];for(let p=0;p<f.length;p+=1)c[p]=E1(m1(n,f,p));const u=p=>L(c[p],1,1,()=>{c[p]=null});let d=null;f.length||(d=T1(n));const h=n[33].afterOptions,m=Hn(h,n,n[42],p1);return{c(){a&&a.c(),e=D(),o&&o.c(),t=D(),r=y("div");for(let p=0;p<c.length;p+=1)c[p].c();d&&d.c(),i=D(),m&&m.c(),_(r,"class","options-list")},m(p,g){a&&a.m(p,g),E(p,e,g),o&&o.m(p,g),E(p,t,g),E(p,r,g);for(let v=0;v<c.length;v+=1)c[v].m(r,null);d&&d.m(r,null),E(p,i,g),m&&m.m(p,g),s=!0},p(p,g){if(p[12]?a?a.p(p,g):(a=y1(p),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),o&&o.p&&(!s||g[1]&2048)&&Wn(o,l,p,p[42],s?Vn(l,p[42],g,m8):jn(p[42]),_1),g[0]&14158978){f=p[20];let v;for(v=0;v<f.length;v+=1){const w=m1(p,f,v);c[v]?(c[v].p(w,g),M(c[v],1)):(c[v]=E1(w),c[v].c(),M(c[v],1),c[v].m(r,null))}for(Me(),v=f.length;v<c.length;v+=1)u(v);Ie(),!f.length&&d?d.p(p,g):f.length?d&&(d.d(1),d=null):(d=T1(p),d.c(),d.m(r,null))}m&&m.p&&(!s||g[1]&2048)&&Wn(m,h,p,p[42],s?Vn(h,p[42],g,p8):jn(p[42]),p1)},i(p){if(!s){M(o,p);for(let g=0;g<f.length;g+=1)M(c[g]);M(m,p),s=!0}},o(p){L(o,p),c=c.filter(Boolean);for(let g=0;g<c.length;g+=1)L(c[g]);L(m,p),s=!1},d(p){a&&a.d(p),p&&S(e),o&&o.d(p),p&&S(t),p&&S(r),zt(c,p),d&&d.d(),p&&S(i),m&&m.d(p)}}}function k8(n){let e,t,r,i,s,a,l=X.toArray(n[0]),o=[];for(let d=0;d<l.length;d+=1)o[d]=w1(g1(n,l,d));const f=d=>L(o[d],1,1,()=>{o[d]=null});let c=null;l.length||(c=v1(n));let u=!n[5]&&k1(n);return{c(){e=y("div"),t=y("div");for(let d=0;d<o.length;d+=1)o[d].c();c&&c.c(),i=D(),u&&u.c(),_(t,"tabindex",r=n[5]?"-1":"0"),_(t,"class","selected-container"),pe(t,"disabled",n[5]),_(e,"class",s="select "+n[13]),pe(e,"multiple",n[4]),pe(e,"disabled",n[5])},m(d,h){E(d,e,h),b(e,t);for(let m=0;m<o.length;m+=1)o[m].m(t,null);c&&c.m(t,null),n[35](t),b(e,i),u&&u.m(e,null),n[41](e),a=!0},p(d,h){if(h[0]&17269){l=X.toArray(d[0]);let m;for(m=0;m<l.length;m+=1){const p=g1(d,l,m);o[m]?(o[m].p(p,h),M(o[m],1)):(o[m]=w1(p),o[m].c(),M(o[m],1),o[m].m(t,null))}for(Me(),m=l.length;m<o.length;m+=1)f(m);Ie(),!l.length&&c?c.p(d,h):l.length?c&&(c.d(1),c=null):(c=v1(d),c.c(),c.m(t,null))}(!a||h[0]&32&&r!==(r=d[5]?"-1":"0"))&&_(t,"tabindex",r),(!a||h[0]&32)&&pe(t,"disabled",d[5]),d[5]?u&&(Me(),L(u,1,1,()=>{u=null}),Ie()):u?(u.p(d,h),h[0]&32&&M(u,1)):(u=k1(d),u.c(),M(u,1),u.m(e,null)),(!a||h[0]&8192&&s!==(s="select "+d[13]))&&_(e,"class",s),(!a||h[0]&8208)&&pe(e,"multiple",d[4]),(!a||h[0]&8224)&&pe(e,"disabled",d[5])},i(d){if(!a){for(let h=0;h<l.length;h+=1)M(o[h]);M(u),a=!0}},o(d){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)L(o[h]);L(u),a=!1},d(d){d&&S(e),zt(o,d),c&&c.d(),n[35](null),u&&u.d(),n[41](null)}}}function y8(n,e){let t=(""+e).replace(/\s+/g,"").toLowerCase(),r=n;try{typeof n=="object"&&n!==null&&(r=JSON.stringify(n))}catch{}return(""+r).replace(/\s+/g,"").toLowerCase().includes(t)}function x8(n,e,t){let r,i,{$$slots:s={},$$scope:a}=e,{id:l=""}=e,{noOptionsText:o="No options found"}=e,{selectPlaceholder:f="- Select -"}=e,{searchPlaceholder:c="Search..."}=e,{items:u=[]}=e,{multiple:d=!1}=e,{disabled:h=!1}=e,{selected:m=d?[]:void 0}=e,{toggle:p=d}=e,{closable:g=!0}=e,{labelComponent:v=void 0}=e,{labelComponentProps:w={}}=e,{optionComponent:k=void 0}=e,{optionComponentProps:x={}}=e,{searchable:A=!1}=e,{searchFunc:T=void 0}=e,{class:C=""}=e,F,O="",I,N;function P(he){if(X.isEmpty(m))return;let qe=X.toArray(m);X.inArray(qe,he)&&(X.removeByValue(qe,he),t(0,m=qe)),I==null||I.dispatchEvent(new CustomEvent("change",{detail:m,bubbles:!0}))}function R(he){if(d){let qe=X.toArray(m);X.inArray(qe,he)||t(0,m=[...qe,he])}else t(0,m=he);I==null||I.dispatchEvent(new CustomEvent("change",{detail:m,bubbles:!0}))}function Y(he){return i(he)?P(he):R(he)}function ne(){t(0,m=d?[]:void 0)}function V(){F!=null&&F.show&&(F==null||F.show())}function se(){F!=null&&F.hide&&(F==null||F.hide())}function ue(){if(X.isEmpty(m)||X.isEmpty(u))return;let he=X.toArray(m),qe=[];for(const ot of he)X.inArray(u,ot)||qe.push(ot);if(qe.length){for(const ot of qe)X.removeByValue(he,ot);t(0,m=d?he:he[0])}}function U(){t(15,O="")}function be(he,qe){he=he||[];const ot=T||y8;return he.filter(ct=>ot(ct,qe))||[]}function fe(he,qe){he.preventDefault(),p&&d?Y(qe):R(qe)}function B(he,qe){(he.code==="Enter"||he.code==="Space")&&fe(he,qe)}function K(){U(),setTimeout(()=>{const he=I==null?void 0:I.querySelector(".dropdown-item.option.selected");he&&(he.focus(),he.scrollIntoView({block:"nearest"}))},0)}function G(he){he.stopPropagation(),!h&&(F==null||F.toggle())}ur(()=>{const he=document.querySelectorAll(`label[for="${l}"]`);for(const qe of he)qe.addEventListener("click",G);return()=>{for(const qe of he)qe.removeEventListener("click",G)}});const J=he=>P(he);function de(he){ve[he?"unshift":"push"](()=>{N=he,t(18,N)})}function me(){O=this.value,t(15,O)}const we=(he,qe)=>fe(qe,he),Fe=(he,qe)=>B(qe,he);function Oe(he){ve[he?"unshift":"push"](()=>{F=he,t(16,F)})}function ye(he){mt.call(this,n,he)}function te(he){ve[he?"unshift":"push"](()=>{I=he,t(17,I)})}return n.$$set=he=>{"id"in he&&t(25,l=he.id),"noOptionsText"in he&&t(1,o=he.noOptionsText),"selectPlaceholder"in he&&t(2,f=he.selectPlaceholder),"searchPlaceholder"in he&&t(3,c=he.searchPlaceholder),"items"in he&&t(26,u=he.items),"multiple"in he&&t(4,d=he.multiple),"disabled"in he&&t(5,h=he.disabled),"selected"in he&&t(0,m=he.selected),"toggle"in he&&t(6,p=he.toggle),"closable"in he&&t(7,g=he.closable),"labelComponent"in he&&t(8,v=he.labelComponent),"labelComponentProps"in he&&t(9,w=he.labelComponentProps),"optionComponent"in he&&t(10,k=he.optionComponent),"optionComponentProps"in he&&t(11,x=he.optionComponentProps),"searchable"in he&&t(12,A=he.searchable),"searchFunc"in he&&t(27,T=he.searchFunc),"class"in he&&t(13,C=he.class),"$$scope"in he&&t(42,a=he.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&67108864&&u&&(ue(),U()),n.$$.dirty[0]&67141632&&t(20,r=be(u,O)),n.$$.dirty[0]&1&&t(19,i=function(he){const qe=X.toArray(m);return X.inArray(qe,he)})},[m,o,f,c,d,h,p,g,v,w,k,x,A,C,P,O,F,I,N,i,r,U,fe,B,K,l,u,T,R,Y,ne,V,se,s,J,de,me,we,Fe,Oe,ye,te,a]}class qd extends We{constructor(e){super(),Ve(this,e,x8,k8,$e,{id:25,noOptionsText:1,selectPlaceholder:2,searchPlaceholder:3,items:26,multiple:4,disabled:5,selected:0,toggle:6,closable:7,labelComponent:8,labelComponentProps:9,optionComponent:10,optionComponentProps:11,searchable:12,searchFunc:27,class:13,deselectItem:14,selectItem:28,toggleItem:29,reset:30,showDropdown:31,hideDropdown:32},null,[-1,-1])}get deselectItem(){return this.$$.ctx[14]}get selectItem(){return this.$$.ctx[28]}get toggleItem(){return this.$$.ctx[29]}get reset(){return this.$$.ctx[30]}get showDropdown(){return this.$$.ctx[31]}get hideDropdown(){return this.$$.ctx[32]}}function C1(n){let e,t;return{c(){e=y("i"),_(e,"class",t="icon "+n[0].icon)},m(r,i){E(r,e,i)},p(r,i){i&1&&t!==(t="icon "+r[0].icon)&&_(e,"class",t)},d(r){r&&S(e)}}}function T8(n){let e,t,r=(n[0].label||n[0].name||n[0].title||n[0].id||n[0].value)+"",i,s=n[0].icon&&C1(n);return{c(){s&&s.c(),e=D(),t=y("span"),i=q(r),_(t,"class","txt")},m(a,l){s&&s.m(a,l),E(a,e,l),E(a,t,l),b(t,i)},p(a,[l]){a[0].icon?s?s.p(a,l):(s=C1(a),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),l&1&&r!==(r=(a[0].label||a[0].name||a[0].title||a[0].id||a[0].value)+"")&&ke(i,r)},i:ce,o:ce,d(a){s&&s.d(a),a&&S(e),a&&S(t)}}}function S8(n,e,t){let{item:r={}}=e;return n.$$set=i=>{"item"in i&&t(0,r=i.item)},[r]}class A1 extends We{constructor(e){super(),Ve(this,e,S8,T8,$e,{item:0})}}const E8=n=>({}),F1=n=>({});function C8(n){let e;const t=n[8].afterOptions,r=Hn(t,n,n[12],F1);return{c(){r&&r.c()},m(i,s){r&&r.m(i,s),e=!0},p(i,s){r&&r.p&&(!e||s&4096)&&Wn(r,t,i,i[12],e?Vn(t,i[12],s,E8):jn(i[12]),F1)},i(i){e||(M(r,i),e=!0)},o(i){L(r,i),e=!1},d(i){r&&r.d(i)}}}function A8(n){let e,t,r;const i=[{items:n[1]},{multiple:n[2]},{labelComponent:n[3]},{optionComponent:n[4]},n[5]];function s(l){n[9](l)}let a={$$slots:{afterOptions:[C8]},$$scope:{ctx:n}};for(let l=0;l<i.length;l+=1)a=Mt(a,i[l]);return n[0]!==void 0&&(a.selected=n[0]),e=new qd({props:a}),ve.push(()=>Le(e,"selected",s)),e.$on("show",n[10]),e.$on("hide",n[11]),{c(){z(e.$$.fragment)},m(l,o){W(e,l,o),r=!0},p(l,[o]){const f=o&62?Rr(i,[o&2&&{items:l[1]},o&4&&{multiple:l[2]},o&8&&{labelComponent:l[3]},o&16&&{optionComponent:l[4]},o&32&&is(l[5])]):{};o&4096&&(f.$$scope={dirty:o,ctx:l}),!t&&o&1&&(t=!0,f.selected=l[0],He(()=>t=!1)),e.$set(f)},i(l){r||(M(e.$$.fragment,l),r=!0)},o(l){L(e.$$.fragment,l),r=!1},d(l){j(e,l)}}}function F8(n,e,t){const r=["items","multiple","selected","labelComponent","optionComponent","selectionKey","keyOfSelected"];let i=zn(e,r),{$$slots:s={},$$scope:a}=e,{items:l=[]}=e,{multiple:o=!1}=e,{selected:f=o?[]:void 0}=e,{labelComponent:c=A1}=e,{optionComponent:u=A1}=e,{selectionKey:d="value"}=e,{keyOfSelected:h=o?[]:void 0}=e;function m(k){k=X.toArray(k,!0);let x=[];for(let A of k){const T=X.findByKey(l,d,A);T&&x.push(T)}k.length&&!x.length||t(0,f=o?x:x[0])}async function p(k){let x=X.toArray(k,!0).map(A=>A[d]);l.length&&t(6,h=o?x:x[0])}function g(k){f=k,t(0,f)}function v(k){mt.call(this,n,k)}function w(k){mt.call(this,n,k)}return n.$$set=k=>{e=Mt(Mt({},e),rs(k)),t(5,i=zn(e,r)),"items"in k&&t(1,l=k.items),"multiple"in k&&t(2,o=k.multiple),"selected"in k&&t(0,f=k.selected),"labelComponent"in k&&t(3,c=k.labelComponent),"optionComponent"in k&&t(4,u=k.optionComponent),"selectionKey"in k&&t(7,d=k.selectionKey),"keyOfSelected"in k&&t(6,h=k.keyOfSelected),"$$scope"in k&&t(12,a=k.$$scope)},n.$$.update=()=>{n.$$.dirty&66&&l&&m(h),n.$$.dirty&1&&p(f)},[f,l,o,c,u,i,h,d,s,g,v,w,a]}class $a extends We{constructor(e){super(),Ve(this,e,F8,A8,$e,{items:1,multiple:2,selected:0,labelComponent:3,optionComponent:4,selectionKey:7,keyOfSelected:6})}}function D8(n){let e,t,r;const i=[{class:"field-type-select "+n[1]},{items:n[2]},n[3]];function s(l){n[4](l)}let a={};for(let l=0;l<i.length;l+=1)a=Mt(a,i[l]);return n[0]!==void 0&&(a.keyOfSelected=n[0]),e=new $a({props:a}),ve.push(()=>Le(e,"keyOfSelected",s)),{c(){z(e.$$.fragment)},m(l,o){W(e,l,o),r=!0},p(l,[o]){const f=o&14?Rr(i,[o&2&&{class:"field-type-select "+l[1]},o&4&&{items:l[2]},o&8&&is(l[3])]):{};!t&&o&1&&(t=!0,f.keyOfSelected=l[0],He(()=>t=!1)),e.$set(f)},i(l){r||(M(e.$$.fragment,l),r=!0)},o(l){L(e.$$.fragment,l),r=!1},d(l){j(e,l)}}}function O8(n,e,t){const r=["value","class"];let i=zn(e,r),{value:s="text"}=e,{class:a=""}=e;const l=[{label:"Plain text",value:"text",icon:X.getFieldTypeIcon("text")},{label:"Rich editor",value:"editor",icon:X.getFieldTypeIcon("editor")},{label:"Number",value:"number",icon:X.getFieldTypeIcon("number")},{label:"Bool",value:"bool",icon:X.getFieldTypeIcon("bool")},{label:"Email",value:"email",icon:X.getFieldTypeIcon("email")},{label:"Url",value:"url",icon:X.getFieldTypeIcon("url")},{label:"DateTime",value:"date",icon:X.getFieldTypeIcon("date")},{label:"Select",value:"select",icon:X.getFieldTypeIcon("select")},{label:"File",value:"file",icon:X.getFieldTypeIcon("file")},{label:"Relation",value:"relation",icon:X.getFieldTypeIcon("relation")},{label:"JSON",value:"json",icon:X.getFieldTypeIcon("json")}];function o(f){s=f,t(0,s)}return n.$$set=f=>{e=Mt(Mt({},e),rs(f)),t(3,i=zn(e,r)),"value"in f&&t(0,s=f.value),"class"in f&&t(1,a=f.class)},[s,a,l,i,o]}class M8 extends We{constructor(e){super(),Ve(this,e,O8,D8,$e,{value:0,class:1})}}function I8(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Min length"),i=D(),s=y("input"),_(e,"for",r=n[5]),_(s,"type","number"),_(s,"id",a=n[5]),_(s,"step","1"),_(s,"min","0")},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].min),l||(o=ae(s,"input",n[2]),l=!0)},p(f,c){c&32&&r!==(r=f[5])&&_(e,"for",r),c&32&&a!==(a=f[5])&&_(s,"id",a),c&1&&nn(s.value)!==f[0].min&&Ne(s,f[0].min)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function N8(n){let e,t,r,i,s,a,l,o,f;return{c(){e=y("label"),t=q("Max length"),i=D(),s=y("input"),_(e,"for",r=n[5]),_(s,"type","number"),_(s,"id",a=n[5]),_(s,"step","1"),_(s,"min",l=n[0].min||0)},m(c,u){E(c,e,u),b(e,t),E(c,i,u),E(c,s,u),Ne(s,n[0].max),o||(f=ae(s,"input",n[3]),o=!0)},p(c,u){u&32&&r!==(r=c[5])&&_(e,"for",r),u&32&&a!==(a=c[5])&&_(s,"id",a),u&1&&l!==(l=c[0].min||0)&&_(s,"min",l),u&1&&nn(s.value)!==c[0].max&&Ne(s,c[0].max)},d(c){c&&S(e),c&&S(i),c&&S(s),o=!1,f()}}}function P8(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("label"),t=q("Regex pattern"),i=D(),s=y("input"),l=D(),o=y("div"),o.innerHTML="Valid Go regular expression, eg. <code>^\\w+$</code>.",_(e,"for",r=n[5]),_(s,"type","text"),_(s,"id",a=n[5]),_(o,"class","help-block")},m(u,d){E(u,e,d),b(e,t),E(u,i,d),E(u,s,d),Ne(s,n[0].pattern),E(u,l,d),E(u,o,d),f||(c=ae(s,"input",n[4]),f=!0)},p(u,d){d&32&&r!==(r=u[5])&&_(e,"for",r),d&32&&a!==(a=u[5])&&_(s,"id",a),d&1&&s.value!==u[0].pattern&&Ne(s,u[0].pattern)},d(u){u&&S(e),u&&S(i),u&&S(s),u&&S(l),u&&S(o),f=!1,c()}}}function L8(n){let e,t,r,i,s,a,l,o,f,c;return r=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[I8,({uniqueId:u})=>({5:u}),({uniqueId:u})=>u?32:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[N8,({uniqueId:u})=>({5:u}),({uniqueId:u})=>u?32:0]},$$scope:{ctx:n}}}),f=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.pattern",$$slots:{default:[P8,({uniqueId:u})=>({5:u}),({uniqueId:u})=>u?32:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),l=D(),o=y("div"),z(f.$$.fragment),_(t,"class","col-sm-6"),_(s,"class","col-sm-6"),_(o,"class","col-sm-12"),_(e,"class","grid")},m(u,d){E(u,e,d),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),b(e,l),b(e,o),W(f,o,null),c=!0},p(u,[d]){const h={};d&2&&(h.name="schema."+u[1]+".options.min"),d&97&&(h.$$scope={dirty:d,ctx:u}),r.$set(h);const m={};d&2&&(m.name="schema."+u[1]+".options.max"),d&97&&(m.$$scope={dirty:d,ctx:u}),a.$set(m);const p={};d&2&&(p.name="schema."+u[1]+".options.pattern"),d&97&&(p.$$scope={dirty:d,ctx:u}),f.$set(p)},i(u){c||(M(r.$$.fragment,u),M(a.$$.fragment,u),M(f.$$.fragment,u),c=!0)},o(u){L(r.$$.fragment,u),L(a.$$.fragment,u),L(f.$$.fragment,u),c=!1},d(u){u&&S(e),j(r),j(a),j(f)}}}function R8(n,e,t){let{key:r=""}=e,{options:i={}}=e;function s(){i.min=nn(this.value),t(0,i)}function a(){i.max=nn(this.value),t(0,i)}function l(){i.pattern=this.value,t(0,i)}return n.$$set=o=>{"key"in o&&t(1,r=o.key),"options"in o&&t(0,i=o.options)},[i,r,s,a,l]}class $8 extends We{constructor(e){super(),Ve(this,e,R8,L8,$e,{key:1,options:0})}}function B8(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Min"),i=D(),s=y("input"),_(e,"for",r=n[4]),_(s,"type","number"),_(s,"id",a=n[4])},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].min),l||(o=ae(s,"input",n[2]),l=!0)},p(f,c){c&16&&r!==(r=f[4])&&_(e,"for",r),c&16&&a!==(a=f[4])&&_(s,"id",a),c&1&&nn(s.value)!==f[0].min&&Ne(s,f[0].min)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function U8(n){let e,t,r,i,s,a,l,o,f;return{c(){e=y("label"),t=q("Max"),i=D(),s=y("input"),_(e,"for",r=n[4]),_(s,"type","number"),_(s,"id",a=n[4]),_(s,"min",l=n[0].min)},m(c,u){E(c,e,u),b(e,t),E(c,i,u),E(c,s,u),Ne(s,n[0].max),o||(f=ae(s,"input",n[3]),o=!0)},p(c,u){u&16&&r!==(r=c[4])&&_(e,"for",r),u&16&&a!==(a=c[4])&&_(s,"id",a),u&1&&l!==(l=c[0].min)&&_(s,"min",l),u&1&&nn(s.value)!==c[0].max&&Ne(s,c[0].max)},d(c){c&&S(e),c&&S(i),c&&S(s),o=!1,f()}}}function H8(n){let e,t,r,i,s,a,l;return r=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[B8,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[U8,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),_(t,"class","col-sm-6"),_(s,"class","col-sm-6"),_(e,"class","grid")},m(o,f){E(o,e,f),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),l=!0},p(o,[f]){const c={};f&2&&(c.name="schema."+o[1]+".options.min"),f&49&&(c.$$scope={dirty:f,ctx:o}),r.$set(c);const u={};f&2&&(u.name="schema."+o[1]+".options.max"),f&49&&(u.$$scope={dirty:f,ctx:o}),a.$set(u)},i(o){l||(M(r.$$.fragment,o),M(a.$$.fragment,o),l=!0)},o(o){L(r.$$.fragment,o),L(a.$$.fragment,o),l=!1},d(o){o&&S(e),j(r),j(a)}}}function V8(n,e,t){let{key:r=""}=e,{options:i={}}=e;function s(){i.min=nn(this.value),t(0,i)}function a(){i.max=nn(this.value),t(0,i)}return n.$$set=l=>{"key"in l&&t(1,r=l.key),"options"in l&&t(0,i=l.options)},[i,r,s,a]}class W8 extends We{constructor(e){super(),Ve(this,e,V8,H8,$e,{key:1,options:0})}}function j8(n,e,t){let{key:r=""}=e,{options:i={}}=e;return n.$$set=s=>{"key"in s&&t(0,r=s.key),"options"in s&&t(1,i=s.options)},[r,i]}class z8 extends We{constructor(e){super(),Ve(this,e,j8,null,$e,{key:0,options:1})}}function q8(n){let e,t,r,i,s=[{type:t=n[3].type||"text"},{value:n[2]},n[3]],a={};for(let l=0;l<s.length;l+=1)a=Mt(a,s[l]);return{c(){e=y("input"),ts(e,a)},m(l,o){E(l,e,o),e.value=a.value,e.autofocus&&e.focus(),r||(i=ae(e,"input",n[4]),r=!0)},p(l,[o]){ts(e,a=Rr(s,[o&8&&t!==(t=l[3].type||"text")&&{type:t},o&4&&e.value!==l[2]&&{value:l[2]},o&8&&l[3]])),"value"in a&&(e.value=a.value)},i:ce,o:ce,d(l){l&&S(e),r=!1,i()}}}function Y8(n,e,t){let r;const i=["value","separator"];let s=zn(e,i),{value:a=[]}=e,{separator:l=","}=e;const o=f=>{t(0,a=X.splitNonEmpty(f.target.value,l))};return n.$$set=f=>{e=Mt(Mt({},e),rs(f)),t(3,s=zn(e,i)),"value"in f&&t(0,a=f.value),"separator"in f&&t(1,l=f.separator)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=(a||[]).join(", "))},[a,l,r,s,o]}class Ml extends We{constructor(e){super(),Ve(this,e,Y8,q8,$e,{value:0,separator:1})}}function G8(n){let e,t,r,i,s,a,l,o,f,c,u,d,h;function m(g){n[2](g)}let p={id:n[4],disabled:!X.isEmpty(n[0].onlyDomains)};return n[0].exceptDomains!==void 0&&(p.value=n[0].exceptDomains),l=new Ml({props:p}),ve.push(()=>Le(l,"value",m)),{c(){e=y("label"),t=y("span"),t.textContent="Except domains",r=D(),i=y("i"),a=D(),z(l.$$.fragment),f=D(),c=y("div"),c.textContent="Use comma as separator.",_(t,"class","txt"),_(i,"class","ri-information-line link-hint"),_(e,"for",s=n[4]),_(c,"class","help-block")},m(g,v){E(g,e,v),b(e,t),b(e,r),b(e,i),E(g,a,v),W(l,g,v),E(g,f,v),E(g,c,v),u=!0,d||(h=st(xt.call(null,i,{text:`List of domains that are NOT allowed. 
 This field is disabled if "Only domains" is set.`,position:"top"})),d=!0)},p(g,v){(!u||v&16&&s!==(s=g[4]))&&_(e,"for",s);const w={};v&16&&(w.id=g[4]),v&1&&(w.disabled=!X.isEmpty(g[0].onlyDomains)),!o&&v&1&&(o=!0,w.value=g[0].exceptDomains,He(()=>o=!1)),l.$set(w)},i(g){u||(M(l.$$.fragment,g),u=!0)},o(g){L(l.$$.fragment,g),u=!1},d(g){g&&S(e),g&&S(a),j(l,g),g&&S(f),g&&S(c),d=!1,h()}}}function X8(n){let e,t,r,i,s,a,l,o,f,c,u,d,h;function m(g){n[3](g)}let p={id:n[4]+".options.onlyDomains",disabled:!X.isEmpty(n[0].exceptDomains)};return n[0].onlyDomains!==void 0&&(p.value=n[0].onlyDomains),l=new Ml({props:p}),ve.push(()=>Le(l,"value",m)),{c(){e=y("label"),t=y("span"),t.textContent="Only domains",r=D(),i=y("i"),a=D(),z(l.$$.fragment),f=D(),c=y("div"),c.textContent="Use comma as separator.",_(t,"class","txt"),_(i,"class","ri-information-line link-hint"),_(e,"for",s=n[4]+".options.onlyDomains"),_(c,"class","help-block")},m(g,v){E(g,e,v),b(e,t),b(e,r),b(e,i),E(g,a,v),W(l,g,v),E(g,f,v),E(g,c,v),u=!0,d||(h=st(xt.call(null,i,{text:`List of domains that are ONLY allowed. 
 This field is disabled if "Except domains" is set.`,position:"top"})),d=!0)},p(g,v){(!u||v&16&&s!==(s=g[4]+".options.onlyDomains"))&&_(e,"for",s);const w={};v&16&&(w.id=g[4]+".options.onlyDomains"),v&1&&(w.disabled=!X.isEmpty(g[0].exceptDomains)),!o&&v&1&&(o=!0,w.value=g[0].onlyDomains,He(()=>o=!1)),l.$set(w)},i(g){u||(M(l.$$.fragment,g),u=!0)},o(g){L(l.$$.fragment,g),u=!1},d(g){g&&S(e),g&&S(a),j(l,g),g&&S(f),g&&S(c),d=!1,h()}}}function K8(n){let e,t,r,i,s,a,l;return r=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.exceptDomains",$$slots:{default:[G8,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.onlyDomains",$$slots:{default:[X8,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),_(t,"class","col-sm-6"),_(s,"class","col-sm-6"),_(e,"class","grid")},m(o,f){E(o,e,f),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),l=!0},p(o,[f]){const c={};f&2&&(c.name="schema."+o[1]+".options.exceptDomains"),f&49&&(c.$$scope={dirty:f,ctx:o}),r.$set(c);const u={};f&2&&(u.name="schema."+o[1]+".options.onlyDomains"),f&49&&(u.$$scope={dirty:f,ctx:o}),a.$set(u)},i(o){l||(M(r.$$.fragment,o),M(a.$$.fragment,o),l=!0)},o(o){L(r.$$.fragment,o),L(a.$$.fragment,o),l=!1},d(o){o&&S(e),j(r),j(a)}}}function J8(n,e,t){let{key:r=""}=e,{options:i={}}=e;function s(l){n.$$.not_equal(i.exceptDomains,l)&&(i.exceptDomains=l,t(0,i))}function a(l){n.$$.not_equal(i.onlyDomains,l)&&(i.onlyDomains=l,t(0,i))}return n.$$set=l=>{"key"in l&&t(1,r=l.key),"options"in l&&t(0,i=l.options)},[i,r,s,a]}class zy extends We{constructor(e){super(),Ve(this,e,J8,K8,$e,{key:1,options:0})}}function Z8(n){let e,t,r,i;function s(o){n[2](o)}function a(o){n[3](o)}let l={};return n[0]!==void 0&&(l.key=n[0]),n[1]!==void 0&&(l.options=n[1]),e=new zy({props:l}),ve.push(()=>Le(e,"key",s)),ve.push(()=>Le(e,"options",a)),{c(){z(e.$$.fragment)},m(o,f){W(e,o,f),i=!0},p(o,[f]){const c={};!t&&f&1&&(t=!0,c.key=o[0],He(()=>t=!1)),!r&&f&2&&(r=!0,c.options=o[1],He(()=>r=!1)),e.$set(c)},i(o){i||(M(e.$$.fragment,o),i=!0)},o(o){L(e.$$.fragment,o),i=!1},d(o){j(e,o)}}}function Q8(n,e,t){let{key:r=""}=e,{options:i={}}=e;function s(l){r=l,t(0,r)}function a(l){i=l,t(1,i)}return n.$$set=l=>{"key"in l&&t(0,r=l.key),"options"in l&&t(1,i=l.options)},[r,i,s,a]}class eD extends We{constructor(e){super(),Ve(this,e,Q8,Z8,$e,{key:0,options:1})}}function tD(n,e,t){let{key:r=""}=e,{options:i={}}=e;return n.$$set=s=>{"key"in s&&t(0,r=s.key),"options"in s&&t(1,i=s.options)},[r,i]}class nD extends We{constructor(e){super(),Ve(this,e,tD,null,$e,{key:0,options:1})}}var Wu=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],cl={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Io={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Ur=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},mi=function(n){return n===!0?1:0};function D1(n,e){var t;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,i)},e)}}var ju=function(n){return n instanceof Array?n:[n]};function Ar(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function Wt(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function Uf(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function qy(n,e){if(e(n))return n;if(n.parentNode)return qy(n.parentNode,e)}function Hf(n,e){var t=Wt("div","numInputWrapper"),r=Wt("input","numInput "+n),i=Wt("span","arrowUp"),s=Wt("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var a in e)r.setAttribute(a,e[a]);return t.appendChild(r),t.appendChild(i),t.appendChild(s),t}function Gr(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var zu=function(){},Ac=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},rD={D:zu,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*mi(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:zu,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:zu,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},ma={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},po={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[po.w(n,e,t)]},F:function(n,e,t){return Ac(po.n(n,e,t)-1,!1,e)},G:function(n,e,t){return Ur(po.h(n,e,t))},H:function(n){return Ur(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[mi(n.getHours()>11)]},M:function(n,e){return Ac(n.getMonth(),!0,e)},S:function(n){return Ur(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return Ur(n.getFullYear(),4)},d:function(n){return Ur(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return Ur(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return Ur(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},Yy=function(n){var e=n.config,t=e===void 0?cl:e,r=n.l10n,i=r===void 0?Io:r,s=n.isMobile,a=s===void 0?!1:s;return function(l,o,f){var c=f||i;return t.formatDate!==void 0&&!a?t.formatDate(l,o,c):o.split("").map(function(u,d,h){return po[u]&&h[d-1]!=="\\"?po[u](l,c,t):u!=="\\"?u:""}).join("")}},j0=function(n){var e=n.config,t=e===void 0?cl:e,r=n.l10n,i=r===void 0?Io:r;return function(s,a,l,o){if(!(s!==0&&!s)){var f=o||i,c,u=s;if(s instanceof Date)c=new Date(s.getTime());else if(typeof s!="string"&&s.toFixed!==void 0)c=new Date(s);else if(typeof s=="string"){var d=a||(t||cl).dateFormat,h=String(s).trim();if(h==="today")c=new Date,l=!0;else if(t&&t.parseDate)c=t.parseDate(s,d);else if(/Z$/.test(h)||/GMT$/.test(h))c=new Date(s);else{for(var m=void 0,p=[],g=0,v=0,w="";g<d.length;g++){var k=d[g],x=k==="\\",A=d[g-1]==="\\"||x;if(ma[k]&&!A){w+=ma[k];var T=new RegExp(w).exec(s);T&&(m=!0)&&p[k!=="Y"?"push":"unshift"]({fn:rD[k],val:T[++v]})}else x||(w+=".")}c=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),p.forEach(function(C){var F=C.fn,O=C.val;return c=F(c,O,f)||c}),c=m?c:void 0}}if(!(c instanceof Date&&!isNaN(c.getTime()))){t.errorHandler(new Error("Invalid date provided: "+u));return}return l===!0&&c.setHours(0,0,0,0),c}}};function Xr(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var iD=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},qu=function(n,e,t){return n*3600+e*60+t},sD=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},aD={DAY:864e5};function Yu(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),s=n.minDate.getMinutes(),a=n.minDate.getSeconds();e<i&&(e=i),e===i&&t<s&&(t=s),e===i&&t===s&&r<a&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var l=n.maxDate.getHours(),o=n.maxDate.getMinutes();e=Math.min(e,l),e===l&&(t=Math.min(o,t)),e===l&&t===o&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(l){l&&Object.keys(l).forEach(function(o){return n[o]=l[o]})},i=0,s=e;i<s.length;i++){var a=s[i];r(a)}return n});var pr=globalThis&&globalThis.__assign||function(){return pr=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},pr.apply(this,arguments)},O1=globalThis&&globalThis.__spreadArrays||function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,i++)r[i]=s[a];return r},lD=300;function oD(n,e){var t={config:pr(pr({},cl),Un.defaultConfig),l10n:Io};t.parseDate=j0({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=p,t._setHoursFromDate=d,t._positionCalendar=je,t.changeMonth=fe,t.changeYear=me,t.clear=B,t.close=K,t.onMouseOver=te,t._createElement=Wt,t.createDay=T,t.destroy=G,t.isEnabled=we,t.jumpToDate=w,t.updateValue=Xn,t.open=qe,t.redraw=Qt,t.set=Yn,t.setDate=In,t.toggle=vn;function r(){t.utils={getDaysInMonth:function(Z,re){return Z===void 0&&(Z=t.currentMonth),re===void 0&&(re=t.currentYear),Z===1&&(re%4===0&&re%100!==0||re%400===0)?29:t.l10n.daysInMonth[Z]}}}function i(){t.element=t.input=n,t.isOpen=!1,ct(),_e(),an(),bt(),r(),t.isMobile||A(),v(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&d(t.config.noCalendar?t.latestSelectedDateObj:void 0),Xn(!1)),l();var Z=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&Z&&je(),Ft("onReady")}function s(){var Z;return((Z=t.calendarContainer)===null||Z===void 0?void 0:Z.getRootNode()).activeElement||document.activeElement}function a(Z){return Z.bind(t)}function l(){var Z=t.config;Z.weekNumbers===!1&&Z.showMonths===1||Z.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var re=(t.days.offsetWidth+1)*Z.showMonths;t.daysContainer.style.width=re+"px",t.calendarContainer.style.width=re+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function o(Z){if(t.selectedDates.length===0){var re=t.config.minDate===void 0||Xr(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),ge=Yu(t.config);re.setHours(ge.hours,ge.minutes,ge.seconds,re.getMilliseconds()),t.selectedDates=[re],t.latestSelectedDateObj=re}Z!==void 0&&Z.type!=="blur"&&fs(Z);var Ae=t._input.value;u(),Xn(),t._input.value!==Ae&&t._debouncedChange()}function f(Z,re){return Z%12+12*mi(re===t.l10n.amPM[1])}function c(Z){switch(Z%24){case 0:case 12:return 12;default:return Z%12}}function u(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var Z=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,re=(parseInt(t.minuteElement.value,10)||0)%60,ge=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(Z=f(Z,t.amPM.textContent));var Ae=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&Xr(t.latestSelectedDateObj,t.config.minDate,!0)===0,Ye=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&Xr(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var et=qu(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),nt=qu(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),Ze=qu(Z,re,ge);if(Ze>nt&&Ze<et){var vt=sD(et);Z=vt[0],re=vt[1],ge=vt[2]}}else{if(Ye){var lt=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;Z=Math.min(Z,lt.getHours()),Z===lt.getHours()&&(re=Math.min(re,lt.getMinutes())),re===lt.getMinutes()&&(ge=Math.min(ge,lt.getSeconds()))}if(Ae){var dt=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;Z=Math.max(Z,dt.getHours()),Z===dt.getHours()&&re<dt.getMinutes()&&(re=dt.getMinutes()),re===dt.getMinutes()&&(ge=Math.max(ge,dt.getSeconds()))}}h(Z,re,ge)}}function d(Z){var re=Z||t.latestSelectedDateObj;re&&re instanceof Date&&h(re.getHours(),re.getMinutes(),re.getSeconds())}function h(Z,re,ge){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(Z%24,re,ge||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Ur(t.config.time_24hr?Z:(12+Z)%12+12*mi(Z%12===0)),t.minuteElement.value=Ur(re),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[mi(Z>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Ur(ge)))}function m(Z){var re=Gr(Z),ge=parseInt(re.value)+(Z.delta||0);(ge/1e3>1||Z.key==="Enter"&&!/[^\d]/.test(ge.toString()))&&me(ge)}function p(Z,re,ge,Ae){if(re instanceof Array)return re.forEach(function(Ye){return p(Z,Ye,ge,Ae)});if(Z instanceof Array)return Z.forEach(function(Ye){return p(Ye,re,ge,Ae)});Z.addEventListener(re,ge,Ae),t._handlers.push({remove:function(){return Z.removeEventListener(re,ge,Ae)}})}function g(){Ft("onChange")}function v(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(ge){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+ge+"]"),function(Ae){return p(Ae,"click",t[ge])})}),t.isMobile){ln();return}var Z=D1(he,50);if(t._debouncedChange=D1(g,lD),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&p(t.daysContainer,"mouseover",function(ge){t.config.mode==="range"&&te(Gr(ge))}),p(t._input,"keydown",ye),t.calendarContainer!==void 0&&p(t.calendarContainer,"keydown",ye),!t.config.inline&&!t.config.static&&p(window,"resize",Z),window.ontouchstart!==void 0?p(window.document,"touchstart",de):p(window.document,"mousedown",de),p(window.document,"focus",de,{capture:!0}),t.config.clickOpens===!0&&(p(t._input,"focus",t.open),p(t._input,"click",t.open)),t.daysContainer!==void 0&&(p(t.monthNav,"click",lr),p(t.monthNav,["keyup","increment"],m),p(t.daysContainer,"click",gn)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var re=function(ge){return Gr(ge).select()};p(t.timeContainer,["increment"],o),p(t.timeContainer,"blur",o,{capture:!0}),p(t.timeContainer,"click",k),p([t.hourElement,t.minuteElement],["focus","click"],re),t.secondElement!==void 0&&p(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&p(t.amPM,"click",function(ge){o(ge)})}t.config.allowInput&&p(t._input,"blur",Oe)}function w(Z,re){var ge=Z!==void 0?t.parseDate(Z):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Ae=t.currentYear,Ye=t.currentMonth;try{ge!==void 0&&(t.currentYear=ge.getFullYear(),t.currentMonth=ge.getMonth())}catch(et){et.message="Invalid date supplied: "+ge,t.config.errorHandler(et)}re&&t.currentYear!==Ae&&(Ft("onYearChange"),R()),re&&(t.currentYear!==Ae||t.currentMonth!==Ye)&&Ft("onMonthChange"),t.redraw()}function k(Z){var re=Gr(Z);~re.className.indexOf("arrow")&&x(Z,re.classList.contains("arrowUp")?1:-1)}function x(Z,re,ge){var Ae=Z&&Gr(Z),Ye=ge||Ae&&Ae.parentNode&&Ae.parentNode.firstChild,et=As("increment");et.delta=re,Ye&&Ye.dispatchEvent(et)}function A(){var Z=window.document.createDocumentFragment();if(t.calendarContainer=Wt("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(Z.appendChild(V()),t.innerContainer=Wt("div","flatpickr-innerContainer"),t.config.weekNumbers){var re=be(),ge=re.weekWrapper,Ae=re.weekNumbers;t.innerContainer.appendChild(ge),t.weekNumbers=Ae,t.weekWrapper=ge}t.rContainer=Wt("div","flatpickr-rContainer"),t.rContainer.appendChild(ue()),t.daysContainer||(t.daysContainer=Wt("div","flatpickr-days"),t.daysContainer.tabIndex=-1),P(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),Z.appendChild(t.innerContainer)}t.config.enableTime&&Z.appendChild(se()),Ar(t.calendarContainer,"rangeMode",t.config.mode==="range"),Ar(t.calendarContainer,"animate",t.config.animate===!0),Ar(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(Z);var Ye=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!Ye&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var et=Wt("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(et,t.element),et.appendChild(t.element),t.altInput&&et.appendChild(t.altInput),et.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function T(Z,re,ge,Ae){var Ye=we(re,!0),et=Wt("span",Z,re.getDate().toString());return et.dateObj=re,et.$i=Ae,et.setAttribute("aria-label",t.formatDate(re,t.config.ariaDateFormat)),Z.indexOf("hidden")===-1&&Xr(re,t.now)===0&&(t.todayDateElem=et,et.classList.add("today"),et.setAttribute("aria-current","date")),Ye?(et.tabIndex=-1,Di(re)&&(et.classList.add("selected"),t.selectedDateElem=et,t.config.mode==="range"&&(Ar(et,"startRange",t.selectedDates[0]&&Xr(re,t.selectedDates[0],!0)===0),Ar(et,"endRange",t.selectedDates[1]&&Xr(re,t.selectedDates[1],!0)===0),Z==="nextMonthDay"&&et.classList.add("inRange")))):et.classList.add("flatpickr-disabled"),t.config.mode==="range"&&os(re)&&!Di(re)&&et.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&Z!=="prevMonthDay"&&Ae%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(re)+"</span>"),Ft("onDayCreate",et),et}function C(Z){Z.focus(),t.config.mode==="range"&&te(Z)}function F(Z){for(var re=Z>0?0:t.config.showMonths-1,ge=Z>0?t.config.showMonths:-1,Ae=re;Ae!=ge;Ae+=Z)for(var Ye=t.daysContainer.children[Ae],et=Z>0?0:Ye.children.length-1,nt=Z>0?Ye.children.length:-1,Ze=et;Ze!=nt;Ze+=Z){var vt=Ye.children[Ze];if(vt.className.indexOf("hidden")===-1&&we(vt.dateObj))return vt}}function O(Z,re){for(var ge=Z.className.indexOf("Month")===-1?Z.dateObj.getMonth():t.currentMonth,Ae=re>0?t.config.showMonths:-1,Ye=re>0?1:-1,et=ge-t.currentMonth;et!=Ae;et+=Ye)for(var nt=t.daysContainer.children[et],Ze=ge-t.currentMonth===et?Z.$i+re:re<0?nt.children.length-1:0,vt=nt.children.length,lt=Ze;lt>=0&&lt<vt&&lt!=(re>0?vt:-1);lt+=Ye){var dt=nt.children[lt];if(dt.className.indexOf("hidden")===-1&&we(dt.dateObj)&&Math.abs(Z.$i-lt)>=Math.abs(re))return C(dt)}t.changeMonth(Ye),I(F(Ye),0)}function I(Z,re){var ge=s(),Ae=Fe(ge||document.body),Ye=Z!==void 0?Z:Ae?ge:t.selectedDateElem!==void 0&&Fe(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&Fe(t.todayDateElem)?t.todayDateElem:F(re>0?1:-1);Ye===void 0?t._input.focus():Ae?O(Ye,re):C(Ye)}function N(Z,re){for(var ge=(new Date(Z,re,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Ae=t.utils.getDaysInMonth((re-1+12)%12,Z),Ye=t.utils.getDaysInMonth(re,Z),et=window.document.createDocumentFragment(),nt=t.config.showMonths>1,Ze=nt?"prevMonthDay hidden":"prevMonthDay",vt=nt?"nextMonthDay hidden":"nextMonthDay",lt=Ae+1-ge,dt=0;lt<=Ae;lt++,dt++)et.appendChild(T("flatpickr-day "+Ze,new Date(Z,re-1,lt),lt,dt));for(lt=1;lt<=Ye;lt++,dt++)et.appendChild(T("flatpickr-day",new Date(Z,re,lt),lt,dt));for(var Gt=Ye+1;Gt<=42-ge&&(t.config.showMonths===1||dt%7!==0);Gt++,dt++)et.appendChild(T("flatpickr-day "+vt,new Date(Z,re+1,Gt%Ye),Gt,dt));var H=Wt("div","dayContainer");return H.appendChild(et),H}function P(){if(t.daysContainer!==void 0){Uf(t.daysContainer),t.weekNumbers&&Uf(t.weekNumbers);for(var Z=document.createDocumentFragment(),re=0;re<t.config.showMonths;re++){var ge=new Date(t.currentYear,t.currentMonth,1);ge.setMonth(t.currentMonth+re),Z.appendChild(N(ge.getFullYear(),ge.getMonth()))}t.daysContainer.appendChild(Z),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&te()}}function R(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var Z=function(Ae){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&Ae<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&Ae>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var re=0;re<12;re++)if(Z(re)){var ge=Wt("option","flatpickr-monthDropdown-month");ge.value=new Date(t.currentYear,re).getMonth().toString(),ge.textContent=Ac(re,t.config.shorthandCurrentMonth,t.l10n),ge.tabIndex=-1,t.currentMonth===re&&(ge.selected=!0),t.monthsDropdownContainer.appendChild(ge)}}}function Y(){var Z=Wt("div","flatpickr-month"),re=window.document.createDocumentFragment(),ge;t.config.showMonths>1||t.config.monthSelectorType==="static"?ge=Wt("span","cur-month"):(t.monthsDropdownContainer=Wt("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),p(t.monthsDropdownContainer,"change",function(nt){var Ze=Gr(nt),vt=parseInt(Ze.value,10);t.changeMonth(vt-t.currentMonth),Ft("onMonthChange")}),R(),ge=t.monthsDropdownContainer);var Ae=Hf("cur-year",{tabindex:"-1"}),Ye=Ae.getElementsByTagName("input")[0];Ye.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&Ye.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(Ye.setAttribute("max",t.config.maxDate.getFullYear().toString()),Ye.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var et=Wt("div","flatpickr-current-month");return et.appendChild(ge),et.appendChild(Ae),re.appendChild(et),Z.appendChild(re),{container:Z,yearElement:Ye,monthElement:ge}}function ne(){Uf(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var Z=t.config.showMonths;Z--;){var re=Y();t.yearElements.push(re.yearElement),t.monthElements.push(re.monthElement),t.monthNav.appendChild(re.container)}t.monthNav.appendChild(t.nextMonthNav)}function V(){return t.monthNav=Wt("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=Wt("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=Wt("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,ne(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(Z){t.__hidePrevMonthArrow!==Z&&(Ar(t.prevMonthNav,"flatpickr-disabled",Z),t.__hidePrevMonthArrow=Z)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(Z){t.__hideNextMonthArrow!==Z&&(Ar(t.nextMonthNav,"flatpickr-disabled",Z),t.__hideNextMonthArrow=Z)}}),t.currentYearElement=t.yearElements[0],ji(),t.monthNav}function se(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var Z=Yu(t.config);t.timeContainer=Wt("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var re=Wt("span","flatpickr-time-separator",":"),ge=Hf("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=ge.getElementsByTagName("input")[0];var Ae=Hf("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Ae.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Ur(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?Z.hours:c(Z.hours)),t.minuteElement.value=Ur(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():Z.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(ge),t.timeContainer.appendChild(re),t.timeContainer.appendChild(Ae),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var Ye=Hf("flatpickr-second");t.secondElement=Ye.getElementsByTagName("input")[0],t.secondElement.value=Ur(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():Z.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Wt("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(Ye)}return t.config.time_24hr||(t.amPM=Wt("span","flatpickr-am-pm",t.l10n.amPM[mi((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function ue(){t.weekdayContainer?Uf(t.weekdayContainer):t.weekdayContainer=Wt("div","flatpickr-weekdays");for(var Z=t.config.showMonths;Z--;){var re=Wt("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(re)}return U(),t.weekdayContainer}function U(){if(t.weekdayContainer){var Z=t.l10n.firstDayOfWeek,re=O1(t.l10n.weekdays.shorthand);Z>0&&Z<re.length&&(re=O1(re.splice(Z,re.length),re.splice(0,Z)));for(var ge=t.config.showMonths;ge--;)t.weekdayContainer.children[ge].innerHTML=`
      <span class='flatpickr-weekday'>
        `+re.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function be(){t.calendarContainer.classList.add("hasWeeks");var Z=Wt("div","flatpickr-weekwrapper");Z.appendChild(Wt("span","flatpickr-weekday",t.l10n.weekAbbreviation));var re=Wt("div","flatpickr-weeks");return Z.appendChild(re),{weekWrapper:Z,weekNumbers:re}}function fe(Z,re){re===void 0&&(re=!0);var ge=re?Z:Z-t.currentMonth;ge<0&&t._hidePrevMonthArrow===!0||ge>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=ge,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,Ft("onYearChange"),R()),P(),Ft("onMonthChange"),ji())}function B(Z,re){if(Z===void 0&&(Z=!0),re===void 0&&(re=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,re===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var ge=Yu(t.config),Ae=ge.hours,Ye=ge.minutes,et=ge.seconds;h(Ae,Ye,et)}t.redraw(),Z&&Ft("onChange")}function K(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),Ft("onClose")}function G(){t.config!==void 0&&Ft("onDestroy");for(var Z=t._handlers.length;Z--;)t._handlers[Z].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var re=t.calendarContainer.parentNode;if(re.lastChild&&re.removeChild(re.lastChild),re.parentNode){for(;re.firstChild;)re.parentNode.insertBefore(re.firstChild,re);re.parentNode.removeChild(re)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(ge){try{delete t[ge]}catch{}})}function J(Z){return t.calendarContainer.contains(Z)}function de(Z){if(t.isOpen&&!t.config.inline){var re=Gr(Z),ge=J(re),Ae=re===t.input||re===t.altInput||t.element.contains(re)||Z.path&&Z.path.indexOf&&(~Z.path.indexOf(t.input)||~Z.path.indexOf(t.altInput)),Ye=!Ae&&!ge&&!J(Z.relatedTarget),et=!t.config.ignoredFocusElements.some(function(nt){return nt.contains(re)});Ye&&et&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&o(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function me(Z){if(!(!Z||t.config.minDate&&Z<t.config.minDate.getFullYear()||t.config.maxDate&&Z>t.config.maxDate.getFullYear())){var re=Z,ge=t.currentYear!==re;t.currentYear=re||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),ge&&(t.redraw(),Ft("onYearChange"),R())}}function we(Z,re){var ge;re===void 0&&(re=!0);var Ae=t.parseDate(Z,void 0,re);if(t.config.minDate&&Ae&&Xr(Ae,t.config.minDate,re!==void 0?re:!t.minDateHasTime)<0||t.config.maxDate&&Ae&&Xr(Ae,t.config.maxDate,re!==void 0?re:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Ae===void 0)return!1;for(var Ye=!!t.config.enable,et=(ge=t.config.enable)!==null&&ge!==void 0?ge:t.config.disable,nt=0,Ze=void 0;nt<et.length;nt++){if(Ze=et[nt],typeof Ze=="function"&&Ze(Ae))return Ye;if(Ze instanceof Date&&Ae!==void 0&&Ze.getTime()===Ae.getTime())return Ye;if(typeof Ze=="string"){var vt=t.parseDate(Ze,void 0,!0);return vt&&vt.getTime()===Ae.getTime()?Ye:!Ye}else if(typeof Ze=="object"&&Ae!==void 0&&Ze.from&&Ze.to&&Ae.getTime()>=Ze.from.getTime()&&Ae.getTime()<=Ze.to.getTime())return Ye}return!Ye}function Fe(Z){return t.daysContainer!==void 0?Z.className.indexOf("hidden")===-1&&Z.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(Z):!1}function Oe(Z){var re=Z.target===t._input,ge=t._input.value.trimEnd()!==zi();re&&ge&&!(Z.relatedTarget&&J(Z.relatedTarget))&&t.setDate(t._input.value,!0,Z.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function ye(Z){var re=Gr(Z),ge=t.config.wrap?n.contains(re):re===t._input,Ae=t.config.allowInput,Ye=t.isOpen&&(!Ae||!ge),et=t.config.inline&&ge&&!Ae;if(Z.keyCode===13&&ge){if(Ae)return t.setDate(t._input.value,!0,re===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),re.blur();t.open()}else if(J(re)||Ye||et){var nt=!!t.timeContainer&&t.timeContainer.contains(re);switch(Z.keyCode){case 13:nt?(Z.preventDefault(),o(),dn()):gn(Z);break;case 27:Z.preventDefault(),dn();break;case 8:case 46:ge&&!t.config.allowInput&&(Z.preventDefault(),t.clear());break;case 37:case 39:if(!nt&&!ge){Z.preventDefault();var Ze=s();if(t.daysContainer!==void 0&&(Ae===!1||Ze&&Fe(Ze))){var vt=Z.keyCode===39?1:-1;Z.ctrlKey?(Z.stopPropagation(),fe(vt),I(F(1),0)):I(void 0,vt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:Z.preventDefault();var lt=Z.keyCode===40?1:-1;t.daysContainer&&re.$i!==void 0||re===t.input||re===t.altInput?Z.ctrlKey?(Z.stopPropagation(),me(t.currentYear-lt),I(F(1),0)):nt||I(void 0,lt*7):re===t.currentYearElement?me(t.currentYear-lt):t.config.enableTime&&(!nt&&t.hourElement&&t.hourElement.focus(),o(Z),t._debouncedChange());break;case 9:if(nt){var dt=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(ie){return ie}),Gt=dt.indexOf(re);if(Gt!==-1){var H=dt[Gt+(Z.shiftKey?-1:1)];Z.preventDefault(),(H||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(re)&&Z.shiftKey&&(Z.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&re===t.amPM)switch(Z.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],u(),Xn();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],u(),Xn();break}(ge||J(re))&&Ft("onKeyDown",Z)}function te(Z,re){if(re===void 0&&(re="flatpickr-day"),!(t.selectedDates.length!==1||Z&&(!Z.classList.contains(re)||Z.classList.contains("flatpickr-disabled")))){for(var ge=Z?Z.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),Ae=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),Ye=Math.min(ge,t.selectedDates[0].getTime()),et=Math.max(ge,t.selectedDates[0].getTime()),nt=!1,Ze=0,vt=0,lt=Ye;lt<et;lt+=aD.DAY)we(new Date(lt),!0)||(nt=nt||lt>Ye&&lt<et,lt<Ae&&(!Ze||lt>Ze)?Ze=lt:lt>Ae&&(!vt||lt<vt)&&(vt=lt));var dt=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+re));dt.forEach(function(Gt){var H=Gt.dateObj,ie=H.getTime(),Q=Ze>0&&ie<Ze||vt>0&&ie>vt;if(Q){Gt.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ee){Gt.classList.remove(ee)});return}else if(nt&&!Q)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ee){Gt.classList.remove(ee)}),Z!==void 0&&(Z.classList.add(ge<=t.selectedDates[0].getTime()?"startRange":"endRange"),Ae<ge&&ie===Ae?Gt.classList.add("startRange"):Ae>ge&&ie===Ae&&Gt.classList.add("endRange"),ie>=Ze&&(vt===0||ie<=vt)&&iD(ie,Ae,ge)&&Gt.classList.add("inRange"))})}}function he(){t.isOpen&&!t.config.static&&!t.config.inline&&je()}function qe(Z,re){if(re===void 0&&(re=t._positionElement),t.isMobile===!0){if(Z){Z.preventDefault();var ge=Gr(Z);ge&&ge.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),Ft("onOpen");return}else if(t._input.disabled||t.config.inline)return;var Ae=t.isOpen;t.isOpen=!0,Ae||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),Ft("onOpen"),je(re)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(Z===void 0||!t.timeContainer.contains(Z.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function ot(Z){return function(re){var ge=t.config["_"+Z+"Date"]=t.parseDate(re,t.config.dateFormat),Ae=t.config["_"+(Z==="min"?"max":"min")+"Date"];ge!==void 0&&(t[Z==="min"?"minDateHasTime":"maxDateHasTime"]=ge.getHours()>0||ge.getMinutes()>0||ge.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(Ye){return we(Ye)}),!t.selectedDates.length&&Z==="min"&&d(ge),Xn()),t.daysContainer&&(Qt(),ge!==void 0?t.currentYearElement[Z]=ge.getFullYear().toString():t.currentYearElement.removeAttribute(Z),t.currentYearElement.disabled=!!Ae&&ge!==void 0&&Ae.getFullYear()===ge.getFullYear())}}function ct(){var Z=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],re=pr(pr({},JSON.parse(JSON.stringify(n.dataset||{}))),e),ge={};t.config.parseDate=re.parseDate,t.config.formatDate=re.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(dt){t.config._enable=Gn(dt)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(dt){t.config._disable=Gn(dt)}});var Ae=re.mode==="time";if(!re.dateFormat&&(re.enableTime||Ae)){var Ye=Un.defaultConfig.dateFormat||cl.dateFormat;ge.dateFormat=re.noCalendar||Ae?"H:i"+(re.enableSeconds?":S":""):Ye+" H:i"+(re.enableSeconds?":S":"")}if(re.altInput&&(re.enableTime||Ae)&&!re.altFormat){var et=Un.defaultConfig.altFormat||cl.altFormat;ge.altFormat=re.noCalendar||Ae?"h:i"+(re.enableSeconds?":S K":" K"):et+(" h:i"+(re.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:ot("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:ot("max")});var nt=function(dt){return function(Gt){t.config[dt==="min"?"_minTime":"_maxTime"]=t.parseDate(Gt,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:nt("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:nt("max")}),re.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,ge,re);for(var Ze=0;Ze<Z.length;Ze++)t.config[Z[Ze]]=t.config[Z[Ze]]===!0||t.config[Z[Ze]]==="true";Wu.filter(function(dt){return t.config[dt]!==void 0}).forEach(function(dt){t.config[dt]=ju(t.config[dt]||[]).map(a)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var Ze=0;Ze<t.config.plugins.length;Ze++){var vt=t.config.plugins[Ze](t)||{};for(var lt in vt)Wu.indexOf(lt)>-1?t.config[lt]=ju(vt[lt]).map(a).concat(t.config[lt]):typeof re[lt]>"u"&&(t.config[lt]=vt[lt])}re.altInputClass||(t.config.altInputClass=Ce().className+" "+t.config.altInputClass),Ft("onParseConfig")}function Ce(){return t.config.wrap?n.querySelector("[data-input]"):n}function _e(){typeof t.config.locale!="object"&&typeof Un.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=pr(pr({},Un.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Un.l10ns[t.config.locale]:void 0),ma.D="("+t.l10n.weekdays.shorthand.join("|")+")",ma.l="("+t.l10n.weekdays.longhand.join("|")+")",ma.M="("+t.l10n.months.shorthand.join("|")+")",ma.F="("+t.l10n.months.longhand.join("|")+")",ma.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var Z=pr(pr({},e),JSON.parse(JSON.stringify(n.dataset||{})));Z.time_24hr===void 0&&Un.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=Yy(t),t.parseDate=j0({config:t.config,l10n:t.l10n})}function je(Z){if(typeof t.config.position=="function")return void t.config.position(t,Z);if(t.calendarContainer!==void 0){Ft("onPreCalendarPosition");var re=Z||t._positionElement,ge=Array.prototype.reduce.call(t.calendarContainer.children,function(Qe,at){return Qe+at.offsetHeight},0),Ae=t.calendarContainer.offsetWidth,Ye=t.config.position.split(" "),et=Ye[0],nt=Ye.length>1?Ye[1]:null,Ze=re.getBoundingClientRect(),vt=window.innerHeight-Ze.bottom,lt=et==="above"||et!=="below"&&vt<ge&&Ze.top>ge,dt=window.pageYOffset+Ze.top+(lt?-ge-2:re.offsetHeight+2);if(Ar(t.calendarContainer,"arrowTop",!lt),Ar(t.calendarContainer,"arrowBottom",lt),!t.config.inline){var Gt=window.pageXOffset+Ze.left,H=!1,ie=!1;nt==="center"?(Gt-=(Ae-Ze.width)/2,H=!0):nt==="right"&&(Gt-=Ae-Ze.width,ie=!0),Ar(t.calendarContainer,"arrowLeft",!H&&!ie),Ar(t.calendarContainer,"arrowCenter",H),Ar(t.calendarContainer,"arrowRight",ie);var Q=window.document.body.offsetWidth-(window.pageXOffset+Ze.right),ee=Gt+Ae>window.document.body.offsetWidth,le=Q+Ae>window.document.body.offsetWidth;if(Ar(t.calendarContainer,"rightMost",ee),!t.config.static)if(t.calendarContainer.style.top=dt+"px",!ee)t.calendarContainer.style.left=Gt+"px",t.calendarContainer.style.right="auto";else if(!le)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=Q+"px";else{var oe=wt();if(oe===void 0)return;var Te=window.document.body.offsetWidth,Pe=Math.max(0,Te/2-Ae/2),xe=".flatpickr-calendar.centerMost:before",Se=".flatpickr-calendar.centerMost:after",Ee=oe.cssRules.length,ze="{left:"+Ze.left+"px;right:auto;}";Ar(t.calendarContainer,"rightMost",!1),Ar(t.calendarContainer,"centerMost",!0),oe.insertRule(xe+","+Se+ze,Ee),t.calendarContainer.style.left=Pe+"px",t.calendarContainer.style.right="auto"}}}}function wt(){for(var Z=null,re=0;re<document.styleSheets.length;re++){var ge=document.styleSheets[re];if(ge.cssRules){try{ge.cssRules}catch{continue}Z=ge;break}}return Z??kt()}function kt(){var Z=document.createElement("style");return document.head.appendChild(Z),Z.sheet}function Qt(){t.config.noCalendar||t.isMobile||(R(),ji(),P())}function dn(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function gn(Z){Z.preventDefault(),Z.stopPropagation();var re=function(dt){return dt.classList&&dt.classList.contains("flatpickr-day")&&!dt.classList.contains("flatpickr-disabled")&&!dt.classList.contains("notAllowed")},ge=qy(Gr(Z),re);if(ge!==void 0){var Ae=ge,Ye=t.latestSelectedDateObj=new Date(Ae.dateObj.getTime()),et=(Ye.getMonth()<t.currentMonth||Ye.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Ae,t.config.mode==="single")t.selectedDates=[Ye];else if(t.config.mode==="multiple"){var nt=Di(Ye);nt?t.selectedDates.splice(parseInt(nt),1):t.selectedDates.push(Ye)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=Ye,t.selectedDates.push(Ye),Xr(Ye,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(dt,Gt){return dt.getTime()-Gt.getTime()}));if(u(),et){var Ze=t.currentYear!==Ye.getFullYear();t.currentYear=Ye.getFullYear(),t.currentMonth=Ye.getMonth(),Ze&&(Ft("onYearChange"),R()),Ft("onMonthChange")}if(ji(),P(),Xn(),!et&&t.config.mode!=="range"&&t.config.showMonths===1?C(Ae):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var vt=t.config.mode==="single"&&!t.config.enableTime,lt=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(vt||lt)&&dn()}g()}}var At={locale:[_e,U],showMonths:[ne,l,ue],minDate:[w],maxDate:[w],positionElement:[Nn],clickOpens:[function(){t.config.clickOpens===!0?(p(t._input,"focus",t.open),p(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function Yn(Z,re){if(Z!==null&&typeof Z=="object"){Object.assign(t.config,Z);for(var ge in Z)At[ge]!==void 0&&At[ge].forEach(function(Ae){return Ae()})}else t.config[Z]=re,At[Z]!==void 0?At[Z].forEach(function(Ae){return Ae()}):Wu.indexOf(Z)>-1&&(t.config[Z]=ju(re));t.redraw(),Xn(!0)}function li(Z,re){var ge=[];if(Z instanceof Array)ge=Z.map(function(Ae){return t.parseDate(Ae,re)});else if(Z instanceof Date||typeof Z=="number")ge=[t.parseDate(Z,re)];else if(typeof Z=="string")switch(t.config.mode){case"single":case"time":ge=[t.parseDate(Z,re)];break;case"multiple":ge=Z.split(t.config.conjunction).map(function(Ae){return t.parseDate(Ae,re)});break;case"range":ge=Z.split(t.l10n.rangeSeparator).map(function(Ae){return t.parseDate(Ae,re)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(Z)));t.selectedDates=t.config.allowInvalidPreload?ge:ge.filter(function(Ae){return Ae instanceof Date&&we(Ae,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(Ae,Ye){return Ae.getTime()-Ye.getTime()})}function In(Z,re,ge){if(re===void 0&&(re=!1),ge===void 0&&(ge=t.config.dateFormat),Z!==0&&!Z||Z instanceof Array&&Z.length===0)return t.clear(re);li(Z,ge),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),w(void 0,re),d(),t.selectedDates.length===0&&t.clear(!1),Xn(re),re&&Ft("onChange")}function Gn(Z){return Z.slice().map(function(re){return typeof re=="string"||typeof re=="number"||re instanceof Date?t.parseDate(re,void 0,!0):re&&typeof re=="object"&&re.from&&re.to?{from:t.parseDate(re.from,void 0),to:t.parseDate(re.to,void 0)}:re}).filter(function(re){return re})}function bt(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var Z=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);Z&&li(Z,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function an(){if(t.input=Ce(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=Wt(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),Nn()}function Nn(){t._positionElement=t.config.positionElement||t._input}function ln(){var Z=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=Wt("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=Z,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=Z==="datetime-local"?"Y-m-d\\TH:i:S":Z==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}p(t.mobileInput,"change",function(re){t.setDate(Gr(re).value,!1,t.mobileFormatStr),Ft("onChange"),Ft("onClose")})}function vn(Z){if(t.isOpen===!0)return t.close();t.open(Z)}function Ft(Z,re){if(t.config!==void 0){var ge=t.config[Z];if(ge!==void 0&&ge.length>0)for(var Ae=0;ge[Ae]&&Ae<ge.length;Ae++)ge[Ae](t.selectedDates,t.input.value,t,re);Z==="onChange"&&(t.input.dispatchEvent(As("change")),t.input.dispatchEvent(As("input")))}}function As(Z){var re=document.createEvent("Event");return re.initEvent(Z,!0,!0),re}function Di(Z){for(var re=0;re<t.selectedDates.length;re++){var ge=t.selectedDates[re];if(ge instanceof Date&&Xr(ge,Z)===0)return""+re}return!1}function os(Z){return t.config.mode!=="range"||t.selectedDates.length<2?!1:Xr(Z,t.selectedDates[0])>=0&&Xr(Z,t.selectedDates[1])<=0}function ji(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(Z,re){var ge=new Date(t.currentYear,t.currentMonth,1);ge.setMonth(t.currentMonth+re),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[re].textContent=Ac(ge.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=ge.getMonth().toString(),Z.value=ge.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function zi(Z){var re=Z||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(ge){return t.formatDate(ge,re)}).filter(function(ge,Ae,Ye){return t.config.mode!=="range"||t.config.enableTime||Ye.indexOf(ge)===Ae}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function Xn(Z){Z===void 0&&(Z=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=zi(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=zi(t.config.altFormat)),Z!==!1&&Ft("onValueUpdate")}function lr(Z){var re=Gr(Z),ge=t.prevMonthNav.contains(re),Ae=t.nextMonthNav.contains(re);ge||Ae?fe(ge?-1:1):t.yearElements.indexOf(re)>=0?re.select():re.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):re.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function fs(Z){Z.preventDefault();var re=Z.type==="keydown",ge=Gr(Z),Ae=ge;t.amPM!==void 0&&ge===t.amPM&&(t.amPM.textContent=t.l10n.amPM[mi(t.amPM.textContent===t.l10n.amPM[0])]);var Ye=parseFloat(Ae.getAttribute("min")),et=parseFloat(Ae.getAttribute("max")),nt=parseFloat(Ae.getAttribute("step")),Ze=parseInt(Ae.value,10),vt=Z.delta||(re?Z.which===38?1:-1:0),lt=Ze+nt*vt;if(typeof Ae.value<"u"&&Ae.value.length===2){var dt=Ae===t.hourElement,Gt=Ae===t.minuteElement;lt<Ye?(lt=et+lt+mi(!dt)+(mi(dt)&&mi(!t.amPM)),Gt&&x(void 0,-1,t.hourElement)):lt>et&&(lt=Ae===t.hourElement?lt-et-mi(!t.amPM):Ye,Gt&&x(void 0,1,t.hourElement)),t.amPM&&dt&&(nt===1?lt+Ze===23:Math.abs(lt-Ze)>nt)&&(t.amPM.textContent=t.l10n.amPM[mi(t.amPM.textContent===t.l10n.amPM[0])]),Ae.value=Ur(lt)}}return i(),t}function ul(n,e){for(var t=Array.prototype.slice.call(n).filter(function(a){return a instanceof HTMLElement}),r=[],i=0;i<t.length;i++){var s=t[i];try{if(s.getAttribute("data-fp-omit")!==null)continue;s._flatpickr!==void 0&&(s._flatpickr.destroy(),s._flatpickr=void 0),s._flatpickr=oD(s,e||{}),r.push(s._flatpickr)}catch(a){console.error(a)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return ul(this,n)},HTMLElement.prototype.flatpickr=function(n){return ul([this],n)});var Un=function(n,e){return typeof n=="string"?ul(window.document.querySelectorAll(n),e):n instanceof Node?ul([n],e):ul(n,e)};Un.defaultConfig={};Un.l10ns={en:pr({},Io),default:pr({},Io)};Un.localize=function(n){Un.l10ns.default=pr(pr({},Un.l10ns.default),n)};Un.setDefaults=function(n){Un.defaultConfig=pr(pr({},Un.defaultConfig),n)};Un.parseDate=j0({});Un.formatDate=Yy({});Un.compareDates=Xr;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return ul(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Un);function fD(n){let e,t=[n[1]],r={};for(let i=0;i<t.length;i+=1)r=Mt(r,t[i]);return{c(){e=y("input"),ts(e,r)},m(i,s){E(i,e,s),e.autofocus&&e.focus(),n[11](e)},p(i,s){ts(e,r=Rr(t,[s&2&&i[1]]))},d(i){i&&S(e),n[11](null)}}}function cD(n){let e;const t=n[10].default,r=Hn(t,n,n[9],null),i=r||fD(n);return{c(){i&&i.c()},m(s,a){i&&i.m(s,a),e=!0},p(s,[a]){r?r.p&&(!e||a&512)&&Wn(r,t,s,s[9],e?Vn(t,s[9],a,null):jn(s[9]),null):i&&i.p&&(!e||a&3)&&i.p(s,e?a:-1)},i(s){e||(M(i,s),e=!0)},o(s){L(i,s),e=!1},d(s){i&&i.d(s)}}}function uD(n){return n.charAt(2).toLowerCase()+n.substring(3)}function M1(n,e){var r;return(((r=n==null?void 0:n.config)==null?void 0:r.mode)??"single")==="single"?e[0]:e}function I1(n,e){return!!(n==e||n instanceof Date&&e instanceof Date&&n.valueOf()===e.valueOf()||Array.isArray(n)&&Array.isArray(e)&&n.length===e.length&&n.every((t,r)=>t===e[r]))}function dD(n,e,t){const r=["value","formattedValue","element","dateFormat","options","input","flatpickr"];let i=zn(e,r),{$$slots:s={},$$scope:a}=e;const l=new Set(["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"]);let{value:o=void 0,formattedValue:f="",element:c=void 0,dateFormat:u=void 0}=e,{options:d={}}=e,h=!1,{input:m=void 0,flatpickr:p=void 0}=e;ur(()=>{const x=c??m,A=v(d);return A.onReady.push((T,C,F)=>{o===void 0&&w(T,C,F),Pr().then(()=>{t(8,h=!0)})}),t(3,p=Un(x,Object.assign(A,c?{wrap:!0}:{}))),()=>{p.destroy()}});const g=Fn();function v(x={}){x=Object.assign({},x);for(const A of l){const T=(C,F,O)=>{g(uD(A),[C,F,O])};A in x?(Array.isArray(x[A])||(x[A]=[x[A]]),x[A].push(T)):x[A]=[T]}return x.onChange&&!x.onChange.includes(w)&&x.onChange.push(w),x}function w(x,A,T){const C=M1(T,x);!I1(o,C)&&(o||C)&&t(2,o=C),t(4,f=A)}function k(x){ve[x?"unshift":"push"](()=>{m=x,t(0,m)})}return n.$$set=x=>{e=Mt(Mt({},e),rs(x)),t(1,i=zn(e,r)),"value"in x&&t(2,o=x.value),"formattedValue"in x&&t(4,f=x.formattedValue),"element"in x&&t(5,c=x.element),"dateFormat"in x&&t(6,u=x.dateFormat),"options"in x&&t(7,d=x.options),"input"in x&&t(0,m=x.input),"flatpickr"in x&&t(3,p=x.flatpickr),"$$scope"in x&&t(9,a=x.$$scope)},n.$$.update=()=>{if(n.$$.dirty&332&&p&&h&&(I1(o,M1(p,p.selectedDates))||p.setDate(o,!0,u)),n.$$.dirty&392&&p&&h)for(const[x,A]of Object.entries(v(d)))p.set(x,A)},[m,i,o,p,f,c,u,d,h,a,s,k]}class Yd extends We{constructor(e){super(),Ve(this,e,dD,cD,$e,{value:2,formattedValue:4,element:5,dateFormat:6,options:7,input:0,flatpickr:3})}}function hD(n){let e,t,r,i,s,a,l;function o(c){n[2](c)}let f={id:n[4],options:X.defaultFlatpickrOptions(),value:n[0].min};return n[0].min!==void 0&&(f.formattedValue=n[0].min),s=new Yd({props:f}),ve.push(()=>Le(s,"formattedValue",o)),{c(){e=y("label"),t=q("Min date (UTC)"),i=D(),z(s.$$.fragment),_(e,"for",r=n[4])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u&16&&r!==(r=c[4]))&&_(e,"for",r);const d={};u&16&&(d.id=c[4]),u&1&&(d.value=c[0].min),!a&&u&1&&(a=!0,d.formattedValue=c[0].min,He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function pD(n){let e,t,r,i,s,a,l;function o(c){n[3](c)}let f={id:n[4],options:X.defaultFlatpickrOptions(),value:n[0].max};return n[0].max!==void 0&&(f.formattedValue=n[0].max),s=new Yd({props:f}),ve.push(()=>Le(s,"formattedValue",o)),{c(){e=y("label"),t=q("Max date (UTC)"),i=D(),z(s.$$.fragment),_(e,"for",r=n[4])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u&16&&r!==(r=c[4]))&&_(e,"for",r);const d={};u&16&&(d.id=c[4]),u&1&&(d.value=c[0].max),!a&&u&1&&(a=!0,d.formattedValue=c[0].max,He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function mD(n){let e,t,r,i,s,a,l;return r=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.min",$$slots:{default:[hD,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.max",$$slots:{default:[pD,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),_(t,"class","col-sm-6"),_(s,"class","col-sm-6"),_(e,"class","grid")},m(o,f){E(o,e,f),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),l=!0},p(o,[f]){const c={};f&2&&(c.name="schema."+o[1]+".options.min"),f&49&&(c.$$scope={dirty:f,ctx:o}),r.$set(c);const u={};f&2&&(u.name="schema."+o[1]+".options.max"),f&49&&(u.$$scope={dirty:f,ctx:o}),a.$set(u)},i(o){l||(M(r.$$.fragment,o),M(a.$$.fragment,o),l=!0)},o(o){L(r.$$.fragment,o),L(a.$$.fragment,o),l=!1},d(o){o&&S(e),j(r),j(a)}}}function _D(n,e,t){let{key:r=""}=e,{options:i={}}=e;function s(l){n.$$.not_equal(i.min,l)&&(i.min=l,t(0,i))}function a(l){n.$$.not_equal(i.max,l)&&(i.max=l,t(0,i))}return n.$$set=l=>{"key"in l&&t(1,r=l.key),"options"in l&&t(0,i=l.options)},[i,r,s,a]}class gD extends We{constructor(e){super(),Ve(this,e,_D,mD,$e,{key:1,options:0})}}function vD(n){let e,t,r,i,s,a,l,o,f;function c(d){n[2](d)}let u={id:n[4],placeholder:"eg. optionA, optionB",required:!0};return n[0].values!==void 0&&(u.value=n[0].values),s=new Ml({props:u}),ve.push(()=>Le(s,"value",c)),{c(){e=y("label"),t=q("Choices"),i=D(),z(s.$$.fragment),l=D(),o=y("div"),o.textContent="Use comma as separator.",_(e,"for",r=n[4]),_(o,"class","help-block")},m(d,h){E(d,e,h),b(e,t),E(d,i,h),W(s,d,h),E(d,l,h),E(d,o,h),f=!0},p(d,h){(!f||h&16&&r!==(r=d[4]))&&_(e,"for",r);const m={};h&16&&(m.id=d[4]),!a&&h&1&&(a=!0,m.value=d[0].values,He(()=>a=!1)),s.$set(m)},i(d){f||(M(s.$$.fragment,d),f=!0)},o(d){L(s.$$.fragment,d),f=!1},d(d){d&&S(e),d&&S(i),j(s,d),d&&S(l),d&&S(o)}}}function bD(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Max select"),i=D(),s=y("input"),_(e,"for",r=n[4]),_(s,"type","number"),_(s,"id",a=n[4]),_(s,"step","1"),_(s,"min","1"),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].maxSelect),l||(o=ae(s,"input",n[3]),l=!0)},p(f,c){c&16&&r!==(r=f[4])&&_(e,"for",r),c&16&&a!==(a=f[4])&&_(s,"id",a),c&1&&nn(s.value)!==f[0].maxSelect&&Ne(s,f[0].maxSelect)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function wD(n){let e,t,r,i,s,a,l;return r=new Re({props:{class:"form-field required",name:"schema."+n[1]+".options.values",$$slots:{default:[vD,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[bD,({uniqueId:o})=>({4:o}),({uniqueId:o})=>o?16:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),_(t,"class","col-sm-9"),_(s,"class","col-sm-3"),_(e,"class","grid")},m(o,f){E(o,e,f),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),l=!0},p(o,[f]){const c={};f&2&&(c.name="schema."+o[1]+".options.values"),f&49&&(c.$$scope={dirty:f,ctx:o}),r.$set(c);const u={};f&2&&(u.name="schema."+o[1]+".options.maxSelect"),f&49&&(u.$$scope={dirty:f,ctx:o}),a.$set(u)},i(o){l||(M(r.$$.fragment,o),M(a.$$.fragment,o),l=!0)},o(o){L(r.$$.fragment,o),L(a.$$.fragment,o),l=!1},d(o){o&&S(e),j(r),j(a)}}}function kD(n,e,t){let{key:r=""}=e,{options:i={}}=e;function s(l){n.$$.not_equal(i.values,l)&&(i.values=l,t(0,i))}function a(){i.maxSelect=nn(this.value),t(0,i)}return n.$$set=l=>{"key"in l&&t(1,r=l.key),"options"in l&&t(0,i=l.options)},n.$$.update=()=>{n.$$.dirty&1&&X.isEmpty(i)&&t(0,i={maxSelect:1,values:[]})},[i,r,s,a]}class yD extends We{constructor(e){super(),Ve(this,e,kD,wD,$e,{key:1,options:0})}}function xD(n){let e;return{c(){e=y("i"),_(e,"class","ri-arrow-down-s-line txt-sm")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function TD(n){let e;return{c(){e=y("i"),_(e,"class","ri-arrow-up-s-line txt-sm")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function N1(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T,C='"{"a":1,"b":2}"',F,O,I,N,P,R,Y,ne,V,se,ue,U,be;return{c(){e=y("div"),t=y("div"),r=y("div"),i=q("In order to support seamlessly both "),s=y("code"),s.textContent="application/json",a=q(` and
                `),l=y("code"),l.textContent="multipart/form-data",o=q(`
                requests, the following normalization rules are applied if the `),f=y("code"),f.textContent="json",c=q(` field is a
                `),u=y("strong"),u.textContent="plain string",d=q(`:
                `),h=y("ul"),m=y("li"),m.innerHTML="&quot;true&quot; is converted to the json <code>true</code>",p=D(),g=y("li"),g.innerHTML="&quot;false&quot; is converted to the json <code>false</code>",v=D(),w=y("li"),w.innerHTML="&quot;null&quot; is converted to the json <code>null</code>",k=D(),x=y("li"),x.innerHTML="&quot;[1,2,3]&quot; is converted to the json <code>[1,2,3]</code>",A=D(),T=y("li"),F=q(C),O=q(" is converted to the json "),I=y("code"),I.textContent='{"a":1,"b":2}',N=D(),P=y("li"),P.textContent="numeric strings are converted to json number",R=D(),Y=y("li"),Y.textContent="double quoted strings are left as they are (aka. without normalizations)",ne=D(),V=y("li"),V.textContent="any other string (empty string too) is double quoted",se=q(`
                Alternatively, if you want to avoid the string value normalizations, you can wrap your data inside
                an object, eg.`),ue=y("code"),ue.textContent='{"data": anything}',_(r,"class","content"),_(t,"class","alert alert-warning m-b-0 m-t-10"),_(e,"class","block")},m(fe,B){E(fe,e,B),b(e,t),b(t,r),b(r,i),b(r,s),b(r,a),b(r,l),b(r,o),b(r,f),b(r,c),b(r,u),b(r,d),b(r,h),b(h,m),b(h,p),b(h,g),b(h,v),b(h,w),b(h,k),b(h,x),b(h,A),b(h,T),b(T,F),b(T,O),b(T,I),b(h,N),b(h,P),b(h,R),b(h,Y),b(h,ne),b(h,V),b(r,se),b(r,ue),be=!0},i(fe){be||(fe&&Nt(()=>{U||(U=ut(e,Sn,{duration:150},!0)),U.run(1)}),be=!0)},o(fe){fe&&(U||(U=ut(e,Sn,{duration:150},!1)),U.run(0)),be=!1},d(fe){fe&&S(e),fe&&U&&U.end()}}}function SD(n){let e,t,r,i,s,a,l;function o(d,h){return d[0]?TD:xD}let f=o(n),c=f(n),u=n[0]&&N1();return{c(){e=y("button"),t=y("strong"),t.textContent="String value normalizations",r=D(),c.c(),i=D(),u&&u.c(),s=Ge(),_(t,"class","txt"),_(e,"type","button"),_(e,"class","inline-flex txt-sm flex-gap-5 link-hint")},m(d,h){E(d,e,h),b(e,t),b(e,r),c.m(e,null),E(d,i,h),u&&u.m(d,h),E(d,s,h),a||(l=ae(e,"click",n[3]),a=!0)},p(d,[h]){f!==(f=o(d))&&(c.d(1),c=f(d),c&&(c.c(),c.m(e,null))),d[0]?u?h&1&&M(u,1):(u=N1(),u.c(),M(u,1),u.m(s.parentNode,s)):u&&(Me(),L(u,1,1,()=>{u=null}),Ie())},i(d){M(u)},o(d){L(u)},d(d){d&&S(e),c.d(),d&&S(i),u&&u.d(d),d&&S(s),a=!1,l()}}}function ED(n,e,t){const r="",i={};let s=!1;return[s,r,i,()=>{t(0,s=!s)}]}class CD extends We{constructor(e){super(),Ve(this,e,ED,SD,$e,{key:1,options:2})}get key(){return this.$$.ctx[1]}get options(){return this.$$.ctx[2]}}function AD(n){let e,t=(n[0].ext||"N/A")+"",r,i,s,a=n[0].mimeType+"",l;return{c(){e=y("span"),r=q(t),i=D(),s=y("small"),l=q(a),_(e,"class","txt"),_(s,"class","txt-hint")},m(o,f){E(o,e,f),b(e,r),E(o,i,f),E(o,s,f),b(s,l)},p(o,[f]){f&1&&t!==(t=(o[0].ext||"N/A")+"")&&ke(r,t),f&1&&a!==(a=o[0].mimeType+"")&&ke(l,a)},i:ce,o:ce,d(o){o&&S(e),o&&S(i),o&&S(s)}}}function FD(n,e,t){let{item:r={}}=e;return n.$$set=i=>{"item"in i&&t(0,r=i.item)},[r]}class P1 extends We{constructor(e){super(),Ve(this,e,FD,AD,$e,{item:0})}}const DD=[{ext:".xpm",mimeType:"image/x-xpixmap"},{ext:".7z",mimeType:"application/x-7z-compressed"},{ext:".zip",mimeType:"application/zip"},{ext:".xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{ext:".docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{ext:".pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{ext:".epub",mimeType:"application/epub+zip"},{ext:".jar",mimeType:"application/jar"},{ext:".odt",mimeType:"application/vnd.oasis.opendocument.text"},{ext:".ott",mimeType:"application/vnd.oasis.opendocument.text-template"},{ext:".ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{ext:".ots",mimeType:"application/vnd.oasis.opendocument.spreadsheet-template"},{ext:".odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{ext:".otp",mimeType:"application/vnd.oasis.opendocument.presentation-template"},{ext:".odg",mimeType:"application/vnd.oasis.opendocument.graphics"},{ext:".otg",mimeType:"application/vnd.oasis.opendocument.graphics-template"},{ext:".odf",mimeType:"application/vnd.oasis.opendocument.formula"},{ext:".odc",mimeType:"application/vnd.oasis.opendocument.chart"},{ext:".sxc",mimeType:"application/vnd.sun.xml.calc"},{ext:".pdf",mimeType:"application/pdf"},{ext:".fdf",mimeType:"application/vnd.fdf"},{ext:"",mimeType:"application/x-ole-storage"},{ext:".msi",mimeType:"application/x-ms-installer"},{ext:".aaf",mimeType:"application/octet-stream"},{ext:".msg",mimeType:"application/vnd.ms-outlook"},{ext:".xls",mimeType:"application/vnd.ms-excel"},{ext:".pub",mimeType:"application/vnd.ms-publisher"},{ext:".ppt",mimeType:"application/vnd.ms-powerpoint"},{ext:".doc",mimeType:"application/msword"},{ext:".ps",mimeType:"application/postscript"},{ext:".psd",mimeType:"image/vnd.adobe.photoshop"},{ext:".p7s",mimeType:"application/pkcs7-signature"},{ext:".ogg",mimeType:"application/ogg"},{ext:".oga",mimeType:"audio/ogg"},{ext:".ogv",mimeType:"video/ogg"},{ext:".png",mimeType:"image/png"},{ext:".png",mimeType:"image/vnd.mozilla.apng"},{ext:".jpg",mimeType:"image/jpeg"},{ext:".jxl",mimeType:"image/jxl"},{ext:".jp2",mimeType:"image/jp2"},{ext:".jpf",mimeType:"image/jpx"},{ext:".jpm",mimeType:"image/jpm"},{ext:".jxs",mimeType:"image/jxs"},{ext:".gif",mimeType:"image/gif"},{ext:".webp",mimeType:"image/webp"},{ext:".exe",mimeType:"application/vnd.microsoft.portable-executable"},{ext:"",mimeType:"application/x-elf"},{ext:"",mimeType:"application/x-object"},{ext:"",mimeType:"application/x-executable"},{ext:".so",mimeType:"application/x-sharedlib"},{ext:"",mimeType:"application/x-coredump"},{ext:".a",mimeType:"application/x-archive"},{ext:".deb",mimeType:"application/vnd.debian.binary-package"},{ext:".tar",mimeType:"application/x-tar"},{ext:".xar",mimeType:"application/x-xar"},{ext:".bz2",mimeType:"application/x-bzip2"},{ext:".fits",mimeType:"application/fits"},{ext:".tiff",mimeType:"image/tiff"},{ext:".bmp",mimeType:"image/bmp"},{ext:".ico",mimeType:"image/x-icon"},{ext:".mp3",mimeType:"audio/mpeg"},{ext:".flac",mimeType:"audio/flac"},{ext:".midi",mimeType:"audio/midi"},{ext:".ape",mimeType:"audio/ape"},{ext:".mpc",mimeType:"audio/musepack"},{ext:".amr",mimeType:"audio/amr"},{ext:".wav",mimeType:"audio/wav"},{ext:".aiff",mimeType:"audio/aiff"},{ext:".au",mimeType:"audio/basic"},{ext:".mpeg",mimeType:"video/mpeg"},{ext:".mov",mimeType:"video/quicktime"},{ext:".mqv",mimeType:"video/quicktime"},{ext:".mp4",mimeType:"video/mp4"},{ext:".webm",mimeType:"video/webm"},{ext:".3gp",mimeType:"video/3gpp"},{ext:".3g2",mimeType:"video/3gpp2"},{ext:".avi",mimeType:"video/x-msvideo"},{ext:".flv",mimeType:"video/x-flv"},{ext:".mkv",mimeType:"video/x-matroska"},{ext:".asf",mimeType:"video/x-ms-asf"},{ext:".aac",mimeType:"audio/aac"},{ext:".voc",mimeType:"audio/x-unknown"},{ext:".mp4",mimeType:"audio/mp4"},{ext:".m4a",mimeType:"audio/x-m4a"},{ext:".m3u",mimeType:"application/vnd.apple.mpegurl"},{ext:".m4v",mimeType:"video/x-m4v"},{ext:".rmvb",mimeType:"application/vnd.rn-realmedia-vbr"},{ext:".gz",mimeType:"application/gzip"},{ext:".class",mimeType:"application/x-java-applet"},{ext:".swf",mimeType:"application/x-shockwave-flash"},{ext:".crx",mimeType:"application/x-chrome-extension"},{ext:".ttf",mimeType:"font/ttf"},{ext:".woff",mimeType:"font/woff"},{ext:".woff2",mimeType:"font/woff2"},{ext:".otf",mimeType:"font/otf"},{ext:".ttc",mimeType:"font/collection"},{ext:".eot",mimeType:"application/vnd.ms-fontobject"},{ext:".wasm",mimeType:"application/wasm"},{ext:".shx",mimeType:"application/vnd.shx"},{ext:".shp",mimeType:"application/vnd.shp"},{ext:".dbf",mimeType:"application/x-dbf"},{ext:".dcm",mimeType:"application/dicom"},{ext:".rar",mimeType:"application/x-rar-compressed"},{ext:".djvu",mimeType:"image/vnd.djvu"},{ext:".mobi",mimeType:"application/x-mobipocket-ebook"},{ext:".lit",mimeType:"application/x-ms-reader"},{ext:".bpg",mimeType:"image/bpg"},{ext:".sqlite",mimeType:"application/vnd.sqlite3"},{ext:".dwg",mimeType:"image/vnd.dwg"},{ext:".nes",mimeType:"application/vnd.nintendo.snes.rom"},{ext:".lnk",mimeType:"application/x-ms-shortcut"},{ext:".macho",mimeType:"application/x-mach-binary"},{ext:".qcp",mimeType:"audio/qcelp"},{ext:".icns",mimeType:"image/x-icns"},{ext:".heic",mimeType:"image/heic"},{ext:".heic",mimeType:"image/heic-sequence"},{ext:".heif",mimeType:"image/heif"},{ext:".heif",mimeType:"image/heif-sequence"},{ext:".hdr",mimeType:"image/vnd.radiance"},{ext:".mrc",mimeType:"application/marc"},{ext:".mdb",mimeType:"application/x-msaccess"},{ext:".accdb",mimeType:"application/x-msaccess"},{ext:".zst",mimeType:"application/zstd"},{ext:".cab",mimeType:"application/vnd.ms-cab-compressed"},{ext:".rpm",mimeType:"application/x-rpm"},{ext:".xz",mimeType:"application/x-xz"},{ext:".lz",mimeType:"application/lzip"},{ext:".torrent",mimeType:"application/x-bittorrent"},{ext:".cpio",mimeType:"application/x-cpio"},{ext:"",mimeType:"application/tzif"},{ext:".xcf",mimeType:"image/x-xcf"},{ext:".pat",mimeType:"image/x-gimp-pat"},{ext:".gbr",mimeType:"image/x-gimp-gbr"},{ext:".glb",mimeType:"model/gltf-binary"},{ext:".avif",mimeType:"image/avif"},{ext:".cab",mimeType:"application/x-installshield"},{ext:".jxr",mimeType:"image/jxr"},{ext:".txt",mimeType:"text/plain"},{ext:".html",mimeType:"text/html"},{ext:".svg",mimeType:"image/svg+xml"},{ext:".xml",mimeType:"text/xml"},{ext:".rss",mimeType:"application/rss+xml"},{ext:".atom",mimeType:"applicatiotom+xml"},{ext:".x3d",mimeType:"model/x3d+xml"},{ext:".kml",mimeType:"application/vnd.google-earth.kml+xml"},{ext:".xlf",mimeType:"application/x-xliff+xml"},{ext:".dae",mimeType:"model/vnd.collada+xml"},{ext:".gml",mimeType:"application/gml+xml"},{ext:".gpx",mimeType:"application/gpx+xml"},{ext:".tcx",mimeType:"application/vnd.garmin.tcx+xml"},{ext:".amf",mimeType:"application/x-amf"},{ext:".3mf",mimeType:"application/vnd.ms-package.3dmanufacturing-3dmodel+xml"},{ext:".xfdf",mimeType:"application/vnd.adobe.xfdf"},{ext:".owl",mimeType:"application/owl+xml"},{ext:".php",mimeType:"text/x-php"},{ext:".js",mimeType:"application/javascript"},{ext:".lua",mimeType:"text/x-lua"},{ext:".pl",mimeType:"text/x-perl"},{ext:".py",mimeType:"text/x-python"},{ext:".json",mimeType:"application/json"},{ext:".geojson",mimeType:"application/geo+json"},{ext:".har",mimeType:"application/json"},{ext:".ndjson",mimeType:"application/x-ndjson"},{ext:".rtf",mimeType:"text/rtf"},{ext:".srt",mimeType:"application/x-subrip"},{ext:".tcl",mimeType:"text/x-tcl"},{ext:".csv",mimeType:"text/csv"},{ext:".tsv",mimeType:"text/tab-separated-values"},{ext:".vcf",mimeType:"text/vcard"},{ext:".ics",mimeType:"text/calendar"},{ext:".warc",mimeType:"application/warc"},{ext:".vtt",mimeType:"text/vtt"},{ext:"",mimeType:"application/octet-stream"}];function OD(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Max file size (bytes)"),i=D(),s=y("input"),_(e,"for",r=n[12]),_(s,"type","number"),_(s,"id",a=n[12]),_(s,"step","1"),_(s,"min","0")},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].maxSize),l||(o=ae(s,"input",n[3]),l=!0)},p(f,c){c&4096&&r!==(r=f[12])&&_(e,"for",r),c&4096&&a!==(a=f[12])&&_(s,"id",a),c&1&&nn(s.value)!==f[0].maxSize&&Ne(s,f[0].maxSize)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function MD(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Max files"),i=D(),s=y("input"),_(e,"for",r=n[12]),_(s,"type","number"),_(s,"id",a=n[12]),_(s,"step","1"),_(s,"min",""),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].maxSelect),l||(o=ae(s,"input",n[4]),l=!0)},p(f,c){c&4096&&r!==(r=f[12])&&_(e,"for",r),c&4096&&a!==(a=f[12])&&_(s,"id",a),c&1&&nn(s.value)!==f[0].maxSelect&&Ne(s,f[0].maxSelect)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function ID(n){let e,t,r,i,s,a,l,o,f;return{c(){e=y("button"),e.innerHTML='<span class="txt">Images (jpg, png, svg, gif, webp)</span>',t=D(),r=y("button"),r.innerHTML='<span class="txt">Documents (pdf, doc/docx, xls/xlsx)</span>',i=D(),s=y("button"),s.innerHTML='<span class="txt">Videos (mp4, avi, mov, 3gp)</span>',a=D(),l=y("button"),l.innerHTML='<span class="txt">Archives (zip, 7zip, rar)</span>',_(e,"type","button"),_(e,"class","dropdown-item closable"),_(r,"type","button"),_(r,"class","dropdown-item closable"),_(s,"type","button"),_(s,"class","dropdown-item closable"),_(l,"type","button"),_(l,"class","dropdown-item closable")},m(c,u){E(c,e,u),E(c,t,u),E(c,r,u),E(c,i,u),E(c,s,u),E(c,a,u),E(c,l,u),o||(f=[ae(e,"click",n[6]),ae(r,"click",n[7]),ae(s,"click",n[8]),ae(l,"click",n[9])],o=!0)},p:ce,d(c){c&&S(e),c&&S(t),c&&S(r),c&&S(i),c&&S(s),c&&S(a),c&&S(l),o=!1,it(f)}}}function ND(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k;function x(T){n[5](T)}let A={id:n[12],multiple:!0,searchable:!0,closable:!1,selectionKey:"mimeType",selectPlaceholder:"No restriction",items:n[2],labelComponent:P1,optionComponent:P1};return n[0].mimeTypes!==void 0&&(A.keyOfSelected=n[0].mimeTypes),l=new $a({props:A}),ve.push(()=>Le(l,"keyOfSelected",x)),g=new ss({props:{class:"dropdown dropdown-sm dropdown-nowrap dropdown-left",$$slots:{default:[ID]},$$scope:{ctx:n}}}),{c(){e=y("label"),t=y("span"),t.textContent="Allowed mime types",r=D(),i=y("i"),a=D(),z(l.$$.fragment),f=D(),c=y("div"),u=y("button"),d=y("span"),d.textContent="Choose presets",h=D(),m=y("i"),p=D(),z(g.$$.fragment),_(t,"class","txt"),_(i,"class","ri-information-line link-hint"),_(e,"for",s=n[12]),_(d,"class","txt link-primary"),_(m,"class","ri-arrow-drop-down-fill"),_(u,"type","button"),_(u,"class","inline-flex flex-gap-0"),_(c,"class","help-block")},m(T,C){E(T,e,C),b(e,t),b(e,r),b(e,i),E(T,a,C),W(l,T,C),E(T,f,C),E(T,c,C),b(c,u),b(u,d),b(u,h),b(u,m),b(u,p),W(g,u,null),v=!0,w||(k=st(xt.call(null,i,{text:`Allow files ONLY with the listed mime types. 
 Leave empty for no restriction.`,position:"top"})),w=!0)},p(T,C){(!v||C&4096&&s!==(s=T[12]))&&_(e,"for",s);const F={};C&4096&&(F.id=T[12]),C&4&&(F.items=T[2]),!o&&C&1&&(o=!0,F.keyOfSelected=T[0].mimeTypes,He(()=>o=!1)),l.$set(F);const O={};C&8193&&(O.$$scope={dirty:C,ctx:T}),g.$set(O)},i(T){v||(M(l.$$.fragment,T),M(g.$$.fragment,T),v=!0)},o(T){L(l.$$.fragment,T),L(g.$$.fragment,T),v=!1},d(T){T&&S(e),T&&S(a),j(l,T),T&&S(f),T&&S(c),j(g),w=!1,k()}}}function PD(n){let e;return{c(){e=y("ul"),e.innerHTML=`<li><strong>WxH</strong>
                                (eg. 100x50) - crop to WxH viewbox (from center)</li> 
                            <li><strong>WxHt</strong>
                                (eg. 100x50t) - crop to WxH viewbox (from top)</li> 
                            <li><strong>WxHb</strong>
                                (eg. 100x50b) - crop to WxH viewbox (from bottom)</li> 
                            <li><strong>WxHf</strong>
                                (eg. 100x50f) - fit inside a WxH viewbox (without cropping)</li> 
                            <li><strong>0xH</strong>
                                (eg. 0x50) - resize to H height preserving the aspect ratio</li> 
                            <li><strong>Wx0</strong>
                                (eg. 100x0) - resize to W width preserving the aspect ratio</li>`,_(e,"class","m-0")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function LD(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A;function T(F){n[10](F)}let C={id:n[12],placeholder:"eg. 50x50, 480x720"};return n[0].thumbs!==void 0&&(C.value=n[0].thumbs),l=new Ml({props:C}),ve.push(()=>Le(l,"value",T)),w=new ss({props:{class:"dropdown dropdown-sm dropdown-center dropdown-nowrap p-r-10",$$slots:{default:[PD]},$$scope:{ctx:n}}}),{c(){e=y("label"),t=y("span"),t.textContent="Thumb sizes",r=D(),i=y("i"),a=D(),z(l.$$.fragment),f=D(),c=y("div"),u=y("span"),u.textContent="Use comma as separator.",d=D(),h=y("button"),m=y("span"),m.textContent="Supported formats",p=D(),g=y("i"),v=D(),z(w.$$.fragment),_(t,"class","txt"),_(i,"class","ri-information-line link-hint"),_(e,"for",s=n[12]),_(u,"class","txt"),_(m,"class","txt link-primary"),_(g,"class","ri-arrow-drop-down-fill"),_(h,"type","button"),_(h,"class","inline-flex flex-gap-0"),_(c,"class","help-block")},m(F,O){E(F,e,O),b(e,t),b(e,r),b(e,i),E(F,a,O),W(l,F,O),E(F,f,O),E(F,c,O),b(c,u),b(c,d),b(c,h),b(h,m),b(h,p),b(h,g),b(h,v),W(w,h,null),k=!0,x||(A=st(xt.call(null,i,{text:"List of additional thumb sizes for image files, along with the default thumb size of 100x100. The thumbs are generated lazily on first access.",position:"top"})),x=!0)},p(F,O){(!k||O&4096&&s!==(s=F[12]))&&_(e,"for",s);const I={};O&4096&&(I.id=F[12]),!o&&O&1&&(o=!0,I.value=F[0].thumbs,He(()=>o=!1)),l.$set(I);const N={};O&8192&&(N.$$scope={dirty:O,ctx:F}),w.$set(N)},i(F){k||(M(l.$$.fragment,F),M(w.$$.fragment,F),k=!0)},o(F){L(l.$$.fragment,F),L(w.$$.fragment,F),k=!1},d(F){F&&S(e),F&&S(a),j(l,F),F&&S(f),F&&S(c),j(w),x=!1,A()}}}function RD(n){let e,t,r,i,s,a,l,o,f,c,u,d,h;return r=new Re({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSize",$$slots:{default:[OD,({uniqueId:m})=>({12:m}),({uniqueId:m})=>m?4096:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field required",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[MD,({uniqueId:m})=>({12:m}),({uniqueId:m})=>m?4096:0]},$$scope:{ctx:n}}}),f=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.mimeTypes",$$slots:{default:[ND,({uniqueId:m})=>({12:m}),({uniqueId:m})=>m?4096:0]},$$scope:{ctx:n}}}),d=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.thumbs",$$slots:{default:[LD,({uniqueId:m})=>({12:m}),({uniqueId:m})=>m?4096:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),l=D(),o=y("div"),z(f.$$.fragment),c=D(),u=y("div"),z(d.$$.fragment),_(t,"class","col-sm-6"),_(s,"class","col-sm-6"),_(o,"class","col-sm-12"),_(u,"class","col-sm-12"),_(e,"class","grid")},m(m,p){E(m,e,p),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),b(e,l),b(e,o),W(f,o,null),b(e,c),b(e,u),W(d,u,null),h=!0},p(m,[p]){const g={};p&2&&(g.name="schema."+m[1]+".options.maxSize"),p&12289&&(g.$$scope={dirty:p,ctx:m}),r.$set(g);const v={};p&2&&(v.name="schema."+m[1]+".options.maxSelect"),p&12289&&(v.$$scope={dirty:p,ctx:m}),a.$set(v);const w={};p&2&&(w.name="schema."+m[1]+".options.mimeTypes"),p&12293&&(w.$$scope={dirty:p,ctx:m}),f.$set(w);const k={};p&2&&(k.name="schema."+m[1]+".options.thumbs"),p&12289&&(k.$$scope={dirty:p,ctx:m}),d.$set(k)},i(m){h||(M(r.$$.fragment,m),M(a.$$.fragment,m),M(f.$$.fragment,m),M(d.$$.fragment,m),h=!0)},o(m){L(r.$$.fragment,m),L(a.$$.fragment,m),L(f.$$.fragment,m),L(d.$$.fragment,m),h=!1},d(m){m&&S(e),j(r),j(a),j(f),j(d)}}}function $D(n,e,t){let{key:r=""}=e,{options:i={}}=e,s=DD.slice();function a(){if(X.isEmpty(i.mimeTypes))return;const p=[];for(const g of i.mimeTypes)s.find(v=>v.mimeType===g)||p.push({mimeType:g});p.length&&t(2,s=s.concat(p))}function l(){i.maxSize=nn(this.value),t(0,i)}function o(){i.maxSelect=nn(this.value),t(0,i)}function f(p){n.$$.not_equal(i.mimeTypes,p)&&(i.mimeTypes=p,t(0,i))}const c=()=>{t(0,i.mimeTypes=["image/jpeg","image/png","image/svg+xml","image/gif","image/webp"],i)},u=()=>{t(0,i.mimeTypes=["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],i)},d=()=>{t(0,i.mimeTypes=["video/mp4","video/x-ms-wmv","video/quicktime","video/3gpp"],i)},h=()=>{t(0,i.mimeTypes=["application/zip","application/x-7z-compressed","application/x-rar-compressed"],i)};function m(p){n.$$.not_equal(i.thumbs,p)&&(i.thumbs=p,t(0,i))}return n.$$set=p=>{"key"in p&&t(1,r=p.key),"options"in p&&t(0,i=p.options)},n.$$.update=()=>{n.$$.dirty&1&&(X.isEmpty(i)?t(0,i={maxSelect:1,maxSize:5242880,thumbs:[],mimeTypes:[]}):a())},[i,r,s,l,o,f,c,u,d,h,m]}class BD extends We{constructor(e){super(),Ve(this,e,$D,RD,$e,{key:1,options:0})}}function UD(n){let e,t,r,i,s;return{c(){e=y("hr"),t=D(),r=y("button"),r.innerHTML=`<i class="ri-add-line"></i> 
                        <span class="txt">New collection</span>`,_(r,"type","button"),_(r,"class","btn btn-transparent btn-block btn-sm")},m(a,l){E(a,e,l),E(a,t,l),E(a,r,l),i||(s=ae(r,"click",n[10]),i=!0)},p:ce,d(a){a&&S(e),a&&S(t),a&&S(r),i=!1,s()}}}function HD(n){let e,t,r,i,s,a,l;function o(c){n[11](c)}let f={id:n[23],searchable:n[3].length>5,selectPlaceholder:"Select collection",noOptionsText:"No collections found",selectionKey:"id",items:n[3],$$slots:{afterOptions:[UD]},$$scope:{ctx:n}};return n[0].collectionId!==void 0&&(f.keyOfSelected=n[0].collectionId),s=new $a({props:f}),ve.push(()=>Le(s,"keyOfSelected",o)),{c(){e=y("label"),t=q("Collection"),i=D(),z(s.$$.fragment),_(e,"for",r=n[23])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u&8388608&&r!==(r=c[23]))&&_(e,"for",r);const d={};u&8388608&&(d.id=c[23]),u&8&&(d.searchable=c[3].length>5),u&8&&(d.items=c[3]),u&16777232&&(d.$$scope={dirty:u,ctx:c}),!a&&u&1&&(a=!0,d.keyOfSelected=c[0].collectionId,He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function VD(n){let e,t,r,i,s,a,l;function o(c){n[12](c)}let f={id:n[23],items:n[6]};return n[2]!==void 0&&(f.keyOfSelected=n[2]),s=new $a({props:f}),ve.push(()=>Le(s,"keyOfSelected",o)),{c(){e=y("label"),t=q("Relation type"),i=D(),z(s.$$.fragment),_(e,"for",r=n[23])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u&8388608&&r!==(r=c[23]))&&_(e,"for",r);const d={};u&8388608&&(d.id=c[23]),!a&&u&4&&(a=!0,d.keyOfSelected=c[2],He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function L1(n){let e,t,r,i,s,a;return t=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.minSelect",$$slots:{default:[WD,({uniqueId:l})=>({23:l}),({uniqueId:l})=>l?8388608:0]},$$scope:{ctx:n}}}),s=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.maxSelect",$$slots:{default:[jD,({uniqueId:l})=>({23:l}),({uniqueId:l})=>l?8388608:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),z(t.$$.fragment),r=D(),i=y("div"),z(s.$$.fragment),_(e,"class","col-sm-6"),_(i,"class","col-sm-6")},m(l,o){E(l,e,o),W(t,e,null),E(l,r,o),E(l,i,o),W(s,i,null),a=!0},p(l,o){const f={};o&2&&(f.name="schema."+l[1]+".options.minSelect"),o&25165825&&(f.$$scope={dirty:o,ctx:l}),t.$set(f);const c={};o&2&&(c.name="schema."+l[1]+".options.maxSelect"),o&25165825&&(c.$$scope={dirty:o,ctx:l}),s.$set(c)},i(l){a||(M(t.$$.fragment,l),M(s.$$.fragment,l),a=!0)},o(l){L(t.$$.fragment,l),L(s.$$.fragment,l),a=!1},d(l){l&&S(e),j(t),l&&S(r),l&&S(i),j(s)}}}function WD(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Min select"),i=D(),s=y("input"),_(e,"for",r=n[23]),_(s,"type","number"),_(s,"id",a=n[23]),_(s,"step","1"),_(s,"min","1"),_(s,"placeholder","No min limit")},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].minSelect),l||(o=ae(s,"input",n[13]),l=!0)},p(f,c){c&8388608&&r!==(r=f[23])&&_(e,"for",r),c&8388608&&a!==(a=f[23])&&_(s,"id",a),c&1&&nn(s.value)!==f[0].minSelect&&Ne(s,f[0].minSelect)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function jD(n){let e,t,r,i,s,a,l,o,f;return{c(){e=y("label"),t=q("Max select"),i=D(),s=y("input"),_(e,"for",r=n[23]),_(s,"type","number"),_(s,"id",a=n[23]),_(s,"step","1"),_(s,"placeholder","No max limit"),_(s,"min",l=n[0].minSelect||2)},m(c,u){E(c,e,u),b(e,t),E(c,i,u),E(c,s,u),Ne(s,n[0].maxSelect),o||(f=ae(s,"input",n[14]),o=!0)},p(c,u){u&8388608&&r!==(r=c[23])&&_(e,"for",r),u&8388608&&a!==(a=c[23])&&_(s,"id",a),u&1&&l!==(l=c[0].minSelect||2)&&_(s,"min",l),u&1&&nn(s.value)!==c[0].maxSelect&&Ne(s,c[0].maxSelect)},d(c){c&&S(e),c&&S(i),c&&S(s),o=!1,f()}}}function zD(n){let e,t,r,i,s,a,l,o,f,c,u;function d(m){n[15](m)}let h={multiple:!0,searchable:!0,id:n[23],selectPlaceholder:"Auto",items:n[5]};return n[0].displayFields!==void 0&&(h.selected=n[0].displayFields),l=new qd({props:h}),ve.push(()=>Le(l,"selected",d)),{c(){e=y("label"),t=y("span"),t.textContent="Display fields",r=D(),i=y("i"),a=D(),z(l.$$.fragment),_(t,"class","txt"),_(i,"class","ri-information-line link-hint"),_(e,"for",s=n[23])},m(m,p){E(m,e,p),b(e,t),b(e,r),b(e,i),E(m,a,p),W(l,m,p),f=!0,c||(u=st(xt.call(null,i,{text:"Optionally select the field(s) that will be used in the listings UI. Leave empty for auto.",position:"top"})),c=!0)},p(m,p){(!f||p&8388608&&s!==(s=m[23]))&&_(e,"for",s);const g={};p&8388608&&(g.id=m[23]),p&32&&(g.items=m[5]),!o&&p&1&&(o=!0,g.selected=m[0].displayFields,He(()=>o=!1)),l.$set(g)},i(m){f||(M(l.$$.fragment,m),f=!0)},o(m){L(l.$$.fragment,m),f=!1},d(m){m&&S(e),m&&S(a),j(l,m),c=!1,u()}}}function qD(n){let e,t,r,i,s,a,l;function o(c){n[16](c)}let f={id:n[23],items:n[7]};return n[0].cascadeDelete!==void 0&&(f.keyOfSelected=n[0].cascadeDelete),s=new $a({props:f}),ve.push(()=>Le(s,"keyOfSelected",o)),{c(){e=y("label"),t=q("Delete main record on relation delete"),i=D(),z(s.$$.fragment),_(e,"for",r=n[23])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u&8388608&&r!==(r=c[23]))&&_(e,"for",r);const d={};u&8388608&&(d.id=c[23]),!a&&u&1&&(a=!0,d.keyOfSelected=c[0].cascadeDelete,He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function YD(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g;r=new Re({props:{class:"form-field required",name:"schema."+n[1]+".options.collectionId",$$slots:{default:[HD,({uniqueId:k})=>({23:k}),({uniqueId:k})=>k?8388608:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field",$$slots:{default:[VD,({uniqueId:k})=>({23:k}),({uniqueId:k})=>k?8388608:0]},$$scope:{ctx:n}}});let v=!n[2]&&L1(n);c=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.displayFields",$$slots:{default:[zD,({uniqueId:k})=>({23:k}),({uniqueId:k})=>k?8388608:0]},$$scope:{ctx:n}}}),h=new Re({props:{class:"form-field",name:"schema."+n[1]+".options.cascadeDelete",$$slots:{default:[qD,({uniqueId:k})=>({23:k}),({uniqueId:k})=>k?8388608:0]},$$scope:{ctx:n}}});let w={};return p=new Gd({props:w}),n[17](p),p.$on("save",n[18]),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),l=D(),v&&v.c(),o=D(),f=y("div"),z(c.$$.fragment),u=D(),d=y("div"),z(h.$$.fragment),m=D(),z(p.$$.fragment),_(t,"class","col-sm-6"),_(s,"class","col-sm-6"),_(f,"class","col-sm-6"),_(d,"class","col-sm-6"),_(e,"class","grid")},m(k,x){E(k,e,x),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),b(e,l),v&&v.m(e,null),b(e,o),b(e,f),W(c,f,null),b(e,u),b(e,d),W(h,d,null),E(k,m,x),W(p,k,x),g=!0},p(k,[x]){const A={};x&2&&(A.name="schema."+k[1]+".options.collectionId"),x&25165849&&(A.$$scope={dirty:x,ctx:k}),r.$set(A);const T={};x&25165828&&(T.$$scope={dirty:x,ctx:k}),a.$set(T),k[2]?v&&(Me(),L(v,1,1,()=>{v=null}),Ie()):v?(v.p(k,x),x&4&&M(v,1)):(v=L1(k),v.c(),M(v,1),v.m(e,o));const C={};x&2&&(C.name="schema."+k[1]+".options.displayFields"),x&25165857&&(C.$$scope={dirty:x,ctx:k}),c.$set(C);const F={};x&2&&(F.name="schema."+k[1]+".options.cascadeDelete"),x&25165825&&(F.$$scope={dirty:x,ctx:k}),h.$set(F);const O={};p.$set(O)},i(k){g||(M(r.$$.fragment,k),M(a.$$.fragment,k),M(v),M(c.$$.fragment,k),M(h.$$.fragment,k),M(p.$$.fragment,k),g=!0)},o(k){L(r.$$.fragment,k),L(a.$$.fragment,k),L(v),L(c.$$.fragment,k),L(h.$$.fragment,k),L(p.$$.fragment,k),g=!1},d(k){k&&S(e),j(r),j(a),v&&v.d(),j(c),j(h),k&&S(m),n[17](null),j(p,k)}}}function GD(n,e,t){let r,i;Et(n,ea,I=>t(3,i=I));let{key:s=""}=e,{options:a={}}=e;const l=[{label:"Single",value:!0},{label:"Multiple",value:!1}],o=[{label:"False",value:!1},{label:"True",value:!0}],f=["id","created","updated"],c=["username","email","emailVisibility","verified"];let u=null,d=[],h=null,m=(a==null?void 0:a.maxSelect)==1,p=m;function g(){var I;if(t(5,d=f.slice(0)),!!r){r.isAuth&&t(5,d=d.concat(c));for(const N of r.schema)d.push(N.name);if(((I=a==null?void 0:a.displayFields)==null?void 0:I.length)>0)for(let N=a.displayFields.length-1;N>=0;N--)d.includes(a.displayFields[N])||a.displayFields.splice(N,1)}}const v=()=>u==null?void 0:u.show();function w(I){n.$$.not_equal(a.collectionId,I)&&(a.collectionId=I,t(0,a),t(2,m),t(9,p))}function k(I){m=I,t(2,m),t(0,a),t(9,p)}function x(){a.minSelect=nn(this.value),t(0,a),t(2,m),t(9,p)}function A(){a.maxSelect=nn(this.value),t(0,a),t(2,m),t(9,p)}function T(I){n.$$.not_equal(a.displayFields,I)&&(a.displayFields=I,t(0,a),t(2,m),t(9,p))}function C(I){n.$$.not_equal(a.cascadeDelete,I)&&(a.cascadeDelete=I,t(0,a),t(2,m),t(9,p))}function F(I){ve[I?"unshift":"push"](()=>{u=I,t(4,u)})}const O=I=>{var N,P;(P=(N=I==null?void 0:I.detail)==null?void 0:N.collection)!=null&&P.id&&t(0,a.collectionId=I.detail.collection.id,a)};return n.$$set=I=>{"key"in I&&t(1,s=I.key),"options"in I&&t(0,a=I.options)},n.$$.update=()=>{n.$$.dirty&5&&X.isEmpty(a)&&(t(0,a={maxSelect:1,collectionId:null,cascadeDelete:!1,displayFields:[]}),t(2,m=!0),t(9,p=m)),n.$$.dirty&516&&p!=m&&(t(9,p=m),m?(t(0,a.minSelect=null,a),t(0,a.maxSelect=1,a)):t(0,a.maxSelect=null,a)),n.$$.dirty&9&&(r=i.find(I=>I.id==a.collectionId)||null),n.$$.dirty&257&&h!=a.collectionId&&(t(8,h=a.collectionId),g())},[a,s,m,i,u,d,l,o,h,p,v,w,k,x,A,T,C,F,O]}class XD extends We{constructor(e){super(),Ve(this,e,GD,YD,$e,{key:1,options:0})}}function KD(n){let e,t,r,i,s,a,l;function o(c){n[17](c)}let f={id:n[43],disabled:n[0].id};return n[0].type!==void 0&&(f.value=n[0].type),s=new M8({props:f}),ve.push(()=>Le(s,"value",o)),{c(){e=y("label"),t=q("Type"),i=D(),z(s.$$.fragment),_(e,"for",r=n[43])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u[1]&4096&&r!==(r=c[43]))&&_(e,"for",r);const d={};u[1]&4096&&(d.id=c[43]),u[0]&1&&(d.disabled=c[0].id),!a&&u[0]&1&&(a=!0,d.value=c[0].type,He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function R1(n){let e,t,r;return{c(){e=y("span"),e.textContent="Duplicated or invalid name",_(e,"class","txt invalid-name-note svelte-1tpxlm5")},m(i,s){E(i,e,s),r=!0},i(i){r||(Nt(()=>{t||(t=ut(e,Si,{duration:150,x:5},!0)),t.run(1)}),r=!0)},o(i){t||(t=ut(e,Si,{duration:150,x:5},!1)),t.run(0),r=!1},d(i){i&&S(e),i&&t&&t.end()}}}function JD(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m=!n[5]&&R1();return{c(){e=y("label"),t=y("span"),t.textContent="Name",r=D(),m&&m.c(),s=D(),a=y("input"),_(t,"class","txt"),_(e,"for",i=n[43]),_(a,"type","text"),_(a,"id",l=n[43]),a.required=!0,a.disabled=o=n[0].id&&n[0].system,_(a,"spellcheck","false"),a.autofocus=f=!n[0].id,a.value=c=n[0].name},m(p,g){E(p,e,g),b(e,t),b(e,r),m&&m.m(e,null),E(p,s,g),E(p,a,g),u=!0,n[0].id||a.focus(),d||(h=ae(a,"input",n[18]),d=!0)},p(p,g){p[5]?m&&(Me(),L(m,1,1,()=>{m=null}),Ie()):m?g[0]&32&&M(m,1):(m=R1(),m.c(),M(m,1),m.m(e,null)),(!u||g[1]&4096&&i!==(i=p[43]))&&_(e,"for",i),(!u||g[1]&4096&&l!==(l=p[43]))&&_(a,"id",l),(!u||g[0]&1&&o!==(o=p[0].id&&p[0].system))&&(a.disabled=o),(!u||g[0]&1&&f!==(f=!p[0].id))&&(a.autofocus=f),(!u||g[0]&1&&c!==(c=p[0].name)&&a.value!==c)&&(a.value=c)},i(p){u||(M(m),u=!0)},o(p){L(m),u=!1},d(p){p&&S(e),m&&m.d(),p&&S(s),p&&S(a),d=!1,h()}}}function ZD(n){let e,t,r;function i(a){n[29](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new XD({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function QD(n){let e,t,r;function i(a){n[28](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new BD({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function eO(n){let e,t,r;function i(a){n[27](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new CD({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function tO(n){let e,t,r;function i(a){n[26](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new yD({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function nO(n){let e,t,r;function i(a){n[25](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new gD({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function rO(n){let e,t,r;function i(a){n[24](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new nD({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function iO(n){let e,t,r;function i(a){n[23](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new eD({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function sO(n){let e,t,r;function i(a){n[22](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new zy({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function aO(n){let e,t,r;function i(a){n[21](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new z8({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function lO(n){let e,t,r;function i(a){n[20](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new W8({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function oO(n){let e,t,r;function i(a){n[19](a)}let s={key:n[1]};return n[0].options!==void 0&&(s.options=n[0].options),e=new $8({props:s}),ve.push(()=>Le(e,"options",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&2&&(o.key=a[1]),!t&&l[0]&1&&(t=!0,o.options=a[0].options,He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function fO(n){let e,t,r,i,s,a=rl(n[0])+"",l,o,f,c,u,d,h;return{c(){e=y("input"),r=D(),i=y("label"),s=y("span"),l=q(a),o=D(),f=y("i"),_(e,"type","checkbox"),_(e,"id",t=n[43]),_(s,"class","txt"),_(f,"class","ri-information-line link-hint"),_(i,"for",u=n[43])},m(m,p){E(m,e,p),e.checked=n[0].required,E(m,r,p),E(m,i,p),b(i,s),b(s,l),b(i,o),b(i,f),d||(h=[ae(e,"change",n[30]),st(c=xt.call(null,f,{text:`Requires the field value to be ${rl(n[0])}
(aka. not ${X.zeroDefaultStr(n[0])}).`,position:"right"}))],d=!0)},p(m,p){p[1]&4096&&t!==(t=m[43])&&_(e,"id",t),p[0]&1&&(e.checked=m[0].required),p[0]&1&&a!==(a=rl(m[0])+"")&&ke(l,a),c&&ar(c.update)&&p[0]&1&&c.update.call(null,{text:`Requires the field value to be ${rl(m[0])}
(aka. not ${X.zeroDefaultStr(m[0])}).`,position:"right"}),p[1]&4096&&u!==(u=m[43])&&_(i,"for",u)},d(m){m&&S(e),m&&S(r),m&&S(i),d=!1,it(h)}}}function $1(n){let e,t;return e=new Re({props:{class:"form-field form-field-toggle m-0",name:"unique",$$slots:{default:[cO,({uniqueId:r})=>({43:r}),({uniqueId:r})=>[0,r?4096:0]]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i[0]&1|i[1]&12288&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function cO(n){let e,t,r,i,s,a,l,o;return{c(){e=y("input"),r=D(),i=y("label"),s=q("Unique"),_(e,"type","checkbox"),_(e,"id",t=n[43]),_(i,"for",a=n[43])},m(f,c){E(f,e,c),e.checked=n[0].unique,E(f,r,c),E(f,i,c),b(i,s),l||(o=ae(e,"change",n[31]),l=!0)},p(f,c){c[1]&4096&&t!==(t=f[43])&&_(e,"id",t),c[0]&1&&(e.checked=f[0].unique),c[1]&4096&&a!==(a=f[43])&&_(i,"for",a)},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,o()}}}function B1(n){let e,t,r,i,s,a,l,o,f,c;o=new ss({props:{class:"dropdown dropdown-sm dropdown-upside dropdown-right dropdown-nowrap no-min-width",$$slots:{default:[uO]},$$scope:{ctx:n}}});let u=n[8]&&U1(n);return{c(){e=y("div"),t=y("div"),r=D(),i=y("div"),s=y("button"),a=y("i"),l=D(),z(o.$$.fragment),f=D(),u&&u.c(),_(t,"class","flex-fill"),_(a,"class","ri-more-line"),_(s,"type","button"),_(s,"aria-label","More"),_(s,"class","btn btn-circle btn-sm btn-transparent"),_(i,"class","inline-flex flex-gap-sm flex-nowrap"),_(e,"class","col-sm-4 txt-right")},m(d,h){E(d,e,h),b(e,t),b(e,r),b(e,i),b(i,s),b(s,a),b(s,l),W(o,s,null),b(i,f),u&&u.m(i,null),c=!0},p(d,h){const m={};h[1]&8192&&(m.$$scope={dirty:h,ctx:d}),o.$set(m),d[8]?u?u.p(d,h):(u=U1(d),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(d){c||(M(o.$$.fragment,d),c=!0)},o(d){L(o.$$.fragment,d),c=!1},d(d){d&&S(e),j(o),u&&u.d()}}}function uO(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Remove</span>',_(e,"type","button"),_(e,"class","dropdown-item txt-right")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[9]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function U1(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Done</span>',_(e,"type","button"),_(e,"class","btn btn-sm btn-outline btn-expanded-sm")},m(i,s){E(i,e,s),t||(r=ae(e,"click",ri(n[3])),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function dO(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T;i=new Re({props:{class:"form-field required "+(n[0].id?"readonly":""),name:"schema."+n[1]+".type",$$slots:{default:[KD,({uniqueId:P})=>({43:P}),({uniqueId:P})=>[0,P?4096:0]]},$$scope:{ctx:n}}}),l=new Re({props:{class:`
                        form-field
                        required
                        `+(n[5]?"":"invalid")+`
                        `+(n[0].id&&n[0].system?"disabled":"")+`
                    `,name:"schema."+n[1]+".name",$$slots:{default:[JD,({uniqueId:P})=>({43:P}),({uniqueId:P})=>[0,P?4096:0]]},$$scope:{ctx:n}}});const C=[oO,lO,aO,sO,iO,rO,nO,tO,eO,QD,ZD],F=[];function O(P,R){return P[0].type==="text"?0:P[0].type==="number"?1:P[0].type==="bool"?2:P[0].type==="email"?3:P[0].type==="url"?4:P[0].type==="editor"?5:P[0].type==="date"?6:P[0].type==="select"?7:P[0].type==="json"?8:P[0].type==="file"?9:P[0].type==="relation"?10:-1}~(c=O(n))&&(u=F[c]=C[c](n)),m=new Re({props:{class:"form-field form-field-toggle m-0",name:"requried",$$slots:{default:[fO,({uniqueId:P})=>({43:P}),({uniqueId:P})=>[0,P?4096:0]]},$$scope:{ctx:n}}});let I=n[0].type!=="file"&&$1(n),N=!n[0].toDelete&&B1(n);return{c(){e=y("form"),t=y("div"),r=y("div"),z(i.$$.fragment),s=D(),a=y("div"),z(l.$$.fragment),o=D(),f=y("div"),u&&u.c(),d=D(),h=y("div"),z(m.$$.fragment),p=D(),g=y("div"),I&&I.c(),v=D(),N&&N.c(),w=D(),k=y("input"),_(r,"class","col-sm-6"),_(a,"class","col-sm-6"),_(f,"class","col-sm-12 hidden-empty"),_(h,"class","col-sm-4 flex"),_(g,"class","col-sm-4 flex"),_(t,"class","grid"),_(k,"type","submit"),_(k,"class","hidden"),_(k,"tabindex","-1"),_(e,"class","field-form")},m(P,R){E(P,e,R),b(e,t),b(t,r),W(i,r,null),b(t,s),b(t,a),W(l,a,null),b(t,o),b(t,f),~c&&F[c].m(f,null),b(t,d),b(t,h),W(m,h,null),b(t,p),b(t,g),I&&I.m(g,null),b(t,v),N&&N.m(t,null),b(e,w),b(e,k),x=!0,A||(T=[ae(e,"dragstart",mO),ae(e,"submit",Yt(n[32]))],A=!0)},p(P,R){const Y={};R[0]&1&&(Y.class="form-field required "+(P[0].id?"readonly":"")),R[0]&2&&(Y.name="schema."+P[1]+".type"),R[0]&1|R[1]&12288&&(Y.$$scope={dirty:R,ctx:P}),i.$set(Y);const ne={};R[0]&33&&(ne.class=`
                        form-field
                        required
                        `+(P[5]?"":"invalid")+`
                        `+(P[0].id&&P[0].system?"disabled":"")+`
                    `),R[0]&2&&(ne.name="schema."+P[1]+".name"),R[0]&33|R[1]&12288&&(ne.$$scope={dirty:R,ctx:P}),l.$set(ne);let V=c;c=O(P),c===V?~c&&F[c].p(P,R):(u&&(Me(),L(F[V],1,1,()=>{F[V]=null}),Ie()),~c?(u=F[c],u?u.p(P,R):(u=F[c]=C[c](P),u.c()),M(u,1),u.m(f,null)):u=null);const se={};R[0]&1|R[1]&12288&&(se.$$scope={dirty:R,ctx:P}),m.$set(se),P[0].type!=="file"?I?(I.p(P,R),R[0]&1&&M(I,1)):(I=$1(P),I.c(),M(I,1),I.m(g,null)):I&&(Me(),L(I,1,1,()=>{I=null}),Ie()),P[0].toDelete?N&&(Me(),L(N,1,1,()=>{N=null}),Ie()):N?(N.p(P,R),R[0]&1&&M(N,1)):(N=B1(P),N.c(),M(N,1),N.m(t,null))},i(P){x||(M(i.$$.fragment,P),M(l.$$.fragment,P),M(u),M(m.$$.fragment,P),M(I),M(N),x=!0)},o(P){L(i.$$.fragment,P),L(l.$$.fragment,P),L(u),L(m.$$.fragment,P),L(I),L(N),x=!1},d(P){P&&S(e),j(i),j(l),~c&&F[c].d(),j(m),I&&I.d(),N&&N.d(),A=!1,it(T)}}}function H1(n){let e,t,r,i,s=n[0].system&&V1(),a=!n[0].id&&W1(n),l=n[0].required&&j1(n),o=n[0].unique&&z1();return{c(){e=y("div"),s&&s.c(),t=D(),a&&a.c(),r=D(),l&&l.c(),i=D(),o&&o.c(),_(e,"class","inline-flex")},m(f,c){E(f,e,c),s&&s.m(e,null),b(e,t),a&&a.m(e,null),b(e,r),l&&l.m(e,null),b(e,i),o&&o.m(e,null)},p(f,c){f[0].system?s||(s=V1(),s.c(),s.m(e,t)):s&&(s.d(1),s=null),f[0].id?a&&(a.d(1),a=null):a?a.p(f,c):(a=W1(f),a.c(),a.m(e,r)),f[0].required?l?l.p(f,c):(l=j1(f),l.c(),l.m(e,i)):l&&(l.d(1),l=null),f[0].unique?o||(o=z1(),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(f){f&&S(e),s&&s.d(),a&&a.d(),l&&l.d(),o&&o.d()}}}function V1(n){let e;return{c(){e=y("span"),e.textContent="System",_(e,"class","label label-danger")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function W1(n){let e;return{c(){e=y("span"),e.textContent="New",_(e,"class","label"),pe(e,"label-warning",n[8]&&!n[0].toDelete)},m(t,r){E(t,e,r)},p(t,r){r[0]&257&&pe(e,"label-warning",t[8]&&!t[0].toDelete)},d(t){t&&S(e)}}}function j1(n){let e,t=rl(n[0])+"",r;return{c(){e=y("span"),r=q(t),_(e,"class","label label-success")},m(i,s){E(i,e,s),b(e,r)},p(i,s){s[0]&1&&t!==(t=rl(i[0])+"")&&ke(r,t)},d(i){i&&S(e)}}}function z1(n){let e;return{c(){e=y("span"),e.textContent="Unique",_(e,"class","label label-success")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function q1(n){let e,t,r,i,s;return{c(){e=y("i"),_(e,"class","ri-error-warning-fill txt-danger")},m(a,l){E(a,e,l),r=!0,i||(s=st(xt.call(null,e,{text:"Has errors",position:"left"})),i=!0)},i(a){r||(Nt(()=>{t||(t=ut(e,qn,{duration:150,start:.7},!0)),t.run(1)}),r=!0)},o(a){t||(t=ut(e,qn,{duration:150,start:.7},!1)),t.run(0),r=!1},d(a){a&&S(e),a&&t&&t.end(),i=!1,s()}}}function Y1(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Restore</span>',_(e,"type","button"),_(e,"class","btn btn-sm btn-danger btn-transparent")},m(i,s){E(i,e,s),t||(r=ae(e,"click",ri(n[16])),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function hO(n){let e,t,r,i,s,a,l=(n[0].name||"-")+"",o,f,c,u,d,h,m,p,g,v=!n[0].toDelete&&H1(n),w=n[7]&&!n[0].system&&q1(),k=n[0].toDelete&&Y1(n);return{c(){e=y("div"),t=y("span"),r=y("i"),s=D(),a=y("strong"),o=q(l),c=D(),v&&v.c(),u=D(),d=y("div"),h=D(),w&&w.c(),m=D(),k&&k.c(),p=Ge(),_(r,"class",i=Ws(X.getFieldTypeIcon(n[0].type))+" svelte-1tpxlm5"),_(t,"class","icon field-type"),_(a,"class","title field-name svelte-1tpxlm5"),_(a,"title",f=n[0].name),pe(a,"txt-strikethrough",n[0].toDelete),_(e,"class","inline-flex"),_(d,"class","flex-fill")},m(x,A){E(x,e,A),b(e,t),b(t,r),b(e,s),b(e,a),b(a,o),E(x,c,A),v&&v.m(x,A),E(x,u,A),E(x,d,A),E(x,h,A),w&&w.m(x,A),E(x,m,A),k&&k.m(x,A),E(x,p,A),g=!0},p(x,A){(!g||A[0]&1&&i!==(i=Ws(X.getFieldTypeIcon(x[0].type))+" svelte-1tpxlm5"))&&_(r,"class",i),(!g||A[0]&1)&&l!==(l=(x[0].name||"-")+"")&&ke(o,l),(!g||A[0]&1&&f!==(f=x[0].name))&&_(a,"title",f),(!g||A[0]&1)&&pe(a,"txt-strikethrough",x[0].toDelete),x[0].toDelete?v&&(v.d(1),v=null):v?v.p(x,A):(v=H1(x),v.c(),v.m(u.parentNode,u)),x[7]&&!x[0].system?w?A[0]&129&&M(w,1):(w=q1(),w.c(),M(w,1),w.m(m.parentNode,m)):w&&(Me(),L(w,1,1,()=>{w=null}),Ie()),x[0].toDelete?k?k.p(x,A):(k=Y1(x),k.c(),k.m(p.parentNode,p)):k&&(k.d(1),k=null)},i(x){g||(M(w),g=!0)},o(x){L(w),g=!1},d(x){x&&S(e),x&&S(c),v&&v.d(x),x&&S(u),x&&S(d),x&&S(h),w&&w.d(x),x&&S(m),k&&k.d(x),x&&S(p)}}}function pO(n){let e,t;const r=[{draggable:!0},{single:!0},{interactive:n[8]},{class:n[2]||n[0].toDelete||n[0].system?"field-accordion disabled":"field-accordion"},n[11]];let i={$$slots:{header:[hO],default:[dO]},$$scope:{ctx:n}};for(let s=0;s<r.length;s+=1)i=Mt(i,r[s]);return e=new fl({props:i}),n[33](e),e.$on("expand",n[34]),e.$on("collapse",n[35]),e.$on("toggle",n[36]),e.$on("dragenter",n[37]),e.$on("dragleave",n[38]),e.$on("dragstart",n[39]),e.$on("drop",n[40]),{c(){z(e.$$.fragment)},m(s,a){W(e,s,a),t=!0},p(s,a){const l=a[0]&2309?Rr(r,[r[0],r[1],a[0]&256&&{interactive:s[8]},a[0]&5&&{class:s[2]||s[0].toDelete||s[0].system?"field-accordion disabled":"field-accordion"},a[0]&2048&&is(s[11])]):{};a[0]&483|a[1]&8192&&(l.$$scope={dirty:a,ctx:s}),e.$set(l)},i(s){t||(M(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){n[33](null),j(e,s)}}}function rl(n){switch(n==null?void 0:n.type){case"bool":return"Nonfalsey";case"number":return"Nonzero";default:return"Nonempty"}}const mO=n=>{n.stopPropagation(),n.preventDefault(),n.stopImmediatePropagation()};function _O(n,e,t){let r,i,s,a;const l=["key","field","disabled","excludeNames","expand","collapse"];let o=zn(e,l),f;Et(n,xs,ye=>t(15,f=ye));const c=Fn();let{key:u="0"}=e,{field:d=new Yr}=e,{disabled:h=!1}=e,{excludeNames:m=[]}=e,p,g=d.type;function v(){p==null||p.expand()}function w(){p==null||p.collapse()}function k(){d.id?t(0,d.toDelete=!0,d):(w(),c("remove"))}function x(ye){if(ye=(""+ye).toLowerCase(),!ye)return!1;for(const te of m)if(te.toLowerCase()===ye)return!1;return!0}function A(ye){return X.slugify(ye)}ur(()=>{d!=null&&d.onMountExpand&&(t(0,d.onMountExpand=!1,d),v())});const T=()=>{t(0,d.toDelete=!1,d)};function C(ye){n.$$.not_equal(d.type,ye)&&(d.type=ye,t(0,d),t(14,g),t(4,p))}const F=ye=>{t(0,d.name=A(ye.target.value),d),ye.target.value=d.name};function O(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function I(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function N(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function P(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function R(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function Y(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function ne(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function V(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function se(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function ue(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function U(ye){n.$$.not_equal(d.options,ye)&&(d.options=ye,t(0,d),t(14,g),t(4,p))}function be(){d.required=this.checked,t(0,d),t(14,g),t(4,p)}function fe(){d.unique=this.checked,t(0,d),t(14,g),t(4,p)}const B=()=>{r&&w()};function K(ye){ve[ye?"unshift":"push"](()=>{p=ye,t(4,p)})}function G(ye){mt.call(this,n,ye)}function J(ye){mt.call(this,n,ye)}function de(ye){mt.call(this,n,ye)}function me(ye){mt.call(this,n,ye)}function we(ye){mt.call(this,n,ye)}function Fe(ye){mt.call(this,n,ye)}function Oe(ye){mt.call(this,n,ye)}return n.$$set=ye=>{e=Mt(Mt({},e),rs(ye)),t(11,o=zn(e,l)),"key"in ye&&t(1,u=ye.key),"field"in ye&&t(0,d=ye.field),"disabled"in ye&&t(2,h=ye.disabled),"excludeNames"in ye&&t(12,m=ye.excludeNames)},n.$$.update=()=>{n.$$.dirty[0]&16385&&g!=d.type&&(t(14,g=d.type),t(0,d.options={},d),t(0,d.unique=!1,d)),n.$$.dirty[0]&17&&d.toDelete&&(p&&w(),d.originalName&&d.name!==d.originalName&&t(0,d.name=d.originalName,d)),n.$$.dirty[0]&1&&!d.originalName&&d.name&&t(0,d.originalName=d.name,d),n.$$.dirty[0]&1&&typeof d.toDelete>"u"&&t(0,d.toDelete=!1,d),n.$$.dirty[0]&1&&d.required&&t(0,d.nullable=!1,d),n.$$.dirty[0]&1&&t(6,r=!X.isEmpty(d.name)&&d.type),n.$$.dirty[0]&80&&(r||p&&v()),n.$$.dirty[0]&69&&t(8,i=!h&&!d.system&&!d.toDelete&&r),n.$$.dirty[0]&1&&t(5,s=x(d.name)),n.$$.dirty[0]&32802&&t(7,a=!s||!X.isEmpty(X.getNestedVal(f,`schema.${u}`)))},[d,u,h,w,p,s,r,a,i,k,A,o,m,v,g,f,T,C,F,O,I,N,P,R,Y,ne,V,se,ue,U,be,fe,B,K,G,J,de,me,we,Fe,Oe]}class gO extends We{constructor(e){super(),Ve(this,e,_O,pO,$e,{key:1,field:0,disabled:2,excludeNames:12,expand:13,collapse:3},null,[-1,-1])}get expand(){return this.$$.ctx[13]}get collapse(){return this.$$.ctx[3]}}function G1(n,e,t){const r=n.slice();return r[13]=e[t],r[14]=e,r[15]=t,r}function X1(n){let e,t,r,i,s,a,l,o;return{c(){e=q(`,
            `),t=y("code"),t.textContent="username",r=q(` ,
            `),i=y("code"),i.textContent="email",s=q(` ,
            `),a=y("code"),a.textContent="emailVisibility",l=q(` ,
            `),o=y("code"),o.textContent="verified",_(t,"class","txt-sm"),_(i,"class","txt-sm"),_(a,"class","txt-sm"),_(o,"class","txt-sm")},m(f,c){E(f,e,c),E(f,t,c),E(f,r,c),E(f,i,c),E(f,s,c),E(f,a,c),E(f,l,c),E(f,o,c)},d(f){f&&S(e),f&&S(t),f&&S(r),f&&S(i),f&&S(s),f&&S(a),f&&S(l),f&&S(o)}}}function K1(n,e){let t,r,i,s;function a(u){e[6](u,e[13],e[14],e[15])}function l(){return e[7](e[15])}function o(...u){return e[8](e[15],...u)}function f(...u){return e[9](e[15],...u)}let c={key:e[15],excludeNames:e[1].concat(e[4](e[13]))};return e[13]!==void 0&&(c.field=e[13]),r=new gO({props:c}),ve.push(()=>Le(r,"field",a)),r.$on("remove",l),r.$on("dragstart",o),r.$on("drop",f),{key:n,first:null,c(){t=Ge(),z(r.$$.fragment),this.first=t},m(u,d){E(u,t,d),W(r,u,d),s=!0},p(u,d){e=u;const h={};d&1&&(h.key=e[15]),d&3&&(h.excludeNames=e[1].concat(e[4](e[13]))),!i&&d&1&&(i=!0,h.field=e[13],He(()=>i=!1)),r.$set(h)},i(u){s||(M(r.$$.fragment,u),s=!0)},o(u){L(r.$$.fragment,u),s=!1},d(u){u&&S(t),j(r,u)}}}function vO(n){let e,t,r,i,s,a,l,o,f,c,u,d,h=[],m=new Map,p,g,v,w,k,x,A,T,C,F,O,I=n[0].isAuth&&X1(),N=n[0].schema;const P=R=>R[13];for(let R=0;R<N.length;R+=1){let Y=G1(n,N,R),ne=P(Y);m.set(ne,h[R]=K1(ne,Y))}return{c(){e=y("div"),t=y("p"),r=q(`System fields:
        `),i=y("code"),i.textContent="id",s=q(` ,
        `),a=y("code"),a.textContent="created",l=q(` ,
        `),o=y("code"),o.textContent="updated",f=D(),I&&I.c(),c=q(`
        .`),u=D(),d=y("div");for(let R=0;R<h.length;R+=1)h[R].c();p=D(),g=y("div"),v=D(),w=y("button"),k=y("i"),x=D(),A=y("span"),A.textContent="New field",_(i,"class","txt-sm"),_(a,"class","txt-sm"),_(o,"class","txt-sm"),_(t,"class","txt-sm"),_(e,"class","block m-b-25"),_(d,"class","accordions"),_(g,"class","clearfix m-t-xs"),_(k,"class","ri-add-line"),_(A,"class","txt"),_(w,"type","button"),_(w,"class",T="btn btn-block "+(n[0].schema.length?"btn-transparent":"btn-secondary"))},m(R,Y){E(R,e,Y),b(e,t),b(t,r),b(t,i),b(t,s),b(t,a),b(t,l),b(t,o),b(t,f),I&&I.m(t,null),b(t,c),E(R,u,Y),E(R,d,Y);for(let ne=0;ne<h.length;ne+=1)h[ne].m(d,null);E(R,p,Y),E(R,g,Y),E(R,v,Y),E(R,w,Y),b(w,k),b(w,x),b(w,A),C=!0,F||(O=ae(w,"click",n[3]),F=!0)},p(R,[Y]){R[0].isAuth?I||(I=X1(),I.c(),I.m(t,c)):I&&(I.d(1),I=null),Y&55&&(N=R[0].schema,Me(),h=sn(h,Y,P,1,R,N,m,d,Tr,K1,null,G1),Ie()),(!C||Y&1&&T!==(T="btn btn-block "+(R[0].schema.length?"btn-transparent":"btn-secondary")))&&_(w,"class",T)},i(R){if(!C){for(let Y=0;Y<N.length;Y+=1)M(h[Y]);C=!0}},o(R){for(let Y=0;Y<h.length;Y+=1)L(h[Y]);C=!1},d(R){R&&S(e),I&&I.d(),R&&S(u),R&&S(d);for(let Y=0;Y<h.length;Y+=1)h[Y].d();R&&S(p),R&&S(g),R&&S(v),R&&S(w),F=!1,O()}}}function bO(n,e){n&&(n.dataTransfer.effectAllowed="move",n.dataTransfer.dropEffect="move",n.dataTransfer.setData("text/plain",e))}function wO(n,e,t){let{collection:r=new zr}=e;const i=["id","created","updated","collectionId","collectionName","expand","true","false","null"];let s=[];function a(g){r.schema[g]&&(r.schema.splice(g,1),t(0,r))}function l(){const g=new Yr({name:o()});g.onMountExpand=!0,r.schema.push(g),t(0,r)}function o(g="field"){let v="";for(;f(g+v);)++v;return g+v}function f(g){return!!r.schema.find(v=>v.name===g)}function c(g){let v=[];if(g.toDelete)return v;for(let w of r.schema)w===g||w.toDelete||v.push(w.name);return v}function u(g,v){if(!g)return;g.dataTransfer.dropEffect="move";const w=parseInt(g.dataTransfer.getData("text/plain")),k=r.schema;w<v?(k.splice(v+1,0,k[w]),k.splice(w,1)):(k.splice(v,0,k[w]),k.splice(w+1,1)),t(0,r.schema=k,r)}function d(g,v,w,k){w[k]=g,t(0,r)}const h=g=>a(g),m=(g,v)=>bO(v==null?void 0:v.detail,g),p=(g,v)=>u(v==null?void 0:v.detail,g);return n.$$set=g=>{"collection"in g&&t(0,r=g.collection)},n.$$.update=()=>{n.$$.dirty&1&&typeof r.schema>"u"&&(t(0,r=r||new zr),t(0,r.schema=[],r)),n.$$.dirty&1&&(r.isAuth?t(1,s=i.concat(["username","email","emailVisibility","verified","tokenKey","passwordHash","lastResetSentAt","lastVerificationSentAt","password","passwordConfirm","oldPassword"])):t(1,s=i.slice(0)))},[r,s,a,l,c,u,d,h,m,p]}class kO extends We{constructor(e){super(),Ve(this,e,wO,vO,$e,{collection:0})}}const yO=n=>({isAdminOnly:n&256}),J1=n=>({isAdminOnly:n[8]});function xO(n){let e,t;return e=new Re({props:{class:"form-field rule-field "+(n[4]?"requied":"")+" "+(n[8]?"disabled":""),name:n[3],$$slots:{default:[CO,({uniqueId:r})=>({17:r}),({uniqueId:r})=>r?131072:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i&272&&(s.class="form-field rule-field "+(r[4]?"requied":"")+" "+(r[8]?"disabled":"")),i&8&&(s.name=r[3]),i&147815&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function TO(n){let e;return{c(){e=y("div"),e.innerHTML='<span class="loader"></span>',_(e,"class","txt-center")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function SO(n){let e,t,r;return{c(){e=y("button"),e.innerHTML=`<i class="ri-lock-line"></i> 
                    <span class="txt">Set Admins only</span>`,_(e,"type","button"),_(e,"class","btn btn-sm btn-transparent btn-hint lock-toggle svelte-5uq9tk")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[10]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function EO(n){let e,t,r;return{c(){e=y("button"),e.innerHTML=`<i class="ri-lock-unlock-line"></i> 
                    <span class="txt">Enable custom rule</span>`,_(e,"type","button"),_(e,"class","btn btn-sm btn-transparent btn-success lock-toggle svelte-5uq9tk")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[9]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function CO(n){let e,t,r,i,s,a=n[8]?"Admins only":"Custom rule",l,o,f,c,u,d,h,m,p;function g(F,O){return F[8]?EO:SO}let v=g(n),w=v(n);function k(F){n[13](F)}var x=n[6];function A(F){let O={id:F[17],baseCollection:F[1],disabled:F[8],placeholder:F[8]?"":"Leave empty to grant everyone access..."};return F[0]!==void 0&&(O.value=F[0]),{props:O}}x&&(u=sr(x,A(n)),n[12](u),ve.push(()=>Le(u,"value",k)));const T=n[11].default,C=Hn(T,n,n[14],J1);return{c(){e=y("label"),t=y("span"),r=q(n[2]),i=D(),s=y("span"),l=q(a),o=D(),w.c(),c=D(),u&&z(u.$$.fragment),h=D(),m=y("div"),C&&C.c(),_(t,"class","txt"),pe(t,"txt-hint",n[8]),_(s,"class","label label-sm svelte-5uq9tk"),_(e,"for",f=n[17]),_(e,"class","svelte-5uq9tk"),_(m,"class","help-block")},m(F,O){E(F,e,O),b(e,t),b(t,r),b(e,i),b(e,s),b(s,l),b(e,o),w.m(e,null),E(F,c,O),u&&W(u,F,O),E(F,h,O),E(F,m,O),C&&C.m(m,null),p=!0},p(F,O){(!p||O&4)&&ke(r,F[2]),(!p||O&256)&&pe(t,"txt-hint",F[8]),(!p||O&256)&&a!==(a=F[8]?"Admins only":"Custom rule")&&ke(l,a),v===(v=g(F))&&w?w.p(F,O):(w.d(1),w=v(F),w&&(w.c(),w.m(e,null))),(!p||O&131072&&f!==(f=F[17]))&&_(e,"for",f);const I={};if(O&131072&&(I.id=F[17]),O&2&&(I.baseCollection=F[1]),O&256&&(I.disabled=F[8]),O&256&&(I.placeholder=F[8]?"":"Leave empty to grant everyone access..."),!d&&O&1&&(d=!0,I.value=F[0],He(()=>d=!1)),x!==(x=F[6])){if(u){Me();const N=u;L(N.$$.fragment,1,0,()=>{j(N,1)}),Ie()}x?(u=sr(x,A(F)),F[12](u),ve.push(()=>Le(u,"value",k)),z(u.$$.fragment),M(u.$$.fragment,1),W(u,h.parentNode,h)):u=null}else x&&u.$set(I);C&&C.p&&(!p||O&16640)&&Wn(C,T,F,F[14],p?Vn(T,F[14],O,yO):jn(F[14]),J1)},i(F){p||(u&&M(u.$$.fragment,F),M(C,F),p=!0)},o(F){u&&L(u.$$.fragment,F),L(C,F),p=!1},d(F){F&&S(e),w.d(),F&&S(c),n[12](null),u&&j(u,F),F&&S(h),F&&S(m),C&&C.d(F)}}}function AO(n){let e,t,r,i;const s=[TO,xO],a=[];function l(o,f){return o[7]?0:1}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Ge()},m(o,f){a[e].m(o,f),E(o,r,f),i=!0},p(o,[f]){let c=e;e=l(o),e===c?a[e].p(o,f):(Me(),L(a[c],1,1,()=>{a[c]=null}),Ie(),t=a[e],t?t.p(o,f):(t=a[e]=s[e](o),t.c()),M(t,1),t.m(r.parentNode,r))},i(o){i||(M(t),i=!0)},o(o){L(t),i=!1},d(o){a[e].d(o),o&&S(r)}}}let Z1;function FO(n,e,t){let r,{$$slots:i={},$$scope:s}=e,{collection:a=null}=e,{rule:l=null}=e,{label:o="Rule"}=e,{formKey:f="rule"}=e,{required:c=!1}=e,u=null,d=null,h=Z1,m=!1;p();async function p(){h||m||(t(7,m=!0),t(6,h=(await jt(()=>import("./FilterAutocompleteInput-04c5e30a.js"),["./FilterAutocompleteInput-04c5e30a.js","./index-a6ccb683.js"],import.meta.url)).default),Z1=h,t(7,m=!1))}async function g(){t(0,l=d||""),await Pr(),u==null||u.focus()}async function v(){d=l,t(0,l=null)}function w(x){ve[x?"unshift":"push"](()=>{u=x,t(5,u)})}function k(x){l=x,t(0,l)}return n.$$set=x=>{"collection"in x&&t(1,a=x.collection),"rule"in x&&t(0,l=x.rule),"label"in x&&t(2,o=x.label),"formKey"in x&&t(3,f=x.formKey),"required"in x&&t(4,c=x.required),"$$scope"in x&&t(14,s=x.$$scope)},n.$$.update=()=>{n.$$.dirty&1&&t(8,r=l===null)},[l,a,o,f,c,u,h,m,r,g,v,i,w,k,s]}class dl extends We{constructor(e){super(),Ve(this,e,FO,AO,$e,{collection:1,rule:0,label:2,formKey:3,required:4})}}function Q1(n,e,t){const r=n.slice();return r[10]=e[t],r}function e_(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T,C,F,O=n[2],I=[];for(let N=0;N<O.length;N+=1)I[N]=t_(Q1(n,O,N));return{c(){e=y("div"),t=y("div"),r=y("div"),i=y("p"),i.textContent="The following record fields are available:",s=D(),a=y("div");for(let N=0;N<I.length;N+=1)I[N].c();l=D(),o=y("hr"),f=D(),c=y("p"),c.innerHTML="The request fields could be accessed with the special <em>@request</em> filter:",u=D(),d=y("div"),d.innerHTML=`<code>@request.headers.*</code> 
                        <code>@request.query.*</code> 
                        <code>@request.data.*</code> 
                        <code>@request.auth.*</code>`,h=D(),m=y("hr"),p=D(),g=y("p"),g.innerHTML="You could also add constraints and query other collections using the <em>@collection</em> filter:",v=D(),w=y("div"),w.innerHTML="<code>@collection.ANY_COLLECTION_NAME.*</code>",k=D(),x=y("hr"),A=D(),T=y("p"),T.innerHTML=`Example rule:
                        <br/> 
                        <code>@request.auth.id != &quot;&quot; &amp;&amp; created &gt; &quot;2022-01-01 00:00:00&quot;</code>`,_(i,"class","m-b-0"),_(a,"class","inline-flex flex-gap-5"),_(o,"class","m-t-10 m-b-5"),_(c,"class","m-b-0"),_(d,"class","inline-flex flex-gap-5"),_(m,"class","m-t-10 m-b-5"),_(g,"class","m-b-0"),_(w,"class","inline-flex flex-gap-5"),_(x,"class","m-t-10 m-b-5"),_(r,"class","content"),_(t,"class","alert alert-warning m-0")},m(N,P){E(N,e,P),b(e,t),b(t,r),b(r,i),b(r,s),b(r,a);for(let R=0;R<I.length;R+=1)I[R].m(a,null);b(r,l),b(r,o),b(r,f),b(r,c),b(r,u),b(r,d),b(r,h),b(r,m),b(r,p),b(r,g),b(r,v),b(r,w),b(r,k),b(r,x),b(r,A),b(r,T),F=!0},p(N,P){if(P&4){O=N[2];let R;for(R=0;R<O.length;R+=1){const Y=Q1(N,O,R);I[R]?I[R].p(Y,P):(I[R]=t_(Y),I[R].c(),I[R].m(a,null))}for(;R<I.length;R+=1)I[R].d(1);I.length=O.length}},i(N){F||(N&&Nt(()=>{C||(C=ut(e,Sn,{duration:150},!0)),C.run(1)}),F=!0)},o(N){N&&(C||(C=ut(e,Sn,{duration:150},!1)),C.run(0)),F=!1},d(N){N&&S(e),zt(I,N),N&&C&&C.end()}}}function t_(n){let e,t=n[10]+"",r;return{c(){e=y("code"),r=q(t)},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&4&&t!==(t=i[10]+"")&&ke(r,t)},d(i){i&&S(e)}}}function n_(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p;function g(T){n[6](T)}let v={label:"Create rule",formKey:"createRule",collection:n[0]};n[0].createRule!==void 0&&(v.rule=n[0].createRule),r=new dl({props:v}),ve.push(()=>Le(r,"rule",g));function w(T){n[7](T)}let k={label:"Update rule",formKey:"updateRule",collection:n[0]};n[0].updateRule!==void 0&&(k.rule=n[0].updateRule),o=new dl({props:k}),ve.push(()=>Le(o,"rule",w));function x(T){n[8](T)}let A={label:"Delete rule",formKey:"deleteRule",collection:n[0]};return n[0].deleteRule!==void 0&&(A.rule=n[0].deleteRule),h=new dl({props:A}),ve.push(()=>Le(h,"rule",x)),{c(){e=y("hr"),t=D(),z(r.$$.fragment),s=D(),a=y("hr"),l=D(),z(o.$$.fragment),c=D(),u=y("hr"),d=D(),z(h.$$.fragment)},m(T,C){E(T,e,C),E(T,t,C),W(r,T,C),E(T,s,C),E(T,a,C),E(T,l,C),W(o,T,C),E(T,c,C),E(T,u,C),E(T,d,C),W(h,T,C),p=!0},p(T,C){const F={};C&1&&(F.collection=T[0]),!i&&C&1&&(i=!0,F.rule=T[0].createRule,He(()=>i=!1)),r.$set(F);const O={};C&1&&(O.collection=T[0]),!f&&C&1&&(f=!0,O.rule=T[0].updateRule,He(()=>f=!1)),o.$set(O);const I={};C&1&&(I.collection=T[0]),!m&&C&1&&(m=!0,I.rule=T[0].deleteRule,He(()=>m=!1)),h.$set(I)},i(T){p||(M(r.$$.fragment,T),M(o.$$.fragment,T),M(h.$$.fragment,T),p=!0)},o(T){L(r.$$.fragment,T),L(o.$$.fragment,T),L(h.$$.fragment,T),p=!1},d(T){T&&S(e),T&&S(t),j(r,T),T&&S(s),T&&S(a),T&&S(l),j(o,T),T&&S(c),T&&S(u),T&&S(d),j(h,T)}}}function r_(n){let e,t,r,i,s;function a(o){n[9](o)}let l={label:"Manage rule",formKey:"options.manageRule",collection:n[0],$$slots:{default:[DO]},$$scope:{ctx:n}};return n[0].options.manageRule!==void 0&&(l.rule=n[0].options.manageRule),r=new dl({props:l}),ve.push(()=>Le(r,"rule",a)),{c(){e=y("hr"),t=D(),z(r.$$.fragment)},m(o,f){E(o,e,f),E(o,t,f),W(r,o,f),s=!0},p(o,f){const c={};f&1&&(c.collection=o[0]),f&8192&&(c.$$scope={dirty:f,ctx:o}),!i&&f&1&&(i=!0,c.rule=o[0].options.manageRule,He(()=>i=!1)),r.$set(c)},i(o){s||(M(r.$$.fragment,o),s=!0)},o(o){L(r.$$.fragment,o),s=!1},d(o){o&&S(e),o&&S(t),j(r,o)}}}function DO(n){let e,t,r;return{c(){e=y("p"),e.textContent=`This API rule gives admin-like permissions to allow fully managing the auth record(s), eg.
                changing the password without requiring to enter the old one, directly updating the verified
                state or email, etc.`,t=D(),r=y("p"),r.innerHTML="This rule is executed in addition to the <code>create</code> and <code>update</code> API rules."},m(i,s){E(i,e,s),E(i,t,s),E(i,r,s)},p:ce,d(i){i&&S(e),i&&S(t),i&&S(r)}}}function OO(n){var Y,ne;let e,t,r,i,s,a=n[1]?"Hide available fields":"Show available fields",l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T,C=n[1]&&e_(n);function F(V){n[4](V)}let O={label:"List/Search rule",formKey:"listRule",collection:n[0]};n[0].listRule!==void 0&&(O.rule=n[0].listRule),c=new dl({props:O}),ve.push(()=>Le(c,"rule",F));function I(V){n[5](V)}let N={label:"View rule",formKey:"viewRule",collection:n[0]};n[0].viewRule!==void 0&&(N.rule=n[0].viewRule),p=new dl({props:N}),ve.push(()=>Le(p,"rule",I));let P=!((Y=n[0])!=null&&Y.isView)&&n_(n),R=((ne=n[0])==null?void 0:ne.isAuth)&&r_(n);return{c(){e=y("div"),t=y("div"),r=y("p"),r.innerHTML=`All rules follow the
            <a href="https://pocketbase.io/docs/api-rules-and-filters/" target="_blank" rel="noopener noreferrer">PocketBase filter syntax and operators
            </a>.`,i=D(),s=y("button"),l=q(a),o=D(),C&&C.c(),f=D(),z(c.$$.fragment),d=D(),h=y("hr"),m=D(),z(p.$$.fragment),v=D(),P&&P.c(),w=D(),R&&R.c(),k=Ge(),_(s,"type","button"),_(s,"class","expand-handle txt-sm txt-bold txt-nowrap link-hint"),_(t,"class","flex txt-sm txt-hint m-b-5"),_(e,"class","block m-b-base handle"),pe(e,"fade",!n[1])},m(V,se){E(V,e,se),b(e,t),b(t,r),b(t,i),b(t,s),b(s,l),b(e,o),C&&C.m(e,null),E(V,f,se),W(c,V,se),E(V,d,se),E(V,h,se),E(V,m,se),W(p,V,se),E(V,v,se),P&&P.m(V,se),E(V,w,se),R&&R.m(V,se),E(V,k,se),x=!0,A||(T=ae(s,"click",n[3]),A=!0)},p(V,[se]){var be,fe;(!x||se&2)&&a!==(a=V[1]?"Hide available fields":"Show available fields")&&ke(l,a),V[1]?C?(C.p(V,se),se&2&&M(C,1)):(C=e_(V),C.c(),M(C,1),C.m(e,null)):C&&(Me(),L(C,1,1,()=>{C=null}),Ie()),(!x||se&2)&&pe(e,"fade",!V[1]);const ue={};se&1&&(ue.collection=V[0]),!u&&se&1&&(u=!0,ue.rule=V[0].listRule,He(()=>u=!1)),c.$set(ue);const U={};se&1&&(U.collection=V[0]),!g&&se&1&&(g=!0,U.rule=V[0].viewRule,He(()=>g=!1)),p.$set(U),(be=V[0])!=null&&be.isView?P&&(Me(),L(P,1,1,()=>{P=null}),Ie()):P?(P.p(V,se),se&1&&M(P,1)):(P=n_(V),P.c(),M(P,1),P.m(w.parentNode,w)),(fe=V[0])!=null&&fe.isAuth?R?(R.p(V,se),se&1&&M(R,1)):(R=r_(V),R.c(),M(R,1),R.m(k.parentNode,k)):R&&(Me(),L(R,1,1,()=>{R=null}),Ie())},i(V){x||(M(C),M(c.$$.fragment,V),M(p.$$.fragment,V),M(P),M(R),x=!0)},o(V){L(C),L(c.$$.fragment,V),L(p.$$.fragment,V),L(P),L(R),x=!1},d(V){V&&S(e),C&&C.d(),V&&S(f),j(c,V),V&&S(d),V&&S(h),V&&S(m),j(p,V),V&&S(v),P&&P.d(V),V&&S(w),R&&R.d(V),V&&S(k),A=!1,T()}}}function MO(n,e,t){let r,{collection:i=new zr}=e,s=!1;const a=()=>t(1,s=!s);function l(h){n.$$.not_equal(i.listRule,h)&&(i.listRule=h,t(0,i))}function o(h){n.$$.not_equal(i.viewRule,h)&&(i.viewRule=h,t(0,i))}function f(h){n.$$.not_equal(i.createRule,h)&&(i.createRule=h,t(0,i))}function c(h){n.$$.not_equal(i.updateRule,h)&&(i.updateRule=h,t(0,i))}function u(h){n.$$.not_equal(i.deleteRule,h)&&(i.deleteRule=h,t(0,i))}function d(h){n.$$.not_equal(i.options.manageRule,h)&&(i.options.manageRule=h,t(0,i))}return n.$$set=h=>{"collection"in h&&t(0,i=h.collection)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=X.getAllCollectionIdentifiers(i))},[i,s,r,a,l,o,f,c,u,d]}class IO extends We{constructor(e){super(),Ve(this,e,MO,OO,$e,{collection:0})}}function i_(n,e,t){const r=n.slice();return r[9]=e[t],r}function NO(n){let e,t,r,i;function s(o){n[5](o)}var a=n[1];function l(o){let f={id:o[8],placeholder:"eg. SELECT id, name from posts",language:"sql",minHeight:"150"};return o[0].options.query!==void 0&&(f.value=o[0].options.query),{props:f}}return a&&(e=sr(a,l(n)),ve.push(()=>Le(e,"value",s)),e.$on("change",n[6])),{c(){e&&z(e.$$.fragment),r=Ge()},m(o,f){e&&W(e,o,f),E(o,r,f),i=!0},p(o,f){const c={};if(f&256&&(c.id=o[8]),!t&&f&1&&(t=!0,c.value=o[0].options.query,He(()=>t=!1)),a!==(a=o[1])){if(e){Me();const u=e;L(u.$$.fragment,1,0,()=>{j(u,1)}),Ie()}a?(e=sr(a,l(o)),ve.push(()=>Le(e,"value",s)),e.$on("change",o[6]),z(e.$$.fragment),M(e.$$.fragment,1),W(e,r.parentNode,r)):e=null}else a&&e.$set(c)},i(o){i||(e&&M(e.$$.fragment,o),i=!0)},o(o){e&&L(e.$$.fragment,o),i=!1},d(o){o&&S(r),e&&j(e,o)}}}function PO(n){let e;return{c(){e=y("textarea"),e.disabled=!0,_(e,"rows","7"),_(e,"placeholder","Loading...")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function s_(n){let e,t,r=n[3],i=[];for(let s=0;s<r.length;s+=1)i[s]=a_(i_(n,r,s));return{c(){e=y("div"),t=y("div");for(let s=0;s<i.length;s+=1)i[s].c();_(t,"class","content"),_(e,"class","help-block help-block-error")},m(s,a){E(s,e,a),b(e,t);for(let l=0;l<i.length;l+=1)i[l].m(t,null)},p(s,a){if(a&8){r=s[3];let l;for(l=0;l<r.length;l+=1){const o=i_(s,r,l);i[l]?i[l].p(o,a):(i[l]=a_(o),i[l].c(),i[l].m(t,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=r.length}},d(s){s&&S(e),zt(i,s)}}}function a_(n){let e,t=n[9]+"",r;return{c(){e=y("p"),r=q(t)},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&8&&t!==(t=i[9]+"")&&ke(r,t)},d(i){i&&S(e)}}}function LO(n){let e,t,r,i,s,a,l,o,f,c,u;const d=[PO,NO],h=[];function m(g,v){return g[2]?0:1}s=m(n),a=h[s]=d[s](n);let p=n[3].length&&s_(n);return{c(){e=y("label"),t=y("span"),t.textContent="Select query",i=D(),a.c(),l=D(),o=y("div"),o.innerHTML=`<ul><li>Wildcard columns (<code>*</code>) are not supported.</li> 
            <li>The query must have a unique <code>id</code> column.
                <br/>
                If your query doesn&#39;t have a suitable one, you can use the universal
                <code>(ROW_NUMBER() OVER()) as id</code>.</li></ul>`,f=D(),p&&p.c(),c=Ge(),_(t,"class","txt"),_(e,"for",r=n[8]),_(o,"class","help-block")},m(g,v){E(g,e,v),b(e,t),E(g,i,v),h[s].m(g,v),E(g,l,v),E(g,o,v),E(g,f,v),p&&p.m(g,v),E(g,c,v),u=!0},p(g,v){(!u||v&256&&r!==(r=g[8]))&&_(e,"for",r);let w=s;s=m(g),s===w?h[s].p(g,v):(Me(),L(h[w],1,1,()=>{h[w]=null}),Ie(),a=h[s],a?a.p(g,v):(a=h[s]=d[s](g),a.c()),M(a,1),a.m(l.parentNode,l)),g[3].length?p?p.p(g,v):(p=s_(g),p.c(),p.m(c.parentNode,c)):p&&(p.d(1),p=null)},i(g){u||(M(a),u=!0)},o(g){L(a),u=!1},d(g){g&&S(e),g&&S(i),h[s].d(g),g&&S(l),g&&S(o),g&&S(f),p&&p.d(g),g&&S(c)}}}function RO(n){let e,t;return e=new Re({props:{class:"form-field required "+(n[3].length?"error":""),name:"options.query",$$slots:{default:[LO,({uniqueId:r})=>({8:r}),({uniqueId:r})=>r?256:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&8&&(s.class="form-field required "+(r[3].length?"error":"")),i&4367&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function $O(n,e,t){let r;Et(n,xs,u=>t(4,r=u));let{collection:i=new zr}=e,s,a=!1,l=[];function o(u){var m;t(3,l=[]);const d=X.getNestedVal(u,"schema",null);if(X.isEmpty(d))return;if(d!=null&&d.message){l.push(d==null?void 0:d.message);return}const h=X.extractColumnsFromQuery((m=i==null?void 0:i.options)==null?void 0:m.query);X.removeByValue(h,"id"),X.removeByValue(h,"created"),X.removeByValue(h,"updated");for(let p in d)for(let g in d[p]){const v=d[p][g].message,w=h[p]||p;l.push(X.sentenize(w+": "+v))}}ur(async()=>{t(2,a=!0);try{t(1,s=(await jt(()=>import("./CodeEditor-b4b6d977.js"),["./CodeEditor-b4b6d977.js","./index-a6ccb683.js"],import.meta.url)).default)}catch(u){console.warn(u)}t(2,a=!1)});function f(u){n.$$.not_equal(i.options.query,u)&&(i.options.query=u,t(0,i))}const c=()=>{l.length&&Ca("schema")};return n.$$set=u=>{"collection"in u&&t(0,i=u.collection)},n.$$.update=()=>{n.$$.dirty&16&&o(r)},[i,s,a,l,r,f,c]}class BO extends We{constructor(e){super(),Ve(this,e,$O,RO,$e,{collection:0})}}function UO(n){let e,t,r,i,s,a,l,o;return{c(){e=y("input"),r=D(),i=y("label"),s=q("Enable"),_(e,"type","checkbox"),_(e,"id",t=n[12]),_(i,"for",a=n[12])},m(f,c){E(f,e,c),e.checked=n[0].options.allowUsernameAuth,E(f,r,c),E(f,i,c),b(i,s),l||(o=ae(e,"change",n[5]),l=!0)},p(f,c){c&4096&&t!==(t=f[12])&&_(e,"id",t),c&1&&(e.checked=f[0].options.allowUsernameAuth),c&4096&&a!==(a=f[12])&&_(i,"for",a)},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,o()}}}function HO(n){let e,t;return e=new Re({props:{class:"form-field form-field-toggle m-b-0",name:"options.allowUsernameAuth",$$slots:{default:[UO,({uniqueId:r})=>({12:r}),({uniqueId:r})=>r?4096:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i&12289&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function VO(n){let e;return{c(){e=y("span"),e.textContent="Disabled",_(e,"class","label")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function WO(n){let e;return{c(){e=y("span"),e.textContent="Enabled",_(e,"class","label label-success")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function l_(n){let e,t,r,i,s;return{c(){e=y("i"),_(e,"class","ri-error-warning-fill txt-danger")},m(a,l){E(a,e,l),r=!0,i||(s=st(xt.call(null,e,{text:"Has errors",position:"left"})),i=!0)},i(a){r||(Nt(()=>{t||(t=ut(e,qn,{duration:150,start:.7},!0)),t.run(1)}),r=!0)},o(a){t||(t=ut(e,qn,{duration:150,start:.7},!1)),t.run(0),r=!1},d(a){a&&S(e),a&&t&&t.end(),i=!1,s()}}}function jO(n){let e,t,r,i,s,a,l;function o(d,h){return d[0].options.allowUsernameAuth?WO:VO}let f=o(n),c=f(n),u=n[3]&&l_();return{c(){e=y("div"),e.innerHTML=`<i class="ri-user-star-line"></i> 
                <span class="txt">Username/Password</span>`,t=D(),r=y("div"),i=D(),c.c(),s=D(),u&&u.c(),a=Ge(),_(e,"class","inline-flex"),_(r,"class","flex-fill")},m(d,h){E(d,e,h),E(d,t,h),E(d,r,h),E(d,i,h),c.m(d,h),E(d,s,h),u&&u.m(d,h),E(d,a,h),l=!0},p(d,h){f!==(f=o(d))&&(c.d(1),c=f(d),c&&(c.c(),c.m(s.parentNode,s))),d[3]?u?h&8&&M(u,1):(u=l_(),u.c(),M(u,1),u.m(a.parentNode,a)):u&&(Me(),L(u,1,1,()=>{u=null}),Ie())},i(d){l||(M(u),l=!0)},o(d){L(u),l=!1},d(d){d&&S(e),d&&S(t),d&&S(r),d&&S(i),c.d(d),d&&S(s),u&&u.d(d),d&&S(a)}}}function zO(n){let e,t,r,i,s,a,l,o;return{c(){e=y("input"),r=D(),i=y("label"),s=q("Enable"),_(e,"type","checkbox"),_(e,"id",t=n[12]),_(i,"for",a=n[12])},m(f,c){E(f,e,c),e.checked=n[0].options.allowEmailAuth,E(f,r,c),E(f,i,c),b(i,s),l||(o=ae(e,"change",n[6]),l=!0)},p(f,c){c&4096&&t!==(t=f[12])&&_(e,"id",t),c&1&&(e.checked=f[0].options.allowEmailAuth),c&4096&&a!==(a=f[12])&&_(i,"for",a)},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,o()}}}function o_(n){let e,t,r,i,s,a,l,o;return r=new Re({props:{class:"form-field "+(X.isEmpty(n[0].options.onlyEmailDomains)?"":"disabled"),name:"options.exceptEmailDomains",$$slots:{default:[qO,({uniqueId:f})=>({12:f}),({uniqueId:f})=>f?4096:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field "+(X.isEmpty(n[0].options.exceptEmailDomains)?"":"disabled"),name:"options.onlyEmailDomains",$$slots:{default:[YO,({uniqueId:f})=>({12:f}),({uniqueId:f})=>f?4096:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),_(t,"class","col-lg-6"),_(s,"class","col-lg-6"),_(e,"class","grid grid-sm p-t-sm")},m(f,c){E(f,e,c),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),o=!0},p(f,c){const u={};c&1&&(u.class="form-field "+(X.isEmpty(f[0].options.onlyEmailDomains)?"":"disabled")),c&12289&&(u.$$scope={dirty:c,ctx:f}),r.$set(u);const d={};c&1&&(d.class="form-field "+(X.isEmpty(f[0].options.exceptEmailDomains)?"":"disabled")),c&12289&&(d.$$scope={dirty:c,ctx:f}),a.$set(d)},i(f){o||(M(r.$$.fragment,f),M(a.$$.fragment,f),f&&Nt(()=>{l||(l=ut(e,Sn,{duration:150},!0)),l.run(1)}),o=!0)},o(f){L(r.$$.fragment,f),L(a.$$.fragment,f),f&&(l||(l=ut(e,Sn,{duration:150},!1)),l.run(0)),o=!1},d(f){f&&S(e),j(r),j(a),f&&l&&l.end()}}}function qO(n){let e,t,r,i,s,a,l,o,f,c,u,d,h;function m(g){n[7](g)}let p={id:n[12],disabled:!X.isEmpty(n[0].options.onlyEmailDomains)};return n[0].options.exceptEmailDomains!==void 0&&(p.value=n[0].options.exceptEmailDomains),l=new Ml({props:p}),ve.push(()=>Le(l,"value",m)),{c(){e=y("label"),t=y("span"),t.textContent="Except domains",r=D(),i=y("i"),a=D(),z(l.$$.fragment),f=D(),c=y("div"),c.textContent="Use comma as separator.",_(t,"class","txt"),_(i,"class","ri-information-line link-hint"),_(e,"for",s=n[12]),_(c,"class","help-block")},m(g,v){E(g,e,v),b(e,t),b(e,r),b(e,i),E(g,a,v),W(l,g,v),E(g,f,v),E(g,c,v),u=!0,d||(h=st(xt.call(null,i,{text:`Email domains that are NOT allowed to sign up. 
 This field is disabled if "Only domains" is set.`,position:"top"})),d=!0)},p(g,v){(!u||v&4096&&s!==(s=g[12]))&&_(e,"for",s);const w={};v&4096&&(w.id=g[12]),v&1&&(w.disabled=!X.isEmpty(g[0].options.onlyEmailDomains)),!o&&v&1&&(o=!0,w.value=g[0].options.exceptEmailDomains,He(()=>o=!1)),l.$set(w)},i(g){u||(M(l.$$.fragment,g),u=!0)},o(g){L(l.$$.fragment,g),u=!1},d(g){g&&S(e),g&&S(a),j(l,g),g&&S(f),g&&S(c),d=!1,h()}}}function YO(n){let e,t,r,i,s,a,l,o,f,c,u,d,h;function m(g){n[8](g)}let p={id:n[12],disabled:!X.isEmpty(n[0].options.exceptEmailDomains)};return n[0].options.onlyEmailDomains!==void 0&&(p.value=n[0].options.onlyEmailDomains),l=new Ml({props:p}),ve.push(()=>Le(l,"value",m)),{c(){e=y("label"),t=y("span"),t.textContent="Only domains",r=D(),i=y("i"),a=D(),z(l.$$.fragment),f=D(),c=y("div"),c.textContent="Use comma as separator.",_(t,"class","txt"),_(i,"class","ri-information-line link-hint"),_(e,"for",s=n[12]),_(c,"class","help-block")},m(g,v){E(g,e,v),b(e,t),b(e,r),b(e,i),E(g,a,v),W(l,g,v),E(g,f,v),E(g,c,v),u=!0,d||(h=st(xt.call(null,i,{text:`Email domains that are ONLY allowed to sign up. 
 This field is disabled if "Except domains" is set.`,position:"top"})),d=!0)},p(g,v){(!u||v&4096&&s!==(s=g[12]))&&_(e,"for",s);const w={};v&4096&&(w.id=g[12]),v&1&&(w.disabled=!X.isEmpty(g[0].options.exceptEmailDomains)),!o&&v&1&&(o=!0,w.value=g[0].options.onlyEmailDomains,He(()=>o=!1)),l.$set(w)},i(g){u||(M(l.$$.fragment,g),u=!0)},o(g){L(l.$$.fragment,g),u=!1},d(g){g&&S(e),g&&S(a),j(l,g),g&&S(f),g&&S(c),d=!1,h()}}}function GO(n){let e,t,r,i;e=new Re({props:{class:"form-field form-field-toggle m-0",name:"options.allowEmailAuth",$$slots:{default:[zO,({uniqueId:a})=>({12:a}),({uniqueId:a})=>a?4096:0]},$$scope:{ctx:n}}});let s=n[0].options.allowEmailAuth&&o_(n);return{c(){z(e.$$.fragment),t=D(),s&&s.c(),r=Ge()},m(a,l){W(e,a,l),E(a,t,l),s&&s.m(a,l),E(a,r,l),i=!0},p(a,l){const o={};l&12289&&(o.$$scope={dirty:l,ctx:a}),e.$set(o),a[0].options.allowEmailAuth?s?(s.p(a,l),l&1&&M(s,1)):(s=o_(a),s.c(),M(s,1),s.m(r.parentNode,r)):s&&(Me(),L(s,1,1,()=>{s=null}),Ie())},i(a){i||(M(e.$$.fragment,a),M(s),i=!0)},o(a){L(e.$$.fragment,a),L(s),i=!1},d(a){j(e,a),a&&S(t),s&&s.d(a),a&&S(r)}}}function XO(n){let e;return{c(){e=y("span"),e.textContent="Disabled",_(e,"class","label")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function KO(n){let e;return{c(){e=y("span"),e.textContent="Enabled",_(e,"class","label label-success")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function f_(n){let e,t,r,i,s;return{c(){e=y("i"),_(e,"class","ri-error-warning-fill txt-danger")},m(a,l){E(a,e,l),r=!0,i||(s=st(xt.call(null,e,{text:"Has errors",position:"left"})),i=!0)},i(a){r||(Nt(()=>{t||(t=ut(e,qn,{duration:150,start:.7},!0)),t.run(1)}),r=!0)},o(a){t||(t=ut(e,qn,{duration:150,start:.7},!1)),t.run(0),r=!1},d(a){a&&S(e),a&&t&&t.end(),i=!1,s()}}}function JO(n){let e,t,r,i,s,a,l;function o(d,h){return d[0].options.allowEmailAuth?KO:XO}let f=o(n),c=f(n),u=n[2]&&f_();return{c(){e=y("div"),e.innerHTML=`<i class="ri-mail-star-line"></i> 
                <span class="txt">Email/Password</span>`,t=D(),r=y("div"),i=D(),c.c(),s=D(),u&&u.c(),a=Ge(),_(e,"class","inline-flex"),_(r,"class","flex-fill")},m(d,h){E(d,e,h),E(d,t,h),E(d,r,h),E(d,i,h),c.m(d,h),E(d,s,h),u&&u.m(d,h),E(d,a,h),l=!0},p(d,h){f!==(f=o(d))&&(c.d(1),c=f(d),c&&(c.c(),c.m(s.parentNode,s))),d[2]?u?h&4&&M(u,1):(u=f_(),u.c(),M(u,1),u.m(a.parentNode,a)):u&&(Me(),L(u,1,1,()=>{u=null}),Ie())},i(d){l||(M(u),l=!0)},o(d){L(u),l=!1},d(d){d&&S(e),d&&S(t),d&&S(r),d&&S(i),c.d(d),d&&S(s),u&&u.d(d),d&&S(a)}}}function ZO(n){let e,t,r,i,s,a,l,o;return{c(){e=y("input"),r=D(),i=y("label"),s=q("Enable"),_(e,"type","checkbox"),_(e,"id",t=n[12]),_(i,"for",a=n[12])},m(f,c){E(f,e,c),e.checked=n[0].options.allowOAuth2Auth,E(f,r,c),E(f,i,c),b(i,s),l||(o=ae(e,"change",n[9]),l=!0)},p(f,c){c&4096&&t!==(t=f[12])&&_(e,"id",t),c&1&&(e.checked=f[0].options.allowOAuth2Auth),c&4096&&a!==(a=f[12])&&_(i,"for",a)},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,o()}}}function c_(n){let e,t,r;return{c(){e=y("div"),e.innerHTML='<div class="flex p-t-base"><a href="/_/#/settings/auth-providers" target="_blank" class="btn btn-sm btn-outline"><span class="txt">Manage OAuth2 providers</span></a></div>',_(e,"class","block")},m(i,s){E(i,e,s),r=!0},i(i){r||(i&&Nt(()=>{t||(t=ut(e,Sn,{duration:150},!0)),t.run(1)}),r=!0)},o(i){i&&(t||(t=ut(e,Sn,{duration:150},!1)),t.run(0)),r=!1},d(i){i&&S(e),i&&t&&t.end()}}}function QO(n){let e,t,r,i;e=new Re({props:{class:"form-field form-field-toggle m-b-0",name:"options.allowOAuth2Auth",$$slots:{default:[ZO,({uniqueId:a})=>({12:a}),({uniqueId:a})=>a?4096:0]},$$scope:{ctx:n}}});let s=n[0].options.allowOAuth2Auth&&c_();return{c(){z(e.$$.fragment),t=D(),s&&s.c(),r=Ge()},m(a,l){W(e,a,l),E(a,t,l),s&&s.m(a,l),E(a,r,l),i=!0},p(a,l){const o={};l&12289&&(o.$$scope={dirty:l,ctx:a}),e.$set(o),a[0].options.allowOAuth2Auth?s?l&1&&M(s,1):(s=c_(),s.c(),M(s,1),s.m(r.parentNode,r)):s&&(Me(),L(s,1,1,()=>{s=null}),Ie())},i(a){i||(M(e.$$.fragment,a),M(s),i=!0)},o(a){L(e.$$.fragment,a),L(s),i=!1},d(a){j(e,a),a&&S(t),s&&s.d(a),a&&S(r)}}}function eM(n){let e;return{c(){e=y("span"),e.textContent="Disabled",_(e,"class","label")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function tM(n){let e;return{c(){e=y("span"),e.textContent="Enabled",_(e,"class","label label-success")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function u_(n){let e,t,r,i,s;return{c(){e=y("i"),_(e,"class","ri-error-warning-fill txt-danger")},m(a,l){E(a,e,l),r=!0,i||(s=st(xt.call(null,e,{text:"Has errors",position:"left"})),i=!0)},i(a){r||(Nt(()=>{t||(t=ut(e,qn,{duration:150,start:.7},!0)),t.run(1)}),r=!0)},o(a){t||(t=ut(e,qn,{duration:150,start:.7},!1)),t.run(0),r=!1},d(a){a&&S(e),a&&t&&t.end(),i=!1,s()}}}function nM(n){let e,t,r,i,s,a,l;function o(d,h){return d[0].options.allowOAuth2Auth?tM:eM}let f=o(n),c=f(n),u=n[1]&&u_();return{c(){e=y("div"),e.innerHTML=`<i class="ri-shield-star-line"></i> 
                <span class="txt">OAuth2</span>`,t=D(),r=y("div"),i=D(),c.c(),s=D(),u&&u.c(),a=Ge(),_(e,"class","inline-flex"),_(r,"class","flex-fill")},m(d,h){E(d,e,h),E(d,t,h),E(d,r,h),E(d,i,h),c.m(d,h),E(d,s,h),u&&u.m(d,h),E(d,a,h),l=!0},p(d,h){f!==(f=o(d))&&(c.d(1),c=f(d),c&&(c.c(),c.m(s.parentNode,s))),d[1]?u?h&2&&M(u,1):(u=u_(),u.c(),M(u,1),u.m(a.parentNode,a)):u&&(Me(),L(u,1,1,()=>{u=null}),Ie())},i(d){l||(M(u),l=!0)},o(d){L(u),l=!1},d(d){d&&S(e),d&&S(t),d&&S(r),d&&S(i),c.d(d),d&&S(s),u&&u.d(d),d&&S(a)}}}function rM(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Minimum password length"),i=D(),s=y("input"),_(e,"for",r=n[12]),_(s,"type","number"),_(s,"id",a=n[12]),s.required=!0,_(s,"min","6"),_(s,"max","72")},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].options.minPasswordLength),l||(o=ae(s,"input",n[10]),l=!0)},p(f,c){c&4096&&r!==(r=f[12])&&_(e,"for",r),c&4096&&a!==(a=f[12])&&_(s,"id",a),c&1&&nn(s.value)!==f[0].options.minPasswordLength&&Ne(s,f[0].options.minPasswordLength)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function iM(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("input"),r=D(),i=y("label"),s=y("span"),s.textContent="Always require email",a=D(),l=y("i"),_(e,"type","checkbox"),_(e,"id",t=n[12]),_(s,"class","txt"),_(l,"class","ri-information-line txt-sm link-hint"),_(i,"for",o=n[12])},m(u,d){E(u,e,d),e.checked=n[0].options.requireEmail,E(u,r,d),E(u,i,d),b(i,s),b(i,a),b(i,l),f||(c=[ae(e,"change",n[11]),st(xt.call(null,l,{text:`The constraint is applied only for new records.
Also note that some OAuth2 providers (like Twitter), don't return an email and the authentication may fail if the email field is required.`,position:"right"}))],f=!0)},p(u,d){d&4096&&t!==(t=u[12])&&_(e,"id",t),d&1&&(e.checked=u[0].options.requireEmail),d&4096&&o!==(o=u[12])&&_(i,"for",o)},d(u){u&&S(e),u&&S(r),u&&S(i),f=!1,it(c)}}}function sM(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v;return i=new fl({props:{single:!0,$$slots:{header:[jO],default:[HO]},$$scope:{ctx:n}}}),a=new fl({props:{single:!0,$$slots:{header:[JO],default:[GO]},$$scope:{ctx:n}}}),o=new fl({props:{single:!0,$$slots:{header:[nM],default:[QO]},$$scope:{ctx:n}}}),m=new Re({props:{class:"form-field required",name:"options.minPasswordLength",$$slots:{default:[rM,({uniqueId:w})=>({12:w}),({uniqueId:w})=>w?4096:0]},$$scope:{ctx:n}}}),g=new Re({props:{class:"form-field form-field-toggle m-b-sm",name:"options.requireEmail",$$slots:{default:[iM,({uniqueId:w})=>({12:w}),({uniqueId:w})=>w?4096:0]},$$scope:{ctx:n}}}),{c(){e=y("h4"),e.textContent="Auth methods",t=D(),r=y("div"),z(i.$$.fragment),s=D(),z(a.$$.fragment),l=D(),z(o.$$.fragment),f=D(),c=y("hr"),u=D(),d=y("h4"),d.textContent="General",h=D(),z(m.$$.fragment),p=D(),z(g.$$.fragment),_(e,"class","section-title"),_(r,"class","accordions"),_(d,"class","section-title")},m(w,k){E(w,e,k),E(w,t,k),E(w,r,k),W(i,r,null),b(r,s),W(a,r,null),b(r,l),W(o,r,null),E(w,f,k),E(w,c,k),E(w,u,k),E(w,d,k),E(w,h,k),W(m,w,k),E(w,p,k),W(g,w,k),v=!0},p(w,[k]){const x={};k&8201&&(x.$$scope={dirty:k,ctx:w}),i.$set(x);const A={};k&8197&&(A.$$scope={dirty:k,ctx:w}),a.$set(A);const T={};k&8195&&(T.$$scope={dirty:k,ctx:w}),o.$set(T);const C={};k&12289&&(C.$$scope={dirty:k,ctx:w}),m.$set(C);const F={};k&12289&&(F.$$scope={dirty:k,ctx:w}),g.$set(F)},i(w){v||(M(i.$$.fragment,w),M(a.$$.fragment,w),M(o.$$.fragment,w),M(m.$$.fragment,w),M(g.$$.fragment,w),v=!0)},o(w){L(i.$$.fragment,w),L(a.$$.fragment,w),L(o.$$.fragment,w),L(m.$$.fragment,w),L(g.$$.fragment,w),v=!1},d(w){w&&S(e),w&&S(t),w&&S(r),j(i),j(a),j(o),w&&S(f),w&&S(c),w&&S(u),w&&S(d),w&&S(h),j(m,w),w&&S(p),j(g,w)}}}function aM(n,e,t){let r,i,s,a;Et(n,xs,p=>t(4,a=p));let{collection:l=new zr}=e;function o(){l.options.allowUsernameAuth=this.checked,t(0,l)}function f(){l.options.allowEmailAuth=this.checked,t(0,l)}function c(p){n.$$.not_equal(l.options.exceptEmailDomains,p)&&(l.options.exceptEmailDomains=p,t(0,l))}function u(p){n.$$.not_equal(l.options.onlyEmailDomains,p)&&(l.options.onlyEmailDomains=p,t(0,l))}function d(){l.options.allowOAuth2Auth=this.checked,t(0,l)}function h(){l.options.minPasswordLength=nn(this.value),t(0,l)}function m(){l.options.requireEmail=this.checked,t(0,l)}return n.$$set=p=>{"collection"in p&&t(0,l=p.collection)},n.$$.update=()=>{var p,g,v,w;n.$$.dirty&1&&l.isAuth&&X.isEmpty(l.options)&&t(0,l.options={allowEmailAuth:!0,allowUsernameAuth:!0,allowOAuth2Auth:!0,minPasswordLength:8},l),n.$$.dirty&16&&t(2,i=!X.isEmpty((p=a==null?void 0:a.options)==null?void 0:p.allowEmailAuth)||!X.isEmpty((g=a==null?void 0:a.options)==null?void 0:g.onlyEmailDomains)||!X.isEmpty((v=a==null?void 0:a.options)==null?void 0:v.exceptEmailDomains)),n.$$.dirty&16&&t(1,s=!X.isEmpty((w=a==null?void 0:a.options)==null?void 0:w.allowOAuth2Auth))},t(3,r=!1),[l,s,i,r,a,o,f,c,u,d,h,m]}class lM extends We{constructor(e){super(),Ve(this,e,aM,sM,$e,{collection:0})}}function d_(n,e,t){const r=n.slice();return r[17]=e[t],r}function h_(n,e,t){const r=n.slice();return r[17]=e[t],r}function p_(n,e,t){const r=n.slice();return r[17]=e[t],r}function m_(n){let e;return{c(){e=y("p"),e.textContent="All data associated with the removed fields will be permanently deleted!"},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function __(n){var l;let e,t,r,i,s=n[3]&&g_(n),a=!((l=n[2])!=null&&l.isView)&&v_(n);return{c(){e=y("h6"),e.textContent="Changes:",t=D(),r=y("ul"),s&&s.c(),i=D(),a&&a.c(),_(r,"class","changes-list svelte-xqpcsf")},m(o,f){E(o,e,f),E(o,t,f),E(o,r,f),s&&s.m(r,null),b(r,i),a&&a.m(r,null)},p(o,f){var c;o[3]?s?s.p(o,f):(s=g_(o),s.c(),s.m(r,i)):s&&(s.d(1),s=null),(c=o[2])!=null&&c.isView?a&&(a.d(1),a=null):a?a.p(o,f):(a=v_(o),a.c(),a.m(r,null))},d(o){o&&S(e),o&&S(t),o&&S(r),s&&s.d(),a&&a.d()}}}function g_(n){var h,m;let e,t,r,i,s=((h=n[1])==null?void 0:h.name)+"",a,l,o,f,c,u=((m=n[2])==null?void 0:m.name)+"",d;return{c(){e=y("li"),t=y("div"),r=q(`Renamed collection
                        `),i=y("strong"),a=q(s),l=D(),o=y("i"),f=D(),c=y("strong"),d=q(u),_(i,"class","txt-strikethrough txt-hint"),_(o,"class","ri-arrow-right-line txt-sm"),_(c,"class","txt"),_(t,"class","inline-flex"),_(e,"class","svelte-xqpcsf")},m(p,g){E(p,e,g),b(e,t),b(t,r),b(t,i),b(i,a),b(t,l),b(t,o),b(t,f),b(t,c),b(c,d)},p(p,g){var v,w;g&2&&s!==(s=((v=p[1])==null?void 0:v.name)+"")&&ke(a,s),g&4&&u!==(u=((w=p[2])==null?void 0:w.name)+"")&&ke(d,u)},d(p){p&&S(e)}}}function v_(n){let e,t,r,i=n[5],s=[];for(let c=0;c<i.length;c+=1)s[c]=b_(p_(n,i,c));let a=n[7],l=[];for(let c=0;c<a.length;c+=1)l[c]=w_(h_(n,a,c));let o=n[6],f=[];for(let c=0;c<o.length;c+=1)f[c]=k_(d_(n,o,c));return{c(){for(let c=0;c<s.length;c+=1)s[c].c();e=D();for(let c=0;c<l.length;c+=1)l[c].c();t=D();for(let c=0;c<f.length;c+=1)f[c].c();r=Ge()},m(c,u){for(let d=0;d<s.length;d+=1)s[d].m(c,u);E(c,e,u);for(let d=0;d<l.length;d+=1)l[d].m(c,u);E(c,t,u);for(let d=0;d<f.length;d+=1)f[d].m(c,u);E(c,r,u)},p(c,u){if(u&32){i=c[5];let d;for(d=0;d<i.length;d+=1){const h=p_(c,i,d);s[d]?s[d].p(h,u):(s[d]=b_(h),s[d].c(),s[d].m(e.parentNode,e))}for(;d<s.length;d+=1)s[d].d(1);s.length=i.length}if(u&128){a=c[7];let d;for(d=0;d<a.length;d+=1){const h=h_(c,a,d);l[d]?l[d].p(h,u):(l[d]=w_(h),l[d].c(),l[d].m(t.parentNode,t))}for(;d<l.length;d+=1)l[d].d(1);l.length=a.length}if(u&64){o=c[6];let d;for(d=0;d<o.length;d+=1){const h=d_(c,o,d);f[d]?f[d].p(h,u):(f[d]=k_(h),f[d].c(),f[d].m(r.parentNode,r))}for(;d<f.length;d+=1)f[d].d(1);f.length=o.length}},d(c){zt(s,c),c&&S(e),zt(l,c),c&&S(t),zt(f,c),c&&S(r)}}}function b_(n){let e,t,r,i=n[17].name+"",s,a,l;return{c(){e=y("li"),t=q(`Multiple to single value conversion of field
                        `),r=y("strong"),s=q(i),a=D(),l=y("em"),l.textContent="(will keep only the last array item)",_(l,"class","txt-sm"),_(e,"class","svelte-xqpcsf")},m(o,f){E(o,e,f),b(e,t),b(e,r),b(r,s),b(e,a),b(e,l)},p(o,f){f&32&&i!==(i=o[17].name+"")&&ke(s,i)},d(o){o&&S(e)}}}function w_(n){let e,t,r,i,s=n[17].originalName+"",a,l,o,f,c,u=n[17].name+"",d;return{c(){e=y("li"),t=y("div"),r=q(`Renamed field
                            `),i=y("strong"),a=q(s),l=D(),o=y("i"),f=D(),c=y("strong"),d=q(u),_(i,"class","txt-strikethrough txt-hint"),_(o,"class","ri-arrow-right-line txt-sm"),_(c,"class","txt"),_(t,"class","inline-flex"),_(e,"class","svelte-xqpcsf")},m(h,m){E(h,e,m),b(e,t),b(t,r),b(t,i),b(i,a),b(t,l),b(t,o),b(t,f),b(t,c),b(c,d)},p(h,m){m&128&&s!==(s=h[17].originalName+"")&&ke(a,s),m&128&&u!==(u=h[17].name+"")&&ke(d,u)},d(h){h&&S(e)}}}function k_(n){let e,t,r,i=n[17].name+"",s,a;return{c(){e=y("li"),t=q("Removed field "),r=y("span"),s=q(i),a=D(),_(r,"class","txt-bold"),_(e,"class","txt-danger svelte-xqpcsf")},m(l,o){E(l,e,o),b(e,t),b(e,r),b(r,s),b(e,a)},p(l,o){o&64&&i!==(i=l[17].name+"")&&ke(s,i)},d(l){l&&S(e)}}}function oM(n){let e,t,r,i,s,a,l,o,f=n[6].length&&m_(),c=n[8]&&__(n);return{c(){e=y("div"),t=y("div"),t.innerHTML='<i class="ri-error-warning-line"></i>',r=D(),i=y("div"),s=y("p"),s.textContent=`If any of the collection changes is part of another collection rule, filter or view query,
                you'll have to update it manually!`,a=D(),f&&f.c(),l=D(),c&&c.c(),o=Ge(),_(t,"class","icon"),_(i,"class","content txt-bold"),_(e,"class","alert alert-warning")},m(u,d){E(u,e,d),b(e,t),b(e,r),b(e,i),b(i,s),b(i,a),f&&f.m(i,null),E(u,l,d),c&&c.m(u,d),E(u,o,d)},p(u,d){u[6].length?f||(f=m_(),f.c(),f.m(i,null)):f&&(f.d(1),f=null),u[8]?c?c.p(u,d):(c=__(u),c.c(),c.m(o.parentNode,o)):c&&(c.d(1),c=null)},d(u){u&&S(e),f&&f.d(),u&&S(l),c&&c.d(u),u&&S(o)}}}function fM(n){let e;return{c(){e=y("h4"),e.textContent="Confirm collection changes"},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function cM(n){let e,t,r,i,s;return{c(){e=y("button"),e.innerHTML='<span class="txt">Cancel</span>',t=D(),r=y("button"),r.innerHTML='<span class="txt">Confirm</span>',e.autofocus=!0,_(e,"type","button"),_(e,"class","btn btn-transparent"),_(r,"type","button"),_(r,"class","btn btn-expanded")},m(a,l){E(a,e,l),E(a,t,l),E(a,r,l),e.focus(),i||(s=[ae(e,"click",n[11]),ae(r,"click",n[12])],i=!0)},p:ce,d(a){a&&S(e),a&&S(t),a&&S(r),i=!1,it(s)}}}function uM(n){let e,t,r={class:"confirm-changes-panel",popup:!0,$$slots:{footer:[cM],header:[fM],default:[oM]},$$scope:{ctx:n}};return e=new $r({props:r}),n[13](e),e.$on("hide",n[14]),e.$on("show",n[15]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&16777710&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[13](null),j(e,i)}}}function dM(n,e,t){let r,i,s,a,l;const o=Fn();let f,c,u;async function d(x,A){t(1,c=x),t(2,u=A),await Pr(),r||i.length||s.length||a.length?f==null||f.show():m()}function h(){f==null||f.hide()}function m(){h(),o("confirm")}const p=()=>h(),g=()=>m();function v(x){ve[x?"unshift":"push"](()=>{f=x,t(4,f)})}function w(x){mt.call(this,n,x)}function k(x){mt.call(this,n,x)}return n.$$.update=()=>{var x,A,T;n.$$.dirty&6&&t(3,r=(c==null?void 0:c.name)!=(u==null?void 0:u.name)),n.$$.dirty&4&&t(7,i=((x=u==null?void 0:u.schema)==null?void 0:x.filter(C=>C.id&&!C.toDelete&&C.originalName!=C.name))||[]),n.$$.dirty&4&&t(6,s=((A=u==null?void 0:u.schema)==null?void 0:A.filter(C=>C.id&&C.toDelete))||[]),n.$$.dirty&6&&t(5,a=((T=u==null?void 0:u.schema)==null?void 0:T.filter(C=>{var O,I,N;const F=(O=c==null?void 0:c.schema)==null?void 0:O.find(P=>P.id==C.id);return F?((I=F.options)==null?void 0:I.maxSelect)!=1&&((N=C.options)==null?void 0:N.maxSelect)==1:!1}))||[]),n.$$.dirty&12&&t(8,l=!(u!=null&&u.isView)||r)},[h,c,u,r,f,a,s,i,l,m,d,p,g,v,w,k]}class hM extends We{constructor(e){super(),Ve(this,e,dM,uM,$e,{show:10,hide:0})}get show(){return this.$$.ctx[10]}get hide(){return this.$$.ctx[0]}}function y_(n,e,t){const r=n.slice();return r[47]=e[t][0],r[48]=e[t][1],r}function pM(n){let e,t,r;function i(a){n[32](a)}let s={};return n[2]!==void 0&&(s.collection=n[2]),e=new kO({props:s}),ve.push(()=>Le(e,"collection",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};!t&&l[0]&4&&(t=!0,o.collection=a[2],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function mM(n){let e,t,r;function i(a){n[31](a)}let s={};return n[2]!==void 0&&(s.collection=n[2]),e=new BO({props:s}),ve.push(()=>Le(e,"collection",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};!t&&l[0]&4&&(t=!0,o.collection=a[2],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function x_(n){let e,t,r,i;function s(l){n[33](l)}let a={};return n[2]!==void 0&&(a.collection=n[2]),t=new IO({props:a}),ve.push(()=>Le(t,"collection",s)),{c(){e=y("div"),z(t.$$.fragment),_(e,"class","tab-item active")},m(l,o){E(l,e,o),W(t,e,null),i=!0},p(l,o){const f={};!r&&o[0]&4&&(r=!0,f.collection=l[2],He(()=>r=!1)),t.$set(f)},i(l){i||(M(t.$$.fragment,l),i=!0)},o(l){L(t.$$.fragment,l),i=!1},d(l){l&&S(e),j(t)}}}function T_(n){let e,t,r,i;function s(l){n[34](l)}let a={};return n[2]!==void 0&&(a.collection=n[2]),t=new lM({props:a}),ve.push(()=>Le(t,"collection",s)),{c(){e=y("div"),z(t.$$.fragment),_(e,"class","tab-item"),pe(e,"active",n[3]===yl)},m(l,o){E(l,e,o),W(t,e,null),i=!0},p(l,o){const f={};!r&&o[0]&4&&(r=!0,f.collection=l[2],He(()=>r=!1)),t.$set(f),(!i||o[0]&8)&&pe(e,"active",l[3]===yl)},i(l){i||(M(t.$$.fragment,l),i=!0)},o(l){L(t.$$.fragment,l),i=!1},d(l){l&&S(e),j(t)}}}function _M(n){let e,t,r,i,s,a,l;const o=[mM,pM],f=[];function c(h,m){return h[2].isView?0:1}r=c(n),i=f[r]=o[r](n);let u=n[3]===No&&x_(n),d=n[2].isAuth&&T_(n);return{c(){e=y("div"),t=y("div"),i.c(),s=D(),u&&u.c(),a=D(),d&&d.c(),_(t,"class","tab-item"),pe(t,"active",n[3]===Ls),_(e,"class","tabs-content svelte-12y0yzb")},m(h,m){E(h,e,m),b(e,t),f[r].m(t,null),b(e,s),u&&u.m(e,null),b(e,a),d&&d.m(e,null),l=!0},p(h,m){let p=r;r=c(h),r===p?f[r].p(h,m):(Me(),L(f[p],1,1,()=>{f[p]=null}),Ie(),i=f[r],i?i.p(h,m):(i=f[r]=o[r](h),i.c()),M(i,1),i.m(t,null)),(!l||m[0]&8)&&pe(t,"active",h[3]===Ls),h[3]===No?u?(u.p(h,m),m[0]&8&&M(u,1)):(u=x_(h),u.c(),M(u,1),u.m(e,a)):u&&(Me(),L(u,1,1,()=>{u=null}),Ie()),h[2].isAuth?d?(d.p(h,m),m[0]&4&&M(d,1)):(d=T_(h),d.c(),M(d,1),d.m(e,null)):d&&(Me(),L(d,1,1,()=>{d=null}),Ie())},i(h){l||(M(i),M(u),M(d),l=!0)},o(h){L(i),L(u),L(d),l=!1},d(h){h&&S(e),f[r].d(),u&&u.d(),d&&d.d()}}}function S_(n){let e,t,r,i,s,a,l;return a=new ss({props:{class:"dropdown dropdown-right m-t-5",$$slots:{default:[gM]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=D(),r=y("button"),i=y("i"),s=D(),z(a.$$.fragment),_(e,"class","flex-fill"),_(i,"class","ri-more-line"),_(r,"type","button"),_(r,"aria-label","More"),_(r,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(o,f){E(o,e,f),E(o,t,f),E(o,r,f),b(r,i),b(r,s),W(a,r,null),l=!0},p(o,f){const c={};f[1]&1048576&&(c.$$scope={dirty:f,ctx:o}),a.$set(c)},i(o){l||(M(a.$$.fragment,o),l=!0)},o(o){L(a.$$.fragment,o),l=!1},d(o){o&&S(e),o&&S(t),o&&S(r),j(a)}}}function gM(n){let e,t,r,i,s;return{c(){e=y("button"),e.innerHTML=`<i class="ri-file-copy-line"></i> 
                        <span class="txt">Duplicate</span>`,t=D(),r=y("button"),r.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">Delete</span>`,_(e,"type","button"),_(e,"class","dropdown-item closable"),_(r,"type","button"),_(r,"class","dropdown-item txt-danger closable")},m(a,l){E(a,e,l),E(a,t,l),E(a,r,l),i||(s=[ae(e,"click",n[23]),ae(r,"click",ri(Yt(n[24])))],i=!0)},p:ce,d(a){a&&S(e),a&&S(t),a&&S(r),i=!1,it(s)}}}function E_(n){let e,t,r,i;return r=new ss({props:{class:"dropdown dropdown-right dropdown-nowrap m-t-5",$$slots:{default:[vM]},$$scope:{ctx:n}}}),{c(){e=y("i"),t=D(),z(r.$$.fragment),_(e,"class","ri-arrow-down-s-fill")},m(s,a){E(s,e,a),E(s,t,a),W(r,s,a),i=!0},p(s,a){const l={};a[0]&68|a[1]&1048576&&(l.$$scope={dirty:a,ctx:s}),r.$set(l)},i(s){i||(M(r.$$.fragment,s),i=!0)},o(s){L(r.$$.fragment,s),i=!1},d(s){s&&S(e),s&&S(t),j(r,s)}}}function C_(n){let e,t,r,i,s,a=n[48]+"",l,o,f,c,u;function d(){return n[26](n[47])}return{c(){e=y("button"),t=y("i"),i=D(),s=y("span"),l=q(a),o=q(" collection"),f=D(),_(t,"class",r=Ws(X.getCollectionTypeIcon(n[47]))+" svelte-12y0yzb"),_(s,"class","txt"),_(e,"type","button"),_(e,"class","dropdown-item closable"),pe(e,"selected",n[47]==n[2].type)},m(h,m){E(h,e,m),b(e,t),b(e,i),b(e,s),b(s,l),b(s,o),b(e,f),c||(u=ae(e,"click",d),c=!0)},p(h,m){n=h,m[0]&64&&r!==(r=Ws(X.getCollectionTypeIcon(n[47]))+" svelte-12y0yzb")&&_(t,"class",r),m[0]&64&&a!==(a=n[48]+"")&&ke(l,a),m[0]&68&&pe(e,"selected",n[47]==n[2].type)},d(h){h&&S(e),c=!1,u()}}}function vM(n){let e,t=Object.entries(n[6]),r=[];for(let i=0;i<t.length;i+=1)r[i]=C_(y_(n,t,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ge()},m(i,s){for(let a=0;a<r.length;a+=1)r[a].m(i,s);E(i,e,s)},p(i,s){if(s[0]&131140){t=Object.entries(i[6]);let a;for(a=0;a<t.length;a+=1){const l=y_(i,t,a);r[a]?r[a].p(l,s):(r[a]=C_(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){zt(r,i),i&&S(e)}}}function A_(n){let e;return{c(){e=y("div"),e.textContent="System collection",_(e,"class","help-block")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function bM(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v=(n[6][n[2].type]||"N/A")+"",w,k,x,A,T,C,F,O,I,N=n[2].isNew&&E_(n),P=n[2].system&&A_();return{c(){e=y("label"),t=q("Name"),i=D(),s=y("input"),c=D(),u=y("div"),d=y("button"),h=y("span"),m=D(),p=y("span"),g=q("Type: "),w=q(v),k=D(),N&&N.c(),T=D(),P&&P.c(),C=Ge(),_(e,"for",r=n[46]),_(s,"type","text"),_(s,"id",a=n[46]),s.required=!0,s.disabled=n[13],_(s,"spellcheck","false"),s.autofocus=l=n[2].isNew,_(s,"placeholder",o=n[2].isAuth?'eg. "users"':'eg. "posts"'),s.value=f=n[2].name,_(p,"class","txt"),_(d,"type","button"),_(d,"class",x="btn btn-sm p-r-10 p-l-10 "+(n[2].isNew?"btn-outline":"btn-transparent")),d.disabled=A=!n[2].isNew,_(u,"class","form-field-addon")},m(R,Y){E(R,e,Y),b(e,t),E(R,i,Y),E(R,s,Y),E(R,c,Y),E(R,u,Y),b(u,d),b(d,h),b(d,m),b(d,p),b(p,g),b(p,w),b(d,k),N&&N.m(d,null),E(R,T,Y),P&&P.m(R,Y),E(R,C,Y),F=!0,n[2].isNew&&s.focus(),O||(I=ae(s,"input",n[25]),O=!0)},p(R,Y){(!F||Y[1]&32768&&r!==(r=R[46]))&&_(e,"for",r),(!F||Y[1]&32768&&a!==(a=R[46]))&&_(s,"id",a),(!F||Y[0]&8192)&&(s.disabled=R[13]),(!F||Y[0]&4&&l!==(l=R[2].isNew))&&(s.autofocus=l),(!F||Y[0]&4&&o!==(o=R[2].isAuth?'eg. "users"':'eg. "posts"'))&&_(s,"placeholder",o),(!F||Y[0]&4&&f!==(f=R[2].name)&&s.value!==f)&&(s.value=f),(!F||Y[0]&68)&&v!==(v=(R[6][R[2].type]||"N/A")+"")&&ke(w,v),R[2].isNew?N?(N.p(R,Y),Y[0]&4&&M(N,1)):(N=E_(R),N.c(),M(N,1),N.m(d,null)):N&&(Me(),L(N,1,1,()=>{N=null}),Ie()),(!F||Y[0]&4&&x!==(x="btn btn-sm p-r-10 p-l-10 "+(R[2].isNew?"btn-outline":"btn-transparent")))&&_(d,"class",x),(!F||Y[0]&4&&A!==(A=!R[2].isNew))&&(d.disabled=A),R[2].system?P||(P=A_(),P.c(),P.m(C.parentNode,C)):P&&(P.d(1),P=null)},i(R){F||(M(N),F=!0)},o(R){L(N),F=!1},d(R){R&&S(e),R&&S(i),R&&S(s),R&&S(c),R&&S(u),N&&N.d(),R&&S(T),P&&P.d(R),R&&S(C),O=!1,I()}}}function F_(n){let e,t,r,i,s,a;return{c(){e=y("i"),_(e,"class","ri-error-warning-fill txt-danger")},m(l,o){E(l,e,o),i=!0,s||(a=st(t=xt.call(null,e,n[11])),s=!0)},p(l,o){t&&ar(t.update)&&o[0]&2048&&t.update.call(null,l[11])},i(l){i||(l&&Nt(()=>{r||(r=ut(e,qn,{duration:150,start:.7},!0)),r.run(1)}),i=!0)},o(l){l&&(r||(r=ut(e,qn,{duration:150,start:.7},!1)),r.run(0)),i=!1},d(l){l&&S(e),l&&r&&r.end(),s=!1,a()}}}function D_(n){let e,t,r,i,s;return{c(){e=y("i"),_(e,"class","ri-error-warning-fill txt-danger")},m(a,l){E(a,e,l),r=!0,i||(s=st(xt.call(null,e,"Has errors")),i=!0)},i(a){r||(a&&Nt(()=>{t||(t=ut(e,qn,{duration:150,start:.7},!0)),t.run(1)}),r=!0)},o(a){a&&(t||(t=ut(e,qn,{duration:150,start:.7},!1)),t.run(0)),r=!1},d(a){a&&S(e),a&&t&&t.end(),i=!1,s()}}}function O_(n){var o,f,c;let e,t,r,i=!X.isEmpty((o=n[5])==null?void 0:o.options)&&!((c=(f=n[5])==null?void 0:f.options)!=null&&c.manageRule),s,a,l=i&&M_();return{c(){e=y("button"),t=y("span"),t.textContent="Options",r=D(),l&&l.c(),_(t,"class","txt"),_(e,"type","button"),_(e,"class","tab-item"),pe(e,"active",n[3]===yl)},m(u,d){E(u,e,d),b(e,t),b(e,r),l&&l.m(e,null),s||(a=ae(e,"click",n[30]),s=!0)},p(u,d){var h,m,p;d[0]&32&&(i=!X.isEmpty((h=u[5])==null?void 0:h.options)&&!((p=(m=u[5])==null?void 0:m.options)!=null&&p.manageRule)),i?l?d[0]&32&&M(l,1):(l=M_(),l.c(),M(l,1),l.m(e,null)):l&&(Me(),L(l,1,1,()=>{l=null}),Ie()),d[0]&8&&pe(e,"active",u[3]===yl)},d(u){u&&S(e),l&&l.d(),s=!1,a()}}}function M_(n){let e,t,r,i,s;return{c(){e=y("i"),_(e,"class","ri-error-warning-fill txt-danger")},m(a,l){E(a,e,l),r=!0,i||(s=st(xt.call(null,e,"Has errors")),i=!0)},i(a){r||(a&&Nt(()=>{t||(t=ut(e,qn,{duration:150,start:.7},!0)),t.run(1)}),r=!0)},o(a){a&&(t||(t=ut(e,qn,{duration:150,start:.7},!1)),t.run(0)),r=!1},d(a){a&&S(e),a&&t&&t.end(),i=!1,s()}}}function wM(n){var ne,V,se,ue,U,be,fe,B;let e,t=n[2].isNew?"New collection":"Edit collection",r,i,s,a,l,o,f,c,u,d,h,m=(ne=n[2])!=null&&ne.isView?"Query":"Fields",p,g,v=!X.isEmpty(n[11]),w,k,x,A,T=!X.isEmpty((V=n[5])==null?void 0:V.listRule)||!X.isEmpty((se=n[5])==null?void 0:se.viewRule)||!X.isEmpty((ue=n[5])==null?void 0:ue.createRule)||!X.isEmpty((U=n[5])==null?void 0:U.updateRule)||!X.isEmpty((be=n[5])==null?void 0:be.deleteRule)||!X.isEmpty((B=(fe=n[5])==null?void 0:fe.options)==null?void 0:B.manageRule),C,F,O,I,N=!n[2].isNew&&!n[2].system&&S_(n);l=new Re({props:{class:"form-field collection-field-name required m-b-0 "+(n[13]?"disabled":""),name:"name",$$slots:{default:[bM,({uniqueId:K})=>({46:K}),({uniqueId:K})=>[0,K?32768:0]]},$$scope:{ctx:n}}});let P=v&&F_(n),R=T&&D_(),Y=n[2].isAuth&&O_(n);return{c(){e=y("h4"),r=q(t),i=D(),N&&N.c(),s=D(),a=y("form"),z(l.$$.fragment),o=D(),f=y("input"),c=D(),u=y("div"),d=y("button"),h=y("span"),p=q(m),g=D(),P&&P.c(),w=D(),k=y("button"),x=y("span"),x.textContent="API Rules",A=D(),R&&R.c(),C=D(),Y&&Y.c(),_(e,"class","upsert-panel-title svelte-12y0yzb"),_(f,"type","submit"),_(f,"class","hidden"),_(f,"tabindex","-1"),_(a,"class","block"),_(h,"class","txt"),_(d,"type","button"),_(d,"class","tab-item"),pe(d,"active",n[3]===Ls),_(x,"class","txt"),_(k,"type","button"),_(k,"class","tab-item"),pe(k,"active",n[3]===No),_(u,"class","tabs-header stretched")},m(K,G){E(K,e,G),b(e,r),E(K,i,G),N&&N.m(K,G),E(K,s,G),E(K,a,G),W(l,a,null),b(a,o),b(a,f),E(K,c,G),E(K,u,G),b(u,d),b(d,h),b(h,p),b(d,g),P&&P.m(d,null),b(u,w),b(u,k),b(k,x),b(k,A),R&&R.m(k,null),b(u,C),Y&&Y.m(u,null),F=!0,O||(I=[ae(a,"submit",Yt(n[27])),ae(d,"click",n[28]),ae(k,"click",n[29])],O=!0)},p(K,G){var de,me,we,Fe,Oe,ye,te,he;(!F||G[0]&4)&&t!==(t=K[2].isNew?"New collection":"Edit collection")&&ke(r,t),!K[2].isNew&&!K[2].system?N?(N.p(K,G),G[0]&4&&M(N,1)):(N=S_(K),N.c(),M(N,1),N.m(s.parentNode,s)):N&&(Me(),L(N,1,1,()=>{N=null}),Ie());const J={};G[0]&8192&&(J.class="form-field collection-field-name required m-b-0 "+(K[13]?"disabled":"")),G[0]&8260|G[1]&1081344&&(J.$$scope={dirty:G,ctx:K}),l.$set(J),(!F||G[0]&4)&&m!==(m=(de=K[2])!=null&&de.isView?"Query":"Fields")&&ke(p,m),G[0]&2048&&(v=!X.isEmpty(K[11])),v?P?(P.p(K,G),G[0]&2048&&M(P,1)):(P=F_(K),P.c(),M(P,1),P.m(d,null)):P&&(Me(),L(P,1,1,()=>{P=null}),Ie()),(!F||G[0]&8)&&pe(d,"active",K[3]===Ls),G[0]&32&&(T=!X.isEmpty((me=K[5])==null?void 0:me.listRule)||!X.isEmpty((we=K[5])==null?void 0:we.viewRule)||!X.isEmpty((Fe=K[5])==null?void 0:Fe.createRule)||!X.isEmpty((Oe=K[5])==null?void 0:Oe.updateRule)||!X.isEmpty((ye=K[5])==null?void 0:ye.deleteRule)||!X.isEmpty((he=(te=K[5])==null?void 0:te.options)==null?void 0:he.manageRule)),T?R?G[0]&32&&M(R,1):(R=D_(),R.c(),M(R,1),R.m(k,null)):R&&(Me(),L(R,1,1,()=>{R=null}),Ie()),(!F||G[0]&8)&&pe(k,"active",K[3]===No),K[2].isAuth?Y?Y.p(K,G):(Y=O_(K),Y.c(),Y.m(u,null)):Y&&(Y.d(1),Y=null)},i(K){F||(M(N),M(l.$$.fragment,K),M(P),M(R),F=!0)},o(K){L(N),L(l.$$.fragment,K),L(P),L(R),F=!1},d(K){K&&S(e),K&&S(i),N&&N.d(K),K&&S(s),K&&S(a),j(l),K&&S(c),K&&S(u),P&&P.d(),R&&R.d(),Y&&Y.d(),O=!1,it(I)}}}function kM(n){let e,t,r,i,s,a=n[2].isNew?"Create":"Save changes",l,o,f,c;return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",r=D(),i=y("button"),s=y("span"),l=q(a),_(t,"class","txt"),_(e,"type","button"),_(e,"class","btn btn-transparent"),e.disabled=n[9],_(s,"class","txt"),_(i,"type","button"),_(i,"class","btn btn-expanded"),i.disabled=o=!n[12]||n[9],pe(i,"btn-loading",n[9])},m(u,d){E(u,e,d),b(e,t),E(u,r,d),E(u,i,d),b(i,s),b(s,l),f||(c=[ae(e,"click",n[21]),ae(i,"click",n[22])],f=!0)},p(u,d){d[0]&512&&(e.disabled=u[9]),d[0]&4&&a!==(a=u[2].isNew?"Create":"Save changes")&&ke(l,a),d[0]&4608&&o!==(o=!u[12]||u[9])&&(i.disabled=o),d[0]&512&&pe(i,"btn-loading",u[9])},d(u){u&&S(e),u&&S(r),u&&S(i),f=!1,it(c)}}}function yM(n){let e,t,r,i,s={class:"overlay-panel-lg colored-header collection-panel",beforeHide:n[35],$$slots:{footer:[kM],header:[wM],default:[_M]},$$scope:{ctx:n}};e=new $r({props:s}),n[36](e),e.$on("hide",n[37]),e.$on("show",n[38]);let a={};return r=new hM({props:a}),n[39](r),r.$on("confirm",n[40]),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment)},m(l,o){W(e,l,o),E(l,t,o),W(r,l,o),i=!0},p(l,o){const f={};o[0]&1040&&(f.beforeHide=l[35]),o[0]&14956|o[1]&1048576&&(f.$$scope={dirty:o,ctx:l}),e.$set(f);const c={};r.$set(c)},i(l){i||(M(e.$$.fragment,l),M(r.$$.fragment,l),i=!0)},o(l){L(e.$$.fragment,l),L(r.$$.fragment,l),i=!1},d(l){n[36](null),j(e,l),l&&S(t),n[39](null),j(r,l)}}}const Ls="schema",No="api_rules",yl="options",xM="base",I_="auth",N_="view";function Gu(n){return JSON.stringify(n)}function TM(n,e,t){let r,i,s,a;Et(n,xs,he=>t(5,a=he));const l={};l[xM]="Base",l[N_]="View",l[I_]="Auth";const o=Fn();let f,c,u=null,d=new zr,h=!1,m=!1,p=Ls,g=Gu(d),v="";function w(he){t(3,p=he)}function k(he){return A(he),t(10,m=!0),w(Ls),f==null?void 0:f.show()}function x(){return f==null?void 0:f.hide()}async function A(he){Ti({}),typeof he<"u"?(u=he,t(2,d=he.clone())):(u=null,t(2,d=new zr)),t(2,d.schema=d.schema||[],d),t(2,d.originalName=d.name||"",d),await Pr(),t(20,g=Gu(d))}function T(){d.isNew?C():c==null||c.show(u,d)}function C(){if(h)return;t(9,h=!0);const he=F();let qe;d.isNew?qe=Ue.collections.create(he):qe=Ue.collections.update(d.id,he),qe.then(ot=>{vd(),Wy(ot.id),t(10,m=!1),x(),Qn(d.isNew?"Successfully created collection.":"Successfully updated collection."),o("save",{isNew:d.isNew,collection:ot})}).catch(ot=>{Ue.errorResponseHandler(ot)}).finally(()=>{t(9,h=!1)})}function F(){const he=d.export();he.schema=he.schema.slice(0);for(let qe=he.schema.length-1;qe>=0;qe--)he.schema[qe].toDelete&&he.schema.splice(qe,1);return he}function O(){u!=null&&u.id&&Wr(`Do you really want to delete collection "${u==null?void 0:u.name}" and all its records?`,()=>Ue.collections.delete(u==null?void 0:u.id).then(()=>{x(),Qn(`Successfully deleted collection "${u==null?void 0:u.name}".`),o("delete",u),o8(u)}).catch(he=>{Ue.errorResponseHandler(he)}))}function I(he){t(2,d.type=he,d),Ca("schema")}function N(){i?Wr("You have unsaved changes. Do you really want to discard them?",()=>{P()}):P()}async function P(){const he=u==null?void 0:u.clone();if(he&&(he.id="",he.created="",he.updated="",he.name+="_duplicate",!X.isEmpty(he.schema)))for(const qe of he.schema)qe.id="";k(he),await Pr(),t(20,g="")}const R=()=>x(),Y=()=>T(),ne=()=>N(),V=()=>O(),se=he=>{t(2,d.name=X.slugify(he.target.value),d),he.target.value=d.name},ue=he=>I(he),U=()=>{s&&T()},be=()=>w(Ls),fe=()=>w(No),B=()=>w(yl);function K(he){d=he,t(2,d)}function G(he){d=he,t(2,d)}function J(he){d=he,t(2,d)}function de(he){d=he,t(2,d)}const me=()=>i&&m?(Wr("You have unsaved changes. Do you really want to close the panel?",()=>{t(10,m=!1),x()}),!1):!0;function we(he){ve[he?"unshift":"push"](()=>{f=he,t(7,f)})}function Fe(he){mt.call(this,n,he)}function Oe(he){mt.call(this,n,he)}function ye(he){ve[he?"unshift":"push"](()=>{c=he,t(8,c)})}const te=()=>C();return n.$$.update=()=>{var he;n.$$.dirty[0]&32&&(a.schema||(he=a.options)!=null&&he.query?t(11,v=X.getNestedVal(a,"schema.message")||"Has errors"):t(11,v="")),n.$$.dirty[0]&4&&d.type===N_&&(t(2,d.createRule=null,d),t(2,d.updateRule=null,d),t(2,d.deleteRule=null,d)),n.$$.dirty[0]&4&&t(13,r=!d.isNew&&d.system),n.$$.dirty[0]&1048580&&t(4,i=g!=Gu(d)),n.$$.dirty[0]&20&&t(12,s=d.isNew||i),n.$$.dirty[0]&12&&p===yl&&d.type!==I_&&w(Ls)},[w,x,d,p,i,a,l,f,c,h,m,v,s,r,T,C,O,I,N,k,g,R,Y,ne,V,se,ue,U,be,fe,B,K,G,J,de,me,we,Fe,Oe,ye,te]}class Gd extends We{constructor(e){super(),Ve(this,e,TM,yM,$e,{changeTab:0,show:19,hide:1},null,[-1,-1])}get changeTab(){return this.$$.ctx[0]}get show(){return this.$$.ctx[19]}get hide(){return this.$$.ctx[1]}}function P_(n,e,t){const r=n.slice();return r[15]=e[t],r}function L_(n){let e,t=n[1].length&&R_();return{c(){t&&t.c(),e=Ge()},m(r,i){t&&t.m(r,i),E(r,e,i)},p(r,i){r[1].length?t||(t=R_(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&S(e)}}}function R_(n){let e;return{c(){e=y("p"),e.textContent="No collections found.",_(e,"class","txt-hint m-t-10 m-b-10 txt-center")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function $_(n,e){let t,r,i,s,a,l=e[15].name+"",o,f,c,u,d;return{key:n,first:null,c(){var h;t=y("a"),r=y("i"),s=D(),a=y("span"),o=q(l),f=D(),_(r,"class",i=X.getCollectionTypeIcon(e[15].type)),_(a,"class","txt"),_(t,"href",c="/collections?collectionId="+e[15].id),_(t,"class","sidebar-list-item"),pe(t,"active",((h=e[5])==null?void 0:h.id)===e[15].id),this.first=t},m(h,m){E(h,t,m),b(t,r),b(t,s),b(t,a),b(a,o),b(t,f),u||(d=st(Fr.call(null,t)),u=!0)},p(h,m){var p;e=h,m&8&&i!==(i=X.getCollectionTypeIcon(e[15].type))&&_(r,"class",i),m&8&&l!==(l=e[15].name+"")&&ke(o,l),m&8&&c!==(c="/collections?collectionId="+e[15].id)&&_(t,"href",c),m&40&&pe(t,"active",((p=e[5])==null?void 0:p.id)===e[15].id)},d(h){h&&S(t),u=!1,d()}}}function B_(n){let e,t,r,i;return{c(){e=y("footer"),t=y("button"),t.innerHTML=`<i class="ri-add-line"></i> 
                <span class="txt">New collection</span>`,_(t,"type","button"),_(t,"class","btn btn-block btn-outline"),_(e,"class","sidebar-footer")},m(s,a){E(s,e,a),b(e,t),r||(i=ae(t,"click",n[12]),r=!0)},p:ce,d(s){s&&S(e),r=!1,i()}}}function SM(n){let e,t,r,i,s,a,l,o,f,c,u,d=[],h=new Map,m,p,g,v,w,k,x=n[3];const A=O=>O[15].id;for(let O=0;O<x.length;O+=1){let I=P_(n,x,O),N=A(I);h.set(N,d[O]=$_(N,I))}let T=null;x.length||(T=L_(n));let C=!n[7]&&B_(n),F={};return g=new Gd({props:F}),n[13](g),g.$on("save",n[14]),{c(){e=y("aside"),t=y("header"),r=y("div"),i=y("div"),s=y("button"),s.innerHTML='<i class="ri-close-line"></i>',a=D(),l=y("input"),o=D(),f=y("hr"),c=D(),u=y("div");for(let O=0;O<d.length;O+=1)d[O].c();T&&T.c(),m=D(),C&&C.c(),p=D(),z(g.$$.fragment),_(s,"type","button"),_(s,"class","btn btn-xs btn-transparent btn-circle btn-clear"),pe(s,"hidden",!n[4]),_(i,"class","form-field-addon"),_(l,"type","text"),_(l,"placeholder","Search collections..."),_(r,"class","form-field search"),pe(r,"active",n[4]),_(t,"class","sidebar-header"),_(f,"class","m-t-5 m-b-xs"),_(u,"class","sidebar-content"),pe(u,"fade",n[6]),pe(u,"sidebar-content-compact",n[3].length>20),_(e,"class","page-sidebar collection-sidebar")},m(O,I){E(O,e,I),b(e,t),b(t,r),b(r,i),b(i,s),b(r,a),b(r,l),Ne(l,n[0]),b(e,o),b(e,f),b(e,c),b(e,u);for(let N=0;N<d.length;N+=1)d[N].m(u,null);T&&T.m(u,null),b(e,m),C&&C.m(e,null),E(O,p,I),W(g,O,I),v=!0,w||(k=[ae(s,"click",n[10]),ae(l,"input",n[11])],w=!0)},p(O,[I]){(!v||I&16)&&pe(s,"hidden",!O[4]),I&1&&l.value!==O[0]&&Ne(l,O[0]),(!v||I&16)&&pe(r,"active",O[4]),I&42&&(x=O[3],d=sn(d,I,A,1,O,x,h,u,Hi,$_,null,P_),!x.length&&T?T.p(O,I):x.length?T&&(T.d(1),T=null):(T=L_(O),T.c(),T.m(u,null))),(!v||I&64)&&pe(u,"fade",O[6]),(!v||I&8)&&pe(u,"sidebar-content-compact",O[3].length>20),O[7]?C&&(C.d(1),C=null):C?C.p(O,I):(C=B_(O),C.c(),C.m(e,null));const N={};g.$set(N)},i(O){v||(M(g.$$.fragment,O),v=!0)},o(O){L(g.$$.fragment,O),v=!1},d(O){O&&S(e);for(let I=0;I<d.length;I+=1)d[I].d();T&&T.d(),C&&C.d(),O&&S(p),n[13](null),j(g,O),w=!1,it(k)}}}function EM(){setTimeout(()=>{const n=document.querySelector(".collection-sidebar .sidebar-list-item.active");n&&(n==null||n.scrollIntoView({block:"nearest"}))},0)}function CM(n,e,t){let r,i,s,a,l,o,f;Et(n,qs,w=>t(5,a=w)),Et(n,ea,w=>t(9,l=w)),Et(n,Cc,w=>t(6,o=w)),Et(n,vl,w=>t(7,f=w));let c,u="";function d(w){kr(qs,a=w,a)}const h=()=>t(0,u="");function m(){u=this.value,t(0,u)}const p=()=>c==null?void 0:c.show();function g(w){ve[w?"unshift":"push"](()=>{c=w,t(2,c)})}const v=w=>{var k;(k=w.detail)!=null&&k.isNew&&w.detail.collection&&d(w.detail.collection)};return n.$$.update=()=>{n.$$.dirty&512&&l&&EM(),n.$$.dirty&1&&t(1,r=u.replace(/\s+/g,"").toLowerCase()),n.$$.dirty&1&&t(4,i=u!==""),n.$$.dirty&515&&t(3,s=l.filter(w=>w.id==u||w.name.replace(/\s+/g,"").toLowerCase().includes(r)))},[u,r,c,s,i,a,o,f,d,l,h,m,p,g,v]}class AM extends We{constructor(e){super(),Ve(this,e,CM,SM,$e,{})}}function U_(n,e,t){const r=n.slice();return r[14]=e[t][0],r[15]=e[t][1],r}function H_(n){n[18]=n[19].default}function V_(n,e,t){const r=n.slice();return r[14]=e[t][0],r[15]=e[t][1],r[21]=t,r}function W_(n){let e;return{c(){e=y("hr"),_(e,"class","m-t-sm m-b-sm")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function j_(n,e){let t,r=e[21]===Object.keys(e[6]).length,i,s,a=e[15].label+"",l,o,f,c,u=r&&W_();function d(){return e[9](e[14])}return{key:n,first:null,c(){t=Ge(),u&&u.c(),i=D(),s=y("button"),l=q(a),o=D(),_(s,"type","button"),_(s,"class","sidebar-item"),pe(s,"active",e[5]===e[14]),this.first=t},m(h,m){E(h,t,m),u&&u.m(h,m),E(h,i,m),E(h,s,m),b(s,l),b(s,o),f||(c=ae(s,"click",d),f=!0)},p(h,m){e=h,m&8&&(r=e[21]===Object.keys(e[6]).length),r?u||(u=W_(),u.c(),u.m(i.parentNode,i)):u&&(u.d(1),u=null),m&8&&a!==(a=e[15].label+"")&&ke(l,a),m&40&&pe(s,"active",e[5]===e[14])},d(h){h&&S(t),u&&u.d(h),h&&S(i),h&&S(s),f=!1,c()}}}function z_(n){let e,t,r,i={ctx:n,current:null,token:null,hasCatch:!1,pending:OM,then:DM,catch:FM,value:19,blocks:[,,,]};return oc(t=n[15].component,i),{c(){e=Ge(),i.block.c()},m(s,a){E(s,e,a),i.block.m(s,i.anchor=a),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(s,a){n=s,i.ctx=n,a&8&&t!==(t=n[15].component)&&oc(t,i)||Nw(i,n,a)},i(s){r||(M(i.block),r=!0)},o(s){for(let a=0;a<3;a+=1){const l=i.blocks[a];L(l)}r=!1},d(s){s&&S(e),i.block.d(s),i.token=null,i=null}}}function FM(n){return{c:ce,m:ce,p:ce,i:ce,o:ce,d:ce}}function DM(n){H_(n);let e,t,r;return e=new n[18]({props:{collection:n[2]}}),{c(){z(e.$$.fragment),t=D()},m(i,s){W(e,i,s),E(i,t,s),r=!0},p(i,s){H_(i);const a={};s&4&&(a.collection=i[2]),e.$set(a)},i(i){r||(M(e.$$.fragment,i),r=!0)},o(i){L(e.$$.fragment,i),r=!1},d(i){j(e,i),i&&S(t)}}}function OM(n){return{c:ce,m:ce,p:ce,i:ce,o:ce,d:ce}}function q_(n,e){let t,r,i,s=e[5]===e[14]&&z_(e);return{key:n,first:null,c(){t=Ge(),s&&s.c(),r=Ge(),this.first=t},m(a,l){E(a,t,l),s&&s.m(a,l),E(a,r,l),i=!0},p(a,l){e=a,e[5]===e[14]?s?(s.p(e,l),l&40&&M(s,1)):(s=z_(e),s.c(),M(s,1),s.m(r.parentNode,r)):s&&(Me(),L(s,1,1,()=>{s=null}),Ie())},i(a){i||(M(s),i=!0)},o(a){L(s),i=!1},d(a){a&&S(t),s&&s.d(a),a&&S(r)}}}function MM(n){let e,t,r,i=[],s=new Map,a,l,o=[],f=new Map,c,u=Object.entries(n[3]);const d=p=>p[14];for(let p=0;p<u.length;p+=1){let g=V_(n,u,p),v=d(g);s.set(v,i[p]=j_(v,g))}let h=Object.entries(n[3]);const m=p=>p[14];for(let p=0;p<h.length;p+=1){let g=U_(n,h,p),v=m(g);f.set(v,o[p]=q_(v,g))}return{c(){var p;e=y("div"),t=y("aside"),r=y("nav");for(let g=0;g<i.length;g+=1)i[g].c();a=D(),l=y("div");for(let g=0;g<o.length;g+=1)o[g].c();_(r,"class","sidebar-content"),_(t,"class","docs-sidebar"),pe(t,"compact",(p=n[2])==null?void 0:p.isAuth),_(l,"class","docs-content"),_(e,"class","docs-content-wrapper")},m(p,g){E(p,e,g),b(e,t),b(t,r);for(let v=0;v<i.length;v+=1)i[v].m(r,null);b(e,a),b(e,l);for(let v=0;v<o.length;v+=1)o[v].m(l,null);c=!0},p(p,g){var v;g&106&&(u=Object.entries(p[3]),i=sn(i,g,d,1,p,u,s,r,Hi,j_,null,V_)),(!c||g&4)&&pe(t,"compact",(v=p[2])==null?void 0:v.isAuth),g&44&&(h=Object.entries(p[3]),Me(),o=sn(o,g,m,1,p,h,f,l,Tr,q_,null,U_),Ie())},i(p){if(!c){for(let g=0;g<h.length;g+=1)M(o[g]);c=!0}},o(p){for(let g=0;g<o.length;g+=1)L(o[g]);c=!1},d(p){p&&S(e);for(let g=0;g<i.length;g+=1)i[g].d();for(let g=0;g<o.length;g+=1)o[g].d()}}}function IM(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Close</span>',_(e,"type","button"),_(e,"class","btn btn-transparent")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[8]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function NM(n){let e,t,r={class:"docs-panel",$$slots:{footer:[IM],default:[MM]},$$scope:{ctx:n}};return e=new $r({props:r}),n[10](e),e.$on("hide",n[11]),e.$on("show",n[12]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&4194348&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[10](null),j(e,i)}}}function PM(n,e,t){const r={list:{label:"List/Search",component:jt(()=>import("./ListApiDocs-70e1db42.js"),["./ListApiDocs-70e1db42.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css","./ListApiDocs-68f52edd.css"],import.meta.url)},view:{label:"View",component:jt(()=>import("./ViewApiDocs-8140110c.js"),["./ViewApiDocs-8140110c.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},create:{label:"Create",component:jt(()=>import("./CreateApiDocs-8a52102b.js"),["./CreateApiDocs-8a52102b.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},update:{label:"Update",component:jt(()=>import("./UpdateApiDocs-e609b464.js"),["./UpdateApiDocs-e609b464.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},delete:{label:"Delete",component:jt(()=>import("./DeleteApiDocs-bcec9981.js"),["./DeleteApiDocs-bcec9981.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},realtime:{label:"Realtime",component:jt(()=>import("./RealtimeApiDocs-da024ca2.js"),["./RealtimeApiDocs-da024ca2.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)}},i={"auth-with-password":{label:"Auth with password",component:jt(()=>import("./AuthWithPasswordDocs-d04f0b52.js"),["./AuthWithPasswordDocs-d04f0b52.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"auth-with-oauth2":{label:"Auth with OAuth2",component:jt(()=>import("./AuthWithOAuth2Docs-7d3fce99.js"),["./AuthWithOAuth2Docs-7d3fce99.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},refresh:{label:"Auth refresh",component:jt(()=>import("./AuthRefreshDocs-a534c74d.js"),["./AuthRefreshDocs-a534c74d.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"request-verification":{label:"Request verification",component:jt(()=>import("./RequestVerificationDocs-e147aaf6.js"),["./RequestVerificationDocs-e147aaf6.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-verification":{label:"Confirm verification",component:jt(()=>import("./ConfirmVerificationDocs-b4ddbcc7.js"),["./ConfirmVerificationDocs-b4ddbcc7.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"request-password-reset":{label:"Request password reset",component:jt(()=>import("./RequestPasswordResetDocs-f7a432f0.js"),["./RequestPasswordResetDocs-f7a432f0.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-password-reset":{label:"Confirm password reset",component:jt(()=>import("./ConfirmPasswordResetDocs-ca1e12b6.js"),["./ConfirmPasswordResetDocs-ca1e12b6.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"request-email-change":{label:"Request email change",component:jt(()=>import("./RequestEmailChangeDocs-0402656b.js"),["./RequestEmailChangeDocs-0402656b.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"confirm-email-change":{label:"Confirm email change",component:jt(()=>import("./ConfirmEmailChangeDocs-e40e6247.js"),["./ConfirmEmailChangeDocs-e40e6247.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"list-auth-methods":{label:"List auth methods",component:jt(()=>import("./AuthMethodsDocs-21eb5e83.js"),["./AuthMethodsDocs-21eb5e83.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"list-linked-accounts":{label:"List OAuth2 accounts",component:jt(()=>import("./ListExternalAuthsDocs-59133597.js"),["./ListExternalAuthsDocs-59133597.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)},"unlink-account":{label:"Unlink OAuth2 account",component:jt(()=>import("./UnlinkExternalAuthDocs-1be6d837.js"),["./UnlinkExternalAuthDocs-1be6d837.js","./SdkTabs-12f86189.js","./SdkTabs-9b0b7a06.css"],import.meta.url)}};let s,a=new zr,l,o=[];o.length&&(l=Object.keys(o)[0]);function f(v){return t(2,a=v),u(Object.keys(o)[0]),s==null?void 0:s.show()}function c(){return s==null?void 0:s.hide()}function u(v){t(5,l=v)}const d=()=>c(),h=v=>u(v);function m(v){ve[v?"unshift":"push"](()=>{s=v,t(4,s)})}function p(v){mt.call(this,n,v)}function g(v){mt.call(this,n,v)}return n.$$.update=()=>{n.$$.dirty&12&&(a.isAuth?(t(3,o=Object.assign({},r,i)),!(a!=null&&a.options.allowUsernameAuth)&&!(a!=null&&a.options.allowEmailAuth)&&delete o["auth-with-password"],a!=null&&a.options.allowOAuth2Auth||delete o["auth-with-oauth2"]):a.isView?(t(3,o=Object.assign({},r)),delete o.create,delete o.update,delete o.delete,delete o.realtime):t(3,o=Object.assign({},r)))},[c,u,a,o,s,l,r,f,d,h,m,p,g]}class LM extends We{constructor(e){super(),Ve(this,e,PM,NM,$e,{show:7,hide:0,changeTab:1})}get show(){return this.$$.ctx[7]}get hide(){return this.$$.ctx[0]}get changeTab(){return this.$$.ctx[1]}}function RM(n){let e,t,r,i,s,a,l,o,f,c,u,d;return{c(){e=y("label"),t=y("i"),r=D(),i=y("span"),i.textContent="Username",a=D(),l=y("input"),_(t,"class",X.getFieldTypeIcon("user")),_(i,"class","txt"),_(e,"for",s=n[12]),_(l,"type","text"),_(l,"requried",o=!n[0].isNew),_(l,"placeholder",f=n[0].isNew?"Leave empty to auto generate...":n[3]),_(l,"id",c=n[12])},m(h,m){E(h,e,m),b(e,t),b(e,r),b(e,i),E(h,a,m),E(h,l,m),Ne(l,n[0].username),u||(d=ae(l,"input",n[4]),u=!0)},p(h,m){m&4096&&s!==(s=h[12])&&_(e,"for",s),m&1&&o!==(o=!h[0].isNew)&&_(l,"requried",o),m&1&&f!==(f=h[0].isNew?"Leave empty to auto generate...":h[3])&&_(l,"placeholder",f),m&4096&&c!==(c=h[12])&&_(l,"id",c),m&1&&l.value!==h[0].username&&Ne(l,h[0].username)},d(h){h&&S(e),h&&S(a),h&&S(l),u=!1,d()}}}function $M(n){let e,t,r,i,s,a,l,o,f,c,u=n[0].emailVisibility?"On":"Off",d,h,m,p,g,v,w,k,x;return{c(){var A;e=y("label"),t=y("i"),r=D(),i=y("span"),i.textContent="Email",a=D(),l=y("div"),o=y("button"),f=y("span"),c=q("Public: "),d=q(u),m=D(),p=y("input"),_(t,"class",X.getFieldTypeIcon("email")),_(i,"class","txt"),_(e,"for",s=n[12]),_(f,"class","txt"),_(o,"type","button"),_(o,"class",h="btn btn-sm btn-transparent "+(n[0].emailVisibility?"btn-success":"btn-hint")),_(l,"class","form-field-addon email-visibility-addon svelte-1751a4d"),_(p,"type","email"),p.autofocus=g=n[0].isNew,_(p,"autocomplete","off"),_(p,"id",v=n[12]),p.required=w=(A=n[1].options)==null?void 0:A.requireEmail,_(p,"class","svelte-1751a4d")},m(A,T){E(A,e,T),b(e,t),b(e,r),b(e,i),E(A,a,T),E(A,l,T),b(l,o),b(o,f),b(f,c),b(f,d),E(A,m,T),E(A,p,T),Ne(p,n[0].email),n[0].isNew&&p.focus(),k||(x=[st(xt.call(null,o,{text:"Make email public or private",position:"top-right"})),ae(o,"click",n[5]),ae(p,"input",n[6])],k=!0)},p(A,T){var C;T&4096&&s!==(s=A[12])&&_(e,"for",s),T&1&&u!==(u=A[0].emailVisibility?"On":"Off")&&ke(d,u),T&1&&h!==(h="btn btn-sm btn-transparent "+(A[0].emailVisibility?"btn-success":"btn-hint"))&&_(o,"class",h),T&1&&g!==(g=A[0].isNew)&&(p.autofocus=g),T&4096&&v!==(v=A[12])&&_(p,"id",v),T&2&&w!==(w=(C=A[1].options)==null?void 0:C.requireEmail)&&(p.required=w),T&1&&p.value!==A[0].email&&Ne(p,A[0].email)},d(A){A&&S(e),A&&S(a),A&&S(l),A&&S(m),A&&S(p),k=!1,it(x)}}}function Y_(n){let e,t;return e=new Re({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[BM,({uniqueId:r})=>({12:r}),({uniqueId:r})=>r?4096:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i&12292&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function BM(n){let e,t,r,i,s,a,l,o;return{c(){e=y("input"),r=D(),i=y("label"),s=q("Change password"),_(e,"type","checkbox"),_(e,"id",t=n[12]),_(i,"for",a=n[12])},m(f,c){E(f,e,c),e.checked=n[2],E(f,r,c),E(f,i,c),b(i,s),l||(o=ae(e,"change",n[7]),l=!0)},p(f,c){c&4096&&t!==(t=f[12])&&_(e,"id",t),c&4&&(e.checked=f[2]),c&4096&&a!==(a=f[12])&&_(i,"for",a)},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,o()}}}function G_(n){let e,t,r,i,s,a,l,o,f;return i=new Re({props:{class:"form-field required",name:"password",$$slots:{default:[UM,({uniqueId:c})=>({12:c}),({uniqueId:c})=>c?4096:0]},$$scope:{ctx:n}}}),l=new Re({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[HM,({uniqueId:c})=>({12:c}),({uniqueId:c})=>c?4096:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),r=y("div"),z(i.$$.fragment),s=D(),a=y("div"),z(l.$$.fragment),_(r,"class","col-sm-6"),_(a,"class","col-sm-6"),_(t,"class","grid"),pe(t,"p-t-xs",n[2]),_(e,"class","block")},m(c,u){E(c,e,u),b(e,t),b(t,r),W(i,r,null),b(t,s),b(t,a),W(l,a,null),f=!0},p(c,u){const d={};u&12289&&(d.$$scope={dirty:u,ctx:c}),i.$set(d);const h={};u&12289&&(h.$$scope={dirty:u,ctx:c}),l.$set(h),(!f||u&4)&&pe(t,"p-t-xs",c[2])},i(c){f||(M(i.$$.fragment,c),M(l.$$.fragment,c),c&&Nt(()=>{o||(o=ut(e,Sn,{duration:150},!0)),o.run(1)}),f=!0)},o(c){L(i.$$.fragment,c),L(l.$$.fragment,c),c&&(o||(o=ut(e,Sn,{duration:150},!1)),o.run(0)),f=!1},d(c){c&&S(e),j(i),j(l),c&&o&&o.end()}}}function UM(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("label"),t=y("i"),r=D(),i=y("span"),i.textContent="Password",a=D(),l=y("input"),_(t,"class","ri-lock-line"),_(i,"class","txt"),_(e,"for",s=n[12]),_(l,"type","password"),_(l,"autocomplete","new-password"),_(l,"id",o=n[12]),l.required=!0},m(u,d){E(u,e,d),b(e,t),b(e,r),b(e,i),E(u,a,d),E(u,l,d),Ne(l,n[0].password),f||(c=ae(l,"input",n[8]),f=!0)},p(u,d){d&4096&&s!==(s=u[12])&&_(e,"for",s),d&4096&&o!==(o=u[12])&&_(l,"id",o),d&1&&l.value!==u[0].password&&Ne(l,u[0].password)},d(u){u&&S(e),u&&S(a),u&&S(l),f=!1,c()}}}function HM(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("label"),t=y("i"),r=D(),i=y("span"),i.textContent="Password confirm",a=D(),l=y("input"),_(t,"class","ri-lock-line"),_(i,"class","txt"),_(e,"for",s=n[12]),_(l,"type","password"),_(l,"autocomplete","new-password"),_(l,"id",o=n[12]),l.required=!0},m(u,d){E(u,e,d),b(e,t),b(e,r),b(e,i),E(u,a,d),E(u,l,d),Ne(l,n[0].passwordConfirm),f||(c=ae(l,"input",n[9]),f=!0)},p(u,d){d&4096&&s!==(s=u[12])&&_(e,"for",s),d&4096&&o!==(o=u[12])&&_(l,"id",o),d&1&&l.value!==u[0].passwordConfirm&&Ne(l,u[0].passwordConfirm)},d(u){u&&S(e),u&&S(a),u&&S(l),f=!1,c()}}}function VM(n){let e,t,r,i,s,a,l,o;return{c(){e=y("input"),r=D(),i=y("label"),s=q("Verified"),_(e,"type","checkbox"),_(e,"id",t=n[12]),_(i,"for",a=n[12])},m(f,c){E(f,e,c),e.checked=n[0].verified,E(f,r,c),E(f,i,c),b(i,s),l||(o=[ae(e,"change",n[10]),ae(e,"change",Yt(n[11]))],l=!0)},p(f,c){c&4096&&t!==(t=f[12])&&_(e,"id",t),c&1&&(e.checked=f[0].verified),c&4096&&a!==(a=f[12])&&_(i,"for",a)},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,it(o)}}}function WM(n){var g;let e,t,r,i,s,a,l,o,f,c,u,d,h;r=new Re({props:{class:"form-field "+(n[0].isNew?"":"required"),name:"username",$$slots:{default:[RM,({uniqueId:v})=>({12:v}),({uniqueId:v})=>v?4096:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field "+((g=n[1].options)!=null&&g.requireEmail?"required":""),name:"email",$$slots:{default:[$M,({uniqueId:v})=>({12:v}),({uniqueId:v})=>v?4096:0]},$$scope:{ctx:n}}});let m=!n[0].isNew&&Y_(n),p=(n[0].isNew||n[2])&&G_(n);return d=new Re({props:{class:"form-field form-field-toggle",name:"verified",$$slots:{default:[VM,({uniqueId:v})=>({12:v}),({uniqueId:v})=>v?4096:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),l=D(),o=y("div"),m&&m.c(),f=D(),p&&p.c(),c=D(),u=y("div"),z(d.$$.fragment),_(t,"class","col-lg-6"),_(s,"class","col-lg-6"),_(o,"class","col-lg-12"),_(u,"class","col-lg-12"),_(e,"class","grid m-b-base")},m(v,w){E(v,e,w),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),b(e,l),b(e,o),m&&m.m(o,null),b(o,f),p&&p.m(o,null),b(e,c),b(e,u),W(d,u,null),h=!0},p(v,[w]){var T;const k={};w&1&&(k.class="form-field "+(v[0].isNew?"":"required")),w&12289&&(k.$$scope={dirty:w,ctx:v}),r.$set(k);const x={};w&2&&(x.class="form-field "+((T=v[1].options)!=null&&T.requireEmail?"required":"")),w&12291&&(x.$$scope={dirty:w,ctx:v}),a.$set(x),v[0].isNew?m&&(Me(),L(m,1,1,()=>{m=null}),Ie()):m?(m.p(v,w),w&1&&M(m,1)):(m=Y_(v),m.c(),M(m,1),m.m(o,f)),v[0].isNew||v[2]?p?(p.p(v,w),w&5&&M(p,1)):(p=G_(v),p.c(),M(p,1),p.m(o,null)):p&&(Me(),L(p,1,1,()=>{p=null}),Ie());const A={};w&12289&&(A.$$scope={dirty:w,ctx:v}),d.$set(A)},i(v){h||(M(r.$$.fragment,v),M(a.$$.fragment,v),M(m),M(p),M(d.$$.fragment,v),h=!0)},o(v){L(r.$$.fragment,v),L(a.$$.fragment,v),L(m),L(p),L(d.$$.fragment,v),h=!1},d(v){v&&S(e),j(r),j(a),m&&m.d(),p&&p.d(),j(d)}}}function jM(n,e,t){let{collection:r=new zr}=e,{record:i=new ws}=e,s=i.username||null,a=!1;function l(){i.username=this.value,t(0,i),t(2,a)}const o=()=>t(0,i.emailVisibility=!i.emailVisibility,i);function f(){i.email=this.value,t(0,i),t(2,a)}function c(){a=this.checked,t(2,a)}function u(){i.password=this.value,t(0,i),t(2,a)}function d(){i.passwordConfirm=this.value,t(0,i),t(2,a)}function h(){i.verified=this.checked,t(0,i),t(2,a)}const m=p=>{i.isNew||Wr("Do you really want to manually change the verified account state?",()=>{},()=>{t(0,i.verified=!p.target.checked,i)})};return n.$$set=p=>{"collection"in p&&t(1,r=p.collection),"record"in p&&t(0,i=p.record)},n.$$.update=()=>{n.$$.dirty&1&&!i.username&&i.username!==null&&t(0,i.username=null,i),n.$$.dirty&4&&(a||(t(0,i.password=null,i),t(0,i.passwordConfirm=null,i),Ca("password"),Ca("passwordConfirm")))},[i,r,a,s,l,o,f,c,u,d,h,m]}class zM extends We{constructor(e){super(),Ve(this,e,jM,WM,$e,{collection:1,record:0})}}function qM(n){let e,t,r,i=[n[3]],s={};for(let a=0;a<i.length;a+=1)s=Mt(s,i[a]);return{c(){e=y("textarea"),ts(e,s),pe(e,"svelte-1x1pbts",!0)},m(a,l){E(a,e,l),e.autofocus&&e.focus(),n[5](e),Ne(e,n[0]),t||(r=[ae(e,"input",n[6]),ae(e,"keydown",n[2])],t=!0)},p(a,[l]){ts(e,s=Rr(i,[l&8&&a[3]])),l&1&&Ne(e,a[0]),pe(e,"svelte-1x1pbts",!0)},i:ce,o:ce,d(a){a&&S(e),n[5](null),t=!1,it(r)}}}function YM(n,e,t){const r=["value","maxHeight"];let i=zn(e,r),{value:s=""}=e,{maxHeight:a=200}=e,l,o;function f(){clearTimeout(o),o=setTimeout(()=>{l&&(t(1,l.style.height="",l),t(1,l.style.height=Math.min(l.scrollHeight+2,a)+"px",l))},0)}function c(h){if((h==null?void 0:h.code)==="Enter"&&!(h!=null&&h.shiftKey)&&!(h!=null&&h.isComposing)){h.preventDefault();const m=l.closest("form");m!=null&&m.requestSubmit&&m.requestSubmit()}}ur(()=>(f(),()=>clearTimeout(o)));function u(h){ve[h?"unshift":"push"](()=>{l=h,t(1,l)})}function d(){s=this.value,t(0,s)}return n.$$set=h=>{e=Mt(Mt({},e),rs(h)),t(3,i=zn(e,r)),"value"in h&&t(0,s=h.value),"maxHeight"in h&&t(4,a=h.maxHeight)},n.$$.update=()=>{n.$$.dirty&1&&typeof s!==void 0&&f()},[s,l,c,i,a,u,d]}class GM extends We{constructor(e){super(),Ve(this,e,YM,qM,$e,{value:0,maxHeight:4})}}function XM(n){let e,t,r,i,s,a=n[1].name+"",l,o,f,c,u,d;function h(p){n[2](p)}let m={id:n[3],required:n[1].required};return n[0]!==void 0&&(m.value=n[0]),c=new GM({props:m}),ve.push(()=>Le(c,"value",h)),{c(){e=y("label"),t=y("i"),i=D(),s=y("span"),l=q(a),f=D(),z(c.$$.fragment),_(t,"class",r=X.getFieldTypeIcon(n[1].type)),_(s,"class","txt"),_(e,"for",o=n[3])},m(p,g){E(p,e,g),b(e,t),b(e,i),b(e,s),b(s,l),E(p,f,g),W(c,p,g),d=!0},p(p,g){(!d||g&2&&r!==(r=X.getFieldTypeIcon(p[1].type)))&&_(t,"class",r),(!d||g&2)&&a!==(a=p[1].name+"")&&ke(l,a),(!d||g&8&&o!==(o=p[3]))&&_(e,"for",o);const v={};g&8&&(v.id=p[3]),g&2&&(v.required=p[1].required),!u&&g&1&&(u=!0,v.value=p[0],He(()=>u=!1)),c.$set(v)},i(p){d||(M(c.$$.fragment,p),d=!0)},o(p){L(c.$$.fragment,p),d=!1},d(p){p&&S(e),p&&S(f),j(c,p)}}}function KM(n){let e,t;return e=new Re({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[XM,({uniqueId:r})=>({3:r}),({uniqueId:r})=>r?8:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.class="form-field "+(r[1].required?"required":"")),i&2&&(s.name=r[1].name),i&27&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function JM(n,e,t){let{field:r=new Yr}=e,{value:i=void 0}=e;function s(a){i=a,t(0,i)}return n.$$set=a=>{"field"in a&&t(1,r=a.field),"value"in a&&t(0,i=a.value)},[i,r,s]}class Gy extends We{constructor(e){super(),Ve(this,e,JM,KM,$e,{field:1,value:0})}}function ZM(n){let e,t,r,i,s,a=n[1].name+"",l,o,f,c,u,d,h,m,p,g;return{c(){var v,w;e=y("label"),t=y("i"),i=D(),s=y("span"),l=q(a),f=D(),c=y("input"),_(t,"class",r=X.getFieldTypeIcon(n[1].type)),_(s,"class","txt"),_(e,"for",o=n[3]),_(c,"type","number"),_(c,"id",u=n[3]),c.required=d=n[1].required,_(c,"min",h=(v=n[1].options)==null?void 0:v.min),_(c,"max",m=(w=n[1].options)==null?void 0:w.max),_(c,"step","any")},m(v,w){E(v,e,w),b(e,t),b(e,i),b(e,s),b(s,l),E(v,f,w),E(v,c,w),Ne(c,n[0]),p||(g=ae(c,"input",n[2]),p=!0)},p(v,w){var k,x;w&2&&r!==(r=X.getFieldTypeIcon(v[1].type))&&_(t,"class",r),w&2&&a!==(a=v[1].name+"")&&ke(l,a),w&8&&o!==(o=v[3])&&_(e,"for",o),w&8&&u!==(u=v[3])&&_(c,"id",u),w&2&&d!==(d=v[1].required)&&(c.required=d),w&2&&h!==(h=(k=v[1].options)==null?void 0:k.min)&&_(c,"min",h),w&2&&m!==(m=(x=v[1].options)==null?void 0:x.max)&&_(c,"max",m),w&1&&nn(c.value)!==v[0]&&Ne(c,v[0])},d(v){v&&S(e),v&&S(f),v&&S(c),p=!1,g()}}}function QM(n){let e,t;return e=new Re({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[ZM,({uniqueId:r})=>({3:r}),({uniqueId:r})=>r?8:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.class="form-field "+(r[1].required?"required":"")),i&2&&(s.name=r[1].name),i&27&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function eI(n,e,t){let{field:r=new Yr}=e,{value:i=void 0}=e;function s(){i=nn(this.value),t(0,i)}return n.$$set=a=>{"field"in a&&t(1,r=a.field),"value"in a&&t(0,i=a.value)},[i,r,s]}class Xy extends We{constructor(e){super(),Ve(this,e,eI,QM,$e,{field:1,value:0})}}function tI(n){let e,t,r,i,s=n[1].name+"",a,l,o,f;return{c(){e=y("input"),r=D(),i=y("label"),a=q(s),_(e,"type","checkbox"),_(e,"id",t=n[3]),_(i,"for",l=n[3])},m(c,u){E(c,e,u),e.checked=n[0],E(c,r,u),E(c,i,u),b(i,a),o||(f=ae(e,"change",n[2]),o=!0)},p(c,u){u&8&&t!==(t=c[3])&&_(e,"id",t),u&1&&(e.checked=c[0]),u&2&&s!==(s=c[1].name+"")&&ke(a,s),u&8&&l!==(l=c[3])&&_(i,"for",l)},d(c){c&&S(e),c&&S(r),c&&S(i),o=!1,f()}}}function nI(n){let e,t;return e=new Re({props:{class:"form-field form-field-toggle "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[tI,({uniqueId:r})=>({3:r}),({uniqueId:r})=>r?8:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.class="form-field form-field-toggle "+(r[1].required?"required":"")),i&2&&(s.name=r[1].name),i&27&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function rI(n,e,t){let{field:r=new Yr}=e,{value:i=!1}=e;function s(){i=this.checked,t(0,i)}return n.$$set=a=>{"field"in a&&t(1,r=a.field),"value"in a&&t(0,i=a.value)},[i,r,s]}class Ky extends We{constructor(e){super(),Ve(this,e,rI,nI,$e,{field:1,value:0})}}function iI(n){let e,t,r,i,s,a=n[1].name+"",l,o,f,c,u,d,h,m;return{c(){e=y("label"),t=y("i"),i=D(),s=y("span"),l=q(a),f=D(),c=y("input"),_(t,"class",r=X.getFieldTypeIcon(n[1].type)),_(s,"class","txt"),_(e,"for",o=n[3]),_(c,"type","email"),_(c,"id",u=n[3]),c.required=d=n[1].required},m(p,g){E(p,e,g),b(e,t),b(e,i),b(e,s),b(s,l),E(p,f,g),E(p,c,g),Ne(c,n[0]),h||(m=ae(c,"input",n[2]),h=!0)},p(p,g){g&2&&r!==(r=X.getFieldTypeIcon(p[1].type))&&_(t,"class",r),g&2&&a!==(a=p[1].name+"")&&ke(l,a),g&8&&o!==(o=p[3])&&_(e,"for",o),g&8&&u!==(u=p[3])&&_(c,"id",u),g&2&&d!==(d=p[1].required)&&(c.required=d),g&1&&c.value!==p[0]&&Ne(c,p[0])},d(p){p&&S(e),p&&S(f),p&&S(c),h=!1,m()}}}function sI(n){let e,t;return e=new Re({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[iI,({uniqueId:r})=>({3:r}),({uniqueId:r})=>r?8:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.class="form-field "+(r[1].required?"required":"")),i&2&&(s.name=r[1].name),i&27&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function aI(n,e,t){let{field:r=new Yr}=e,{value:i=void 0}=e;function s(){i=this.value,t(0,i)}return n.$$set=a=>{"field"in a&&t(1,r=a.field),"value"in a&&t(0,i=a.value)},[i,r,s]}class Jy extends We{constructor(e){super(),Ve(this,e,aI,sI,$e,{field:1,value:0})}}function lI(n){let e,t,r,i,s,a=n[1].name+"",l,o,f,c,u,d,h,m;return{c(){e=y("label"),t=y("i"),i=D(),s=y("span"),l=q(a),f=D(),c=y("input"),_(t,"class",r=X.getFieldTypeIcon(n[1].type)),_(s,"class","txt"),_(e,"for",o=n[3]),_(c,"type","url"),_(c,"id",u=n[3]),c.required=d=n[1].required},m(p,g){E(p,e,g),b(e,t),b(e,i),b(e,s),b(s,l),E(p,f,g),E(p,c,g),Ne(c,n[0]),h||(m=ae(c,"input",n[2]),h=!0)},p(p,g){g&2&&r!==(r=X.getFieldTypeIcon(p[1].type))&&_(t,"class",r),g&2&&a!==(a=p[1].name+"")&&ke(l,a),g&8&&o!==(o=p[3])&&_(e,"for",o),g&8&&u!==(u=p[3])&&_(c,"id",u),g&2&&d!==(d=p[1].required)&&(c.required=d),g&1&&Ne(c,p[0])},d(p){p&&S(e),p&&S(f),p&&S(c),h=!1,m()}}}function oI(n){let e,t;return e=new Re({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[lI,({uniqueId:r})=>({3:r}),({uniqueId:r})=>r?8:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.class="form-field "+(r[1].required?"required":"")),i&2&&(s.name=r[1].name),i&27&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function fI(n,e,t){let{field:r=new Yr}=e,{value:i=void 0}=e;function s(){i=this.value,t(0,i)}return n.$$set=a=>{"field"in a&&t(1,r=a.field),"value"in a&&t(0,i=a.value)},[i,r,s]}class Zy extends We{constructor(e){super(),Ve(this,e,fI,oI,$e,{field:1,value:0})}}function X_(n){let e,t,r,i;return{c(){e=y("div"),t=y("button"),t.innerHTML='<i class="ri-close-line"></i>',_(t,"type","button"),_(t,"class","link-hint clear-btn svelte-11df51y"),_(e,"class","form-field-addon")},m(s,a){E(s,e,a),b(e,t),r||(i=[st(xt.call(null,t,"Clear")),ae(t,"click",n[5])],r=!0)},p:ce,d(s){s&&S(e),r=!1,it(i)}}}function cI(n){let e,t,r,i,s,a=n[1].name+"",l,o,f,c,u,d,h,m,p,g=n[0]&&!n[1].required&&X_(n);function v(x){n[6](x)}function w(x){n[7](x)}let k={id:n[8],options:X.defaultFlatpickrOptions()};return n[2]!==void 0&&(k.value=n[2]),n[0]!==void 0&&(k.formattedValue=n[0]),d=new Yd({props:k}),ve.push(()=>Le(d,"value",v)),ve.push(()=>Le(d,"formattedValue",w)),d.$on("close",n[3]),{c(){e=y("label"),t=y("i"),i=D(),s=y("span"),l=q(a),o=q(" (UTC)"),c=D(),g&&g.c(),u=D(),z(d.$$.fragment),_(t,"class",r=Ws(X.getFieldTypeIcon(n[1].type))+" svelte-11df51y"),_(s,"class","txt"),_(e,"for",f=n[8])},m(x,A){E(x,e,A),b(e,t),b(e,i),b(e,s),b(s,l),b(s,o),E(x,c,A),g&&g.m(x,A),E(x,u,A),W(d,x,A),p=!0},p(x,A){(!p||A&2&&r!==(r=Ws(X.getFieldTypeIcon(x[1].type))+" svelte-11df51y"))&&_(t,"class",r),(!p||A&2)&&a!==(a=x[1].name+"")&&ke(l,a),(!p||A&256&&f!==(f=x[8]))&&_(e,"for",f),x[0]&&!x[1].required?g?g.p(x,A):(g=X_(x),g.c(),g.m(u.parentNode,u)):g&&(g.d(1),g=null);const T={};A&256&&(T.id=x[8]),!h&&A&4&&(h=!0,T.value=x[2],He(()=>h=!1)),!m&&A&1&&(m=!0,T.formattedValue=x[0],He(()=>m=!1)),d.$set(T)},i(x){p||(M(d.$$.fragment,x),p=!0)},o(x){L(d.$$.fragment,x),p=!1},d(x){x&&S(e),x&&S(c),g&&g.d(x),x&&S(u),j(d,x)}}}function uI(n){let e,t;return e=new Re({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[cI,({uniqueId:r})=>({8:r}),({uniqueId:r})=>r?256:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.class="form-field "+(r[1].required?"required":"")),i&2&&(s.name=r[1].name),i&775&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function dI(n,e,t){let{field:r=new Yr}=e,{value:i=void 0}=e,s=i;function a(u){u.detail&&u.detail.length==3&&t(0,i=u.detail[1])}function l(){t(0,i="")}const o=()=>l();function f(u){s=u,t(2,s),t(0,i)}function c(u){i=u,t(0,i)}return n.$$set=u=>{"field"in u&&t(1,r=u.field),"value"in u&&t(0,i=u.value)},n.$$.update=()=>{n.$$.dirty&1&&i&&i.length>19&&t(0,i=i.substring(0,19)),n.$$.dirty&5&&s!=i&&t(2,s=i)},[i,r,s,a,l,o,f,c]}class Qy extends We{constructor(e){super(),Ve(this,e,dI,uI,$e,{field:1,value:0})}}function K_(n){let e,t,r=n[1].options.maxSelect+"",i,s;return{c(){e=y("div"),t=q("Select up to "),i=q(r),s=q(" items."),_(e,"class","help-block")},m(a,l){E(a,e,l),b(e,t),b(e,i),b(e,s)},p(a,l){l&2&&r!==(r=a[1].options.maxSelect+"")&&ke(i,r)},d(a){a&&S(e)}}}function hI(n){var w,k,x,A,T;let e,t,r,i,s,a=n[1].name+"",l,o,f,c,u,d,h,m;function p(C){n[3](C)}let g={id:n[4],toggle:!n[1].required||n[2],multiple:n[2],closable:!n[2]||((w=n[0])==null?void 0:w.length)>=((k=n[1].options)==null?void 0:k.maxSelect),items:(x=n[1].options)==null?void 0:x.values,searchable:((A=n[1].options)==null?void 0:A.values)>5};n[0]!==void 0&&(g.selected=n[0]),c=new qd({props:g}),ve.push(()=>Le(c,"selected",p));let v=((T=n[1].options)==null?void 0:T.maxSelect)>1&&K_(n);return{c(){e=y("label"),t=y("i"),i=D(),s=y("span"),l=q(a),f=D(),z(c.$$.fragment),d=D(),v&&v.c(),h=Ge(),_(t,"class",r=X.getFieldTypeIcon(n[1].type)),_(s,"class","txt"),_(e,"for",o=n[4])},m(C,F){E(C,e,F),b(e,t),b(e,i),b(e,s),b(s,l),E(C,f,F),W(c,C,F),E(C,d,F),v&&v.m(C,F),E(C,h,F),m=!0},p(C,F){var I,N,P,R,Y;(!m||F&2&&r!==(r=X.getFieldTypeIcon(C[1].type)))&&_(t,"class",r),(!m||F&2)&&a!==(a=C[1].name+"")&&ke(l,a),(!m||F&16&&o!==(o=C[4]))&&_(e,"for",o);const O={};F&16&&(O.id=C[4]),F&6&&(O.toggle=!C[1].required||C[2]),F&4&&(O.multiple=C[2]),F&7&&(O.closable=!C[2]||((I=C[0])==null?void 0:I.length)>=((N=C[1].options)==null?void 0:N.maxSelect)),F&2&&(O.items=(P=C[1].options)==null?void 0:P.values),F&2&&(O.searchable=((R=C[1].options)==null?void 0:R.values)>5),!u&&F&1&&(u=!0,O.selected=C[0],He(()=>u=!1)),c.$set(O),((Y=C[1].options)==null?void 0:Y.maxSelect)>1?v?v.p(C,F):(v=K_(C),v.c(),v.m(h.parentNode,h)):v&&(v.d(1),v=null)},i(C){m||(M(c.$$.fragment,C),m=!0)},o(C){L(c.$$.fragment,C),m=!1},d(C){C&&S(e),C&&S(f),j(c,C),C&&S(d),v&&v.d(C),C&&S(h)}}}function pI(n){let e,t;return e=new Re({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[hI,({uniqueId:r})=>({4:r}),({uniqueId:r})=>r?16:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.class="form-field "+(r[1].required?"required":"")),i&2&&(s.name=r[1].name),i&55&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function mI(n,e,t){let r,{field:i=new Yr}=e,{value:s=void 0}=e;function a(l){s=l,t(0,s),t(2,r),t(1,i)}return n.$$set=l=>{"field"in l&&t(1,i=l.field),"value"in l&&t(0,s=l.value)},n.$$.update=()=>{var l;n.$$.dirty&2&&t(2,r=((l=i.options)==null?void 0:l.maxSelect)>1),n.$$.dirty&5&&typeof s>"u"&&t(0,s=r?[]:""),n.$$.dirty&7&&r&&Array.isArray(s)&&s.length>i.options.maxSelect&&t(0,s=s.slice(s.length-i.options.maxSelect))},[s,i,r,a]}class ex extends We{constructor(e){super(),Ve(this,e,mI,pI,$e,{field:1,value:0})}}function _I(n){let e,t,r,i,s,a=n[1].name+"",l,o,f,c,u,d,h,m;return{c(){e=y("label"),t=y("i"),i=D(),s=y("span"),l=q(a),f=D(),c=y("textarea"),_(t,"class",r=X.getFieldTypeIcon(n[1].type)),_(s,"class","txt"),_(e,"for",o=n[4]),_(c,"id",u=n[4]),_(c,"class","txt-mono"),c.required=d=n[1].required,c.value=n[2]},m(p,g){E(p,e,g),b(e,t),b(e,i),b(e,s),b(s,l),E(p,f,g),E(p,c,g),h||(m=ae(c,"input",n[3]),h=!0)},p(p,g){g&2&&r!==(r=X.getFieldTypeIcon(p[1].type))&&_(t,"class",r),g&2&&a!==(a=p[1].name+"")&&ke(l,a),g&16&&o!==(o=p[4])&&_(e,"for",o),g&16&&u!==(u=p[4])&&_(c,"id",u),g&2&&d!==(d=p[1].required)&&(c.required=d),g&4&&(c.value=p[2])},d(p){p&&S(e),p&&S(f),p&&S(c),h=!1,m()}}}function gI(n){let e,t;return e=new Re({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[_I,({uniqueId:r})=>({4:r}),({uniqueId:r})=>r?16:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.class="form-field "+(r[1].required?"required":"")),i&2&&(s.name=r[1].name),i&55&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function vI(n,e,t){let{field:r=new Yr}=e,{value:i=void 0}=e,s=JSON.stringify(typeof i>"u"?null:i,null,2);const a=l=>{t(2,s=l.target.value),t(0,i=l.target.value.trim())};return n.$$set=l=>{"field"in l&&t(1,r=l.field),"value"in l&&t(0,i=l.value)},n.$$.update=()=>{n.$$.dirty&5&&i!==(s==null?void 0:s.trim())&&(t(2,s=JSON.stringify(typeof i>"u"?null:i,null,2)),t(0,i=s))},[i,r,s,a]}class tx extends We{constructor(e){super(),Ve(this,e,vI,gI,$e,{field:1,value:0})}}function bI(n){let e,t;return{c(){e=y("i"),_(e,"class","ri-file-line"),_(e,"alt",t=n[0].name)},m(r,i){E(r,e,i)},p(r,i){i&1&&t!==(t=r[0].name)&&_(e,"alt",t)},d(r){r&&S(e)}}}function wI(n){let e,t,r;return{c(){e=y("img"),Ui(e.src,t=n[2])||_(e,"src",t),_(e,"width",n[1]),_(e,"height",n[1]),_(e,"alt",r=n[0].name)},m(i,s){E(i,e,s)},p(i,s){s&4&&!Ui(e.src,t=i[2])&&_(e,"src",t),s&2&&_(e,"width",i[1]),s&2&&_(e,"height",i[1]),s&1&&r!==(r=i[0].name)&&_(e,"alt",r)},d(i){i&&S(e)}}}function kI(n){let e;function t(s,a){return s[2]?wI:bI}let r=t(n),i=r(n);return{c(){i.c(),e=Ge()},m(s,a){i.m(s,a),E(s,e,a)},p(s,[a]){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:ce,o:ce,d(s){i.d(s),s&&S(e)}}}function yI(n,e,t){let r,{file:i}=e,{size:s=50}=e;function a(){t(2,r=""),X.hasImageExtension(i==null?void 0:i.name)&&X.generateThumb(i,s,s).then(l=>{t(2,r=l)}).catch(l=>{console.warn("Unable to generate thumb: ",l)})}return n.$$set=l=>{"file"in l&&t(0,i=l.file),"size"in l&&t(1,s=l.size)},n.$$.update=()=>{n.$$.dirty&1&&typeof i<"u"&&a()},t(2,r=""),[i,s,r]}class xI extends We{constructor(e){super(),Ve(this,e,yI,kI,$e,{file:0,size:1})}}function J_(n){let e;function t(s,a){return s[4]==="image"?SI:TI}let r=t(n),i=r(n);return{c(){i.c(),e=Ge()},m(s,a){i.m(s,a),E(s,e,a)},p(s,a){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&S(e)}}}function TI(n){let e,t;return{c(){e=y("object"),t=q("Cannot preview the file."),_(e,"title",n[2]),_(e,"data",n[1])},m(r,i){E(r,e,i),b(e,t)},p(r,i){i&4&&_(e,"title",r[2]),i&2&&_(e,"data",r[1])},d(r){r&&S(e)}}}function SI(n){let e,t,r;return{c(){e=y("img"),Ui(e.src,t=n[1])||_(e,"src",t),_(e,"alt",r="Preview "+n[2])},m(i,s){E(i,e,s)},p(i,s){s&2&&!Ui(e.src,t=i[1])&&_(e,"src",t),s&4&&r!==(r="Preview "+i[2])&&_(e,"alt",r)},d(i){i&&S(e)}}}function EI(n){var i;let e=(i=n[3])==null?void 0:i.isActive(),t,r=e&&J_(n);return{c(){r&&r.c(),t=Ge()},m(s,a){r&&r.m(s,a),E(s,t,a)},p(s,a){var l;a&8&&(e=(l=s[3])==null?void 0:l.isActive()),e?r?r.p(s,a):(r=J_(s),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(s){r&&r.d(s),s&&S(t)}}}function CI(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line"></i>',_(e,"type","button"),_(e,"class","overlay-close")},m(i,s){E(i,e,s),t||(r=ae(e,"click",Yt(n[0])),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function AI(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("a"),t=q(n[2]),r=D(),i=y("i"),s=D(),a=y("div"),l=D(),o=y("button"),o.textContent="Close",_(i,"class","ri-external-link-line"),_(e,"href",n[1]),_(e,"title",n[2]),_(e,"target","_blank"),_(e,"rel","noreferrer noopener"),_(e,"class","link-hint txt-ellipsis inline-flex"),_(a,"class","flex-fill"),_(o,"type","button"),_(o,"class","btn btn-transparent")},m(u,d){E(u,e,d),b(e,t),b(e,r),b(e,i),E(u,s,d),E(u,a,d),E(u,l,d),E(u,o,d),f||(c=ae(o,"click",n[0]),f=!0)},p(u,d){d&4&&ke(t,u[2]),d&2&&_(e,"href",u[1]),d&4&&_(e,"title",u[2])},d(u){u&&S(e),u&&S(s),u&&S(a),u&&S(l),u&&S(o),f=!1,c()}}}function FI(n){let e,t,r={class:"preview preview-"+n[4],btnClose:!1,popup:!0,$$slots:{footer:[AI],header:[CI],default:[EI]},$$scope:{ctx:n}};return e=new $r({props:r}),n[6](e),e.$on("show",n[7]),e.$on("hide",n[8]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&16&&(a.class="preview preview-"+i[4]),s&542&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[6](null),j(e,i)}}}function DI(n,e,t){let r,i,s,a="";function l(d){d!==""&&(t(1,a=d),s==null||s.show())}function o(){return s==null?void 0:s.hide()}function f(d){ve[d?"unshift":"push"](()=>{s=d,t(3,s)})}function c(d){mt.call(this,n,d)}function u(d){mt.call(this,n,d)}return n.$$.update=()=>{n.$$.dirty&2&&t(2,r=a.substring(a.lastIndexOf("/")+1)),n.$$.dirty&4&&t(4,i=X.getFileType(r))},[o,a,r,s,i,l,f,c,u]}class OI extends We{constructor(e){super(),Ve(this,e,DI,FI,$e,{show:5,hide:0})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[0]}}function MI(n){let e;return{c(){e=y("i"),_(e,"class","ri-file-3-line")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function II(n){let e;return{c(){e=y("i"),_(e,"class","ri-video-line")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function NI(n){let e,t,r,i,s;return{c(){e=y("img"),Ui(e.src,t=n[4])||_(e,"src",t),_(e,"alt",n[0]),_(e,"title",r="Preview "+n[0])},m(a,l){E(a,e,l),i||(s=ae(e,"error",n[7]),i=!0)},p(a,l){l&16&&!Ui(e.src,t=a[4])&&_(e,"src",t),l&1&&_(e,"alt",a[0]),l&1&&r!==(r="Preview "+a[0])&&_(e,"title",r)},d(a){a&&S(e),i=!1,s()}}}function PI(n){let e,t,r,i,s,a,l,o;function f(h,m){return h[2]==="image"?NI:h[2]==="video"||h[2]==="audio"?II:MI}let c=f(n),u=c(n),d={};return s=new OI({props:d}),n[10](s),{c(){e=y("a"),u.c(),i=D(),z(s.$$.fragment),_(e,"class",t="thumb "+(n[1]?`thumb-${n[1]}`:"")),_(e,"href",n[6]),_(e,"target","_blank"),_(e,"rel","noreferrer"),_(e,"title",r=(n[5]?"Preview":"Download")+" "+n[0])},m(h,m){E(h,e,m),u.m(e,null),E(h,i,m),W(s,h,m),a=!0,l||(o=ae(e,"click",ri(n[9])),l=!0)},p(h,[m]){c===(c=f(h))&&u?u.p(h,m):(u.d(1),u=c(h),u&&(u.c(),u.m(e,null))),(!a||m&2&&t!==(t="thumb "+(h[1]?`thumb-${h[1]}`:"")))&&_(e,"class",t),(!a||m&33&&r!==(r=(h[5]?"Preview":"Download")+" "+h[0]))&&_(e,"title",r);const p={};s.$set(p)},i(h){a||(M(s.$$.fragment,h),a=!0)},o(h){L(s.$$.fragment,h),a=!1},d(h){h&&S(e),u.d(),h&&S(i),n[10](null),j(s,h),l=!1,o()}}}function LI(n,e,t){let r,i,{record:s=null}=e,{filename:a=""}=e,{size:l=""}=e,o,f="",c=Ue.getFileUrl(s,a);function u(){t(4,f="")}const d=m=>{i&&(m.preventDefault(),o==null||o.show(c))};function h(m){ve[m?"unshift":"push"](()=>{o=m,t(3,o)})}return n.$$set=m=>{"record"in m&&t(8,s=m.record),"filename"in m&&t(0,a=m.filename),"size"in m&&t(1,l=m.size)},n.$$.update=()=>{n.$$.dirty&1&&t(2,r=X.getFileType(a)),n.$$.dirty&5&&t(5,i=["image","audio","video"].includes(r)||a.endsWith(".pdf"))},t(4,f=c?c+"?thumb=100x100":""),[a,l,r,o,f,i,c,u,s,d,h]}class Xd extends We{constructor(e){super(),Ve(this,e,LI,PI,$e,{record:8,filename:0,size:1})}}function Z_(n,e,t){const r=n.slice();return r[22]=e[t],r[24]=t,r}function Q_(n,e,t){const r=n.slice();r[25]=e[t],r[24]=t;const i=r[1].includes(r[24]);return r[26]=i,r}function RI(n){let e,t,r;function i(){return n[14](n[24])}return{c(){e=y("button"),e.innerHTML='<i class="ri-close-line"></i>',_(e,"type","button"),_(e,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove")},m(s,a){E(s,e,a),t||(r=[st(xt.call(null,e,"Remove file")),ae(e,"click",i)],t=!0)},p(s,a){n=s},d(s){s&&S(e),t=!1,it(r)}}}function $I(n){let e,t,r;function i(){return n[13](n[24])}return{c(){e=y("button"),e.innerHTML='<span class="txt">Restore</span>',_(e,"type","button"),_(e,"class","btn btn-sm btn-danger btn-transparent")},m(s,a){E(s,e,a),t||(r=ae(e,"click",i),t=!0)},p(s,a){n=s},d(s){s&&S(e),t=!1,r()}}}function eg(n,e){let t,r,i,s,a,l,o=e[25]+"",f,c,u,d,h,m,p;i=new Xd({props:{record:e[2],filename:e[25]}});function g(k,x){return x&18&&(m=null),m==null&&(m=!!k[1].includes(k[24])),m?$I:RI}let v=g(e,-1),w=v(e);return{key:n,first:null,c(){t=y("div"),r=y("div"),z(i.$$.fragment),s=D(),a=y("div"),l=y("a"),f=q(o),d=D(),h=y("div"),w.c(),pe(r,"fade",e[1].includes(e[24])),_(l,"href",c=Ue.getFileUrl(e[2],e[25])),_(l,"class",u="txt-ellipsis "+(e[26]?"txt-strikethrough txt-hint":"link-primary")),_(l,"title","Download"),_(l,"target","_blank"),_(l,"rel","noopener noreferrer"),_(a,"class","content"),_(h,"class","actions"),_(t,"class","list-item"),this.first=t},m(k,x){E(k,t,x),b(t,r),W(i,r,null),b(t,s),b(t,a),b(a,l),b(l,f),b(t,d),b(t,h),w.m(h,null),p=!0},p(k,x){e=k;const A={};x&4&&(A.record=e[2]),x&16&&(A.filename=e[25]),i.$set(A),(!p||x&18)&&pe(r,"fade",e[1].includes(e[24])),(!p||x&16)&&o!==(o=e[25]+"")&&ke(f,o),(!p||x&20&&c!==(c=Ue.getFileUrl(e[2],e[25])))&&_(l,"href",c),(!p||x&18&&u!==(u="txt-ellipsis "+(e[26]?"txt-strikethrough txt-hint":"link-primary")))&&_(l,"class",u),v===(v=g(e,x))&&w?w.p(e,x):(w.d(1),w=v(e),w&&(w.c(),w.m(h,null)))},i(k){p||(M(i.$$.fragment,k),p=!0)},o(k){L(i.$$.fragment,k),p=!1},d(k){k&&S(t),j(i),w.d()}}}function tg(n){let e,t,r,i,s,a,l,o,f=n[22].name+"",c,u,d,h,m,p,g;r=new xI({props:{file:n[22]}});function v(){return n[15](n[24])}return{c(){e=y("div"),t=y("figure"),z(r.$$.fragment),i=D(),s=y("div"),a=y("small"),a.textContent="New",l=D(),o=y("span"),c=q(f),d=D(),h=y("button"),h.innerHTML='<i class="ri-close-line"></i>',_(t,"class","thumb"),_(a,"class","label label-success m-r-5"),_(o,"class","txt"),_(s,"class","filename m-r-auto"),_(s,"title",u=n[22].name),_(h,"type","button"),_(h,"class","btn btn-transparent btn-sm btn-circle btn-remove"),_(e,"class","list-item")},m(w,k){E(w,e,k),b(e,t),W(r,t,null),b(e,i),b(e,s),b(s,a),b(s,l),b(s,o),b(o,c),b(e,d),b(e,h),m=!0,p||(g=[st(xt.call(null,h,"Remove file")),ae(h,"click",v)],p=!0)},p(w,k){n=w;const x={};k&1&&(x.file=n[22]),r.$set(x),(!m||k&1)&&f!==(f=n[22].name+"")&&ke(c,f),(!m||k&1&&u!==(u=n[22].name))&&_(s,"title",u)},i(w){m||(M(r.$$.fragment,w),m=!0)},o(w){L(r.$$.fragment,w),m=!1},d(w){w&&S(e),j(r),p=!1,it(g)}}}function BI(n){let e,t,r,i,s,a=n[3].name+"",l,o,f,c,u=[],d=new Map,h,m,p,g,v,w,k,x,A,T,C,F,O=n[4];const I=Y=>Y[25]+Y[2].id;for(let Y=0;Y<O.length;Y+=1){let ne=Q_(n,O,Y),V=I(ne);d.set(V,u[Y]=eg(V,ne))}let N=n[0],P=[];for(let Y=0;Y<N.length;Y+=1)P[Y]=tg(Z_(n,N,Y));const R=Y=>L(P[Y],1,1,()=>{P[Y]=null});return{c(){e=y("label"),t=y("i"),i=D(),s=y("span"),l=q(a),f=D(),c=y("div");for(let Y=0;Y<u.length;Y+=1)u[Y].c();h=D();for(let Y=0;Y<P.length;Y+=1)P[Y].c();m=D(),p=y("div"),g=y("input"),v=D(),w=y("button"),k=y("i"),x=D(),A=y("span"),A.textContent="Upload new file",_(t,"class",r=X.getFieldTypeIcon(n[3].type)),_(s,"class","txt"),_(e,"for",o=n[21]),_(g,"type","file"),_(g,"class","hidden"),g.multiple=n[5],_(k,"class","ri-upload-cloud-line"),_(A,"class","txt"),_(w,"type","button"),_(w,"class","btn btn-transparent btn-sm btn-block"),w.disabled=n[8],_(p,"class","list-item list-item-btn"),_(c,"class","list")},m(Y,ne){E(Y,e,ne),b(e,t),b(e,i),b(e,s),b(s,l),E(Y,f,ne),E(Y,c,ne);for(let V=0;V<u.length;V+=1)u[V].m(c,null);b(c,h);for(let V=0;V<P.length;V+=1)P[V].m(c,null);b(c,m),b(c,p),b(p,g),n[16](g),b(p,v),b(p,w),b(w,k),b(w,x),b(w,A),n[19](c),T=!0,C||(F=[ae(g,"change",n[17]),ae(w,"click",n[18])],C=!0)},p(Y,ne){if((!T||ne&8&&r!==(r=X.getFieldTypeIcon(Y[3].type)))&&_(t,"class",r),(!T||ne&8)&&a!==(a=Y[3].name+"")&&ke(l,a),(!T||ne&2097152&&o!==(o=Y[21]))&&_(e,"for",o),ne&1558&&(O=Y[4],Me(),u=sn(u,ne,I,1,Y,O,d,c,Tr,eg,h,Q_),Ie()),ne&2049){N=Y[0];let V;for(V=0;V<N.length;V+=1){const se=Z_(Y,N,V);P[V]?(P[V].p(se,ne),M(P[V],1)):(P[V]=tg(se),P[V].c(),M(P[V],1),P[V].m(c,m))}for(Me(),V=N.length;V<P.length;V+=1)R(V);Ie()}(!T||ne&32)&&(g.multiple=Y[5]),(!T||ne&256)&&(w.disabled=Y[8])},i(Y){if(!T){for(let ne=0;ne<O.length;ne+=1)M(u[ne]);for(let ne=0;ne<N.length;ne+=1)M(P[ne]);T=!0}},o(Y){for(let ne=0;ne<u.length;ne+=1)L(u[ne]);P=P.filter(Boolean);for(let ne=0;ne<P.length;ne+=1)L(P[ne]);T=!1},d(Y){Y&&S(e),Y&&S(f),Y&&S(c);for(let ne=0;ne<u.length;ne+=1)u[ne].d();zt(P,Y),n[16](null),n[19](null),C=!1,it(F)}}}function UI(n){let e,t;return e=new Re({props:{class:"form-field form-field-list form-field-file "+(n[3].required?"required":""),name:n[3].name,$$slots:{default:[BI,({uniqueId:r})=>({21:r}),({uniqueId:r})=>r?2097152:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&8&&(s.class="form-field form-field-list form-field-file "+(r[3].required?"required":"")),i&8&&(s.name=r[3].name),i&270533119&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function HI(n,e,t){let r,i,s,{record:a}=e,{value:l=""}=e,{uploadedFiles:o=[]}=e,{deletedFileIndexes:f=[]}=e,{field:c=new Yr}=e,u,d;function h(F){X.removeByValue(f,F),t(1,f)}function m(F){X.pushUnique(f,F),t(1,f)}function p(F){X.isEmpty(o[F])||o.splice(F,1),t(0,o)}function g(){d==null||d.dispatchEvent(new CustomEvent("change",{detail:{value:l,uploadedFiles:o,deletedFileIndexes:f},bubbles:!0}))}const v=F=>h(F),w=F=>m(F),k=F=>p(F);function x(F){ve[F?"unshift":"push"](()=>{u=F,t(6,u)})}const A=()=>{for(let F of u.files)o.push(F);t(0,o),t(6,u.value=null,u)},T=()=>u==null?void 0:u.click();function C(F){ve[F?"unshift":"push"](()=>{d=F,t(7,d)})}return n.$$set=F=>{"record"in F&&t(2,a=F.record),"value"in F&&t(12,l=F.value),"uploadedFiles"in F&&t(0,o=F.uploadedFiles),"deletedFileIndexes"in F&&t(1,f=F.deletedFileIndexes),"field"in F&&t(3,c=F.field)},n.$$.update=()=>{var F,O;n.$$.dirty&1&&(Array.isArray(o)||t(0,o=X.toArray(o))),n.$$.dirty&2&&(Array.isArray(f)||t(1,f=X.toArray(f))),n.$$.dirty&8&&t(5,r=((F=c.options)==null?void 0:F.maxSelect)>1),n.$$.dirty&4128&&X.isEmpty(l)&&t(12,l=r?[]:""),n.$$.dirty&4096&&t(4,i=X.toArray(l)),n.$$.dirty&27&&t(8,s=(i.length||o.length)&&((O=c.options)==null?void 0:O.maxSelect)<=i.length+o.length-f.length),n.$$.dirty&3&&(o!==-1||f!==-1)&&g()},[o,f,a,c,i,r,u,d,s,h,m,p,l,v,w,k,x,A,T,C]}class VI extends We{constructor(e){super(),Ve(this,e,HI,UI,$e,{record:2,value:12,uploadedFiles:0,deletedFileIndexes:1,field:3})}}function ng(n){return typeof n=="function"?{threshold:100,callback:n}:n||{}}function WI(n,e){e=ng(e),e!=null&&e.callback&&e.callback();function t(r){if(!(e!=null&&e.callback))return;r.target.scrollHeight-r.target.clientHeight-r.target.scrollTop<=e.threshold&&e.callback()}return n.addEventListener("scroll",t),n.addEventListener("resize",t),{update(r){e=ng(r)},destroy(){n.removeEventListener("scroll",t),n.removeEventListener("resize",t)}}}const jI=n=>({dragging:n&2,dragover:n&4}),rg=n=>({dragging:n[1],dragover:n[2]});function zI(n){let e,t,r,i;const s=n[8].default,a=Hn(s,n,n[7],rg);return{c(){e=y("div"),a&&a.c(),_(e,"draggable",!0),_(e,"class","draggable svelte-28orm4"),pe(e,"dragging",n[1]),pe(e,"dragover",n[2])},m(l,o){E(l,e,o),a&&a.m(e,null),t=!0,r||(i=[ae(e,"dragover",Yt(n[9])),ae(e,"dragleave",Yt(n[10])),ae(e,"dragend",n[11]),ae(e,"dragstart",n[12]),ae(e,"drop",n[13])],r=!0)},p(l,[o]){a&&a.p&&(!t||o&134)&&Wn(a,s,l,l[7],t?Vn(s,l[7],o,jI):jn(l[7]),rg),(!t||o&2)&&pe(e,"dragging",l[1]),(!t||o&4)&&pe(e,"dragover",l[2])},i(l){t||(M(a,l),t=!0)},o(l){L(a,l),t=!1},d(l){l&&S(e),a&&a.d(l),r=!1,it(i)}}}function qI(n,e,t){let{$$slots:r={},$$scope:i}=e;const s=Fn();let{index:a}=e,{list:l=[]}=e,{disabled:o=!1}=e,f=!1,c=!1;function u(w,k){!w&&!o||(t(1,f=!0),w.dataTransfer.effectAllowed="move",w.dataTransfer.dropEffect="move",w.dataTransfer.setData("text/plain",k))}function d(w,k){if(!w&&!o)return;t(2,c=!1),t(1,f=!1),w.dataTransfer.dropEffect="move";const x=parseInt(w.dataTransfer.getData("text/plain"));x<k?(l.splice(k+1,0,l[x]),l.splice(x,1)):(l.splice(k,0,l[x]),l.splice(x+1,1)),t(5,l),s("sort",l)}const h=()=>{t(2,c=!0)},m=()=>{t(2,c=!1)},p=()=>{t(2,c=!1),t(1,f=!1)},g=w=>u(w,a),v=w=>d(w,a);return n.$$set=w=>{"index"in w&&t(0,a=w.index),"list"in w&&t(5,l=w.list),"disabled"in w&&t(6,o=w.disabled),"$$scope"in w&&t(7,i=w.$$scope)},[a,f,c,u,d,l,o,i,r,h,m,p,g,v]}class YI extends We{constructor(e){super(),Ve(this,e,qI,zI,$e,{index:0,list:5,disabled:6})}}function ig(n,e,t){const r=n.slice();r[6]=e[t];const i=X.toArray(r[0][r[6]]).slice(0,5);return r[7]=i,r}function sg(n,e,t){const r=n.slice();return r[10]=e[t],r}function ag(n){let e,t;return e=new Xd({props:{record:n[0],filename:n[10],size:"xs"}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i&1&&(s.record=r[0]),i&3&&(s.filename=r[10]),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function lg(n){let e=!X.isEmpty(n[10]),t,r,i=e&&ag(n);return{c(){i&&i.c(),t=Ge()},m(s,a){i&&i.m(s,a),E(s,t,a),r=!0},p(s,a){a&3&&(e=!X.isEmpty(s[10])),e?i?(i.p(s,a),a&3&&M(i,1)):(i=ag(s),i.c(),M(i,1),i.m(t.parentNode,t)):i&&(Me(),L(i,1,1,()=>{i=null}),Ie())},i(s){r||(M(i),r=!0)},o(s){L(i),r=!1},d(s){i&&i.d(s),s&&S(t)}}}function og(n){let e,t,r=n[7],i=[];for(let a=0;a<r.length;a+=1)i[a]=lg(sg(n,r,a));const s=a=>L(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=Ge()},m(a,l){for(let o=0;o<i.length;o+=1)i[o].m(a,l);E(a,e,l),t=!0},p(a,l){if(l&3){r=a[7];let o;for(o=0;o<r.length;o+=1){const f=sg(a,r,o);i[o]?(i[o].p(f,l),M(i[o],1)):(i[o]=lg(f),i[o].c(),M(i[o],1),i[o].m(e.parentNode,e))}for(Me(),o=r.length;o<i.length;o+=1)s(o);Ie()}},i(a){if(!t){for(let l=0;l<r.length;l+=1)M(i[l]);t=!0}},o(a){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)L(i[l]);t=!1},d(a){zt(i,a),a&&S(e)}}}function GI(n){let e,t,r,i,s,a,l=X.truncate(X.displayValue(n[0],n[2]),70)+"",o,f,c,u,d=n[1],h=[];for(let p=0;p<d.length;p+=1)h[p]=og(ig(n,d,p));const m=p=>L(h[p],1,1,()=>{h[p]=null});return{c(){e=y("div"),t=y("i"),i=D();for(let p=0;p<h.length;p+=1)h[p].c();s=D(),a=y("span"),o=q(l),_(t,"class","link-hint txt-sm ri-information-line svelte-fhw3qk"),_(a,"class","txt txt-ellipsis svelte-fhw3qk"),_(e,"class","record-info svelte-fhw3qk")},m(p,g){E(p,e,g),b(e,t),b(e,i);for(let v=0;v<h.length;v+=1)h[v].m(e,null);b(e,s),b(e,a),b(a,o),f=!0,c||(u=st(r=xt.call(null,t,{text:X.truncate(JSON.stringify(X.truncateObject(n[0]),null,2),800,!0),class:"code",position:"left"})),c=!0)},p(p,[g]){if(r&&ar(r.update)&&g&1&&r.update.call(null,{text:X.truncate(JSON.stringify(X.truncateObject(p[0]),null,2),800,!0),class:"code",position:"left"}),g&3){d=p[1];let v;for(v=0;v<d.length;v+=1){const w=ig(p,d,v);h[v]?(h[v].p(w,g),M(h[v],1)):(h[v]=og(w),h[v].c(),M(h[v],1),h[v].m(e,s))}for(Me(),v=d.length;v<h.length;v+=1)m(v);Ie()}(!f||g&5)&&l!==(l=X.truncate(X.displayValue(p[0],p[2]),70)+"")&&ke(o,l)},i(p){if(!f){for(let g=0;g<d.length;g+=1)M(h[g]);f=!0}},o(p){h=h.filter(Boolean);for(let g=0;g<h.length;g+=1)L(h[g]);f=!1},d(p){p&&S(e),zt(h,p),c=!1,u()}}}function XI(n,e,t){let r,i,s,a;Et(n,ea,f=>t(5,a=f));let{record:l}=e,{displayFields:o=[]}=e;return n.$$set=f=>{"record"in f&&t(0,l=f.record),"displayFields"in f&&t(3,o=f.displayFields)},n.$$.update=()=>{n.$$.dirty&33&&t(4,r=a==null?void 0:a.find(f=>f.id==(l==null?void 0:l.collectionId))),n.$$.dirty&24&&t(1,i=(o==null?void 0:o.filter(f=>{var c;return!!((c=r==null?void 0:r.schema)!=null&&c.find(u=>u.name==f&&u.type=="file"))}))||[]),n.$$.dirty&10&&t(2,s=(i.length?o==null?void 0:o.filter(f=>!i.includes(f)):o)||[])},[l,i,s,o,r,a]}class su extends We{constructor(e){super(),Ve(this,e,XI,GI,$e,{record:0,displayFields:3})}}function fg(n,e,t){const r=n.slice();return r[49]=e[t],r[51]=t,r}function cg(n,e,t){const r=n.slice();r[49]=e[t];const i=r[8](r[49]);return r[6]=i,r}function ug(n){let e,t;function r(a,l){return a[11]?JI:KI}let i=r(n),s=i(n);return{c(){e=y("div"),s.c(),t=D(),_(e,"class","list-item")},m(a,l){E(a,e,l),s.m(e,null),b(e,t)},p(a,l){i===(i=r(a))&&s?s.p(a,l):(s.d(1),s=i(a),s&&(s.c(),s.m(e,t)))},d(a){a&&S(e),s.d()}}}function KI(n){var s;let e,t,r,i=((s=n[2])==null?void 0:s.length)&&dg(n);return{c(){e=y("span"),e.textContent="No records found.",t=D(),i&&i.c(),r=Ge(),_(e,"class","txt txt-hint")},m(a,l){E(a,e,l),E(a,t,l),i&&i.m(a,l),E(a,r,l)},p(a,l){var o;(o=a[2])!=null&&o.length?i?i.p(a,l):(i=dg(a),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(a){a&&S(e),a&&S(t),i&&i.d(a),a&&S(r)}}}function JI(n){let e;return{c(){e=y("div"),e.innerHTML='<span class="loader loader-sm active"></span>',_(e,"class","block txt-center")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function dg(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear filters</span>',_(e,"type","button"),_(e,"class","btn btn-hint btn-sm")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[35]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function ZI(n){let e;return{c(){e=y("i"),_(e,"class","ri-checkbox-blank-circle-line txt-disabled")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function QI(n){let e;return{c(){e=y("i"),_(e,"class","ri-checkbox-circle-fill txt-success")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function hg(n,e){let t,r,i,s,a,l,o,f,c,u,d;function h(k,x){return k[6]?QI:ZI}let m=h(e),p=m(e);s=new su({props:{record:e[49],displayFields:e[13]}});function g(){return e[32](e[49])}function v(){return e[33](e[49])}function w(...k){return e[34](e[49],...k)}return{key:n,first:null,c(){t=y("div"),p.c(),r=D(),i=y("div"),z(s.$$.fragment),a=D(),l=y("div"),o=y("button"),o.innerHTML='<i class="ri-pencil-line"></i>',f=D(),_(i,"class","content"),_(o,"type","button"),_(o,"class","btn btn-sm btn-circle btn-transparent btn-hint m-l-auto"),_(l,"class","actions nonintrusive"),_(t,"tabindex","0"),_(t,"class","list-item handle"),pe(t,"selected",e[6]),pe(t,"disabled",!e[6]&&e[5]>1&&!e[9]),this.first=t},m(k,x){E(k,t,x),p.m(t,null),b(t,r),b(t,i),W(s,i,null),b(t,a),b(t,l),b(l,o),b(t,f),c=!0,u||(d=[st(xt.call(null,o,"Edit")),ae(o,"keydown",ri(e[27])),ae(o,"click",ri(g)),ae(t,"click",v),ae(t,"keydown",w)],u=!0)},p(k,x){e=k,m!==(m=h(e))&&(p.d(1),p=m(e),p&&(p.c(),p.m(t,r)));const A={};x[0]&8&&(A.record=e[49]),x[0]&8192&&(A.displayFields=e[13]),s.$set(A),(!c||x[0]&264)&&pe(t,"selected",e[6]),(!c||x[0]&808)&&pe(t,"disabled",!e[6]&&e[5]>1&&!e[9])},i(k){c||(M(s.$$.fragment,k),c=!0)},o(k){L(s.$$.fragment,k),c=!1},d(k){k&&S(t),p.d(),j(s),u=!1,it(d)}}}function pg(n){let e,t=n[6].length+"",r,i,s,a;return{c(){e=q("("),r=q(t),i=q(" of MAX "),s=q(n[5]),a=q(")")},m(l,o){E(l,e,o),E(l,r,o),E(l,i,o),E(l,s,o),E(l,a,o)},p(l,o){o[0]&64&&t!==(t=l[6].length+"")&&ke(r,t),o[0]&32&&ke(s,l[5])},d(l){l&&S(e),l&&S(r),l&&S(i),l&&S(s),l&&S(a)}}}function eN(n){let e;return{c(){e=y("p"),e.textContent="No selected records.",_(e,"class","txt-hint")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function tN(n){let e,t,r=n[6],i=[];for(let a=0;a<r.length;a+=1)i[a]=mg(fg(n,r,a));const s=a=>L(i[a],1,1,()=>{i[a]=null});return{c(){e=y("div");for(let a=0;a<i.length;a+=1)i[a].c();_(e,"class","selected-list svelte-1u8jhky")},m(a,l){E(a,e,l);for(let o=0;o<i.length;o+=1)i[o].m(e,null);t=!0},p(a,l){if(l[0]&73792|l[1]&6291456){r=a[6];let o;for(o=0;o<r.length;o+=1){const f=fg(a,r,o);i[o]?(i[o].p(f,l),M(i[o],1)):(i[o]=mg(f),i[o].c(),M(i[o],1),i[o].m(e,null))}for(Me(),o=r.length;o<i.length;o+=1)s(o);Ie()}},i(a){if(!t){for(let l=0;l<r.length;l+=1)M(i[l]);t=!0}},o(a){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)L(i[l]);t=!1},d(a){a&&S(e),zt(i,a)}}}function nN(n){let e,t,r,i,s,a,l,o;t=new su({props:{record:n[49],displayFields:n[13]}});function f(){return n[37](n[49])}return{c(){e=y("span"),z(t.$$.fragment),r=D(),i=y("button"),i.innerHTML='<i class="ri-close-line"></i>',s=D(),_(i,"type","button"),_(i,"title","Remove"),_(i,"class","btn btn-circle btn-transparent btn-hint btn-xs"),_(e,"class","label"),pe(e,"label-danger",n[52]),pe(e,"label-warning",n[53])},m(c,u){E(c,e,u),W(t,e,null),b(e,r),b(e,i),E(c,s,u),a=!0,l||(o=ae(i,"click",f),l=!0)},p(c,u){n=c;const d={};u[0]&64&&(d.record=n[49]),u[0]&8192&&(d.displayFields=n[13]),t.$set(d),(!a||u[1]&2097152)&&pe(e,"label-danger",n[52]),(!a||u[1]&4194304)&&pe(e,"label-warning",n[53])},i(c){a||(M(t.$$.fragment,c),a=!0)},o(c){L(t.$$.fragment,c),a=!1},d(c){c&&S(e),j(t),c&&S(s),l=!1,o()}}}function mg(n){let e,t,r;function i(a){n[38](a)}let s={index:n[51],$$slots:{default:[nN,({dragging:a,dragover:l})=>({52:a,53:l}),({dragging:a,dragover:l})=>[0,(a?2097152:0)|(l?4194304:0)]]},$$scope:{ctx:n}};return n[6]!==void 0&&(s.list=n[6]),e=new YI({props:s}),ve.push(()=>Le(e,"list",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[0]&8256|l[1]&39845888&&(o.$$scope={dirty:l,ctx:a}),!t&&l[0]&64&&(t=!0,o.list=a[6],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function rN(n){let e,t,r,i,s,a,l=[],o=new Map,f,c,u,d,h,m,p,g,v,w,k;t=new Zc({props:{value:n[2],autocompleteCollection:n[12]}}),t.$on("submit",n[30]);let x=n[3];const A=N=>N[49].id;for(let N=0;N<x.length;N+=1){let P=cg(n,x,N),R=A(P);o.set(R,l[N]=hg(R,P))}let T=null;x.length||(T=ug(n));let C=n[5]>1&&pg(n);const F=[tN,eN],O=[];function I(N,P){return N[6].length?0:1}return m=I(n),p=O[m]=F[m](n),{c(){e=y("div"),z(t.$$.fragment),r=D(),i=y("button"),i.innerHTML='<div class="txt">New record</div>',s=D(),a=y("div");for(let N=0;N<l.length;N+=1)l[N].c();T&&T.c(),c=D(),u=y("h5"),d=q(`Selected
        `),C&&C.c(),h=D(),p.c(),g=Ge(),_(i,"type","button"),_(i,"class","btn btn-transparent btn-hint p-l-sm p-r-sm"),_(e,"class","flex m-b-base flex-gap-10"),_(a,"class","list picker-list m-b-base svelte-1u8jhky"),_(u,"class","section-title")},m(N,P){E(N,e,P),W(t,e,null),b(e,r),b(e,i),E(N,s,P),E(N,a,P);for(let R=0;R<l.length;R+=1)l[R].m(a,null);T&&T.m(a,null),E(N,c,P),E(N,u,P),b(u,d),C&&C.m(u,null),E(N,h,P),O[m].m(N,P),E(N,g,P),v=!0,w||(k=[ae(i,"click",n[31]),st(f=WI.call(null,a,n[36]))],w=!0)},p(N,P){const R={};P[0]&4&&(R.value=N[2]),P[0]&4096&&(R.autocompleteCollection=N[12]),t.$set(R),P[0]&142252&&(x=N[3],Me(),l=sn(l,P,A,1,N,x,o,a,Tr,hg,null,cg),Ie(),!x.length&&T?T.p(N,P):x.length?T&&(T.d(1),T=null):(T=ug(N),T.c(),T.m(a,null))),f&&ar(f.update)&&P[0]&1040&&f.update.call(null,N[36]),N[5]>1?C?C.p(N,P):(C=pg(N),C.c(),C.m(u,null)):C&&(C.d(1),C=null);let Y=m;m=I(N),m===Y?O[m].p(N,P):(Me(),L(O[Y],1,1,()=>{O[Y]=null}),Ie(),p=O[m],p?p.p(N,P):(p=O[m]=F[m](N),p.c()),M(p,1),p.m(g.parentNode,g))},i(N){if(!v){M(t.$$.fragment,N);for(let P=0;P<x.length;P+=1)M(l[P]);M(p),v=!0}},o(N){L(t.$$.fragment,N);for(let P=0;P<l.length;P+=1)L(l[P]);L(p),v=!1},d(N){N&&S(e),j(t),N&&S(s),N&&S(a);for(let P=0;P<l.length;P+=1)l[P].d();T&&T.d(),N&&S(c),N&&S(u),C&&C.d(),N&&S(h),O[m].d(N),N&&S(g),w=!1,it(k)}}}function iN(n){var l;let e,t,r,i=(((l=n[12])==null?void 0:l.name)||"")+"",s,a;return{c(){e=y("h4"),t=q("Select "),r=y("strong"),s=q(i),a=q(" records")},m(o,f){E(o,e,f),b(e,t),b(e,r),b(r,s),b(e,a)},p(o,f){var c;f[0]&4096&&i!==(i=(((c=o[12])==null?void 0:c.name)||"")+"")&&ke(s,i)},d(o){o&&S(e)}}}function sN(n){let e,t,r,i,s;return{c(){e=y("button"),e.innerHTML='<span class="txt">Cancel</span>',t=D(),r=y("button"),r.innerHTML='<span class="txt">Save selection</span>',_(e,"type","button"),_(e,"class","btn btn-transparent"),_(r,"type","button"),_(r,"class","btn")},m(a,l){E(a,e,l),E(a,t,l),E(a,r,l),i||(s=[ae(e,"click",n[28]),ae(r,"click",n[29])],i=!0)},p:ce,d(a){a&&S(e),a&&S(t),a&&S(r),i=!1,it(s)}}}function aN(n){let e,t,r,i;const s=[{popup:!0},{class:"overlay-panel-xl"},n[19]];let a={$$slots:{footer:[sN],header:[iN],default:[rN]},$$scope:{ctx:n}};for(let o=0;o<s.length;o+=1)a=Mt(a,s[o]);e=new $r({props:a}),n[39](e),e.$on("hide",n[40]),e.$on("show",n[41]);let l={collection:n[12]};return r=new ax({props:l}),n[42](r),r.$on("save",n[43]),r.$on("delete",n[44]),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment)},m(o,f){W(e,o,f),E(o,t,f),W(r,o,f),i=!0},p(o,f){const c=f[0]&524288?Rr(s,[s[0],s[1],is(o[19])]):{};f[0]&16380|f[1]&33554432&&(c.$$scope={dirty:f,ctx:o}),e.$set(c);const u={};f[0]&4096&&(u.collection=o[12]),r.$set(u)},i(o){i||(M(e.$$.fragment,o),M(r.$$.fragment,o),i=!0)},o(o){L(e.$$.fragment,o),L(r.$$.fragment,o),i=!1},d(o){n[39](null),j(e,o),o&&S(t),n[42](null),j(r,o)}}}const Xu=100;function lN(n,e,t){let r,i,s,a,l,o,f,c;const u=["value","field","show","hide"];let d=zn(e,u),h;Et(n,ea,Ce=>t(26,h=Ce));const m=Fn(),p="picker_"+X.randomString(5);let{value:g}=e,{field:v}=e,w,k,x="",A=[],T=[],C=1,F=0,O=!1,I=!1;function N(){return t(2,x=""),t(3,A=[]),t(6,T=[]),R(),Y(!0),w==null?void 0:w.show()}function P(){return w==null?void 0:w.hide()}async function R(){const Ce=X.toArray(g);if(!i||!Ce.length)return;t(24,I=!0);let _e=[];const je=Ce.slice(),wt=[];for(;je.length>0;){const kt=[];for(const Qt of je.splice(0,Xu))kt.push(`id="${Qt}"`);wt.push(Ue.collection(i).getFullList(Xu,{filter:kt.join("||"),$autoCancel:!1}))}try{await Promise.all(wt).then(kt=>{_e=_e.concat(...kt)}),t(6,T=[]);for(const kt of Ce){const Qt=X.findByKey(_e,"id",kt);Qt&&T.push(Qt)}x.trim()||t(3,A=X.filterDuplicatesByKey(T.concat(A)))}catch(kt){Ue.errorResponseHandler(kt)}t(24,I=!1)}async function Y(Ce=!1){if(i){t(4,O=!0),Ce&&(x.trim()?t(3,A=[]):t(3,A=X.toArray(T).slice()));try{const _e=Ce?1:C+1,je=await Ue.collection(i).getList(_e,Xu,{filter:x,sort:"-created",$cancelKey:p+"loadList"});t(3,A=X.filterDuplicatesByKey(A.concat(je.items))),C=je.page,t(23,F=je.totalItems)}catch(_e){Ue.errorResponseHandler(_e)}t(4,O=!1)}}function ne(Ce){r==1?t(6,T=[Ce]):f&&(X.pushOrReplaceByKey(T,Ce),t(6,T))}function V(Ce){X.removeByKey(T,"id",Ce.id),t(6,T)}function se(Ce){c(Ce)?V(Ce):ne(Ce)}function ue(){var Ce;r!=1?t(20,g=T.map(_e=>_e.id)):t(20,g=((Ce=T==null?void 0:T[0])==null?void 0:Ce.id)||""),m("save",T),P()}function U(Ce){mt.call(this,n,Ce)}const be=()=>P(),fe=()=>ue(),B=Ce=>t(2,x=Ce.detail),K=()=>k==null?void 0:k.show(),G=Ce=>k==null?void 0:k.show(Ce),J=Ce=>se(Ce),de=(Ce,_e)=>{(_e.code==="Enter"||_e.code==="Space")&&(_e.preventDefault(),_e.stopPropagation(),se(Ce))},me=()=>t(2,x=""),we=()=>{o&&!O&&Y()},Fe=Ce=>V(Ce);function Oe(Ce){T=Ce,t(6,T)}function ye(Ce){ve[Ce?"unshift":"push"](()=>{w=Ce,t(1,w)})}function te(Ce){mt.call(this,n,Ce)}function he(Ce){mt.call(this,n,Ce)}function qe(Ce){ve[Ce?"unshift":"push"](()=>{k=Ce,t(7,k)})}const ot=Ce=>{X.removeByKey(A,"id",Ce.detail.id),A.unshift(Ce.detail),t(3,A),ne(Ce.detail)},ct=Ce=>{X.removeByKey(A,"id",Ce.detail.id),t(3,A),V(Ce.detail)};return n.$$set=Ce=>{e=Mt(Mt({},e),rs(Ce)),t(19,d=zn(e,u)),"value"in Ce&&t(20,g=Ce.value),"field"in Ce&&t(21,v=Ce.field)},n.$$.update=()=>{var Ce,_e,je;n.$$.dirty[0]&2097152&&t(5,r=((Ce=v==null?void 0:v.options)==null?void 0:Ce.maxSelect)||null),n.$$.dirty[0]&2097152&&t(25,i=(_e=v==null?void 0:v.options)==null?void 0:_e.collectionId),n.$$.dirty[0]&2097152&&t(13,s=(je=v==null?void 0:v.options)==null?void 0:je.displayFields),n.$$.dirty[0]&100663296&&t(12,a=h.find(wt=>wt.id==i)||null),n.$$.dirty[0]&16777222&&typeof x<"u"&&!I&&w!=null&&w.isActive()&&Y(!0),n.$$.dirty[0]&16777232&&t(11,l=O||I),n.$$.dirty[0]&8388616&&t(10,o=F>A.length),n.$$.dirty[0]&96&&t(9,f=r===null||r>T.length),n.$$.dirty[0]&64&&t(8,c=function(wt){return X.findByKey(T,"id",wt.id)})},[P,w,x,A,O,r,T,k,c,f,o,l,a,s,Y,ne,V,se,ue,d,g,v,N,F,I,i,h,U,be,fe,B,K,G,J,de,me,we,Fe,Oe,ye,te,he,qe,ot,ct]}class oN extends We{constructor(e){super(),Ve(this,e,lN,aN,$e,{value:20,field:21,show:22,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[22]}get hide(){return this.$$.ctx[0]}}function _g(n,e,t){const r=n.slice();return r[15]=e[t],r}function gg(n,e,t){const r=n.slice();return r[18]=e[t],r}function vg(n){let e,t=n[5]&&bg(n);return{c(){t&&t.c(),e=Ge()},m(r,i){t&&t.m(r,i),E(r,e,i)},p(r,i){r[5]?t?t.p(r,i):(t=bg(r),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(r){t&&t.d(r),r&&S(e)}}}function bg(n){let e,t=X.toArray(n[0]).slice(0,10),r=[];for(let i=0;i<t.length;i+=1)r[i]=wg(gg(n,t,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ge()},m(i,s){for(let a=0;a<r.length;a+=1)r[a].m(i,s);E(i,e,s)},p(i,s){if(s&1){t=X.toArray(i[0]).slice(0,10);let a;for(a=0;a<t.length;a+=1){const l=gg(i,t,a);r[a]?r[a].p(l,s):(r[a]=wg(),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){zt(r,i),i&&S(e)}}}function wg(n){let e;return{c(){e=y("div"),e.innerHTML=`<div class="skeleton-loader"></div> 
                        `,_(e,"class","list-item")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function kg(n){var d;let e,t,r,i,s,a,l,o,f,c;r=new su({props:{record:n[15],displayFields:(d=n[2].options)==null?void 0:d.displayFields}});function u(){return n[8](n[15])}return{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),a=y("button"),a.innerHTML='<i class="ri-close-line"></i>',l=D(),_(t,"class","content"),_(a,"type","button"),_(a,"class","btn btn-transparent btn-hint btn-sm btn-circle btn-remove"),_(s,"class","actions"),_(e,"class","list-item")},m(h,m){E(h,e,m),b(e,t),W(r,t,null),b(e,i),b(e,s),b(s,a),b(e,l),o=!0,f||(c=[st(xt.call(null,a,"Remove")),ae(a,"click",u)],f=!0)},p(h,m){var g;n=h;const p={};m&16&&(p.record=n[15]),m&4&&(p.displayFields=(g=n[2].options)==null?void 0:g.displayFields),r.$set(p)},i(h){o||(M(r.$$.fragment,h),o=!0)},o(h){L(r.$$.fragment,h),o=!1},d(h){h&&S(e),j(r),f=!1,it(c)}}}function fN(n){let e,t,r,i,s,a=n[2].name+"",l,o,f,c,u,d,h,m,p,g,v,w=n[4],k=[];for(let T=0;T<w.length;T+=1)k[T]=kg(_g(n,w,T));const x=T=>L(k[T],1,1,()=>{k[T]=null});let A=null;return w.length||(A=vg(n)),{c(){e=y("label"),t=y("i"),i=D(),s=y("span"),l=q(a),f=D(),c=y("div"),u=y("div");for(let T=0;T<k.length;T+=1)k[T].c();A&&A.c(),d=D(),h=y("div"),m=y("button"),m.innerHTML=`<i class="ri-magic-line"></i> 
                
                <span class="txt">Open picker</span>`,_(t,"class",r=Ws(X.getFieldTypeIcon(n[2].type))+" svelte-1ynw0pc"),_(s,"class","txt"),_(e,"for",o=n[14]),_(u,"class","relations-list svelte-1ynw0pc"),_(m,"type","button"),_(m,"class","btn btn-transparent btn-sm btn-block"),_(h,"class","list-item list-item-btn"),_(c,"class","list")},m(T,C){E(T,e,C),b(e,t),b(e,i),b(e,s),b(s,l),E(T,f,C),E(T,c,C),b(c,u);for(let F=0;F<k.length;F+=1)k[F].m(u,null);A&&A.m(u,null),b(c,d),b(c,h),b(h,m),p=!0,g||(v=ae(m,"click",n[9]),g=!0)},p(T,C){if((!p||C&4&&r!==(r=Ws(X.getFieldTypeIcon(T[2].type))+" svelte-1ynw0pc"))&&_(t,"class",r),(!p||C&4)&&a!==(a=T[2].name+"")&&ke(l,a),(!p||C&16384&&o!==(o=T[14]))&&_(e,"for",o),C&181){w=T[4];let F;for(F=0;F<w.length;F+=1){const O=_g(T,w,F);k[F]?(k[F].p(O,C),M(k[F],1)):(k[F]=kg(O),k[F].c(),M(k[F],1),k[F].m(u,null))}for(Me(),F=w.length;F<k.length;F+=1)x(F);Ie(),!w.length&&A?A.p(T,C):w.length?A&&(A.d(1),A=null):(A=vg(T),A.c(),A.m(u,null))}},i(T){if(!p){for(let C=0;C<w.length;C+=1)M(k[C]);p=!0}},o(T){k=k.filter(Boolean);for(let C=0;C<k.length;C+=1)L(k[C]);p=!1},d(T){T&&S(e),T&&S(f),T&&S(c),zt(k,T),A&&A.d(),g=!1,v()}}}function cN(n){let e,t,r,i,s={class:"form-field form-field-list "+(n[2].required?"required":""),name:n[2].name,$$slots:{default:[fN,({uniqueId:l})=>({14:l}),({uniqueId:l})=>l?16384:0]},$$scope:{ctx:n}};e=new Re({props:s}),n[10](e);let a={value:n[0],field:n[2]};return r=new oN({props:a}),n[11](r),r.$on("save",n[12]),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment)},m(l,o){W(e,l,o),E(l,t,o),W(r,l,o),i=!0},p(l,[o]){const f={};o&4&&(f.class="form-field form-field-list "+(l[2].required?"required":"")),o&4&&(f.name=l[2].name),o&2113591&&(f.$$scope={dirty:o,ctx:l}),e.$set(f);const c={};o&1&&(c.value=l[0]),o&4&&(c.field=l[2]),r.$set(c)},i(l){i||(M(e.$$.fragment,l),M(r.$$.fragment,l),i=!0)},o(l){L(e.$$.fragment,l),L(r.$$.fragment,l),i=!1},d(l){n[10](null),j(e,l),l&&S(t),n[11](null),j(r,l)}}}const yg=100;function uN(n,e,t){let r,{value:i}=e,{picker:s}=e,{field:a=new Yr}=e,l,o=[],f=!1;c();async function c(){var x,A;const v=X.toArray(i);if(!((x=a==null?void 0:a.options)!=null&&x.collectionId)||!v.length){t(4,o=[]),t(5,f=!1);return}t(5,f=!0);const w=v.slice(),k=[];for(;w.length>0;){const T=[];for(const C of w.splice(0,yg))T.push(`id="${C}"`);k.push(Ue.collection((A=a==null?void 0:a.options)==null?void 0:A.collectionId).getFullList(yg,{filter:T.join("||"),$autoCancel:!1}))}try{let T=[];await Promise.all(k).then(C=>{T=T.concat(...C)});for(const C of v){const F=X.findByKey(T,"id",C);F&&o.push(F)}t(4,o)}catch(T){Ue.errorResponseHandler(T)}t(5,f=!1)}function u(v){var w;X.removeByKey(o,"id",v.id),t(4,o),r?t(0,i=o.map(k=>k.id)):t(0,i=((w=o[0])==null?void 0:w.id)||"")}const d=v=>u(v),h=()=>s==null?void 0:s.show();function m(v){ve[v?"unshift":"push"](()=>{l=v,t(3,l)})}function p(v){ve[v?"unshift":"push"](()=>{s=v,t(1,s)})}const g=v=>{var w;t(4,o=v.detail||[]),t(0,i=r?o.map(k=>k.id):((w=o[0])==null?void 0:w.id)||"")};return n.$$set=v=>{"value"in v&&t(0,i=v.value),"picker"in v&&t(1,s=v.picker),"field"in v&&t(2,a=v.field)},n.$$.update=()=>{var v;n.$$.dirty&4&&t(6,r=((v=a.options)==null?void 0:v.maxSelect)!=1),n.$$.dirty&9&&typeof i<"u"&&(l==null||l.changed())},[i,s,a,l,o,f,r,u,d,h,m,p,g]}class nx extends We{constructor(e){super(),Ve(this,e,uN,cN,$e,{value:0,picker:1,field:2})}}const dN=["Activate","AddUndo","BeforeAddUndo","BeforeExecCommand","BeforeGetContent","BeforeRenderUI","BeforeSetContent","BeforePaste","Blur","Change","ClearUndos","Click","ContextMenu","Copy","Cut","Dblclick","Deactivate","Dirty","Drag","DragDrop","DragEnd","DragGesture","DragOver","Drop","ExecCommand","Focus","FocusIn","FocusOut","GetContent","Hide","Init","KeyDown","KeyPress","KeyUp","LoadContent","MouseDown","MouseEnter","MouseLeave","MouseMove","MouseOut","MouseOver","MouseUp","NodeChange","ObjectResizeStart","ObjectResized","ObjectSelected","Paste","PostProcess","PostRender","PreProcess","ProgressState","Redo","Remove","Reset","ResizeEditor","SaveContent","SelectionChange","SetAttrib","SetContent","Show","Submit","Undo","VisualAid"],hN=(n,e)=>{dN.forEach(t=>{n.on(t,r=>{e(t.toLowerCase(),{eventName:t,event:r,editor:n})})})};function pN(n){let e;return{c(){e=y("textarea"),_(e,"id",n[0]),h0(e,"visibility","hidden")},m(t,r){E(t,e,r),n[18](e)},p(t,r){r&1&&_(e,"id",t[0])},d(t){t&&S(e),n[18](null)}}}function mN(n){let e;return{c(){e=y("div"),_(e,"id",n[0])},m(t,r){E(t,e,r),n[17](e)},p(t,r){r&1&&_(e,"id",t[0])},d(t){t&&S(e),n[17](null)}}}function _N(n){let e;function t(s,a){return s[1]?mN:pN}let r=t(n),i=r(n);return{c(){e=y("div"),i.c(),_(e,"class",n[2])},m(s,a){E(s,e,a),i.m(e,null),n[19](e)},p(s,[a]){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e,null))),a&4&&_(e,"class",s[2])},i:ce,o:ce,d(s){s&&S(e),i.d(),n[19](null)}}}const rx=n=>n+"_"+Math.floor(Math.random()*1e9)+String(Date.now()),gN=()=>{let n={listeners:[],scriptId:rx("tiny-script"),scriptLoaded:!1,injected:!1};const e=(r,i,s,a)=>{n.injected=!0;const l=i.createElement("script");l.referrerPolicy="origin",l.type="application/javascript",l.src=s,l.onload=()=>{a()},i.head&&i.head.appendChild(l)};return{load:(r,i,s)=>{n.scriptLoaded?s():(n.listeners.push(s),n.injected||e(n.scriptId,r,i,()=>{n.listeners.forEach(a=>a()),n.scriptLoaded=!0}))}}};let vN=gN();function bN(n,e,t){var r;let{id:i=rx("tinymce-svelte")}=e,{inline:s=void 0}=e,{disabled:a=!1}=e,{apiKey:l="no-api-key"}=e,{channel:o="6"}=e,{scriptSrc:f=void 0}=e,{conf:c={}}=e,{modelEvents:u="change input undo redo"}=e,{value:d=""}=e,{text:h=""}=e,{cssClass:m="tinymce-wrapper"}=e,p,g,v,w="",k=a;const x=Fn(),A=()=>{const N=(()=>typeof window<"u"?window:global)();return N&&N.tinymce?N.tinymce:null},T=()=>{const I=Object.assign(Object.assign({},c),{target:g,inline:s!==void 0?s:c.inline!==void 0?c.inline:!1,readonly:a,setup:N=>{t(14,v=N),N.on("init",()=>{N.setContent(d),N.on(u,()=>{t(15,w=N.getContent()),w!==d&&(t(5,d=w),t(6,h=N.getContent({format:"text"})))})}),hN(N,x),typeof c.setup=="function"&&c.setup(N)}});t(4,g.style.visibility="",g),A().init(I)};ur(()=>{if(A()!==null)T();else{const I=f||`https://cdn.tiny.cloud/1/${l}/tinymce/${o}/tinymce.min.js`;vN.load(p.ownerDocument,I,()=>{T()})}}),Fw(()=>{var I;v&&((I=A())===null||I===void 0||I.remove(v))});function C(I){ve[I?"unshift":"push"](()=>{g=I,t(4,g)})}function F(I){ve[I?"unshift":"push"](()=>{g=I,t(4,g)})}function O(I){ve[I?"unshift":"push"](()=>{p=I,t(3,p)})}return n.$$set=I=>{"id"in I&&t(0,i=I.id),"inline"in I&&t(1,s=I.inline),"disabled"in I&&t(7,a=I.disabled),"apiKey"in I&&t(8,l=I.apiKey),"channel"in I&&t(9,o=I.channel),"scriptSrc"in I&&t(10,f=I.scriptSrc),"conf"in I&&t(11,c=I.conf),"modelEvents"in I&&t(12,u=I.modelEvents),"value"in I&&t(5,d=I.value),"text"in I&&t(6,h=I.text),"cssClass"in I&&t(2,m=I.cssClass)},n.$$.update=()=>{n.$$.dirty&123040&&(v&&w!==d&&(v.setContent(d),t(6,h=v.getContent({format:"text"}))),v&&a!==k&&(t(16,k=a),typeof(t(13,r=v.mode)===null||r===void 0?void 0:r.set)=="function"?v.mode.set(a?"readonly":"design"):v.setMode(a?"readonly":"design")))},[i,s,m,p,g,d,h,a,l,o,f,c,u,r,v,w,k,C,F,O]}class ix extends We{constructor(e){super(),Ve(this,e,bN,_N,$e,{id:0,inline:1,disabled:7,apiKey:8,channel:9,scriptSrc:10,conf:11,modelEvents:12,value:5,text:6,cssClass:2})}}function wN(n){let e,t,r,i,s,a=n[1].name+"",l,o,f,c,u,d;function h(p){n[2](p)}let m={id:n[3],scriptSrc:"./libs/tinymce/tinymce.min.js",conf:X.defaultEditorOptions()};return n[0]!==void 0&&(m.value=n[0]),c=new ix({props:m}),ve.push(()=>Le(c,"value",h)),{c(){e=y("label"),t=y("i"),i=D(),s=y("span"),l=q(a),f=D(),z(c.$$.fragment),_(t,"class",r=X.getFieldTypeIcon(n[1].type)),_(s,"class","txt"),_(e,"for",o=n[3])},m(p,g){E(p,e,g),b(e,t),b(e,i),b(e,s),b(s,l),E(p,f,g),W(c,p,g),d=!0},p(p,g){(!d||g&2&&r!==(r=X.getFieldTypeIcon(p[1].type)))&&_(t,"class",r),(!d||g&2)&&a!==(a=p[1].name+"")&&ke(l,a),(!d||g&8&&o!==(o=p[3]))&&_(e,"for",o);const v={};g&8&&(v.id=p[3]),!u&&g&1&&(u=!0,v.value=p[0],He(()=>u=!1)),c.$set(v)},i(p){d||(M(c.$$.fragment,p),d=!0)},o(p){L(c.$$.fragment,p),d=!1},d(p){p&&S(e),p&&S(f),j(c,p)}}}function kN(n){let e,t;return e=new Re({props:{class:"form-field "+(n[1].required?"required":""),name:n[1].name,$$slots:{default:[wN,({uniqueId:r})=>({3:r}),({uniqueId:r})=>r?8:0]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&2&&(s.class="form-field "+(r[1].required?"required":"")),i&2&&(s.name=r[1].name),i&27&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function yN(n,e,t){let{field:r=new Yr}=e,{value:i=void 0}=e;function s(a){i=a,t(0,i)}return n.$$set=a=>{"field"in a&&t(1,r=a.field),"value"in a&&t(0,i=a.value)},[i,r,s]}class sx extends We{constructor(e){super(),Ve(this,e,yN,kN,$e,{field:1,value:0})}}function xN(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Auth URL"),i=D(),s=y("input"),_(e,"for",r=n[5]),_(s,"type","url"),_(s,"id",a=n[5])},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].authUrl),l||(o=ae(s,"input",n[2]),l=!0)},p(f,c){c&32&&r!==(r=f[5])&&_(e,"for",r),c&32&&a!==(a=f[5])&&_(s,"id",a),c&1&&Ne(s,f[0].authUrl)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function TN(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Token URL"),i=D(),s=y("input"),_(e,"for",r=n[5]),_(s,"type","url"),_(s,"id",a=n[5])},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].tokenUrl),l||(o=ae(s,"input",n[3]),l=!0)},p(f,c){c&32&&r!==(r=f[5])&&_(e,"for",r),c&32&&a!==(a=f[5])&&_(s,"id",a),c&1&&Ne(s,f[0].tokenUrl)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function SN(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("User API URL"),i=D(),s=y("input"),_(e,"for",r=n[5]),_(s,"type","url"),_(s,"id",a=n[5])},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].userApiUrl),l||(o=ae(s,"input",n[4]),l=!0)},p(f,c){c&32&&r!==(r=f[5])&&_(e,"for",r),c&32&&a!==(a=f[5])&&_(s,"id",a),c&1&&Ne(s,f[0].userApiUrl)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function EN(n){let e,t,r,i,s,a,l,o,f,c,u,d;return s=new Re({props:{class:"form-field",name:n[1]+".authUrl",$$slots:{default:[xN,({uniqueId:h})=>({5:h}),({uniqueId:h})=>h?32:0]},$$scope:{ctx:n}}}),o=new Re({props:{class:"form-field",name:n[1]+".tokenUrl",$$slots:{default:[TN,({uniqueId:h})=>({5:h}),({uniqueId:h})=>h?32:0]},$$scope:{ctx:n}}}),u=new Re({props:{class:"form-field",name:n[1]+".userApiUrl",$$slots:{default:[SN,({uniqueId:h})=>({5:h}),({uniqueId:h})=>h?32:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),e.textContent="Selfhosted endpoints (optional)",t=D(),r=y("div"),i=y("div"),z(s.$$.fragment),a=D(),l=y("div"),z(o.$$.fragment),f=D(),c=y("div"),z(u.$$.fragment),_(e,"class","section-title"),_(i,"class","col-lg-4"),_(l,"class","col-lg-4"),_(c,"class","col-lg-4"),_(r,"class","grid")},m(h,m){E(h,e,m),E(h,t,m),E(h,r,m),b(r,i),W(s,i,null),b(r,a),b(r,l),W(o,l,null),b(r,f),b(r,c),W(u,c,null),d=!0},p(h,[m]){const p={};m&2&&(p.name=h[1]+".authUrl"),m&97&&(p.$$scope={dirty:m,ctx:h}),s.$set(p);const g={};m&2&&(g.name=h[1]+".tokenUrl"),m&97&&(g.$$scope={dirty:m,ctx:h}),o.$set(g);const v={};m&2&&(v.name=h[1]+".userApiUrl"),m&97&&(v.$$scope={dirty:m,ctx:h}),u.$set(v)},i(h){d||(M(s.$$.fragment,h),M(o.$$.fragment,h),M(u.$$.fragment,h),d=!0)},o(h){L(s.$$.fragment,h),L(o.$$.fragment,h),L(u.$$.fragment,h),d=!1},d(h){h&&S(e),h&&S(t),h&&S(r),j(s),j(o),j(u)}}}function CN(n,e,t){let{key:r=""}=e,{config:i={}}=e;function s(){i.authUrl=this.value,t(0,i)}function a(){i.tokenUrl=this.value,t(0,i)}function l(){i.userApiUrl=this.value,t(0,i)}return n.$$set=o=>{"key"in o&&t(1,r=o.key),"config"in o&&t(0,i=o.config)},[i,r,s,a,l]}class xg extends We{constructor(e){super(),Ve(this,e,CN,EN,$e,{key:1,config:0})}}function AN(n){let e,t,r,i,s,a,l,o,f,c,u;return{c(){e=y("label"),t=q("Auth URL"),i=D(),s=y("input"),o=D(),f=y("div"),f.textContent="Eg. https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/authorize",_(e,"for",r=n[4]),_(s,"type","url"),_(s,"id",a=n[4]),s.required=l=n[0].enabled,_(f,"class","help-block")},m(d,h){E(d,e,h),b(e,t),E(d,i,h),E(d,s,h),Ne(s,n[0].authUrl),E(d,o,h),E(d,f,h),c||(u=ae(s,"input",n[2]),c=!0)},p(d,h){h&16&&r!==(r=d[4])&&_(e,"for",r),h&16&&a!==(a=d[4])&&_(s,"id",a),h&1&&l!==(l=d[0].enabled)&&(s.required=l),h&1&&Ne(s,d[0].authUrl)},d(d){d&&S(e),d&&S(i),d&&S(s),d&&S(o),d&&S(f),c=!1,u()}}}function FN(n){let e,t,r,i,s,a,l,o,f,c,u;return{c(){e=y("label"),t=q("Token URL"),i=D(),s=y("input"),o=D(),f=y("div"),f.textContent="Eg. https://login.microsoftonline.com/YOUR_DIRECTORY_TENANT_ID/oauth2/v2.0/token",_(e,"for",r=n[4]),_(s,"type","url"),_(s,"id",a=n[4]),s.required=l=n[0].enabled,_(f,"class","help-block")},m(d,h){E(d,e,h),b(e,t),E(d,i,h),E(d,s,h),Ne(s,n[0].tokenUrl),E(d,o,h),E(d,f,h),c||(u=ae(s,"input",n[3]),c=!0)},p(d,h){h&16&&r!==(r=d[4])&&_(e,"for",r),h&16&&a!==(a=d[4])&&_(s,"id",a),h&1&&l!==(l=d[0].enabled)&&(s.required=l),h&1&&Ne(s,d[0].tokenUrl)},d(d){d&&S(e),d&&S(i),d&&S(s),d&&S(o),d&&S(f),c=!1,u()}}}function DN(n){let e,t,r,i,s,a,l,o,f;return s=new Re({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".authUrl",$$slots:{default:[AN,({uniqueId:c})=>({4:c}),({uniqueId:c})=>c?16:0]},$$scope:{ctx:n}}}),o=new Re({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".tokenUrl",$$slots:{default:[FN,({uniqueId:c})=>({4:c}),({uniqueId:c})=>c?16:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),e.textContent="Azure AD endpoints",t=D(),r=y("div"),i=y("div"),z(s.$$.fragment),a=D(),l=y("div"),z(o.$$.fragment),_(e,"class","section-title"),_(i,"class","col-lg-12"),_(l,"class","col-lg-12"),_(r,"class","grid")},m(c,u){E(c,e,u),E(c,t,u),E(c,r,u),b(r,i),W(s,i,null),b(r,a),b(r,l),W(o,l,null),f=!0},p(c,[u]){const d={};u&1&&(d.class="form-field "+(c[0].enabled?"required":"")),u&2&&(d.name=c[1]+".authUrl"),u&49&&(d.$$scope={dirty:u,ctx:c}),s.$set(d);const h={};u&1&&(h.class="form-field "+(c[0].enabled?"required":"")),u&2&&(h.name=c[1]+".tokenUrl"),u&49&&(h.$$scope={dirty:u,ctx:c}),o.$set(h)},i(c){f||(M(s.$$.fragment,c),M(o.$$.fragment,c),f=!0)},o(c){L(s.$$.fragment,c),L(o.$$.fragment,c),f=!1},d(c){c&&S(e),c&&S(t),c&&S(r),j(s),j(o)}}}function ON(n,e,t){let{key:r=""}=e,{config:i={}}=e;function s(){i.authUrl=this.value,t(0,i)}function a(){i.tokenUrl=this.value,t(0,i)}return n.$$set=l=>{"key"in l&&t(1,r=l.key),"config"in l&&t(0,i=l.config)},[i,r,s,a]}class MN extends We{constructor(e){super(),Ve(this,e,ON,DN,$e,{key:1,config:0})}}function IN(n){let e,t,r,i,s,a,l,o,f,c,u;return{c(){e=y("label"),t=q("Auth URL"),i=D(),s=y("input"),o=D(),f=y("div"),f.textContent="Eg. https://example.com/authorize/",_(e,"for",r=n[5]),_(s,"type","url"),_(s,"id",a=n[5]),s.required=l=n[0].enabled,_(f,"class","help-block")},m(d,h){E(d,e,h),b(e,t),E(d,i,h),E(d,s,h),Ne(s,n[0].authUrl),E(d,o,h),E(d,f,h),c||(u=ae(s,"input",n[2]),c=!0)},p(d,h){h&32&&r!==(r=d[5])&&_(e,"for",r),h&32&&a!==(a=d[5])&&_(s,"id",a),h&1&&l!==(l=d[0].enabled)&&(s.required=l),h&1&&Ne(s,d[0].authUrl)},d(d){d&&S(e),d&&S(i),d&&S(s),d&&S(o),d&&S(f),c=!1,u()}}}function NN(n){let e,t,r,i,s,a,l,o,f,c,u;return{c(){e=y("label"),t=q("Token URL"),i=D(),s=y("input"),o=D(),f=y("div"),f.textContent="Eg. https://example.com/token/",_(e,"for",r=n[5]),_(s,"type","url"),_(s,"id",a=n[5]),s.required=l=n[0].enabled,_(f,"class","help-block")},m(d,h){E(d,e,h),b(e,t),E(d,i,h),E(d,s,h),Ne(s,n[0].tokenUrl),E(d,o,h),E(d,f,h),c||(u=ae(s,"input",n[3]),c=!0)},p(d,h){h&32&&r!==(r=d[5])&&_(e,"for",r),h&32&&a!==(a=d[5])&&_(s,"id",a),h&1&&l!==(l=d[0].enabled)&&(s.required=l),h&1&&Ne(s,d[0].tokenUrl)},d(d){d&&S(e),d&&S(i),d&&S(s),d&&S(o),d&&S(f),c=!1,u()}}}function PN(n){let e,t,r,i,s,a,l,o,f,c,u;return{c(){e=y("label"),t=q("User API URL"),i=D(),s=y("input"),o=D(),f=y("div"),f.textContent="Eg. https://example.com/userinfo/",_(e,"for",r=n[5]),_(s,"type","url"),_(s,"id",a=n[5]),s.required=l=n[0].enabled,_(f,"class","help-block")},m(d,h){E(d,e,h),b(e,t),E(d,i,h),E(d,s,h),Ne(s,n[0].userApiUrl),E(d,o,h),E(d,f,h),c||(u=ae(s,"input",n[4]),c=!0)},p(d,h){h&32&&r!==(r=d[5])&&_(e,"for",r),h&32&&a!==(a=d[5])&&_(s,"id",a),h&1&&l!==(l=d[0].enabled)&&(s.required=l),h&1&&Ne(s,d[0].userApiUrl)},d(d){d&&S(e),d&&S(i),d&&S(s),d&&S(o),d&&S(f),c=!1,u()}}}function LN(n){let e,t,r,i,s,a,l,o,f,c,u,d;return s=new Re({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".authUrl",$$slots:{default:[IN,({uniqueId:h})=>({5:h}),({uniqueId:h})=>h?32:0]},$$scope:{ctx:n}}}),o=new Re({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".tokenUrl",$$slots:{default:[NN,({uniqueId:h})=>({5:h}),({uniqueId:h})=>h?32:0]},$$scope:{ctx:n}}}),u=new Re({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".userApiUrl",$$slots:{default:[PN,({uniqueId:h})=>({5:h}),({uniqueId:h})=>h?32:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),e.textContent="Endpoints",t=D(),r=y("div"),i=y("div"),z(s.$$.fragment),a=D(),l=y("div"),z(o.$$.fragment),f=D(),c=y("div"),z(u.$$.fragment),_(e,"class","section-title"),_(i,"class","col-lg-12"),_(l,"class","col-lg-12"),_(c,"class","col-lg-12"),_(r,"class","grid")},m(h,m){E(h,e,m),E(h,t,m),E(h,r,m),b(r,i),W(s,i,null),b(r,a),b(r,l),W(o,l,null),b(r,f),b(r,c),W(u,c,null),d=!0},p(h,[m]){const p={};m&1&&(p.class="form-field "+(h[0].enabled?"required":"")),m&2&&(p.name=h[1]+".authUrl"),m&97&&(p.$$scope={dirty:m,ctx:h}),s.$set(p);const g={};m&1&&(g.class="form-field "+(h[0].enabled?"required":"")),m&2&&(g.name=h[1]+".tokenUrl"),m&97&&(g.$$scope={dirty:m,ctx:h}),o.$set(g);const v={};m&1&&(v.class="form-field "+(h[0].enabled?"required":"")),m&2&&(v.name=h[1]+".userApiUrl"),m&97&&(v.$$scope={dirty:m,ctx:h}),u.$set(v)},i(h){d||(M(s.$$.fragment,h),M(o.$$.fragment,h),M(u.$$.fragment,h),d=!0)},o(h){L(s.$$.fragment,h),L(o.$$.fragment,h),L(u.$$.fragment,h),d=!1},d(h){h&&S(e),h&&S(t),h&&S(r),j(s),j(o),j(u)}}}function RN(n,e,t){let{key:r=""}=e,{config:i={}}=e;function s(){i.authUrl=this.value,t(0,i)}function a(){i.tokenUrl=this.value,t(0,i)}function l(){i.userApiUrl=this.value,t(0,i)}return n.$$set=o=>{"key"in o&&t(1,r=o.key),"config"in o&&t(0,i=o.config)},[i,r,s,a,l]}class Ku extends We{constructor(e){super(),Ve(this,e,RN,LN,$e,{key:1,config:0})}}function $N(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Client ID"),i=D(),s=y("input"),_(e,"for",r=n[23]),_(s,"type","text"),_(s,"id",a=n[23]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[2]),l||(o=ae(s,"input",n[12]),l=!0)},p(f,c){c&8388608&&r!==(r=f[23])&&_(e,"for",r),c&8388608&&a!==(a=f[23])&&_(s,"id",a),c&4&&s.value!==f[2]&&Ne(s,f[2])},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function BN(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Team ID"),i=D(),s=y("input"),_(e,"for",r=n[23]),_(s,"type","text"),_(s,"id",a=n[23]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[3]),l||(o=ae(s,"input",n[13]),l=!0)},p(f,c){c&8388608&&r!==(r=f[23])&&_(e,"for",r),c&8388608&&a!==(a=f[23])&&_(s,"id",a),c&8&&s.value!==f[3]&&Ne(s,f[3])},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function UN(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Key ID"),i=D(),s=y("input"),_(e,"for",r=n[23]),_(s,"type","text"),_(s,"id",a=n[23]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[4]),l||(o=ae(s,"input",n[14]),l=!0)},p(f,c){c&8388608&&r!==(r=f[23])&&_(e,"for",r),c&8388608&&a!==(a=f[23])&&_(s,"id",a),c&16&&s.value!==f[4]&&Ne(s,f[4])},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function HN(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("label"),t=y("span"),t.textContent="Duration (in seconds)",r=D(),i=y("i"),a=D(),l=y("input"),_(t,"class","txt"),_(i,"class","ri-information-line link-hint"),_(e,"for",s=n[23]),_(l,"type","text"),_(l,"id",o=n[23]),_(l,"max",sc),l.required=!0},m(u,d){E(u,e,d),b(e,t),b(e,r),b(e,i),E(u,a,d),E(u,l,d),Ne(l,n[6]),f||(c=[st(xt.call(null,i,{text:`Max ${sc} seconds (~${sc/(60*60*24*30)<<0} months).`,position:"top"})),ae(l,"input",n[15])],f=!0)},p(u,d){d&8388608&&s!==(s=u[23])&&_(e,"for",s),d&8388608&&o!==(o=u[23])&&_(l,"id",o),d&64&&l.value!==u[6]&&Ne(l,u[6])},d(u){u&&S(e),u&&S(a),u&&S(l),f=!1,it(c)}}}function VN(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("label"),t=q("Private key"),i=D(),s=y("textarea"),l=D(),o=y("div"),o.textContent="The key is not stored on the server and it is used only for generating the signed JWT.",_(e,"for",r=n[23]),_(s,"id",a=n[23]),s.required=!0,_(s,"rows","8"),_(s,"placeholder",`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`),_(o,"class","help-block")},m(u,d){E(u,e,d),b(e,t),E(u,i,d),E(u,s,d),Ne(s,n[5]),E(u,l,d),E(u,o,d),f||(c=ae(s,"input",n[16]),f=!0)},p(u,d){d&8388608&&r!==(r=u[23])&&_(e,"for",r),d&8388608&&a!==(a=u[23])&&_(s,"id",a),d&32&&Ne(s,u[5])},d(u){u&&S(e),u&&S(i),u&&S(s),u&&S(l),u&&S(o),f=!1,c()}}}function WN(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w;return i=new Re({props:{class:"form-field required",name:"clientId",$$slots:{default:[$N,({uniqueId:k})=>({23:k}),({uniqueId:k})=>k?8388608:0]},$$scope:{ctx:n}}}),l=new Re({props:{class:"form-field required",name:"teamId",$$slots:{default:[BN,({uniqueId:k})=>({23:k}),({uniqueId:k})=>k?8388608:0]},$$scope:{ctx:n}}}),c=new Re({props:{class:"form-field required",name:"keyId",$$slots:{default:[UN,({uniqueId:k})=>({23:k}),({uniqueId:k})=>k?8388608:0]},$$scope:{ctx:n}}}),h=new Re({props:{class:"form-field required",name:"duration",$$slots:{default:[HN,({uniqueId:k})=>({23:k}),({uniqueId:k})=>k?8388608:0]},$$scope:{ctx:n}}}),p=new Re({props:{class:"form-field required",name:"privateKey",$$slots:{default:[VN,({uniqueId:k})=>({23:k}),({uniqueId:k})=>k?8388608:0]},$$scope:{ctx:n}}}),{c(){e=y("form"),t=y("div"),r=y("div"),z(i.$$.fragment),s=D(),a=y("div"),z(l.$$.fragment),o=D(),f=y("div"),z(c.$$.fragment),u=D(),d=y("div"),z(h.$$.fragment),m=D(),z(p.$$.fragment),_(r,"class","col-lg-6"),_(a,"class","col-lg-6"),_(f,"class","col-lg-6"),_(d,"class","col-lg-6"),_(t,"class","grid"),_(e,"id",n[9]),_(e,"autocomplete","off")},m(k,x){E(k,e,x),b(e,t),b(t,r),W(i,r,null),b(t,s),b(t,a),W(l,a,null),b(t,o),b(t,f),W(c,f,null),b(t,u),b(t,d),W(h,d,null),b(t,m),W(p,t,null),g=!0,v||(w=ae(e,"submit",Yt(n[17])),v=!0)},p(k,x){const A={};x&25165828&&(A.$$scope={dirty:x,ctx:k}),i.$set(A);const T={};x&25165832&&(T.$$scope={dirty:x,ctx:k}),l.$set(T);const C={};x&25165840&&(C.$$scope={dirty:x,ctx:k}),c.$set(C);const F={};x&25165888&&(F.$$scope={dirty:x,ctx:k}),h.$set(F);const O={};x&25165856&&(O.$$scope={dirty:x,ctx:k}),p.$set(O)},i(k){g||(M(i.$$.fragment,k),M(l.$$.fragment,k),M(c.$$.fragment,k),M(h.$$.fragment,k),M(p.$$.fragment,k),g=!0)},o(k){L(i.$$.fragment,k),L(l.$$.fragment,k),L(c.$$.fragment,k),L(h.$$.fragment,k),L(p.$$.fragment,k),g=!1},d(k){k&&S(e),j(i),j(l),j(c),j(h),j(p),v=!1,w()}}}function jN(n){let e;return{c(){e=y("h4"),e.textContent="Generate Apple client secret",_(e,"class","center txt-break")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function zN(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("button"),t=q("Close"),r=D(),i=y("button"),s=y("i"),a=D(),l=y("span"),l.textContent="Generate and set secret",_(e,"type","button"),_(e,"class","btn btn-transparent"),e.disabled=n[7],_(s,"class","ri-key-line"),_(l,"class","txt"),_(i,"type","submit"),_(i,"form",n[9]),_(i,"class","btn btn-expanded"),i.disabled=o=!n[8]||n[7],pe(i,"btn-loading",n[7])},m(u,d){E(u,e,d),b(e,t),E(u,r,d),E(u,i,d),b(i,s),b(i,a),b(i,l),f||(c=ae(e,"click",n[0]),f=!0)},p(u,d){d&128&&(e.disabled=u[7]),d&384&&o!==(o=!u[8]||u[7])&&(i.disabled=o),d&128&&pe(i,"btn-loading",u[7])},d(u){u&&S(e),u&&S(r),u&&S(i),f=!1,c()}}}function qN(n){let e,t,r={overlayClose:!n[7],escClose:!n[7],beforeHide:n[18],popup:!0,$$slots:{footer:[zN],header:[jN],default:[WN]},$$scope:{ctx:n}};return e=new $r({props:r}),n[19](e),e.$on("show",n[20]),e.$on("hide",n[21]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&128&&(a.overlayClose=!i[7]),s&128&&(a.escClose=!i[7]),s&128&&(a.beforeHide=i[18]),s&16777724&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[19](null),j(e,i)}}}const sc=15777e3;function YN(n,e,t){let r;const i=Fn(),s="apple_secret_"+X.randomString(5);let a,l,o,f,c,u,d=!1;function h(I={}){t(2,l=I.clientId||""),t(3,o=I.teamId||""),t(4,f=I.keyId||""),t(5,c=I.privateKey||""),t(6,u=I.duration||sc),Ti({}),a==null||a.show()}function m(){return a==null?void 0:a.hide()}async function p(){t(7,d=!0);try{const I=await Ue.send("/api/settings/apple/generate-client-secret",{method:"POST",body:{teamId:o,clientId:l,keyId:f,privateKey:c.trim(),duration:u}});t(7,d=!1),Qn("Successfully generated client secret."),i("submit",I),a==null||a.hide()}catch(I){Ue.errorResponseHandler(I)}t(7,d=!1)}function g(){l=this.value,t(2,l)}function v(){o=this.value,t(3,o)}function w(){f=this.value,t(4,f)}function k(){u=this.value,t(6,u)}function x(){c=this.value,t(5,c)}const A=()=>p(),T=()=>!d;function C(I){ve[I?"unshift":"push"](()=>{a=I,t(1,a)})}function F(I){mt.call(this,n,I)}function O(I){mt.call(this,n,I)}return t(8,r=!0),[m,a,l,o,f,c,u,d,r,s,p,h,g,v,w,k,x,A,T,C,F,O]}class GN extends We{constructor(e){super(),Ve(this,e,YN,qN,$e,{show:11,hide:0})}get show(){return this.$$.ctx[11]}get hide(){return this.$$.ctx[0]}}function XN(n){let e,t,r,i,s,a,l,o,f,c,u={};return l=new GN({props:u}),n[4](l),l.$on("submit",n[5]),{c(){e=y("button"),t=y("i"),r=D(),i=y("span"),i.textContent="Generate secret",a=D(),z(l.$$.fragment),_(t,"class","ri-key-line"),_(i,"class","txt"),_(e,"type","button"),_(e,"class",s="btn btn-sm btn-secondary btn-provider-"+n[1])},m(d,h){E(d,e,h),b(e,t),b(e,r),b(e,i),E(d,a,h),W(l,d,h),o=!0,f||(c=ae(e,"click",n[3]),f=!0)},p(d,[h]){(!o||h&2&&s!==(s="btn btn-sm btn-secondary btn-provider-"+d[1]))&&_(e,"class",s);const m={};l.$set(m)},i(d){o||(M(l.$$.fragment,d),o=!0)},o(d){L(l.$$.fragment,d),o=!1},d(d){d&&S(e),d&&S(a),n[4](null),j(l,d),f=!1,c()}}}function KN(n,e,t){let{key:r=""}=e,{config:i={}}=e,s;const a=()=>s==null?void 0:s.show({clientId:i.clientId});function l(f){ve[f?"unshift":"push"](()=>{s=f,t(2,s)})}const o=f=>{var c;t(0,i.clientSecret=((c=f.detail)==null?void 0:c.secret)||"",i)};return n.$$set=f=>{"key"in f&&t(1,r=f.key),"config"in f&&t(0,i=f.config)},[i,r,s,a,l,o]}class JN extends We{constructor(e){super(),Ve(this,e,KN,XN,$e,{key:1,config:0})}}const xl={appleAuth:{title:"Apple",icon:"ri-apple-fill",optionsComponent:JN},googleAuth:{title:"Google",icon:"ri-google-fill"},microsoftAuth:{title:"Microsoft",icon:"ri-microsoft-fill",optionsComponent:MN},facebookAuth:{title:"Facebook",icon:"ri-facebook-fill"},twitterAuth:{title:"Twitter",icon:"ri-twitter-fill"},githubAuth:{title:"GitHub",icon:"ri-github-fill"},gitlabAuth:{title:"GitLab",icon:"ri-gitlab-fill",optionsComponent:xg},giteeAuth:{title:"Gitee",icon:"ri-git-repository-fill"},giteaAuth:{title:"Gitea",icon:"ri-cup-fill",optionsComponent:xg},discordAuth:{title:"Discord",icon:"ri-discord-fill"},kakaoAuth:{title:"Kakao",icon:"ri-kakao-talk-fill"},spotifyAuth:{title:"Spotify",icon:"ri-spotify-fill"},twitchAuth:{title:"Twitch",icon:"ri-twitch-fill"},stravaAuth:{title:"Strava",icon:"ri-riding-fill"},livechatAuth:{title:"LiveChat",icon:"ri-chat-1-fill"},oidcAuth:{title:"OpenID Connect - Authentik, Keycloak, Okta, etc.",icon:"ri-lock-fill",optionsComponent:Ku},oidc2Auth:{title:"(2) OpenID Connect - Authentik, Keycloak, Okta, etc.",icon:"ri-lock-fill",hidden:!0,optionsComponent:Ku},oidc3Auth:{title:"(3) OpenID Connect - Authentik, Keycloak, Okta, etc.",icon:"ri-lock-fill",hidden:!0,optionsComponent:Ku}};function Tg(n,e,t){const r=n.slice();return r[9]=e[t],r}function ZN(n){let e;return{c(){e=y("h6"),e.textContent="No linked OAuth2 providers.",_(e,"class","txt-hint txt-center m-t-sm m-b-sm")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function QN(n){let e,t=n[1],r=[];for(let i=0;i<t.length;i+=1)r[i]=Sg(Tg(n,t,i));return{c(){e=y("div");for(let i=0;i<r.length;i+=1)r[i].c();_(e,"class","list")},m(i,s){E(i,e,s);for(let a=0;a<r.length;a+=1)r[a].m(e,null)},p(i,s){if(s&58){t=i[1];let a;for(a=0;a<t.length;a+=1){const l=Tg(i,t,a);r[a]?r[a].p(l,s):(r[a]=Sg(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){i&&S(e),zt(r,i)}}}function eP(n){let e;return{c(){e=y("div"),e.innerHTML='<span class="loader"></span>',_(e,"class","block txt-center")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function Sg(n){let e,t,r,i,s,a=n[3](n[9].provider)+"",l,o,f,c,u=n[9].providerId+"",d,h,m,p,g,v;function w(){return n[6](n[9])}return{c(){e=y("div"),t=y("i"),i=D(),s=y("span"),l=q(a),o=D(),f=y("div"),c=q("ID: "),d=q(u),h=D(),m=y("button"),m.innerHTML='<i class="ri-close-line"></i>',p=D(),_(t,"class",r=n[4](n[9].provider)),_(s,"class","txt"),_(f,"class","txt-hint"),_(m,"type","button"),_(m,"class","btn btn-transparent link-hint btn-circle btn-sm m-l-auto"),_(e,"class","list-item")},m(k,x){E(k,e,x),b(e,t),b(e,i),b(e,s),b(s,l),b(e,o),b(e,f),b(f,c),b(f,d),b(e,h),b(e,m),b(e,p),g||(v=ae(m,"click",w),g=!0)},p(k,x){n=k,x&2&&r!==(r=n[4](n[9].provider))&&_(t,"class",r),x&2&&a!==(a=n[3](n[9].provider)+"")&&ke(l,a),x&2&&u!==(u=n[9].providerId+"")&&ke(d,u)},d(k){k&&S(e),g=!1,v()}}}function tP(n){let e;function t(s,a){var l;return s[2]?eP:(l=s[0])!=null&&l.id&&s[1].length?QN:ZN}let r=t(n),i=r(n);return{c(){i.c(),e=Ge()},m(s,a){i.m(s,a),E(s,e,a)},p(s,[a]){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:ce,o:ce,d(s){i.d(s),s&&S(e)}}}function nP(n,e,t){const r=Fn();let{record:i}=e,s=[],a=!1;function l(d){var h;return((h=xl[d+"Auth"])==null?void 0:h.title)||X.sentenize(d,!1)}function o(d){var h;return((h=xl[d+"Auth"])==null?void 0:h.icon)||`ri-${d}-line`}async function f(){if(!(i!=null&&i.id)){t(1,s=[]),t(2,a=!1);return}t(2,a=!0);try{t(1,s=await Ue.collection(i.collectionId).listExternalAuths(i.id))}catch(d){Ue.errorResponseHandler(d)}t(2,a=!1)}function c(d){!(i!=null&&i.id)||!d||Wr(`Do you really want to unlink the ${l(d)} provider?`,()=>Ue.collection(i.collectionId).unlinkExternalAuth(i.id,d).then(()=>{Qn(`Successfully unlinked the ${l(d)} provider.`),r("unlink",d),f()}).catch(h=>{Ue.errorResponseHandler(h)}))}f();const u=d=>c(d.provider);return n.$$set=d=>{"record"in d&&t(0,i=d.record)},[i,s,a,l,o,c,u]}class rP extends We{constructor(e){super(),Ve(this,e,nP,tP,$e,{record:0})}}function Eg(n,e,t){const r=n.slice();return r[51]=e[t],r[52]=e,r[53]=t,r}function Cg(n){let e,t;return e=new Re({props:{class:"form-field readonly",name:"id",$$slots:{default:[iP,({uniqueId:r})=>({54:r}),({uniqueId:r})=>[0,r?8388608:0]]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i[0]&4|i[1]&25165824&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function iP(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v;return{c(){e=y("label"),t=y("i"),r=D(),i=y("span"),i.textContent="id",s=D(),a=y("span"),o=D(),f=y("div"),c=y("i"),d=D(),h=y("input"),_(t,"class",X.getFieldTypeIcon("primary")),_(i,"class","txt"),_(a,"class","flex-fill"),_(e,"for",l=n[54]),_(c,"class","ri-calendar-event-line txt-disabled"),_(f,"class","form-field-addon"),_(h,"type","text"),_(h,"id",m=n[54]),h.value=p=n[2].id,h.readOnly=!0},m(w,k){E(w,e,k),b(e,t),b(e,r),b(e,i),b(e,s),b(e,a),E(w,o,k),E(w,f,k),b(f,c),E(w,d,k),E(w,h,k),g||(v=st(u=xt.call(null,c,{text:`Created: ${n[2].created}
Updated: ${n[2].updated}`,position:"left"})),g=!0)},p(w,k){k[1]&8388608&&l!==(l=w[54])&&_(e,"for",l),u&&ar(u.update)&&k[0]&4&&u.update.call(null,{text:`Created: ${w[2].created}
Updated: ${w[2].updated}`,position:"left"}),k[1]&8388608&&m!==(m=w[54])&&_(h,"id",m),k[0]&4&&p!==(p=w[2].id)&&h.value!==p&&(h.value=p)},d(w){w&&S(e),w&&S(o),w&&S(f),w&&S(d),w&&S(h),g=!1,v()}}}function Ag(n){var f,c;let e,t,r,i,s;function a(u){n[29](u)}let l={collection:n[0]};n[2]!==void 0&&(l.record=n[2]),e=new zM({props:l}),ve.push(()=>Le(e,"record",a));let o=((c=(f=n[0])==null?void 0:f.schema)==null?void 0:c.length)&&Fg();return{c(){z(e.$$.fragment),r=D(),o&&o.c(),i=Ge()},m(u,d){W(e,u,d),E(u,r,d),o&&o.m(u,d),E(u,i,d),s=!0},p(u,d){var m,p;const h={};d[0]&1&&(h.collection=u[0]),!t&&d[0]&4&&(t=!0,h.record=u[2],He(()=>t=!1)),e.$set(h),(p=(m=u[0])==null?void 0:m.schema)!=null&&p.length?o||(o=Fg(),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null)},i(u){s||(M(e.$$.fragment,u),s=!0)},o(u){L(e.$$.fragment,u),s=!1},d(u){j(e,u),u&&S(r),o&&o.d(u),u&&S(i)}}}function Fg(n){let e;return{c(){e=y("hr")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function sP(n){let e,t,r;function i(a){n[42](a,n[51])}let s={field:n[51]};return n[2][n[51].name]!==void 0&&(s.value=n[2][n[51].name]),e=new nx({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l[0]&1&&(o.field=n[51]),!t&&l[0]&5&&(t=!0,o.value=n[2][n[51].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function aP(n){let e,t,r,i,s;function a(c){n[39](c,n[51])}function l(c){n[40](c,n[51])}function o(c){n[41](c,n[51])}let f={field:n[51],record:n[2]};return n[2][n[51].name]!==void 0&&(f.value=n[2][n[51].name]),n[3][n[51].name]!==void 0&&(f.uploadedFiles=n[3][n[51].name]),n[4][n[51].name]!==void 0&&(f.deletedFileIndexes=n[4][n[51].name]),e=new VI({props:f}),ve.push(()=>Le(e,"value",a)),ve.push(()=>Le(e,"uploadedFiles",l)),ve.push(()=>Le(e,"deletedFileIndexes",o)),{c(){z(e.$$.fragment)},m(c,u){W(e,c,u),s=!0},p(c,u){n=c;const d={};u[0]&1&&(d.field=n[51]),u[0]&4&&(d.record=n[2]),!t&&u[0]&5&&(t=!0,d.value=n[2][n[51].name],He(()=>t=!1)),!r&&u[0]&9&&(r=!0,d.uploadedFiles=n[3][n[51].name],He(()=>r=!1)),!i&&u[0]&17&&(i=!0,d.deletedFileIndexes=n[4][n[51].name],He(()=>i=!1)),e.$set(d)},i(c){s||(M(e.$$.fragment,c),s=!0)},o(c){L(e.$$.fragment,c),s=!1},d(c){j(e,c)}}}function lP(n){let e,t,r;function i(a){n[38](a,n[51])}let s={field:n[51]};return n[2][n[51].name]!==void 0&&(s.value=n[2][n[51].name]),e=new tx({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l[0]&1&&(o.field=n[51]),!t&&l[0]&5&&(t=!0,o.value=n[2][n[51].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function oP(n){let e,t,r;function i(a){n[37](a,n[51])}let s={field:n[51]};return n[2][n[51].name]!==void 0&&(s.value=n[2][n[51].name]),e=new ex({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l[0]&1&&(o.field=n[51]),!t&&l[0]&5&&(t=!0,o.value=n[2][n[51].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function fP(n){let e,t,r;function i(a){n[36](a,n[51])}let s={field:n[51]};return n[2][n[51].name]!==void 0&&(s.value=n[2][n[51].name]),e=new Qy({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l[0]&1&&(o.field=n[51]),!t&&l[0]&5&&(t=!0,o.value=n[2][n[51].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function cP(n){let e,t,r;function i(a){n[35](a,n[51])}let s={field:n[51]};return n[2][n[51].name]!==void 0&&(s.value=n[2][n[51].name]),e=new sx({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l[0]&1&&(o.field=n[51]),!t&&l[0]&5&&(t=!0,o.value=n[2][n[51].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function uP(n){let e,t,r;function i(a){n[34](a,n[51])}let s={field:n[51]};return n[2][n[51].name]!==void 0&&(s.value=n[2][n[51].name]),e=new Zy({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l[0]&1&&(o.field=n[51]),!t&&l[0]&5&&(t=!0,o.value=n[2][n[51].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function dP(n){let e,t,r;function i(a){n[33](a,n[51])}let s={field:n[51]};return n[2][n[51].name]!==void 0&&(s.value=n[2][n[51].name]),e=new Jy({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l[0]&1&&(o.field=n[51]),!t&&l[0]&5&&(t=!0,o.value=n[2][n[51].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function hP(n){let e,t,r;function i(a){n[32](a,n[51])}let s={field:n[51]};return n[2][n[51].name]!==void 0&&(s.value=n[2][n[51].name]),e=new Ky({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l[0]&1&&(o.field=n[51]),!t&&l[0]&5&&(t=!0,o.value=n[2][n[51].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function pP(n){let e,t,r;function i(a){n[31](a,n[51])}let s={field:n[51]};return n[2][n[51].name]!==void 0&&(s.value=n[2][n[51].name]),e=new Xy({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l[0]&1&&(o.field=n[51]),!t&&l[0]&5&&(t=!0,o.value=n[2][n[51].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function mP(n){let e,t,r;function i(a){n[30](a,n[51])}let s={field:n[51]};return n[2][n[51].name]!==void 0&&(s.value=n[2][n[51].name]),e=new Gy({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l[0]&1&&(o.field=n[51]),!t&&l[0]&5&&(t=!0,o.value=n[2][n[51].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function Dg(n,e){let t,r,i,s,a;const l=[mP,pP,hP,dP,uP,cP,fP,oP,lP,aP,sP],o=[];function f(c,u){return c[51].type==="text"?0:c[51].type==="number"?1:c[51].type==="bool"?2:c[51].type==="email"?3:c[51].type==="url"?4:c[51].type==="editor"?5:c[51].type==="date"?6:c[51].type==="select"?7:c[51].type==="json"?8:c[51].type==="file"?9:c[51].type==="relation"?10:-1}return~(r=f(e))&&(i=o[r]=l[r](e)),{key:n,first:null,c(){t=Ge(),i&&i.c(),s=Ge(),this.first=t},m(c,u){E(c,t,u),~r&&o[r].m(c,u),E(c,s,u),a=!0},p(c,u){e=c;let d=r;r=f(e),r===d?~r&&o[r].p(e,u):(i&&(Me(),L(o[d],1,1,()=>{o[d]=null}),Ie()),~r?(i=o[r],i?i.p(e,u):(i=o[r]=l[r](e),i.c()),M(i,1),i.m(s.parentNode,s)):i=null)},i(c){a||(M(i),a=!0)},o(c){L(i),a=!1},d(c){c&&S(t),~r&&o[r].d(c),c&&S(s)}}}function Og(n){let e,t,r;return t=new rP({props:{record:n[2]}}),{c(){e=y("div"),z(t.$$.fragment),_(e,"class","tab-item"),pe(e,"active",n[10]===Po)},m(i,s){E(i,e,s),W(t,e,null),r=!0},p(i,s){const a={};s[0]&4&&(a.record=i[2]),t.$set(a),(!r||s[0]&1024)&&pe(e,"active",i[10]===Po)},i(i){r||(M(t.$$.fragment,i),r=!0)},o(i){L(t.$$.fragment,i),r=!1},d(i){i&&S(e),j(t)}}}function _P(n){var g,v;let e,t,r,i,s=[],a=new Map,l,o,f,c,u=!n[2].isNew&&Cg(n),d=((g=n[0])==null?void 0:g.isAuth)&&Ag(n),h=((v=n[0])==null?void 0:v.schema)||[];const m=w=>w[51].name;for(let w=0;w<h.length;w+=1){let k=Eg(n,h,w),x=m(k);a.set(x,s[w]=Dg(x,k))}let p=n[0].isAuth&&!n[2].isNew&&Og(n);return{c(){e=y("div"),t=y("form"),u&&u.c(),r=D(),d&&d.c(),i=D();for(let w=0;w<s.length;w+=1)s[w].c();l=D(),p&&p.c(),_(t,"id",n[13]),_(t,"class","tab-item"),pe(t,"active",n[10]===ka),_(e,"class","tabs-content")},m(w,k){E(w,e,k),b(e,t),u&&u.m(t,null),b(t,r),d&&d.m(t,null),b(t,i);for(let x=0;x<s.length;x+=1)s[x].m(t,null);b(e,l),p&&p.m(e,null),o=!0,f||(c=ae(t,"submit",Yt(n[14])),f=!0)},p(w,k){var x,A;w[2].isNew?u&&(Me(),L(u,1,1,()=>{u=null}),Ie()):u?(u.p(w,k),k[0]&4&&M(u,1)):(u=Cg(w),u.c(),M(u,1),u.m(t,r)),(x=w[0])!=null&&x.isAuth?d?(d.p(w,k),k[0]&1&&M(d,1)):(d=Ag(w),d.c(),M(d,1),d.m(t,i)):d&&(Me(),L(d,1,1,()=>{d=null}),Ie()),k[0]&29&&(h=((A=w[0])==null?void 0:A.schema)||[],Me(),s=sn(s,k,m,1,w,h,a,t,Tr,Dg,null,Eg),Ie()),(!o||k[0]&1024)&&pe(t,"active",w[10]===ka),w[0].isAuth&&!w[2].isNew?p?(p.p(w,k),k[0]&5&&M(p,1)):(p=Og(w),p.c(),M(p,1),p.m(e,null)):p&&(Me(),L(p,1,1,()=>{p=null}),Ie())},i(w){if(!o){M(u),M(d);for(let k=0;k<h.length;k+=1)M(s[k]);M(p),o=!0}},o(w){L(u),L(d);for(let k=0;k<s.length;k+=1)L(s[k]);L(p),o=!1},d(w){w&&S(e),u&&u.d(),d&&d.d();for(let k=0;k<s.length;k+=1)s[k].d();p&&p.d(),f=!1,c()}}}function Mg(n){let e,t,r,i,s,a,l;return a=new ss({props:{class:"dropdown dropdown-right dropdown-nowrap",$$slots:{default:[gP]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=D(),r=y("button"),i=y("i"),s=D(),z(a.$$.fragment),_(e,"class","flex-fill"),_(i,"class","ri-more-line"),_(r,"type","button"),_(r,"aria-label","More"),_(r,"class","btn btn-sm btn-circle btn-transparent flex-gap-0")},m(o,f){E(o,e,f),E(o,t,f),E(o,r,f),b(r,i),b(r,s),W(a,r,null),l=!0},p(o,f){const c={};f[0]&129|f[1]&16777216&&(c.$$scope={dirty:f,ctx:o}),a.$set(c)},i(o){l||(M(a.$$.fragment,o),l=!0)},o(o){L(a.$$.fragment,o),l=!1},d(o){o&&S(e),o&&S(t),o&&S(r),j(a)}}}function Ig(n){let e,t,r;return{c(){e=y("button"),e.innerHTML=`<i class="ri-mail-check-line"></i> 
                            <span class="txt">Send verification email</span>`,_(e,"type","button"),_(e,"class","dropdown-item closable")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[23]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function Ng(n){let e,t,r;return{c(){e=y("button"),e.innerHTML=`<i class="ri-mail-lock-line"></i> 
                            <span class="txt">Send password reset email</span>`,_(e,"type","button"),_(e,"class","dropdown-item closable")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[24]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function gP(n){let e,t,r,i,s,a,l,o=n[0].isAuth&&!n[7].verified&&n[7].email&&Ig(n),f=n[0].isAuth&&n[7].email&&Ng(n);return{c(){o&&o.c(),e=D(),f&&f.c(),t=D(),r=y("button"),r.innerHTML=`<i class="ri-file-copy-line"></i> 
                        <span class="txt">Duplicate</span>`,i=D(),s=y("button"),s.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">Delete</span>`,_(r,"type","button"),_(r,"class","dropdown-item closable"),_(s,"type","button"),_(s,"class","dropdown-item txt-danger closable")},m(c,u){o&&o.m(c,u),E(c,e,u),f&&f.m(c,u),E(c,t,u),E(c,r,u),E(c,i,u),E(c,s,u),a||(l=[ae(r,"click",n[25]),ae(s,"click",ri(Yt(n[26])))],a=!0)},p(c,u){c[0].isAuth&&!c[7].verified&&c[7].email?o?o.p(c,u):(o=Ig(c),o.c(),o.m(e.parentNode,e)):o&&(o.d(1),o=null),c[0].isAuth&&c[7].email?f?f.p(c,u):(f=Ng(c),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null)},d(c){o&&o.d(c),c&&S(e),f&&f.d(c),c&&S(t),c&&S(r),c&&S(i),c&&S(s),a=!1,it(l)}}}function Pg(n){let e,t,r,i,s,a;return{c(){e=y("div"),t=y("button"),t.textContent="Account",r=D(),i=y("button"),i.textContent="Authorized providers",_(t,"type","button"),_(t,"class","tab-item"),pe(t,"active",n[10]===ka),_(i,"type","button"),_(i,"class","tab-item"),pe(i,"active",n[10]===Po),_(e,"class","tabs-header stretched")},m(l,o){E(l,e,o),b(e,t),b(e,r),b(e,i),s||(a=[ae(t,"click",n[27]),ae(i,"click",n[28])],s=!0)},p(l,o){o[0]&1024&&pe(t,"active",l[10]===ka),o[0]&1024&&pe(i,"active",l[10]===Po)},d(l){l&&S(e),s=!1,it(a)}}}function vP(n){var p;let e,t=n[2].isNew?"New":"Edit",r,i,s,a=((p=n[0])==null?void 0:p.name)+"",l,o,f,c,u,d,h=!n[2].isNew&&Mg(n),m=n[0].isAuth&&!n[2].isNew&&Pg(n);return{c(){e=y("h4"),r=q(t),i=D(),s=y("strong"),l=q(a),o=q(" record"),f=D(),h&&h.c(),c=D(),m&&m.c(),u=Ge()},m(g,v){E(g,e,v),b(e,r),b(e,i),b(e,s),b(s,l),b(e,o),E(g,f,v),h&&h.m(g,v),E(g,c,v),m&&m.m(g,v),E(g,u,v),d=!0},p(g,v){var w;(!d||v[0]&4)&&t!==(t=g[2].isNew?"New":"Edit")&&ke(r,t),(!d||v[0]&1)&&a!==(a=((w=g[0])==null?void 0:w.name)+"")&&ke(l,a),g[2].isNew?h&&(Me(),L(h,1,1,()=>{h=null}),Ie()):h?(h.p(g,v),v[0]&4&&M(h,1)):(h=Mg(g),h.c(),M(h,1),h.m(c.parentNode,c)),g[0].isAuth&&!g[2].isNew?m?m.p(g,v):(m=Pg(g),m.c(),m.m(u.parentNode,u)):m&&(m.d(1),m=null)},i(g){d||(M(h),d=!0)},o(g){L(h),d=!1},d(g){g&&S(e),g&&S(f),h&&h.d(g),g&&S(c),m&&m.d(g),g&&S(u)}}}function bP(n){let e,t,r,i,s,a=n[2].isNew?"Create":"Save changes",l,o,f,c;return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",r=D(),i=y("button"),s=y("span"),l=q(a),_(t,"class","txt"),_(e,"type","button"),_(e,"class","btn btn-transparent"),e.disabled=n[8],_(s,"class","txt"),_(i,"type","submit"),_(i,"form",n[13]),_(i,"class","btn btn-expanded"),i.disabled=o=!n[11]||n[8],pe(i,"btn-loading",n[8])},m(u,d){E(u,e,d),b(e,t),E(u,r,d),E(u,i,d),b(i,s),b(s,l),f||(c=ae(e,"click",n[22]),f=!0)},p(u,d){d[0]&256&&(e.disabled=u[8]),d[0]&4&&a!==(a=u[2].isNew?"Create":"Save changes")&&ke(l,a),d[0]&2304&&o!==(o=!u[11]||u[8])&&(i.disabled=o),d[0]&256&&pe(i,"btn-loading",u[8])},d(u){u&&S(e),u&&S(r),u&&S(i),f=!1,c()}}}function wP(n){var i;let e,t,r={class:`
        record-panel
        `+(n[12]?"overlay-panel-xl":"overlay-panel-lg")+`
        `+((i=n[0])!=null&&i.isAuth&&!n[2].isNew?"colored-header":"")+`
    `,beforeHide:n[43],$$slots:{footer:[bP],header:[vP],default:[_P]},$$scope:{ctx:n}};return e=new $r({props:r}),n[44](e),e.$on("hide",n[45]),e.$on("show",n[46]),{c(){z(e.$$.fragment)},m(s,a){W(e,s,a),t=!0},p(s,a){var o;const l={};a[0]&4101&&(l.class=`
        record-panel
        `+(s[12]?"overlay-panel-xl":"overlay-panel-lg")+`
        `+((o=s[0])!=null&&o.isAuth&&!s[2].isNew?"colored-header":"")+`
    `),a[0]&544&&(l.beforeHide=s[43]),a[0]&3485|a[1]&16777216&&(l.$$scope={dirty:a,ctx:s}),e.$set(l)},i(s){t||(M(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){n[44](null),j(e,s)}}}const ka="form",Po="providers";function Lg(n){return JSON.stringify(n)}function kP(n,e,t){let r,i,s,a;const l=Fn(),o="record_"+X.randomString(5);let{collection:f}=e,c,u=null,d=new ws,h=!1,m=!1,p={},g={},v="",w=ka;function k(_e){return A(_e),t(9,m=!0),t(10,w=ka),c==null?void 0:c.show()}function x(){return c==null?void 0:c.hide()}async function A(_e){Ti({}),t(7,u=_e||{}),_e!=null&&_e.clone?t(2,d=_e.clone()):t(2,d=new ws),t(3,p={}),t(4,g={}),await Pr(),t(20,v=Lg(d))}function T(){if(h||!a||!(f!=null&&f.id))return;t(8,h=!0);const _e=F();let je;d.isNew?je=Ue.collection(f.id).create(_e):je=Ue.collection(f.id).update(d.id,_e),je.then(wt=>{Qn(d.isNew?"Successfully created record.":"Successfully updated record."),t(9,m=!1),x(),l("save",wt)}).catch(wt=>{Ue.errorResponseHandler(wt)}).finally(()=>{t(8,h=!1)})}function C(){u!=null&&u.id&&Wr("Do you really want to delete the selected record?",()=>Ue.collection(u.collectionId).delete(u.id).then(()=>{x(),Qn("Successfully deleted record."),l("delete",u)}).catch(_e=>{Ue.errorResponseHandler(_e)}))}function F(){const _e=(d==null?void 0:d.export())||{},je=new FormData,wt={};for(const kt of(f==null?void 0:f.schema)||[])wt[kt.name]=!0;f!=null&&f.isAuth&&(wt.username=!0,wt.email=!0,wt.emailVisibility=!0,wt.password=!0,wt.passwordConfirm=!0,wt.verified=!0);for(const kt in _e)wt[kt]&&(typeof _e[kt]>"u"&&(_e[kt]=null),X.addValueToFormData(je,kt,_e[kt]));for(const kt in p){const Qt=X.toArray(p[kt]);for(const dn of Qt)je.append(kt,dn)}for(const kt in g){const Qt=X.toArray(g[kt]);for(const dn of Qt)je.append(kt+"."+dn,"")}return je}function O(){!(f!=null&&f.id)||!(u!=null&&u.email)||Wr(`Do you really want to sent verification email to ${u.email}?`,()=>Ue.collection(f.id).requestVerification(u.email).then(()=>{Qn(`Successfully sent verification email to ${u.email}.`)}).catch(_e=>{Ue.errorResponseHandler(_e)}))}function I(){!(f!=null&&f.id)||!(u!=null&&u.email)||Wr(`Do you really want to sent password reset email to ${u.email}?`,()=>Ue.collection(f.id).requestPasswordReset(u.email).then(()=>{Qn(`Successfully sent password reset email to ${u.email}.`)}).catch(_e=>{Ue.errorResponseHandler(_e)}))}function N(){s?Wr("You have unsaved changes. Do you really want to discard them?",()=>{P()}):P()}async function P(){const _e=u==null?void 0:u.clone();if(_e){_e.id="",_e.created="",_e.updated="";const je=(f==null?void 0:f.schema)||[];for(const wt of je)wt.type==="file"&&delete _e[wt.name]}k(_e),await Pr(),t(20,v="")}const R=()=>x(),Y=()=>O(),ne=()=>I(),V=()=>N(),se=()=>C(),ue=()=>t(10,w=ka),U=()=>t(10,w=Po);function be(_e){d=_e,t(2,d)}function fe(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}function B(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}function K(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}function G(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}function J(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}function de(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}function me(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}function we(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}function Fe(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}function Oe(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}function ye(_e,je){n.$$.not_equal(p[je.name],_e)&&(p[je.name]=_e,t(3,p))}function te(_e,je){n.$$.not_equal(g[je.name],_e)&&(g[je.name]=_e,t(4,g))}function he(_e,je){n.$$.not_equal(d[je.name],_e)&&(d[je.name]=_e,t(2,d))}const qe=()=>s&&m?(Wr("You have unsaved changes. Do you really want to close the panel?",()=>{t(9,m=!1),x()}),!1):(Ti({}),!0);function ot(_e){ve[_e?"unshift":"push"](()=>{c=_e,t(6,c)})}function ct(_e){mt.call(this,n,_e)}function Ce(_e){mt.call(this,n,_e)}return n.$$set=_e=>{"collection"in _e&&t(0,f=_e.collection)},n.$$.update=()=>{var _e;n.$$.dirty[0]&1&&t(12,r=!!((_e=f==null?void 0:f.schema)!=null&&_e.find(je=>je.type==="editor"))),n.$$.dirty[0]&24&&t(21,i=X.hasNonEmptyProps(p)||X.hasNonEmptyProps(g)),n.$$.dirty[0]&3145732&&t(5,s=i||v!=Lg(d)),n.$$.dirty[0]&36&&t(11,a=d.isNew||s)},[f,x,d,p,g,s,c,u,h,m,w,a,r,o,T,C,O,I,N,k,v,i,R,Y,ne,V,se,ue,U,be,fe,B,K,G,J,de,me,we,Fe,Oe,ye,te,he,qe,ot,ct,Ce]}class ax extends We{constructor(e){super(),Ve(this,e,kP,wP,$e,{collection:0,show:19,hide:1},null,[-1,-1])}get show(){return this.$$.ctx[19]}get hide(){return this.$$.ctx[1]}}function Rg(n,e,t){const r=n.slice();return r[15]=e[t],r[7]=t,r}function $g(n,e,t){const r=n.slice();return r[12]=e[t],r}function Bg(n,e,t){const r=n.slice();return r[5]=e[t],r[7]=t,r}function Ug(n,e,t){const r=n.slice();return r[5]=e[t],r[7]=t,r}function yP(n){const e=n.slice(),t=X.toArray(e[3]);e[8]=t;const r=X.toArray(e[0].expand[e[1].name]);e[9]=r;const i=e[2]?20:200;return e[10]=i,e}function xP(n){let e,t=X.truncate(n[3],2e3)+"",r;return{c(){e=y("span"),r=q(t),_(e,"class","block txt-break")},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&8&&t!==(t=X.truncate(i[3],2e3)+"")&&ke(r,t)},i:ce,o:ce,d(i){i&&S(e)}}}function TP(n){let e,t=X.truncate(n[3])+"",r,i;return{c(){e=y("span"),r=q(t),_(e,"class","txt txt-ellipsis"),_(e,"title",i=X.truncate(n[3]))},m(s,a){E(s,e,a),b(e,r)},p(s,a){a&8&&t!==(t=X.truncate(s[3])+"")&&ke(r,t),a&8&&i!==(i=X.truncate(s[3]))&&_(e,"title",i)},i:ce,o:ce,d(s){s&&S(e)}}}function SP(n){let e,t=[],r=new Map,i,s=X.toArray(n[3]);const a=l=>l[7]+l[15];for(let l=0;l<s.length;l+=1){let o=Rg(n,s,l),f=a(o);r.set(f,t[l]=Hg(f,o))}return{c(){e=y("div");for(let l=0;l<t.length;l+=1)t[l].c();_(e,"class","inline-flex")},m(l,o){E(l,e,o);for(let f=0;f<t.length;f+=1)t[f].m(e,null);i=!0},p(l,o){o&9&&(s=X.toArray(l[3]),Me(),t=sn(t,o,a,1,l,s,r,e,Tr,Hg,null,Rg),Ie())},i(l){if(!i){for(let o=0;o<s.length;o+=1)M(t[o]);i=!0}},o(l){for(let o=0;o<t.length;o+=1)L(t[o]);i=!1},d(l){l&&S(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function EP(n){let e,t,r,i,s;const a=[LP,PP],l=[];function o(c,u){return c[9].length?0:1}t=o(n),r=l[t]=a[t](n);let f=n[8].length>n[10]&&jg();return{c(){e=y("div"),r.c(),i=D(),f&&f.c(),_(e,"class","inline-flex")},m(c,u){E(c,e,u),l[t].m(e,null),b(e,i),f&&f.m(e,null),s=!0},p(c,u){let d=t;t=o(c),t===d?l[t].p(c,u):(Me(),L(l[d],1,1,()=>{l[d]=null}),Ie(),r=l[t],r?r.p(c,u):(r=l[t]=a[t](c),r.c()),M(r,1),r.m(e,i)),c[8].length>c[10]?f||(f=jg(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(c){s||(M(r),s=!0)},o(c){L(r),s=!1},d(c){c&&S(e),l[t].d(),f&&f.d()}}}function CP(n){let e,t=[],r=new Map,i=X.toArray(n[3]);const s=a=>a[7]+a[5];for(let a=0;a<i.length;a+=1){let l=Ug(n,i,a),o=s(l);r.set(o,t[a]=zg(o,l))}return{c(){e=y("div");for(let a=0;a<t.length;a+=1)t[a].c();_(e,"class","inline-flex")},m(a,l){E(a,e,l);for(let o=0;o<t.length;o+=1)t[o].m(e,null)},p(a,l){l&8&&(i=X.toArray(a[3]),t=sn(t,l,s,1,a,i,r,e,Hi,zg,null,Ug))},i:ce,o:ce,d(a){a&&S(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function AP(n){let e,t;return e=new ys({props:{date:n[3]}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i&8&&(s.date=r[3]),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function FP(n){let e,t,r,i;const s=[$P,RP],a=[];function l(o,f){return o[2]?0:1}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Ge()},m(o,f){a[e].m(o,f),E(o,r,f),i=!0},p(o,f){let c=e;e=l(o),e===c?a[e].p(o,f):(Me(),L(a[c],1,1,()=>{a[c]=null}),Ie(),t=a[e],t?t.p(o,f):(t=a[e]=s[e](o),t.c()),M(t,1),t.m(r.parentNode,r))},i(o){i||(M(t),i=!0)},o(o){L(t),i=!1},d(o){a[e].d(o),o&&S(r)}}}function DP(n){let e,t=X.truncate(n[3])+"",r,i,s;return{c(){e=y("a"),r=q(t),_(e,"class","txt-ellipsis"),_(e,"href",n[3]),_(e,"target","_blank"),_(e,"rel","noopener noreferrer")},m(a,l){E(a,e,l),b(e,r),i||(s=[st(xt.call(null,e,"Open in new tab")),ae(e,"click",ri(n[4]))],i=!0)},p(a,l){l&8&&t!==(t=X.truncate(a[3])+"")&&ke(r,t),l&8&&_(e,"href",a[3])},i:ce,o:ce,d(a){a&&S(e),i=!1,it(s)}}}function OP(n){let e,t;return{c(){e=y("span"),t=q(n[3]),_(e,"class","txt")},m(r,i){E(r,e,i),b(e,t)},p(r,i){i&8&&ke(t,r[3])},i:ce,o:ce,d(r){r&&S(e)}}}function MP(n){let e,t=n[3]?"True":"False",r;return{c(){e=y("span"),r=q(t),_(e,"class","txt")},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&8&&t!==(t=i[3]?"True":"False")&&ke(r,t)},i:ce,o:ce,d(i){i&&S(e)}}}function IP(n){let e;return{c(){e=y("span"),e.textContent="N/A",_(e,"class","txt-hint")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function NP(n){let e,t=(n[2]?X.truncate(JSON.stringify(n[3])):X.truncate(JSON.stringify(n[3],null,2),2e3,!0))+"",r;return{c(){e=y("span"),r=q(t),_(e,"class","txt txt-ellipsis")},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&12&&t!==(t=(i[2]?X.truncate(JSON.stringify(i[3])):X.truncate(JSON.stringify(i[3],null,2),2e3,!0))+"")&&ke(r,t)},i:ce,o:ce,d(i){i&&S(e)}}}function Hg(n,e){let t,r,i;return r=new Xd({props:{record:e[0],filename:e[15],size:"sm"}}),{key:n,first:null,c(){t=Ge(),z(r.$$.fragment),this.first=t},m(s,a){E(s,t,a),W(r,s,a),i=!0},p(s,a){e=s;const l={};a&1&&(l.record=e[0]),a&8&&(l.filename=e[15]),r.$set(l)},i(s){i||(M(r.$$.fragment,s),i=!0)},o(s){L(r.$$.fragment,s),i=!1},d(s){s&&S(t),j(r,s)}}}function PP(n){let e,t=n[8].slice(0,n[10]),r=[];for(let i=0;i<t.length;i+=1)r[i]=Vg($g(n,t,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ge()},m(i,s){for(let a=0;a<r.length;a+=1)r[a].m(i,s);E(i,e,s)},p(i,s){if(s&12){t=i[8].slice(0,i[10]);let a;for(a=0;a<t.length;a+=1){const l=$g(i,t,a);r[a]?r[a].p(l,s):(r[a]=Vg(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},i:ce,o:ce,d(i){zt(r,i),i&&S(e)}}}function LP(n){let e=[],t=new Map,r,i,s=n[9].slice(0,n[10]);const a=l=>l[7]+l[5];for(let l=0;l<s.length;l+=1){let o=Bg(n,s,l),f=a(o);t.set(f,e[l]=Wg(f,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();r=Ge()},m(l,o){for(let f=0;f<e.length;f+=1)e[f].m(l,o);E(l,r,o),i=!0},p(l,o){o&7&&(s=l[9].slice(0,l[10]),Me(),e=sn(e,o,a,1,l,s,t,r.parentNode,Tr,Wg,r,Bg),Ie())},i(l){if(!i){for(let o=0;o<s.length;o+=1)M(e[o]);i=!0}},o(l){for(let o=0;o<e.length;o+=1)L(e[o]);i=!1},d(l){for(let o=0;o<e.length;o+=1)e[o].d(l);l&&S(r)}}}function Vg(n){let e,t=n[12]+"",r;return{c(){e=y("span"),r=q(t),_(e,"class","label")},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&12&&t!==(t=i[12]+"")&&ke(r,t)},d(i){i&&S(e)}}}function Wg(n,e){var a;let t,r,i,s;return r=new su({props:{record:e[5],displayFields:(a=e[1].options)==null?void 0:a.displayFields}}),{key:n,first:null,c(){t=y("span"),z(r.$$.fragment),i=D(),_(t,"class","label"),this.first=t},m(l,o){E(l,t,o),W(r,t,null),b(t,i),s=!0},p(l,o){var c;e=l;const f={};o&7&&(f.record=e[5]),o&2&&(f.displayFields=(c=e[1].options)==null?void 0:c.displayFields),r.$set(f)},i(l){s||(M(r.$$.fragment,l),s=!0)},o(l){L(r.$$.fragment,l),s=!1},d(l){l&&S(t),j(r)}}}function jg(n){let e;return{c(){e=q("...")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function zg(n,e){let t,r=e[5]+"",i;return{key:n,first:null,c(){t=y("span"),i=q(r),_(t,"class","label"),this.first=t},m(s,a){E(s,t,a),b(t,i)},p(s,a){e=s,a&8&&r!==(r=e[5]+"")&&ke(i,r)},d(s){s&&S(t)}}}function RP(n){let e,t;return e=new ix({props:{scriptSrc:"./libs/tinymce/tinymce.min.js",cssClass:"tinymce-preview",conf:{branding:!1,promotion:!1,menubar:!1,min_height:30,statusbar:!1,height:59,max_height:500,autoresize_bottom_margin:5,resize:!1,skin:"pocketbase",content_style:"body { font-size: 14px }",toolbar:"",plugins:["autoresize"]},value:n[3],disabled:!0}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i&8&&(s.value=r[3]),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function $P(n){let e,t=X.truncate(X.plainText(n[3]),250)+"",r;return{c(){e=y("span"),r=q(t),_(e,"class","txt")},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&8&&t!==(t=X.truncate(X.plainText(i[3]),250)+"")&&ke(r,t)},i:ce,o:ce,d(i){i&&S(e)}}}function BP(n){let e,t,r,i,s;const a=[NP,IP,MP,OP,DP,FP,AP,CP,EP,SP,TP,xP],l=[];function o(c,u){return u&8&&(e=null),c[1].type==="json"?0:(e==null&&(e=!!X.isEmpty(c[3])),e?1:c[1].type==="bool"?2:c[1].type==="number"?3:c[1].type==="url"?4:c[1].type==="editor"?5:c[1].type==="date"?6:c[1].type==="select"?7:c[1].type==="relation"?8:c[1].type==="file"?9:c[2]?10:11)}function f(c,u){return u===8?yP(c):c}return t=o(n,-1),r=l[t]=a[t](f(n,t)),{c(){r.c(),i=Ge()},m(c,u){l[t].m(c,u),E(c,i,u),s=!0},p(c,[u]){let d=t;t=o(c,u),t===d?l[t].p(f(c,t),u):(Me(),L(l[d],1,1,()=>{l[d]=null}),Ie(),r=l[t],r?r.p(f(c,t),u):(r=l[t]=a[t](f(c,t)),r.c()),M(r,1),r.m(i.parentNode,i))},i(c){s||(M(r),s=!0)},o(c){L(r),s=!1},d(c){l[t].d(c),c&&S(i)}}}function UP(n,e,t){let r,{record:i}=e,{field:s}=e,{short:a=!1}=e;function l(o){mt.call(this,n,o)}return n.$$set=o=>{"record"in o&&t(0,i=o.record),"field"in o&&t(1,s=o.field),"short"in o&&t(2,a=o.short)},n.$$.update=()=>{n.$$.dirty&3&&t(3,r=i[s.name])},[i,s,a,r,l]}class lx extends We{constructor(e){super(),Ve(this,e,UP,BP,$e,{record:0,field:1,short:2})}}function HP(n){let e,t,r,i,s;return{c(){e=y("i"),_(e,"class",t=n[2]?n[1]:n[0])},m(a,l){E(a,e,l),i||(s=[st(r=xt.call(null,e,n[2]?"":"Copy")),ae(e,"click",ri(n[3]))],i=!0)},p(a,[l]){l&7&&t!==(t=a[2]?a[1]:a[0])&&_(e,"class",t),r&&ar(r.update)&&l&4&&r.update.call(null,a[2]?"":"Copy")},i:ce,o:ce,d(a){a&&S(e),i=!1,it(s)}}}function VP(n,e,t){let{value:r=""}=e,{idleClasses:i="ri-file-copy-line txt-sm link-hint"}=e,{successClasses:s="ri-check-line txt-sm txt-success"}=e,{successDuration:a=500}=e,l;function o(){r&&(X.copyToClipboard(r),clearTimeout(l),t(2,l=setTimeout(()=>{clearTimeout(l),t(2,l=null)},a)))}return ur(()=>()=>{l&&clearTimeout(l)}),n.$$set=f=>{"value"in f&&t(4,r=f.value),"idleClasses"in f&&t(0,i=f.idleClasses),"successClasses"in f&&t(1,s=f.successClasses),"successDuration"in f&&t(5,a=f.successDuration)},[i,s,l,o,r,a]}class Kd extends We{constructor(e){super(),Ve(this,e,VP,HP,$e,{value:4,idleClasses:0,successClasses:1,successDuration:5})}}function qg(n,e,t){const r=n.slice();return r[10]=e[t],r}function Yg(n){let e,t,r=n[10].name+"",i,s,a,l,o;return l=new lx({props:{field:n[10],record:n[3]}}),{c(){e=y("tr"),t=y("td"),i=q(r),s=D(),a=y("td"),z(l.$$.fragment),_(t,"class","min-width txt-hint txt-bold")},m(f,c){E(f,e,c),b(e,t),b(t,i),b(e,s),b(e,a),W(l,a,null),o=!0},p(f,c){(!o||c&1)&&r!==(r=f[10].name+"")&&ke(i,r);const u={};c&1&&(u.field=f[10]),c&8&&(u.record=f[3]),l.$set(u)},i(f){o||(M(l.$$.fragment,f),o=!0)},o(f){L(l.$$.fragment,f),o=!1},d(f){f&&S(e),j(l)}}}function Gg(n){let e,t,r,i,s,a;return s=new ys({props:{date:n[3].created}}),{c(){e=y("tr"),t=y("td"),t.textContent="created",r=D(),i=y("td"),z(s.$$.fragment),_(t,"class","min-width txt-hint txt-bold")},m(l,o){E(l,e,o),b(e,t),b(e,r),b(e,i),W(s,i,null),a=!0},p(l,o){const f={};o&8&&(f.date=l[3].created),s.$set(f)},i(l){a||(M(s.$$.fragment,l),a=!0)},o(l){L(s.$$.fragment,l),a=!1},d(l){l&&S(e),j(s)}}}function Xg(n){let e,t,r,i,s,a;return s=new ys({props:{date:n[3].updated}}),{c(){e=y("tr"),t=y("td"),t.textContent="updated",r=D(),i=y("td"),z(s.$$.fragment),_(t,"class","min-width txt-hint txt-bold")},m(l,o){E(l,e,o),b(e,t),b(e,r),b(e,i),W(s,i,null),a=!0},p(l,o){const f={};o&8&&(f.date=l[3].updated),s.$set(f)},i(l){a||(M(s.$$.fragment,l),a=!0)},o(l){L(s.$$.fragment,l),a=!1},d(l){l&&S(e),j(s)}}}function WP(n){var T;let e,t,r,i,s,a,l,o,f,c,u=n[3].id+"",d,h,m,p,g;o=new Kd({props:{value:n[3].id}});let v=(T=n[0])==null?void 0:T.schema,w=[];for(let C=0;C<v.length;C+=1)w[C]=Yg(qg(n,v,C));const k=C=>L(w[C],1,1,()=>{w[C]=null});let x=n[3].created&&Gg(n),A=n[3].updated&&Xg(n);return{c(){e=y("table"),t=y("tbody"),r=y("tr"),i=y("td"),i.textContent="id",s=D(),a=y("td"),l=y("div"),z(o.$$.fragment),f=D(),c=y("span"),d=q(u),h=D();for(let C=0;C<w.length;C+=1)w[C].c();m=D(),x&&x.c(),p=D(),A&&A.c(),_(i,"class","min-width txt-hint txt-bold"),_(c,"class","txt"),_(l,"class","label"),_(e,"class","table-border")},m(C,F){E(C,e,F),b(e,t),b(t,r),b(r,i),b(r,s),b(r,a),b(a,l),W(o,l,null),b(l,f),b(l,c),b(c,d),b(t,h);for(let O=0;O<w.length;O+=1)w[O].m(t,null);b(t,m),x&&x.m(t,null),b(t,p),A&&A.m(t,null),g=!0},p(C,F){var I;const O={};if(F&8&&(O.value=C[3].id),o.$set(O),(!g||F&8)&&u!==(u=C[3].id+"")&&ke(d,u),F&9){v=(I=C[0])==null?void 0:I.schema;let N;for(N=0;N<v.length;N+=1){const P=qg(C,v,N);w[N]?(w[N].p(P,F),M(w[N],1)):(w[N]=Yg(P),w[N].c(),M(w[N],1),w[N].m(t,m))}for(Me(),N=v.length;N<w.length;N+=1)k(N);Ie()}C[3].created?x?(x.p(C,F),F&8&&M(x,1)):(x=Gg(C),x.c(),M(x,1),x.m(t,p)):x&&(Me(),L(x,1,1,()=>{x=null}),Ie()),C[3].updated?A?(A.p(C,F),F&8&&M(A,1)):(A=Xg(C),A.c(),M(A,1),A.m(t,null)):A&&(Me(),L(A,1,1,()=>{A=null}),Ie())},i(C){if(!g){M(o.$$.fragment,C);for(let F=0;F<v.length;F+=1)M(w[F]);M(x),M(A),g=!0}},o(C){L(o.$$.fragment,C),w=w.filter(Boolean);for(let F=0;F<w.length;F+=1)L(w[F]);L(x),L(A),g=!1},d(C){C&&S(e),j(o),zt(w,C),x&&x.d(),A&&A.d()}}}function jP(n){var a;let e,t,r=((a=n[0])==null?void 0:a.name)+"",i,s;return{c(){e=y("h4"),t=y("strong"),i=q(r),s=q(" record preview")},m(l,o){E(l,e,o),b(e,t),b(t,i),b(e,s)},p(l,o){var f;o&1&&r!==(r=((f=l[0])==null?void 0:f.name)+"")&&ke(i,r)},d(l){l&&S(e)}}}function zP(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Close</span>',_(e,"type","button"),_(e,"class","btn btn-transparent")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[6]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function qP(n){let e,t,r={class:"record-preview-panel "+(n[4]?"overlay-panel-xl":"overlay-panel-lg"),$$slots:{footer:[zP],header:[jP],default:[WP]},$$scope:{ctx:n}};return e=new $r({props:r}),n[7](e),e.$on("hide",n[8]),e.$on("show",n[9]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&16&&(a.class="record-preview-panel "+(i[4]?"overlay-panel-xl":"overlay-panel-lg")),s&8201&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[7](null),j(e,i)}}}function YP(n,e,t){let r,{collection:i}=e,s,a=new ws;function l(h){return t(3,a=h),s==null?void 0:s.show()}function o(){return s==null?void 0:s.hide()}const f=()=>o();function c(h){ve[h?"unshift":"push"](()=>{s=h,t(2,s)})}function u(h){mt.call(this,n,h)}function d(h){mt.call(this,n,h)}return n.$$set=h=>{"collection"in h&&t(0,i=h.collection)},n.$$.update=()=>{var h;n.$$.dirty&1&&t(4,r=!!((h=i==null?void 0:i.schema)!=null&&h.find(m=>m.type==="editor")))},[i,o,s,a,r,l,f,c,u,d]}class GP extends We{constructor(e){super(),Ve(this,e,YP,qP,$e,{collection:0,show:5,hide:1})}get show(){return this.$$.ctx[5]}get hide(){return this.$$.ctx[1]}}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Lo={};Lo.version="0.18.5";var ni=1200,Fa=1252,XP=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Jd={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},au=function(n){XP.indexOf(n)!=-1&&(Fa=Jd[0]=n)};function KP(){au(1252)}var yi=function(n){ni=n,au(n)};function lu(){yi(1200),KP()}function Fc(n){for(var e=[],t=0,r=n.length;t<r;++t)e[t]=n.charCodeAt(t);return e}function JP(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t)+(n.charCodeAt(2*t+1)<<8));return e.join("")}function ox(n){for(var e=[],t=0;t<n.length>>1;++t)e[t]=String.fromCharCode(n.charCodeAt(2*t+1)+(n.charCodeAt(2*t)<<8));return e.join("")}var il=function(n){var e=n.charCodeAt(0),t=n.charCodeAt(1);return e==255&&t==254?JP(n.slice(2)):e==254&&t==255?ox(n.slice(2)):e==65279?n.slice(1):n},ro=function(e){return String.fromCharCode(e)},z0=function(e){return String.fromCharCode(e)},Lt;function ZP(n){Lt=n,yi=function(e){ni=e,au(e)},il=function(e){return e.charCodeAt(0)===255&&e.charCodeAt(1)===254?Lt.utils.decode(1200,Fc(e.slice(2))):e},ro=function(t){return ni===1200?String.fromCharCode(t):Lt.utils.decode(ni,[t&255,t>>8])[0]},z0=function(t){return Lt.utils.decode(Fa,[t])[0]},$x()}var Rs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ro(n){for(var e="",t=0,r=0,i=0,s=0,a=0,l=0,o=0,f=0;f<n.length;)t=n.charCodeAt(f++),s=t>>2,r=n.charCodeAt(f++),a=(t&3)<<4|r>>4,i=n.charCodeAt(f++),l=(r&15)<<2|i>>6,o=i&63,isNaN(r)?l=o=64:isNaN(i)&&(o=64),e+=Rs.charAt(s)+Rs.charAt(a)+Rs.charAt(l)+Rs.charAt(o);return e}function ii(n){var e="",t=0,r=0,i=0,s=0,a=0,l=0,o=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<n.length;)s=Rs.indexOf(n.charAt(f++)),a=Rs.indexOf(n.charAt(f++)),t=s<<2|a>>4,e+=String.fromCharCode(t),l=Rs.indexOf(n.charAt(f++)),r=(a&15)<<4|l>>2,l!==64&&(e+=String.fromCharCode(r)),o=Rs.indexOf(n.charAt(f++)),i=(l&3)<<6|o,o!==64&&(e+=String.fromCharCode(i));return e}var Ct=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ss=function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Ys(n){return Ct?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function Kg(n){return Ct?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Zr=function(e){return Ct?Ss(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function cf(n){if(typeof ArrayBuffer>"u")return Zr(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function ta(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function QP(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}function Zd(n){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(n instanceof ArrayBuffer)return Zd(new Uint8Array(n));for(var e=new Array(n.length),t=0;t<n.length;++t)e[t]=n[t];return e}var rr=Ct?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Ss(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function eL(n){for(var e=[],t=0,r=n.length+250,i=Ys(n.length+255),s=0;s<n.length;++s){var a=n.charCodeAt(s);if(a<128)i[t++]=a;else if(a<2048)i[t++]=192|a>>6&31,i[t++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var l=n.charCodeAt(++s)&1023;i[t++]=240|a>>8&7,i[t++]=128|a>>2&63,i[t++]=128|l>>6&15|(a&3)<<4,i[t++]=128|l&63}else i[t++]=224|a>>12&15,i[t++]=128|a>>6&63,i[t++]=128|a&63;t>r&&(e.push(i.slice(0,t)),t=0,i=Ys(65535),r=65530)}return e.push(i.slice(0,t)),rr(e)}var yr=/\u0000/g,io=/[\u0001-\u0006]/g;function hl(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function Ri(n,e){var t=""+n;return t.length>=e?t:kn("0",e-t.length)+t}function Qd(n,e){var t=""+n;return t.length>=e?t:kn(" ",e-t.length)+t}function Dc(n,e){var t=""+n;return t.length>=e?t:t+kn(" ",e-t.length)}function tL(n,e){var t=""+Math.round(n);return t.length>=e?t:kn("0",e-t.length)+t}function nL(n,e){var t=""+n;return t.length>=e?t:kn("0",e-t.length)+t}var Jg=Math.pow(2,32);function Za(n,e){if(n>Jg||n<-Jg)return tL(n,e);var t=Math.round(n);return nL(t,e)}function Oc(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var Zg=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Ju=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function rL(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var pt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Qg={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},iL={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Mc(n,e,t){for(var r=n<0?-1:1,i=n*r,s=0,a=1,l=0,o=1,f=0,c=0,u=Math.floor(i);f<e&&(u=Math.floor(i),l=u*a+s,c=u*f+o,!(i-u<5e-8));)i=1/(i-u),s=a,a=l,o=f,f=c;if(c>e&&(f>e?(c=o,l=s):(c=f,l=a)),!t)return[0,r*l,c];var d=Math.floor(r*l/c);return[d,r*l-d*c,c]}function $s(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),s=0,a=[],l={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(l.u)<1e-6&&(l.u=0),e&&e.date1904&&(r+=1462),l.u>.9999&&(l.u=0,++i==86400&&(l.T=i=0,++r,++l.D)),r===60)a=t?[1317,10,29]:[1900,2,29],s=3;else if(r===0)a=t?[1317,8,29]:[1900,1,0],s=6;else{r>60&&--r;var o=new Date(1900,0,1);o.setDate(o.getDate()+r-1),a=[o.getFullYear(),o.getMonth()+1,o.getDate()],s=o.getDay(),r<60&&(s=(s+6)%7),t&&(s=cL(o,a))}return l.y=a[0],l.m=a[1],l.d=a[2],l.S=i%60,i=Math.floor(i/60),l.M=i%60,i=Math.floor(i/60),l.H=i,l.q=s,l}var fx=new Date(1899,11,31,0,0,0),sL=fx.getTime(),aL=new Date(1900,2,1,0,0,0);function cx(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=aL&&(t+=24*60*60*1e3),(t-(sL+(n.getTimezoneOffset()-fx.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function eh(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function lL(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function oL(n){var e=n<0?12:11,t=eh(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function fL(n){var e=eh(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function $o(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=oL(n):e===10?t=n.toFixed(10).substr(0,12):t=fL(n),eh(lL(t.toUpperCase()))}function Da(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):$o(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return si(14,cx(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function cL(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function uL(n,e,t,r){var i="",s=0,a=0,l=t.y,o,f=0;switch(n){case 98:l=t.y+543;case 121:switch(e.length){case 1:case 2:o=l%100,f=2;break;default:o=l%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:o=t.m,f=e.length;break;case 3:return Ju[t.m-1][1];case 5:return Ju[t.m-1][0];default:return Ju[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:o=t.d,f=e.length;break;case 3:return Zg[t.q][0];default:return Zg[t.q][1]}break;case 104:switch(e.length){case 1:case 2:o=1+(t.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:o=t.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:o=t.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Ri(t.S,e.length):(r>=2?a=r===3?1e3:100:a=r===1?10:1,s=Math.round(a*(t.S+t.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Ri(s,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":o=t.D*24+t.H;break;case"[m]":case"[mm]":o=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":o=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:o=l,f=1;break}var c=f>0?Ri(o,f):"";return c}function Bs(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var ux=/%/g;function dL(n,e,t){var r=e.replace(ux,""),i=e.length-r.length;return vs(n,r,t*Math.pow(10,2*i))+kn("%",i)}function hL(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return vs(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function dx(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+dx(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),t.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,o,f,c){return o+f+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var hx=/# (\?+)( ?)\/( ?)(\d+)/;function pL(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),s=Math.floor(i/r),a=i-s*r,l=r;return t+(s===0?"":""+s)+" "+(a===0?kn(" ",n[1].length+1+n[4].length):Qd(a,n[1].length)+n[2]+"/"+n[3]+Ri(l,n[4].length))}function mL(n,e,t){return t+(e===0?"":""+e)+kn(" ",n[1].length+2+n[4].length)}var px=/^#*0*\.([0#]+)/,mx=/\).*[0#]/,_x=/\(###\) ###\\?-####/;function Mr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function ev(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function tv(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function _L(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function gL(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function ui(n,e,t){if(n.charCodeAt(0)===40&&!e.match(mx)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ui("n",r,t):"("+ui("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return hL(n,e,t);if(e.indexOf("%")!==-1)return dL(n,e,t);if(e.indexOf("E")!==-1)return dx(e,t);if(e.charCodeAt(0)===36)return"$"+ui(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,l,o=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+Za(o,e.length);if(e.match(/^[#?]+$/))return i=Za(t,0),i==="0"&&(i=""),i.length>e.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(hx))return pL(s,o,f);if(e.match(/^#+0+$/))return f+Za(o,e.length-e.indexOf("0"));if(s=e.match(px))return i=ev(t,s[1].length).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])).replace(/\.(\d*)$/,function(m,p){return"."+p+kn("0",Mr(s[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+ev(o,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Bs(Za(o,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ui(n,e,-t):Bs(""+(Math.floor(t)+_L(t,s[1].length)))+"."+Ri(tv(t,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return ui(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=hl(ui(n,e.replace(/[\\-]/g,""),t)),a=0,hl(hl(e.replace(/\\/g,"")).replace(/[0#]/g,function(m){return a<i.length?i.charAt(a++):m==="0"?"0":""}));if(e.match(_x))return i=ui(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),l=Mc(o,Math.pow(10,a)-1,!1),i=""+f,c=vs("n",s[1],l[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=Dc(l[2],a),c.length<s[4].length&&(c=Mr(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),l=Mc(o,Math.pow(10,a)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Qd(l[1],a)+s[2]+"/"+s[3]+Dc(l[2],a):kn(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Za(t,0),e.length<=i.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var u=e.indexOf(".")-a,d=e.length-i.length-u;return Mr(e.substr(0,u)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=tv(t,s[1].length),t<0?"-"+ui(n,e,-t):Bs(gL(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Ri(0,3-m.length):"")+m})+"."+Ri(a,s[1].length);switch(e){case"###,##0.00":return ui(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var h=Bs(Za(o,0));return h!=="0"?f+h:"";case"###,###.00":return ui(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return ui(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function vL(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return vs(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function bL(n,e,t){var r=e.replace(ux,""),i=e.length-r.length;return vs(n,r,t*Math.pow(10,2*i))+kn("%",i)}function gx(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+gx(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),t=(e/Math.pow(10,s)).toPrecision(r+1+(i+s)%i),!t.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(a-t.length+s):t+="E+"+(a-s),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(l,o,f,c){return o+f+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Gi(n,e,t){if(n.charCodeAt(0)===40&&!e.match(mx)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Gi("n",r,t):"("+Gi("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return vL(n,e,t);if(e.indexOf("%")!==-1)return bL(n,e,t);if(e.indexOf("E")!==-1)return gx(e,t);if(e.charCodeAt(0)===36)return"$"+Gi(n,e.substr(e.charAt(1)==" "?2:1),t);var i,s,a,l,o=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+Ri(o,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(hx))return mL(s,o,f);if(e.match(/^#+0+$/))return f+Ri(o,e.length-e.indexOf("0"));if(s=e.match(px))return i=(""+t).replace(/^([^\.]+)$/,"$1."+Mr(s[1])).replace(/\.$/,"."+Mr(s[1])),i=i.replace(/\.(\d*)$/,function(m,p){return"."+p+kn("0",Mr(s[1]).length-p.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return f+(""+o).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return f+Bs(""+o);if(s=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Gi(n,e,-t):Bs(""+t)+"."+kn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Gi(n,e.replace(/^#,#*,/,""),t);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=hl(Gi(n,e.replace(/[\\-]/g,""),t)),a=0,hl(hl(e.replace(/\\/g,"")).replace(/[0#]/g,function(m){return a<i.length?i.charAt(a++):m==="0"?"0":""}));if(e.match(_x))return i=Gi(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),l=Mc(o,Math.pow(10,a)-1,!1),i=""+f,c=vs("n",s[1],l[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=Dc(l[2],a),c.length<s[4].length&&(c=Mr(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),l=Mc(o,Math.pow(10,a)-1,!0),f+(l[0]||(l[1]?"":"0"))+" "+(l[1]?Qd(l[1],a)+s[2]+"/"+s[3]+Dc(l[2],a):kn(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:Mr(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var u=e.indexOf(".")-a,d=e.length-i.length-u;return Mr(e.substr(0,u)+i+e.substr(e.length-d))}if(s=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Gi(n,e,-t):Bs(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Ri(0,3-m.length):"")+m})+"."+Ri(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var h=Bs(""+o);return h!=="0"?f+h:"";default:if(e.match(/\.[0#?]*$/))return Gi(n,e.slice(0,e.lastIndexOf(".")),t)+Mr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function vs(n,e,t){return(t|0)===t?Gi(n,e,t):ui(n,e,t)}function wL(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var vx=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Ba(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":Oc(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(vx))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function kL(n,e,t,r){for(var i=[],s="",a=0,l="",o="t",f,c,u,d="H";a<n.length;)switch(l=n.charAt(a)){case"G":if(!Oc(n,a))throw new Error("unrecognized character "+l+" in "+n);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(u=n.charCodeAt(++a))!==34&&a<n.length;)s+=String.fromCharCode(u);i[i.length]={t:"t",v:s},++a;break;case"\\":var h=n.charAt(++a),m=h==="("||h===")"?h:"t";i[i.length]={t:m,v:h},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(n.charAt(a+1)==="1"||n.charAt(a+1)==="2"){if(f==null&&(f=$s(e,t,n.charAt(a+1)==="2"),f==null))return"";i[i.length]={t:"X",v:n.substr(a,2)},o=l,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":l=l.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=$s(e,t),f==null))return"";for(s=l;++a<n.length&&n.charAt(a).toLowerCase()===l;)s+=l;l==="m"&&o.toLowerCase()==="h"&&(l="M"),l==="h"&&(l=d),i[i.length]={t:l,v:s},o=l;break;case"A":case"a":case"":var p={t:l,v:l};if(f==null&&(f=$s(e,t)),n.substr(a,3).toUpperCase()==="A/P"?(f!=null&&(p.v=f.H>=12?"P":"A"),p.t="T",d="h",a+=3):n.substr(a,5).toUpperCase()==="AM/PM"?(f!=null&&(p.v=f.H>=12?"PM":"AM"),p.t="T",a+=5,d="h"):n.substr(a,5).toUpperCase()==="/"?(f!=null&&(p.v=f.H>=12?"":""),p.t="T",a+=5,d="h"):(p.t="t",++a),f==null&&p.t==="T")return"";i[i.length]=p,o=l;break;case"[":for(s=l;n.charAt(a++)!=="]"&&a<n.length;)s+=n.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(vx)){if(f==null&&(f=$s(e,t),f==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},o=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Ba(n)||(i[i.length]={t:"t",v:s}));break;case".":if(f!=null){for(s=l;++a<n.length&&(l=n.charAt(a))==="0";)s+=l;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=l;++a<n.length&&"0#?.,E+-%".indexOf(l=n.charAt(a))>-1;)s+=l;i[i.length]={t:"n",v:s};break;case"?":for(s=l;n.charAt(++a)===l;)s+=l;i[i.length]={t:l,v:s},o=l;break;case"*":++a,(n.charAt(a)==" "||n.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:r===1?"t":l,v:l},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=l;a<n.length&&"0123456789".indexOf(n.charAt(++a))>-1;)s+=n.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:l,v:l},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(l)===-1)throw new Error("unrecognized character "+l+" in "+n);i[i.length]={t:"t",v:l},++a;break}var g=0,v=0,w;for(a=i.length-1,o="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=d,o="h",g<1&&(g=1);break;case"s":(w=i[a].v.match(/\.0+$/))&&(v=Math.max(v,w[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":o=i[a].t;break;case"m":o==="s"&&(i[a].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&i[a].v.match(/[Hh]/)&&(g=1),g<2&&i[a].v.match(/[Mm]/)&&(g=2),g<3&&i[a].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var k="",x;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=uL(i[a].t.charCodeAt(0),i[a].v,f,v),i[a].t="t";break;case"n":case"?":for(x=a+1;i[x]!=null&&((l=i[x].t)==="?"||l==="D"||(l===" "||l==="t")&&i[x+1]!=null&&(i[x+1].t==="?"||i[x+1].t==="t"&&i[x+1].v==="/")||i[a].t==="("&&(l===" "||l==="n"||l===")")||l==="t"&&(i[x].v==="/"||i[x].v===" "&&i[x+1]!=null&&i[x+1].t=="?"));)i[a].v+=i[x].v,i[x]={v:"",t:";"},++x;k+=i[a].v,a=x-1;break;case"G":i[a].t="t",i[a].v=Da(e,t);break}var A="",T,C;if(k.length>0){k.charCodeAt(0)==40?(T=e<0&&k.charCodeAt(0)===45?-e:e,C=vs("n",k,T)):(T=e<0&&r>1?-e:e,C=vs("n",k,T),T<0&&i[0]&&i[0].t=="t"&&(C=C.substr(1),i[0].v="-"+i[0].v)),x=C.length-1;var F=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){F=a;break}var O=i.length;if(F===i.length&&C.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(x>=i[a].v.length-1?(x-=i[a].v.length,i[a].v=C.substr(x+1,i[a].v.length)):x<0?i[a].v="":(i[a].v=C.substr(0,x+1),x=-1),i[a].t="t",O=a);x>=0&&O<i.length&&(i[O].v=C.substr(0,x+1)+i[O].v)}else if(F!==i.length&&C.indexOf("E")===-1){for(x=C.indexOf(".")-1,a=F;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(c=i[a].v.indexOf(".")>-1&&a===F?i[a].v.indexOf(".")-1:i[a].v.length-1,A=i[a].v.substr(c+1);c>=0;--c)x>=0&&(i[a].v.charAt(c)==="0"||i[a].v.charAt(c)==="#")&&(A=C.charAt(x--)+A);i[a].v=A,i[a].t="t",O=a}for(x>=0&&O<i.length&&(i[O].v=C.substr(0,x+1)+i[O].v),x=C.indexOf(".")+1,a=F;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==F)){for(c=i[a].v.indexOf(".")>-1&&a===F?i[a].v.indexOf(".")+1:0,A=i[a].v.substr(0,c);c<i[a].v.length;++c)x<C.length&&(A+=C.charAt(x++));i[a].v=A,i[a].t="t",O=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(T=r>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=vs(i[a].t,i[a].v,T),i[a].t="t");var I="";for(a=0;a!==i.length;++a)i[a]!=null&&(I+=i[a].v);return I}var nv=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function rv(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function yL(n,e){var t=wL(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var s=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,s];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var a=t[0].match(nv),l=t[1].match(nv);return rv(e,a)?[r,t[0]]:rv(e,l)?[r,t[1]]:[r,t[a!=null&&l!=null?2:1]]}return[r,s]}function si(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:pt)[n],r==null&&(r=t.table&&t.table[Qg[n]]||pt[Qg[n]]),r==null&&(r=iL[n]||"General");break}if(Oc(r,0))return Da(e,t);e instanceof Date&&(e=cx(e,t.date1904));var i=yL(r,e);if(Oc(i[1]))return Da(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return kL(i[1],e,t,i[0])}function es(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(pt[t]==null){e<0&&(e=t);continue}if(pt[t]==n){e=t;break}}e<0&&(e=391)}return pt[e]=n,e}function uf(n){for(var e=0;e!=392;++e)n[e]!==void 0&&es(n[e],e)}function Il(){pt=rL()}var bx={format:si,load:es,_table:pt,load_table:uf,parse_date_code:$s,is_date:Ba,get_table:function(){return bx._table=pt}},xL={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},wx=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function TL(n){var e=typeof n=="number"?pt[n]:n;return e=e.replace(wx,"(\\d+)"),new RegExp("^"+e+"$")}function SL(n,e,t){var r=-1,i=-1,s=-1,a=-1,l=-1,o=-1;(e.match(wx)||[]).forEach(function(u,d){var h=parseInt(t[d+1],10);switch(u.toLowerCase().charAt(0)){case"y":r=h;break;case"d":s=h;break;case"h":a=h;break;case"s":o=h;break;case"m":a>=0?l=h:i=h;break}}),o>=0&&l==-1&&i>=0&&(l=i,i=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var c=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2);return a==-1&&l==-1&&o==-1?f:r==-1&&i==-1&&s==-1?c:f+"T"+c}var EL=function(){var n={};n.version="1.2.0";function e(){for(var C=0,F=new Array(256),O=0;O!=256;++O)C=O,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,C=C&1?-306674912^C>>>1:C>>>1,F[O]=C;return typeof Int32Array<"u"?new Int32Array(F):F}var t=e();function r(C){var F=0,O=0,I=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)N[I]=C[I];for(I=0;I!=256;++I)for(O=C[I],F=256+I;F<4096;F+=256)O=N[F]=O>>>8^C[O&255];var P=[];for(I=1;I!=16;++I)P[I-1]=typeof Int32Array<"u"?N.subarray(I*256,I*256+256):N.slice(I*256,I*256+256);return P}var i=r(t),s=i[0],a=i[1],l=i[2],o=i[3],f=i[4],c=i[5],u=i[6],d=i[7],h=i[8],m=i[9],p=i[10],g=i[11],v=i[12],w=i[13],k=i[14];function x(C,F){for(var O=F^-1,I=0,N=C.length;I<N;)O=O>>>8^t[(O^C.charCodeAt(I++))&255];return~O}function A(C,F){for(var O=F^-1,I=C.length-15,N=0;N<I;)O=k[C[N++]^O&255]^w[C[N++]^O>>8&255]^v[C[N++]^O>>16&255]^g[C[N++]^O>>>24]^p[C[N++]]^m[C[N++]]^h[C[N++]]^d[C[N++]]^u[C[N++]]^c[C[N++]]^f[C[N++]]^o[C[N++]]^l[C[N++]]^a[C[N++]]^s[C[N++]]^t[C[N++]];for(I+=15;N<I;)O=O>>>8^t[(O^C[N++])&255];return~O}function T(C,F){for(var O=F^-1,I=0,N=C.length,P=0,R=0;I<N;)P=C.charCodeAt(I++),P<128?O=O>>>8^t[(O^P)&255]:P<2048?(O=O>>>8^t[(O^(192|P>>6&31))&255],O=O>>>8^t[(O^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,R=C.charCodeAt(I++)&1023,O=O>>>8^t[(O^(240|P>>8&7))&255],O=O>>>8^t[(O^(128|P>>2&63))&255],O=O>>>8^t[(O^(128|R>>6&15|(P&3)<<4))&255],O=O>>>8^t[(O^(128|R&63))&255]):(O=O>>>8^t[(O^(224|P>>12&15))&255],O=O>>>8^t[(O^(128|P>>6&63))&255],O=O>>>8^t[(O^(128|P&63))&255]);return~O}return n.table=t,n.bstr=x,n.buf=A,n.str=T,n}(),ft=function(){var e={};e.version="1.2.1";function t(H,ie){for(var Q=H.split("/"),ee=ie.split("/"),le=0,oe=0,Te=Math.min(Q.length,ee.length);le<Te;++le){if(oe=Q[le].length-ee[le].length)return oe;if(Q[le]!=ee[le])return Q[le]<ee[le]?-1:1}return Q.length-ee.length}function r(H){if(H.charAt(H.length-1)=="/")return H.slice(0,-1).indexOf("/")===-1?H:r(H.slice(0,-1));var ie=H.lastIndexOf("/");return ie===-1?H:H.slice(0,ie+1)}function i(H){if(H.charAt(H.length-1)=="/")return i(H.slice(0,-1));var ie=H.lastIndexOf("/");return ie===-1?H:H.slice(ie+1)}function s(H,ie){typeof ie=="string"&&(ie=new Date(ie));var Q=ie.getHours();Q=Q<<6|ie.getMinutes(),Q=Q<<5|ie.getSeconds()>>>1,H.write_shift(2,Q);var ee=ie.getFullYear()-1980;ee=ee<<4|ie.getMonth()+1,ee=ee<<5|ie.getDate(),H.write_shift(2,ee)}function a(H){var ie=H.read_shift(2)&65535,Q=H.read_shift(2)&65535,ee=new Date,le=Q&31;Q>>>=5;var oe=Q&15;Q>>>=4,ee.setMilliseconds(0),ee.setFullYear(Q+1980),ee.setMonth(oe-1),ee.setDate(le);var Te=ie&31;ie>>>=5;var Pe=ie&63;return ie>>>=6,ee.setHours(ie),ee.setMinutes(Pe),ee.setSeconds(Te<<1),ee}function l(H){fr(H,0);for(var ie={},Q=0;H.l<=H.length-4;){var ee=H.read_shift(2),le=H.read_shift(2),oe=H.l+le,Te={};switch(ee){case 21589:Q=H.read_shift(1),Q&1&&(Te.mtime=H.read_shift(4)),le>5&&(Q&2&&(Te.atime=H.read_shift(4)),Q&4&&(Te.ctime=H.read_shift(4))),Te.mtime&&(Te.mt=new Date(Te.mtime*1e3));break}H.l=oe,ie[ee]=Te}return ie}var o;function f(){return o||(o={})}function c(H,ie){if(H[0]==80&&H[1]==75)return zi(H,ie);if((H[0]|32)==109&&(H[1]|32)==105)return et(H,ie);if(H.length<512)throw new Error("CFB file size "+H.length+" < 512");var Q=3,ee=512,le=0,oe=0,Te=0,Pe=0,xe=0,Se=[],Ee=H.slice(0,512);fr(Ee,0);var ze=u(Ee);switch(Q=ze[0],Q){case 3:ee=512;break;case 4:ee=4096;break;case 0:if(ze[1]==0)return zi(H,ie);default:throw new Error("Major Version: Expected 3 or 4 saw "+Q)}ee!==512&&(Ee=H.slice(0,ee),fr(Ee,28));var Qe=H.slice(0,ee);d(Ee,Q);var at=Ee.read_shift(4,"i");if(Q===3&&at!==0)throw new Error("# Directory Sectors: Expected 0 saw "+at);Ee.l+=4,Te=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),Pe=Ee.read_shift(4,"i"),le=Ee.read_shift(4,"i"),xe=Ee.read_shift(4,"i"),oe=Ee.read_shift(4,"i");for(var Xe=-1,rt=0;rt<109&&(Xe=Ee.read_shift(4,"i"),!(Xe<0));++rt)Se[rt]=Xe;var yt=h(H,ee);g(xe,oe,yt,ee,Se);var hn=w(yt,Te,Se,ee);hn[Te].name="!Directory",le>0&&Pe!==R&&(hn[Pe].name="!MiniFAT"),hn[Se[0]].name="!FAT",hn.fat_addrs=Se,hn.ssz=ee;var pn={},dr=[],Rl=[],$l=[];k(Te,hn,yt,dr,le,pn,Rl,Pe),m(Rl,$l,dr),dr.shift();var Bl={FileIndex:Rl,FullPaths:$l};return ie&&ie.raw&&(Bl.raw={header:Qe,sectors:yt}),Bl}function u(H){if(H[H.l]==80&&H[H.l+1]==75)return[0,0];H.chk(Y,"Header Signature: "),H.l+=16;var ie=H.read_shift(2,"u");return[H.read_shift(2,"u"),ie]}function d(H,ie){var Q=9;switch(H.l+=2,Q=H.read_shift(2)){case 9:if(ie!=3)throw new Error("Sector Shift: Expected 9 saw "+Q);break;case 12:if(ie!=4)throw new Error("Sector Shift: Expected 12 saw "+Q);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Q)}H.chk("0600","Mini Sector Shift: "),H.chk("000000000000","Reserved: ")}function h(H,ie){for(var Q=Math.ceil(H.length/ie)-1,ee=[],le=1;le<Q;++le)ee[le-1]=H.slice(le*ie,(le+1)*ie);return ee[Q-1]=H.slice(Q*ie),ee}function m(H,ie,Q){for(var ee=0,le=0,oe=0,Te=0,Pe=0,xe=Q.length,Se=[],Ee=[];ee<xe;++ee)Se[ee]=Ee[ee]=ee,ie[ee]=Q[ee];for(;Pe<Ee.length;++Pe)ee=Ee[Pe],le=H[ee].L,oe=H[ee].R,Te=H[ee].C,Se[ee]===ee&&(le!==-1&&Se[le]!==le&&(Se[ee]=Se[le]),oe!==-1&&Se[oe]!==oe&&(Se[ee]=Se[oe])),Te!==-1&&(Se[Te]=ee),le!==-1&&ee!=Se[ee]&&(Se[le]=Se[ee],Ee.lastIndexOf(le)<Pe&&Ee.push(le)),oe!==-1&&ee!=Se[ee]&&(Se[oe]=Se[ee],Ee.lastIndexOf(oe)<Pe&&Ee.push(oe));for(ee=1;ee<xe;++ee)Se[ee]===ee&&(oe!==-1&&Se[oe]!==oe?Se[ee]=Se[oe]:le!==-1&&Se[le]!==le&&(Se[ee]=Se[le]));for(ee=1;ee<xe;++ee)if(H[ee].type!==0){if(Pe=ee,Pe!=Se[Pe])do Pe=Se[Pe],ie[ee]=ie[Pe]+"/"+ie[ee];while(Pe!==0&&Se[Pe]!==-1&&Pe!=Se[Pe]);Se[ee]=-1}for(ie[0]+="/",ee=1;ee<xe;++ee)H[ee].type!==2&&(ie[ee]+="/")}function p(H,ie,Q){for(var ee=H.start,le=H.size,oe=[],Te=ee;Q&&le>0&&Te>=0;)oe.push(ie.slice(Te*P,Te*P+P)),le-=P,Te=_a(Q,Te*4);return oe.length===0?De(0):rr(oe).slice(0,H.size)}function g(H,ie,Q,ee,le){var oe=R;if(H===R){if(ie!==0)throw new Error("DIFAT chain shorter than expected")}else if(H!==-1){var Te=Q[H],Pe=(ee>>>2)-1;if(!Te)return;for(var xe=0;xe<Pe&&(oe=_a(Te,xe*4))!==R;++xe)le.push(oe);g(_a(Te,ee-4),ie-1,Q,ee,le)}}function v(H,ie,Q,ee,le){var oe=[],Te=[];le||(le=[]);var Pe=ee-1,xe=0,Se=0;for(xe=ie;xe>=0;){le[xe]=!0,oe[oe.length]=xe,Te.push(H[xe]);var Ee=Q[Math.floor(xe*4/ee)];if(Se=xe*4&Pe,ee<4+Se)throw new Error("FAT boundary crossed: "+xe+" 4 "+ee);if(!H[Ee])break;xe=_a(H[Ee],Se)}return{nodes:oe,data:mv([Te])}}function w(H,ie,Q,ee){var le=H.length,oe=[],Te=[],Pe=[],xe=[],Se=ee-1,Ee=0,ze=0,Qe=0,at=0;for(Ee=0;Ee<le;++Ee)if(Pe=[],Qe=Ee+ie,Qe>=le&&(Qe-=le),!Te[Qe]){xe=[];var Xe=[];for(ze=Qe;ze>=0;){Xe[ze]=!0,Te[ze]=!0,Pe[Pe.length]=ze,xe.push(H[ze]);var rt=Q[Math.floor(ze*4/ee)];if(at=ze*4&Se,ee<4+at)throw new Error("FAT boundary crossed: "+ze+" 4 "+ee);if(!H[rt]||(ze=_a(H[rt],at),Xe[ze]))break}oe[Qe]={nodes:Pe,data:mv([xe])}}return oe}function k(H,ie,Q,ee,le,oe,Te,Pe){for(var xe=0,Se=ee.length?2:0,Ee=ie[H].data,ze=0,Qe=0,at;ze<Ee.length;ze+=128){var Xe=Ee.slice(ze,ze+128);fr(Xe,64),Qe=Xe.read_shift(2),at=uu(Xe,0,Qe-Se),ee.push(at);var rt={name:at,type:Xe.read_shift(1),color:Xe.read_shift(1),L:Xe.read_shift(4,"i"),R:Xe.read_shift(4,"i"),C:Xe.read_shift(4,"i"),clsid:Xe.read_shift(16),state:Xe.read_shift(4,"i"),start:0,size:0},yt=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);yt!==0&&(rt.ct=x(Xe,Xe.l-8));var hn=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);hn!==0&&(rt.mt=x(Xe,Xe.l-8)),rt.start=Xe.read_shift(4,"i"),rt.size=Xe.read_shift(4,"i"),rt.size<0&&rt.start<0&&(rt.size=rt.type=0,rt.start=R,rt.name=""),rt.type===5?(xe=rt.start,le>0&&xe!==R&&(ie[xe].name="!StreamData")):rt.size>=4096?(rt.storage="fat",ie[rt.start]===void 0&&(ie[rt.start]=v(Q,rt.start,ie.fat_addrs,ie.ssz)),ie[rt.start].name=rt.name,rt.content=ie[rt.start].data.slice(0,rt.size)):(rt.storage="minifat",rt.size<0?rt.size=0:xe!==R&&rt.start!==R&&ie[xe]&&(rt.content=p(rt,ie[xe].data,(ie[Pe]||{}).data))),rt.content&&fr(rt.content,0),oe[at]=rt,Te.push(rt)}}function x(H,ie){return new Date((nr(H,ie+4)/1e7*Math.pow(2,32)+nr(H,ie)/1e7-11644473600)*1e3)}function A(H,ie){return f(),c(o.readFileSync(H),ie)}function T(H,ie){var Q=ie&&ie.type;switch(Q||Ct&&Buffer.isBuffer(H)&&(Q="buffer"),Q||"base64"){case"file":return A(H,ie);case"base64":return c(Zr(ii(H)),ie);case"binary":return c(Zr(H),ie)}return c(H,ie)}function C(H,ie){var Q=ie||{},ee=Q.root||"Root Entry";if(H.FullPaths||(H.FullPaths=[]),H.FileIndex||(H.FileIndex=[]),H.FullPaths.length!==H.FileIndex.length)throw new Error("inconsistent CFB structure");H.FullPaths.length===0&&(H.FullPaths[0]=ee+"/",H.FileIndex[0]={name:ee,type:5}),Q.CLSID&&(H.FileIndex[0].clsid=Q.CLSID),F(H)}function F(H){var ie="Sh33tJ5";if(!ft.find(H,"/"+ie)){var Q=De(4);Q[0]=55,Q[1]=Q[3]=50,Q[2]=54,H.FileIndex.push({name:ie,type:2,content:Q,size:4,L:69,R:69,C:69}),H.FullPaths.push(H.FullPaths[0]+ie),O(H)}}function O(H,ie){C(H);for(var Q=!1,ee=!1,le=H.FullPaths.length-1;le>=0;--le){var oe=H.FileIndex[le];switch(oe.type){case 0:ee?Q=!0:(H.FileIndex.pop(),H.FullPaths.pop());break;case 1:case 2:case 5:ee=!0,isNaN(oe.R*oe.L*oe.C)&&(Q=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(Q=!0);break;default:Q=!0;break}}if(!(!Q&&!ie)){var Te=new Date(1987,1,19),Pe=0,xe=Object.create?Object.create(null):{},Se=[];for(le=0;le<H.FullPaths.length;++le)xe[H.FullPaths[le]]=!0,H.FileIndex[le].type!==0&&Se.push([H.FullPaths[le],H.FileIndex[le]]);for(le=0;le<Se.length;++le){var Ee=r(Se[le][0]);ee=xe[Ee],ee||(Se.push([Ee,{name:i(Ee).replace("/",""),type:1,clsid:V,ct:Te,mt:Te,content:null}]),xe[Ee]=!0)}for(Se.sort(function(at,Xe){return t(at[0],Xe[0])}),H.FullPaths=[],H.FileIndex=[],le=0;le<Se.length;++le)H.FullPaths[le]=Se[le][0],H.FileIndex[le]=Se[le][1];for(le=0;le<Se.length;++le){var ze=H.FileIndex[le],Qe=H.FullPaths[le];if(ze.name=i(Qe).replace("/",""),ze.L=ze.R=ze.C=-(ze.color=1),ze.size=ze.content?ze.content.length:0,ze.start=0,ze.clsid=ze.clsid||V,le===0)ze.C=Se.length>1?1:-1,ze.size=0,ze.type=5;else if(Qe.slice(-1)=="/"){for(Pe=le+1;Pe<Se.length&&r(H.FullPaths[Pe])!=Qe;++Pe);for(ze.C=Pe>=Se.length?-1:Pe,Pe=le+1;Pe<Se.length&&r(H.FullPaths[Pe])!=r(Qe);++Pe);ze.R=Pe>=Se.length?-1:Pe,ze.type=1}else r(H.FullPaths[le+1]||"")==r(Qe)&&(ze.R=le+1),ze.type=2}}}function I(H,ie){var Q=ie||{};if(Q.fileType=="mad")return nt(H,Q);switch(O(H),Q.fileType){case"zip":return lr(H,Q)}var ee=function(at){for(var Xe=0,rt=0,yt=0;yt<at.FileIndex.length;++yt){var hn=at.FileIndex[yt];if(hn.content){var pn=hn.content.length;pn>0&&(pn<4096?Xe+=pn+63>>6:rt+=pn+511>>9)}}for(var dr=at.FullPaths.length+3>>2,Rl=Xe+7>>3,$l=Xe+127>>7,Bl=Rl+rt+dr+$l,sa=Bl+127>>7,vu=sa<=109?0:Math.ceil((sa-109)/127);Bl+sa+vu+127>>7>sa;)vu=++sa<=109?0:Math.ceil((sa-109)/127);var cs=[1,vu,sa,$l,dr,rt,Xe,0];return at.FileIndex[0].size=Xe<<6,cs[7]=(at.FileIndex[0].start=cs[0]+cs[1]+cs[2]+cs[3]+cs[4]+cs[5])+(cs[6]+7>>3),cs}(H),le=De(ee[7]<<9),oe=0,Te=0;{for(oe=0;oe<8;++oe)le.write_shift(1,ne[oe]);for(oe=0;oe<8;++oe)le.write_shift(2,0);for(le.write_shift(2,62),le.write_shift(2,3),le.write_shift(2,65534),le.write_shift(2,9),le.write_shift(2,6),oe=0;oe<3;++oe)le.write_shift(2,0);for(le.write_shift(4,0),le.write_shift(4,ee[2]),le.write_shift(4,ee[0]+ee[1]+ee[2]+ee[3]-1),le.write_shift(4,0),le.write_shift(4,1<<12),le.write_shift(4,ee[3]?ee[0]+ee[1]+ee[2]-1:R),le.write_shift(4,ee[3]),le.write_shift(-4,ee[1]?ee[0]-1:R),le.write_shift(4,ee[1]),oe=0;oe<109;++oe)le.write_shift(-4,oe<ee[2]?ee[1]+oe:-1)}if(ee[1])for(Te=0;Te<ee[1];++Te){for(;oe<236+Te*127;++oe)le.write_shift(-4,oe<ee[2]?ee[1]+oe:-1);le.write_shift(-4,Te===ee[1]-1?R:Te+1)}var Pe=function(at){for(Te+=at;oe<Te-1;++oe)le.write_shift(-4,oe+1);at&&(++oe,le.write_shift(-4,R))};for(Te=oe=0,Te+=ee[1];oe<Te;++oe)le.write_shift(-4,se.DIFSECT);for(Te+=ee[2];oe<Te;++oe)le.write_shift(-4,se.FATSECT);Pe(ee[3]),Pe(ee[4]);for(var xe=0,Se=0,Ee=H.FileIndex[0];xe<H.FileIndex.length;++xe)Ee=H.FileIndex[xe],Ee.content&&(Se=Ee.content.length,!(Se<4096)&&(Ee.start=Te,Pe(Se+511>>9)));for(Pe(ee[6]+7>>3);le.l&511;)le.write_shift(-4,se.ENDOFCHAIN);for(Te=oe=0,xe=0;xe<H.FileIndex.length;++xe)Ee=H.FileIndex[xe],Ee.content&&(Se=Ee.content.length,!(!Se||Se>=4096)&&(Ee.start=Te,Pe(Se+63>>6)));for(;le.l&511;)le.write_shift(-4,se.ENDOFCHAIN);for(oe=0;oe<ee[4]<<2;++oe){var ze=H.FullPaths[oe];if(!ze||ze.length===0){for(xe=0;xe<17;++xe)le.write_shift(4,0);for(xe=0;xe<3;++xe)le.write_shift(4,-1);for(xe=0;xe<12;++xe)le.write_shift(4,0);continue}Ee=H.FileIndex[oe],oe===0&&(Ee.start=Ee.size?Ee.start-1:R);var Qe=oe===0&&Q.root||Ee.name;if(Se=2*(Qe.length+1),le.write_shift(64,Qe,"utf16le"),le.write_shift(2,Se),le.write_shift(1,Ee.type),le.write_shift(1,Ee.color),le.write_shift(-4,Ee.L),le.write_shift(-4,Ee.R),le.write_shift(-4,Ee.C),Ee.clsid)le.write_shift(16,Ee.clsid,"hex");else for(xe=0;xe<4;++xe)le.write_shift(4,0);le.write_shift(4,Ee.state||0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,0),le.write_shift(4,Ee.start),le.write_shift(4,Ee.size),le.write_shift(4,0)}for(oe=1;oe<H.FileIndex.length;++oe)if(Ee=H.FileIndex[oe],Ee.size>=4096)if(le.l=Ee.start+1<<9,Ct&&Buffer.isBuffer(Ee.content))Ee.content.copy(le,le.l,0,Ee.size),le.l+=Ee.size+511&-512;else{for(xe=0;xe<Ee.size;++xe)le.write_shift(1,Ee.content[xe]);for(;xe&511;++xe)le.write_shift(1,0)}for(oe=1;oe<H.FileIndex.length;++oe)if(Ee=H.FileIndex[oe],Ee.size>0&&Ee.size<4096)if(Ct&&Buffer.isBuffer(Ee.content))Ee.content.copy(le,le.l,0,Ee.size),le.l+=Ee.size+63&-64;else{for(xe=0;xe<Ee.size;++xe)le.write_shift(1,Ee.content[xe]);for(;xe&63;++xe)le.write_shift(1,0)}if(Ct)le.l=le.length;else for(;le.l<le.length;)le.write_shift(1,0);return le}function N(H,ie){var Q=H.FullPaths.map(function(xe){return xe.toUpperCase()}),ee=Q.map(function(xe){var Se=xe.split("/");return Se[Se.length-(xe.slice(-1)=="/"?2:1)]}),le=!1;ie.charCodeAt(0)===47?(le=!0,ie=Q[0].slice(0,-1)+ie):le=ie.indexOf("/")!==-1;var oe=ie.toUpperCase(),Te=le===!0?Q.indexOf(oe):ee.indexOf(oe);if(Te!==-1)return H.FileIndex[Te];var Pe=!oe.match(io);for(oe=oe.replace(yr,""),Pe&&(oe=oe.replace(io,"!")),Te=0;Te<Q.length;++Te)if((Pe?Q[Te].replace(io,"!"):Q[Te]).replace(yr,"")==oe||(Pe?ee[Te].replace(io,"!"):ee[Te]).replace(yr,"")==oe)return H.FileIndex[Te];return null}var P=64,R=-2,Y="d0cf11e0a1b11ae1",ne=[208,207,17,224,161,177,26,225],V="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:R,FREESECT:-1,HEADER_SIGNATURE:Y,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:V,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function ue(H,ie,Q){f();var ee=I(H,Q);o.writeFileSync(ie,ee)}function U(H){for(var ie=new Array(H.length),Q=0;Q<H.length;++Q)ie[Q]=String.fromCharCode(H[Q]);return ie.join("")}function be(H,ie){var Q=I(H,ie);switch(ie&&ie.type||"buffer"){case"file":return f(),o.writeFileSync(ie.filename,Q),Q;case"binary":return typeof Q=="string"?Q:U(Q);case"base64":return Ro(typeof Q=="string"?Q:U(Q));case"buffer":if(Ct)return Buffer.isBuffer(Q)?Q:Ss(Q);case"array":return typeof Q=="string"?Zr(Q):Q}return Q}var fe;function B(H){try{var ie=H.InflateRaw,Q=new ie;if(Q._processChunk(new Uint8Array([3,0]),Q._finishFlushFlag),Q.bytesRead)fe=H;else throw new Error("zlib does not expose bytesRead")}catch(ee){console.error("cannot use native zlib: "+(ee.message||ee))}}function K(H,ie){if(!fe)return os(H,ie);var Q=fe.InflateRaw,ee=new Q,le=ee._processChunk(H.slice(H.l),ee._finishFlushFlag);return H.l+=ee.bytesRead,le}function G(H){return fe?fe.deflateRawSync(H):bt(H)}var J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function we(H){var ie=(H<<1|H<<11)&139536|(H<<5|H<<15)&558144;return(ie>>16|ie>>8|ie)&255}for(var Fe=typeof Uint8Array<"u",Oe=Fe?new Uint8Array(1<<8):[],ye=0;ye<1<<8;++ye)Oe[ye]=we(ye);function te(H,ie){var Q=Oe[H&255];return ie<=8?Q>>>8-ie:(Q=Q<<8|Oe[H>>8&255],ie<=16?Q>>>16-ie:(Q=Q<<8|Oe[H>>16&255],Q>>>24-ie))}function he(H,ie){var Q=ie&7,ee=ie>>>3;return(H[ee]|(Q<=6?0:H[ee+1]<<8))>>>Q&3}function qe(H,ie){var Q=ie&7,ee=ie>>>3;return(H[ee]|(Q<=5?0:H[ee+1]<<8))>>>Q&7}function ot(H,ie){var Q=ie&7,ee=ie>>>3;return(H[ee]|(Q<=4?0:H[ee+1]<<8))>>>Q&15}function ct(H,ie){var Q=ie&7,ee=ie>>>3;return(H[ee]|(Q<=3?0:H[ee+1]<<8))>>>Q&31}function Ce(H,ie){var Q=ie&7,ee=ie>>>3;return(H[ee]|(Q<=1?0:H[ee+1]<<8))>>>Q&127}function _e(H,ie,Q){var ee=ie&7,le=ie>>>3,oe=(1<<Q)-1,Te=H[le]>>>ee;return Q<8-ee||(Te|=H[le+1]<<8-ee,Q<16-ee)||(Te|=H[le+2]<<16-ee,Q<24-ee)||(Te|=H[le+3]<<24-ee),Te&oe}function je(H,ie,Q){var ee=ie&7,le=ie>>>3;return ee<=5?H[le]|=(Q&7)<<ee:(H[le]|=Q<<ee&255,H[le+1]=(Q&7)>>8-ee),ie+3}function wt(H,ie,Q){var ee=ie&7,le=ie>>>3;return Q=(Q&1)<<ee,H[le]|=Q,ie+1}function kt(H,ie,Q){var ee=ie&7,le=ie>>>3;return Q<<=ee,H[le]|=Q&255,Q>>>=8,H[le+1]=Q,ie+8}function Qt(H,ie,Q){var ee=ie&7,le=ie>>>3;return Q<<=ee,H[le]|=Q&255,Q>>>=8,H[le+1]=Q&255,H[le+2]=Q>>>8,ie+16}function dn(H,ie){var Q=H.length,ee=2*Q>ie?2*Q:ie+5,le=0;if(Q>=ie)return H;if(Ct){var oe=Kg(ee);if(H.copy)H.copy(oe);else for(;le<H.length;++le)oe[le]=H[le];return oe}else if(Fe){var Te=new Uint8Array(ee);if(Te.set)Te.set(H);else for(;le<Q;++le)Te[le]=H[le];return Te}return H.length=ee,H}function gn(H){for(var ie=new Array(H),Q=0;Q<H;++Q)ie[Q]=0;return ie}function At(H,ie,Q){var ee=1,le=0,oe=0,Te=0,Pe=0,xe=H.length,Se=Fe?new Uint16Array(32):gn(32);for(oe=0;oe<32;++oe)Se[oe]=0;for(oe=xe;oe<Q;++oe)H[oe]=0;xe=H.length;var Ee=Fe?new Uint16Array(xe):gn(xe);for(oe=0;oe<xe;++oe)Se[le=H[oe]]++,ee<le&&(ee=le),Ee[oe]=0;for(Se[0]=0,oe=1;oe<=ee;++oe)Se[oe+16]=Pe=Pe+Se[oe-1]<<1;for(oe=0;oe<xe;++oe)Pe=H[oe],Pe!=0&&(Ee[oe]=Se[Pe+16]++);var ze=0;for(oe=0;oe<xe;++oe)if(ze=H[oe],ze!=0)for(Pe=te(Ee[oe],ee)>>ee-ze,Te=(1<<ee+4-ze)-1;Te>=0;--Te)ie[Pe|Te<<ze]=ze&15|oe<<4;return ee}var Yn=Fe?new Uint16Array(512):gn(512),li=Fe?new Uint16Array(32):gn(32);if(!Fe){for(var In=0;In<512;++In)Yn[In]=0;for(In=0;In<32;++In)li[In]=0}(function(){for(var H=[],ie=0;ie<32;ie++)H.push(5);At(H,li,32);var Q=[];for(ie=0;ie<=143;ie++)Q.push(8);for(;ie<=255;ie++)Q.push(9);for(;ie<=279;ie++)Q.push(7);for(;ie<=287;ie++)Q.push(8);At(Q,Yn,288)})();var Gn=function(){for(var ie=Fe?new Uint8Array(32768):[],Q=0,ee=0;Q<me.length-1;++Q)for(;ee<me[Q+1];++ee)ie[ee]=Q;for(;ee<32768;++ee)ie[ee]=29;var le=Fe?new Uint8Array(259):[];for(Q=0,ee=0;Q<de.length-1;++Q)for(;ee<de[Q+1];++ee)le[ee]=Q;function oe(Pe,xe){for(var Se=0;Se<Pe.length;){var Ee=Math.min(65535,Pe.length-Se),ze=Se+Ee==Pe.length;for(xe.write_shift(1,+ze),xe.write_shift(2,Ee),xe.write_shift(2,~Ee&65535);Ee-- >0;)xe[xe.l++]=Pe[Se++]}return xe.l}function Te(Pe,xe){for(var Se=0,Ee=0,ze=Fe?new Uint16Array(32768):[];Ee<Pe.length;){var Qe=Math.min(65535,Pe.length-Ee);if(Qe<10){for(Se=je(xe,Se,+(Ee+Qe==Pe.length)),Se&7&&(Se+=8-(Se&7)),xe.l=Se/8|0,xe.write_shift(2,Qe),xe.write_shift(2,~Qe&65535);Qe-- >0;)xe[xe.l++]=Pe[Ee++];Se=xe.l*8;continue}Se=je(xe,Se,+(Ee+Qe==Pe.length)+2);for(var at=0;Qe-- >0;){var Xe=Pe[Ee];at=(at<<5^Xe)&32767;var rt=-1,yt=0;if((rt=ze[at])&&(rt|=Ee&-32768,rt>Ee&&(rt-=32768),rt<Ee))for(;Pe[rt+yt]==Pe[Ee+yt]&&yt<250;)++yt;if(yt>2){Xe=le[yt],Xe<=22?Se=kt(xe,Se,Oe[Xe+1]>>1)-1:(kt(xe,Se,3),Se+=5,kt(xe,Se,Oe[Xe-23]>>5),Se+=3);var hn=Xe<8?0:Xe-4>>2;hn>0&&(Qt(xe,Se,yt-de[Xe]),Se+=hn),Xe=ie[Ee-rt],Se=kt(xe,Se,Oe[Xe]>>3),Se-=3;var pn=Xe<4?0:Xe-2>>1;pn>0&&(Qt(xe,Se,Ee-rt-me[Xe]),Se+=pn);for(var dr=0;dr<yt;++dr)ze[at]=Ee&32767,at=(at<<5^Pe[Ee])&32767,++Ee;Qe-=yt-1}else Xe<=143?Xe=Xe+48:Se=wt(xe,Se,1),Se=kt(xe,Se,Oe[Xe]),ze[at]=Ee&32767,++Ee}Se=kt(xe,Se,0)-1}return xe.l=(Se+7)/8|0,xe.l}return function(xe,Se){return xe.length<8?oe(xe,Se):Te(xe,Se)}}();function bt(H){var ie=De(50+Math.floor(H.length*1.1)),Q=Gn(H,ie);return ie.slice(0,Q)}var an=Fe?new Uint16Array(32768):gn(32768),Nn=Fe?new Uint16Array(32768):gn(32768),ln=Fe?new Uint16Array(128):gn(128),vn=1,Ft=1;function As(H,ie){var Q=ct(H,ie)+257;ie+=5;var ee=ct(H,ie)+1;ie+=5;var le=ot(H,ie)+4;ie+=4;for(var oe=0,Te=Fe?new Uint8Array(19):gn(19),Pe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],xe=1,Se=Fe?new Uint8Array(8):gn(8),Ee=Fe?new Uint8Array(8):gn(8),ze=Te.length,Qe=0;Qe<le;++Qe)Te[J[Qe]]=oe=qe(H,ie),xe<oe&&(xe=oe),Se[oe]++,ie+=3;var at=0;for(Se[0]=0,Qe=1;Qe<=xe;++Qe)Ee[Qe]=at=at+Se[Qe-1]<<1;for(Qe=0;Qe<ze;++Qe)(at=Te[Qe])!=0&&(Pe[Qe]=Ee[at]++);var Xe=0;for(Qe=0;Qe<ze;++Qe)if(Xe=Te[Qe],Xe!=0){at=Oe[Pe[Qe]]>>8-Xe;for(var rt=(1<<7-Xe)-1;rt>=0;--rt)ln[at|rt<<Xe]=Xe&7|Qe<<3}var yt=[];for(xe=1;yt.length<Q+ee;)switch(at=ln[Ce(H,ie)],ie+=at&7,at>>>=3){case 16:for(oe=3+he(H,ie),ie+=2,at=yt[yt.length-1];oe-- >0;)yt.push(at);break;case 17:for(oe=3+qe(H,ie),ie+=3;oe-- >0;)yt.push(0);break;case 18:for(oe=11+Ce(H,ie),ie+=7;oe-- >0;)yt.push(0);break;default:yt.push(at),xe<at&&(xe=at);break}var hn=yt.slice(0,Q),pn=yt.slice(Q);for(Qe=Q;Qe<286;++Qe)hn[Qe]=0;for(Qe=ee;Qe<30;++Qe)pn[Qe]=0;return vn=At(hn,an,286),Ft=At(pn,Nn,30),ie}function Di(H,ie){if(H[0]==3&&!(H[1]&3))return[Ys(ie),2];for(var Q=0,ee=0,le=Kg(ie||1<<18),oe=0,Te=le.length>>>0,Pe=0,xe=0;!(ee&1);){if(ee=qe(H,Q),Q+=3,ee>>>1)ee>>1==1?(Pe=9,xe=5):(Q=As(H,Q),Pe=vn,xe=Ft);else{Q&7&&(Q+=8-(Q&7));var Se=H[Q>>>3]|H[(Q>>>3)+1]<<8;if(Q+=32,Se>0)for(!ie&&Te<oe+Se&&(le=dn(le,oe+Se),Te=le.length);Se-- >0;)le[oe++]=H[Q>>>3],Q+=8;continue}for(;;){!ie&&Te<oe+32767&&(le=dn(le,oe+32767),Te=le.length);var Ee=_e(H,Q,Pe),ze=ee>>>1==1?Yn[Ee]:an[Ee];if(Q+=ze&15,ze>>>=4,!(ze>>>8&255))le[oe++]=ze;else{if(ze==256)break;ze-=257;var Qe=ze<8?0:ze-4>>2;Qe>5&&(Qe=0);var at=oe+de[ze];Qe>0&&(at+=_e(H,Q,Qe),Q+=Qe),Ee=_e(H,Q,xe),ze=ee>>>1==1?li[Ee]:Nn[Ee],Q+=ze&15,ze>>>=4;var Xe=ze<4?0:ze-2>>1,rt=me[ze];for(Xe>0&&(rt+=_e(H,Q,Xe),Q+=Xe),!ie&&Te<at&&(le=dn(le,at+100),Te=le.length);oe<at;)le[oe]=le[oe-rt],++oe}}}return ie?[le,Q+7>>>3]:[le.slice(0,oe),Q+7>>>3]}function os(H,ie){var Q=H.slice(H.l||0),ee=Di(Q,ie);return H.l+=ee[1],ee[0]}function ji(H,ie){if(H)typeof console<"u"&&console.error(ie);else throw new Error(ie)}function zi(H,ie){var Q=H;fr(Q,0);var ee=[],le=[],oe={FileIndex:ee,FullPaths:le};C(oe,{root:ie.root});for(var Te=Q.length-4;(Q[Te]!=80||Q[Te+1]!=75||Q[Te+2]!=5||Q[Te+3]!=6)&&Te>=0;)--Te;Q.l=Te+4,Q.l+=4;var Pe=Q.read_shift(2);Q.l+=6;var xe=Q.read_shift(4);for(Q.l=xe,Te=0;Te<Pe;++Te){Q.l+=20;var Se=Q.read_shift(4),Ee=Q.read_shift(4),ze=Q.read_shift(2),Qe=Q.read_shift(2),at=Q.read_shift(2);Q.l+=8;var Xe=Q.read_shift(4),rt=l(Q.slice(Q.l+ze,Q.l+ze+Qe));Q.l+=ze+Qe+at;var yt=Q.l;Q.l=Xe+4,Xn(Q,Se,Ee,oe,rt),Q.l=yt}return oe}function Xn(H,ie,Q,ee,le){H.l+=2;var oe=H.read_shift(2),Te=H.read_shift(2),Pe=a(H);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var xe=H.read_shift(4),Se=H.read_shift(4),Ee=H.read_shift(4),ze=H.read_shift(2),Qe=H.read_shift(2),at="",Xe=0;Xe<ze;++Xe)at+=String.fromCharCode(H[H.l++]);if(Qe){var rt=l(H.slice(H.l,H.l+Qe));(rt[21589]||{}).mt&&(Pe=rt[21589].mt),((le||{})[21589]||{}).mt&&(Pe=le[21589].mt)}H.l+=Qe;var yt=H.slice(H.l,H.l+Se);switch(Te){case 8:yt=K(H,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Te)}var hn=!1;oe&8&&(xe=H.read_shift(4),xe==134695760&&(xe=H.read_shift(4),hn=!0),Se=H.read_shift(4),Ee=H.read_shift(4)),Se!=ie&&ji(hn,"Bad compressed size: "+ie+" != "+Se),Ee!=Q&&ji(hn,"Bad uncompressed size: "+Q+" != "+Ee),vt(ee,at,yt,{unsafe:!0,mt:Pe})}function lr(H,ie){var Q=ie||{},ee=[],le=[],oe=De(1),Te=Q.compression?8:0,Pe=0,xe=0,Se=0,Ee=0,ze=0,Qe=H.FullPaths[0],at=Qe,Xe=H.FileIndex[0],rt=[],yt=0;for(xe=1;xe<H.FullPaths.length;++xe)if(at=H.FullPaths[xe].slice(Qe.length),Xe=H.FileIndex[xe],!(!Xe.size||!Xe.content||at=="Sh33tJ5")){var hn=Ee,pn=De(at.length);for(Se=0;Se<at.length;++Se)pn.write_shift(1,at.charCodeAt(Se)&127);pn=pn.slice(0,pn.l),rt[ze]=EL.buf(Xe.content,0);var dr=Xe.content;Te==8&&(dr=G(dr)),oe=De(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,Pe),oe.write_shift(2,Te),Xe.mt?s(oe,Xe.mt):oe.write_shift(4,0),oe.write_shift(-4,rt[ze]),oe.write_shift(4,dr.length),oe.write_shift(4,Xe.content.length),oe.write_shift(2,pn.length),oe.write_shift(2,0),Ee+=oe.length,ee.push(oe),Ee+=pn.length,ee.push(pn),Ee+=dr.length,ee.push(dr),oe=De(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,Pe),oe.write_shift(2,Te),oe.write_shift(4,0),oe.write_shift(-4,rt[ze]),oe.write_shift(4,dr.length),oe.write_shift(4,Xe.content.length),oe.write_shift(2,pn.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,hn),yt+=oe.l,le.push(oe),yt+=pn.length,le.push(pn),++ze}return oe=De(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,ze),oe.write_shift(2,ze),oe.write_shift(4,yt),oe.write_shift(4,Ee),oe.write_shift(2,0),rr([rr(ee),rr(le),oe])}var fs={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Z(H,ie){if(H.ctype)return H.ctype;var Q=H.name||"",ee=Q.match(/\.([^\.]+)$/);return ee&&fs[ee[1]]||ie&&(ee=(Q=ie).match(/[\.\\]([^\.\\])+$/),ee&&fs[ee[1]])?fs[ee[1]]:"application/octet-stream"}function re(H){for(var ie=Ro(H),Q=[],ee=0;ee<ie.length;ee+=76)Q.push(ie.slice(ee,ee+76));return Q.join(`\r
`)+`\r
`}function ge(H){var ie=H.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Se){var Ee=Se.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});ie=ie.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ie.charAt(0)==`
`&&(ie="=0D"+ie.slice(1)),ie=ie.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Q=[],ee=ie.split(`\r
`),le=0;le<ee.length;++le){var oe=ee[le];if(oe.length==0){Q.push("");continue}for(var Te=0;Te<oe.length;){var Pe=76,xe=oe.slice(Te,Te+Pe);xe.charAt(Pe-1)=="="?Pe--:xe.charAt(Pe-2)=="="?Pe-=2:xe.charAt(Pe-3)=="="&&(Pe-=3),xe=oe.slice(Te,Te+Pe),Te+=Pe,Te<oe.length&&(xe+="="),Q.push(xe)}}return Q.join(`\r
`)}function Ae(H){for(var ie=[],Q=0;Q<H.length;++Q){for(var ee=H[Q];Q<=H.length&&ee.charAt(ee.length-1)=="=";)ee=ee.slice(0,ee.length-1)+H[++Q];ie.push(ee)}for(var le=0;le<ie.length;++le)ie[le]=ie[le].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Zr(ie.join(`\r
`))}function Ye(H,ie,Q){for(var ee="",le="",oe="",Te,Pe=0;Pe<10;++Pe){var xe=ie[Pe];if(!xe||xe.match(/^\s*$/))break;var Se=xe.match(/^(.*?):\s*([^\s].*)$/);if(Se)switch(Se[1].toLowerCase()){case"content-location":ee=Se[2].trim();break;case"content-type":oe=Se[2].trim();break;case"content-transfer-encoding":le=Se[2].trim();break}}switch(++Pe,le.toLowerCase()){case"base64":Te=Zr(ii(ie.slice(Pe).join("")));break;case"quoted-printable":Te=Ae(ie.slice(Pe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+le)}var Ee=vt(H,ee.slice(Q.length),Te,{unsafe:!0});oe&&(Ee.ctype=oe)}function et(H,ie){if(U(H.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Q=ie&&ie.root||"",ee=(Ct&&Buffer.isBuffer(H)?H.toString("binary"):U(H)).split(`\r
`),le=0,oe="";for(le=0;le<ee.length;++le)if(oe=ee[le],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),Q||(Q=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,Q.length)!=Q))for(;Q.length>0&&(Q=Q.slice(0,Q.length-1),Q=Q.slice(0,Q.lastIndexOf("/")+1),oe.slice(0,Q.length)!=Q););var Te=(ee[1]||"").match(/boundary="(.*?)"/);if(!Te)throw new Error("MAD cannot find boundary");var Pe="--"+(Te[1]||""),xe=[],Se=[],Ee={FileIndex:xe,FullPaths:Se};C(Ee);var ze,Qe=0;for(le=0;le<ee.length;++le){var at=ee[le];at!==Pe&&at!==Pe+"--"||(Qe++&&Ye(Ee,ee.slice(ze,le),Q),ze=le)}return Ee}function nt(H,ie){var Q=ie||{},ee=Q.boundary||"SheetJS";ee="------="+ee;for(var le=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ee.slice(2)+'"',"","",""],oe=H.FullPaths[0],Te=oe,Pe=H.FileIndex[0],xe=1;xe<H.FullPaths.length;++xe)if(Te=H.FullPaths[xe].slice(oe.length),Pe=H.FileIndex[xe],!(!Pe.size||!Pe.content||Te=="Sh33tJ5")){Te=Te.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(yt){return"_x"+yt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(yt){return"_u"+yt.charCodeAt(0).toString(16)+"_"});for(var Se=Pe.content,Ee=Ct&&Buffer.isBuffer(Se)?Se.toString("binary"):U(Se),ze=0,Qe=Math.min(1024,Ee.length),at=0,Xe=0;Xe<=Qe;++Xe)(at=Ee.charCodeAt(Xe))>=32&&at<128&&++ze;var rt=ze>=Qe*4/5;le.push(ee),le.push("Content-Location: "+(Q.root||"file:///C:/SheetJS/")+Te),le.push("Content-Transfer-Encoding: "+(rt?"quoted-printable":"base64")),le.push("Content-Type: "+Z(Pe,Te)),le.push(""),le.push(rt?ge(Ee):re(Ee))}return le.push(ee+`--\r
`),le.join(`\r
`)}function Ze(H){var ie={};return C(ie,H),ie}function vt(H,ie,Q,ee){var le=ee&&ee.unsafe;le||C(H);var oe=!le&&ft.find(H,ie);if(!oe){var Te=H.FullPaths[0];ie.slice(0,Te.length)==Te?Te=ie:(Te.slice(-1)!="/"&&(Te+="/"),Te=(Te+ie).replace("//","/")),oe={name:i(ie),type:2},H.FileIndex.push(oe),H.FullPaths.push(Te),le||ft.utils.cfb_gc(H)}return oe.content=Q,oe.size=Q?Q.length:0,ee&&(ee.CLSID&&(oe.clsid=ee.CLSID),ee.mt&&(oe.mt=ee.mt),ee.ct&&(oe.ct=ee.ct)),oe}function lt(H,ie){C(H);var Q=ft.find(H,ie);if(Q){for(var ee=0;ee<H.FileIndex.length;++ee)if(H.FileIndex[ee]==Q)return H.FileIndex.splice(ee,1),H.FullPaths.splice(ee,1),!0}return!1}function dt(H,ie,Q){C(H);var ee=ft.find(H,ie);if(ee){for(var le=0;le<H.FileIndex.length;++le)if(H.FileIndex[le]==ee)return H.FileIndex[le].name=i(Q),H.FullPaths[le]=Q,!0}return!1}function Gt(H){O(H,!0)}return e.find=N,e.read=T,e.parse=c,e.write=be,e.writeFile=ue,e.utils={cfb_new:Ze,cfb_add:vt,cfb_del:lt,cfb_mov:dt,cfb_gc:Gt,ReadShift:mo,CheckField:Bx,prep_blob:fr,bconcat:rr,use_zlib:B,_deflateRaw:bt,_inflateRaw:os,consts:se},e}();let Us;function CL(n){Us=n}function AL(n){return typeof n=="string"?cf(n):Array.isArray(n)?QP(n):n}function df(n,e,t){if(typeof Us<"u"&&Us.writeFileSync)return t?Us.writeFileSync(n,e,t):Us.writeFileSync(n,e);if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=cf(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?Zi(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([AL(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:n,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=n,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var l=File(n);return l.open("w"),l.encoding="binary",Array.isArray(e)&&(e=ta(e)),l.write(e),l.close(),e}catch(o){if(!o.message||!o.message.match(/onstruct/))throw o}throw new Error("cannot save file "+n)}function FL(n){if(typeof Us<"u")return Us.readFileSync(n);if(typeof Deno<"u")return Deno.readFileSync(n);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(n);e.open("r"),e.encoding="binary";var t=e.read();return e.close(),t}catch(r){if(!r.message||!r.message.match(/onstruct/))throw r}throw new Error("Cannot access file "+n)}function An(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function iv(n,e){for(var t=[],r=An(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function ou(n){for(var e=[],t=An(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function fu(n){for(var e=[],t=An(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function DL(n){for(var e=[],t=An(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var Ic=new Date(1899,11,30,0,0,0);function er(n,e){var t=n.getTime();e&&(t-=1462*24*60*60*1e3);var r=Ic.getTime()+(n.getTimezoneOffset()-Ic.getTimezoneOffset())*6e4;return(t-r)/(24*60*60*1e3)}var kx=new Date,OL=Ic.getTime()+(kx.getTimezoneOffset()-Ic.getTimezoneOffset())*6e4,sv=kx.getTimezoneOffset();function cu(n){var e=new Date;return e.setTime(n*24*60*60*1e3+OL),e.getTimezoneOffset()!==sv&&e.setTime(e.getTime()+(e.getTimezoneOffset()-sv)*6e4),e}function ML(n){var e=0,t=0,r=!1,i=n.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+n+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(t=1,s>3&&(r=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":t*=24;case"H":t*=60;case"M":if(r)t*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=t*parseInt(i[s],10)}return e}var av=new Date("2017-02-19T19:06:09.000Z"),yx=isNaN(av.getFullYear())?new Date("2/19/17"):av,IL=yx.getFullYear()==2017;function un(n,e){var t=new Date(n);if(IL)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(yx.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Oa(n,e){if(Ct&&Buffer.isBuffer(n)){if(e){if(n[0]==255&&n[1]==254)return Zi(n.slice(2).toString("utf16le"));if(n[1]==254&&n[2]==255)return Zi(ox(n.slice(2).toString("binary")))}return n.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(n[0]==255&&n[1]==254)return Zi(new TextDecoder("utf-16le").decode(n.slice(2)));if(n[0]==254&&n[1]==255)return Zi(new TextDecoder("utf-16be").decode(n.slice(2)))}var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(s){return t[s]||s})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function rn(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=rn(n[t]));return e}function kn(n,e){for(var t="";t.length<e;)t+=n;return t}function $i(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,s){return t=-t,s}),!isNaN(e=Number(r)))?e/t:e}var NL=["january","february","march","april","may","june","july","august","september","october","november","december"];function Tl(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return t;var a=n.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&NL.indexOf(a)==-1)return t}else if(a.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||s>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}var PL=function(){var n="abacaba".split(/(:?b)/i).length==5;return function(t,r,i){if(n||typeof r=="string")return t.split(r);for(var s=t.split(r),a=[s[0]],l=1;l<s.length;++l)a.push(i),a.push(s[l]);return a}}();function xx(n){return n?n.content&&n.type?Oa(n.content,!0):n.data?il(n.data):n.asNodeBuffer&&Ct?il(n.asNodeBuffer().toString("binary")):n.asBinary?il(n.asBinary()):n._data&&n._data.getContent?il(Oa(Array.prototype.slice.call(n._data.getContent(),0))):null:null}function Tx(n){if(!n)return null;if(n.data)return Fc(n.data);if(n.asNodeBuffer&&Ct)return n.asNodeBuffer();if(n._data&&n._data.getContent){var e=n._data.getContent();return typeof e=="string"?Fc(e):Array.prototype.slice.call(e)}return n.content&&n.type?n.content:null}function LL(n){return n&&n.name.slice(-4)===".bin"?Tx(n):xx(n)}function _i(n,e){for(var t=n.FullPaths||An(n.files),r=e.toLowerCase().replace(/[\/]/g,"\\"),i=r.replace(/\\/g,"/"),s=0;s<t.length;++s){var a=t[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(r==a||i==a)return n.files?n.files[t[s]]:n.FileIndex[s]}return null}function th(n,e){var t=_i(n,e);if(t==null)throw new Error("Cannot find file "+e+" in zip");return t}function Rn(n,e,t){if(!t)return LL(th(n,e));if(!e)return null;try{return Rn(n,e)}catch{return null}}function Qr(n,e,t){if(!t)return xx(th(n,e));if(!e)return null;try{return Qr(n,e)}catch{return null}}function Sx(n,e,t){if(!t)return Tx(th(n,e));if(!e)return null;try{return Sx(n,e)}catch{return null}}function lv(n){for(var e=n.FullPaths||An(n.files),t=[],r=0;r<e.length;++r)e[r].slice(-1)!="/"&&t.push(e[r].replace(/^Root Entry[\/]/,""));return t.sort()}function St(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Ct?r=Ss(t):r=eL(t),ft.utils.cfb_add(n,e,r)}ft.utils.cfb_add(n,e,t)}else n.file(e,t)}function nh(){return ft.utils.cfb_new()}function Ex(n,e){switch(e.type){case"base64":return ft.read(n,{type:"base64"});case"binary":return ft.read(n,{type:"binary"});case"buffer":case"array":return ft.read(n,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function so(n,e){if(n.charAt(0)=="/")return n.slice(1);var t=e.split("/");e.slice(-1)!="/"&&t.pop();for(var r=n.split("/");r.length!==0;){var i=r.shift();i===".."?t.pop():i!=="."&&t.push(i)}return t.join("/")}var Mn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,RL=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,ov=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,$L=/<[^>]*>/g,Cr=Mn.match(ov)?ov:$L,BL=/<\w*:/,UL=/<(\/?)\w+:/;function gt(n,e,t){for(var r={},i=0,s=0;i!==n.length&&!((s=n.charCodeAt(i))===32||s===10||s===13);++i);if(e||(r[0]=n.slice(0,i)),i===n.length)return r;var a=n.match(RL),l=0,o="",f=0,c="",u="",d=1;if(a)for(f=0;f!=a.length;++f){for(u=a[f],s=0;s!=u.length&&u.charCodeAt(s)!==61;++s);for(c=u.slice(0,s).trim();u.charCodeAt(s+1)==32;)++s;for(d=(i=u.charCodeAt(s+1))==34||i==39?1:0,o=u.slice(s+1+d,u.length-d),l=0;l!=c.length&&c.charCodeAt(l)!==58;++l);if(l===c.length)c.indexOf("_")>0&&(c=c.slice(0,c.indexOf("_"))),r[c]=o,t||(r[c.toLowerCase()]=o);else{var h=(l===5&&c.slice(0,5)==="xmlns"?"xmlns":"")+c.slice(l+1);if(r[h]&&c.slice(l-3,l)=="ext")continue;r[h]=o,t||(r[h.toLowerCase()]=o)}}return r}function as(n){return n.replace(UL,"<$1")}var Cx={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rh=ou(Cx),Ut=function(){var n=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function t(r){var i=r+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(n,function(l,o){return Cx[l]||String.fromCharCode(parseInt(o,l.indexOf("x")>-1?16:10))||l}).replace(e,function(l,o){return String.fromCharCode(parseInt(o,16))});var a=i.indexOf("]]>");return t(i.slice(0,s))+i.slice(s+9,a)+t(i.slice(a+3))}}(),ih=/[&<>'"]/g,HL=/[\u0000-\u0008\u000b-\u001f]/g;function Zt(n){var e=n+"";return e.replace(ih,function(t){return rh[t]}).replace(HL,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function fv(n){return Zt(n).replace(/ /g,"_x0020_")}var Ax=/[\u0000-\u001f]/g;function sh(n){var e=n+"";return e.replace(ih,function(t){return rh[t]}).replace(/\n/g,"<br/>").replace(Ax,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function VL(n){var e=n+"";return e.replace(ih,function(t){return rh[t]}).replace(Ax,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}var cv=function(){var n=/&#(\d+);/g;function e(t,r){return String.fromCharCode(parseInt(r,10))}return function(r){return r.replace(n,e)}}();function WL(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function on(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Zu(n){for(var e="",t=0,r=0,i=0,s=0,a=0,l=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){a=(r&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|s&63);continue}a=n.charCodeAt(t++),l=((r&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(l>>>10&1023)),e+=String.fromCharCode(56320+(l&1023))}return e}function uv(n){var e=Ys(2*n.length),t,r,i=1,s=0,a=0,l;for(r=0;r<n.length;r+=i)i=1,(l=n.charCodeAt(r))<128?t=l:l<224?(t=(l&31)*64+(n.charCodeAt(r+1)&63),i=2):l<240?(t=(l&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(l&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,a=55296+(t>>>10&1023),t=56320+(t&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=t%256,e[s++]=t>>>8;return e.slice(0,s).toString("ucs2")}function dv(n){return Ss(n,"binary").toString("utf8")}var Vf="foo bar baz",tn=Ct&&(dv(Vf)==Zu(Vf)&&dv||uv(Vf)==Zu(Vf)&&uv)||Zu,Zi=Ct?function(n){return Ss(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},Bo=function(){var n={};return function(t,r){var i=t+"|"+(r||"");return n[i]?n[i]:n[i]=new RegExp("<(?:\\w+:)?"+t+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+t+">",r||"")}}(),Fx=function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}}(),jL=function(){var n={};return function(t){return n[t]!==void 0?n[t]:n[t]=new RegExp("<(?:vt:)?"+t+">([\\s\\S]*?)</(?:vt:)?"+t+">","g")}}(),zL=/<\/?(?:vt:)?variant>/g,qL=/<(?:vt:)([^>]*)>([\s\S]*)</;function hv(n,e){var t=gt(n),r=n.match(jL(t.baseType))||[],i=[];if(r.length!=t.size){if(e.WTF)throw new Error("unexpected vector length "+r.length+" != "+t.size);return i}return r.forEach(function(s){var a=s.replace(zL,"").match(qL);a&&i.push({v:tn(a[2]),t:a[1]})}),i}var Dx=/(^\s|\s$|\n)/;function cr(n,e){return"<"+n+(e.match(Dx)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Uo(n){return An(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Ke(n,e,t){return"<"+n+(t!=null?Uo(t):"")+(e!=null?(e.match(Dx)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function q0(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function YL(n,e){switch(typeof n){case"string":var t=Ke("vt:lpwstr",Zt(n));return e&&(t=t.replace(/&quot;/g,"_x0022_")),t;case"number":return Ke((n|0)==n?"vt:i4":"vt:r8",Zt(String(n)));case"boolean":return Ke("vt:bool",n?"true":"false")}if(n instanceof Date)return Ke("vt:filetime",q0(n));throw new Error("Unable to serialize "+n)}function ah(n){if(Ct&&Buffer.isBuffer(n))return n.toString("utf8");if(typeof n=="string")return n;if(typeof Uint8Array<"u"&&n instanceof Uint8Array)return tn(ta(Zd(n)));throw new Error("Bad input format: expected Buffer or string")}var Ho=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Zn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ua=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Jr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function GL(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,s=5;s>=0;--s)i=i*256+n[e+s];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function XL(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=r?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var l=0;l<=5;++l,s/=256)n[t+l]=s&255;n[t+6]=(i&15)<<4|s&15,n[t+7]=i>>4|r}var pv=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,s=n[0][r].length;i<s;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},mv=Ct?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Ss(e)})):pv(n)}:pv,_v=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(gs(n,i)));return r.join("").replace(yr,"")},uu=Ct?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(yr,""):_v(n,e,t)}:_v,gv=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},Ox=Ct?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):gv(n,e,t)}:gv,vv=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(nl(n,i)));return r.join("")},Nl=Ct?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):vv(e,t,r)}:vv,Mx=function(n,e){var t=nr(n,e);return t>0?Nl(n,e+4,e+4+t-1):""},lh=Mx,Ix=function(n,e){var t=nr(n,e);return t>0?Nl(n,e+4,e+4+t-1):""},oh=Ix,Nx=function(n,e){var t=2*nr(n,e);return t>0?Nl(n,e+4,e+4+t-1):""},fh=Nx,Px=function(e,t){var r=nr(e,t);return r>0?uu(e,t+4,t+4+r):""},ch=Px,Lx=function(n,e){var t=nr(n,e);return t>0?Nl(n,e+4,e+4+t):""},uh=Lx,Rx=function(n,e){return GL(n,e)},Nc=Rx,dh=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ct&&(lh=function(e,t){if(!Buffer.isBuffer(e))return Mx(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},oh=function(e,t){if(!Buffer.isBuffer(e))return Ix(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},fh=function(e,t){if(!Buffer.isBuffer(e))return Nx(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},ch=function(e,t){if(!Buffer.isBuffer(e))return Px(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},uh=function(e,t){if(!Buffer.isBuffer(e))return Lx(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},Nc=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):Rx(e,t)},dh=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});function $x(){uu=function(n,e,t){return Lt.utils.decode(1200,n.slice(e,t)).replace(yr,"")},Nl=function(n,e,t){return Lt.utils.decode(65001,n.slice(e,t))},lh=function(n,e){var t=nr(n,e);return t>0?Lt.utils.decode(Fa,n.slice(e+4,e+4+t-1)):""},oh=function(n,e){var t=nr(n,e);return t>0?Lt.utils.decode(ni,n.slice(e+4,e+4+t-1)):""},fh=function(n,e){var t=2*nr(n,e);return t>0?Lt.utils.decode(1200,n.slice(e+4,e+4+t-1)):""},ch=function(n,e){var t=nr(n,e);return t>0?Lt.utils.decode(1200,n.slice(e+4,e+4+t)):""},uh=function(n,e){var t=nr(n,e);return t>0?Lt.utils.decode(65001,n.slice(e+4,e+4+t)):""}}typeof Lt<"u"&&$x();var nl=function(n,e){return n[e]},gs=function(n,e){return n[e+1]*(1<<8)+n[e]},KL=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},nr=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},_a=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},JL=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function mo(n,e){var t="",r,i,s=[],a,l,o,f;switch(e){case"dbcs":if(f=this.l,Ct&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(o=0;o<n;++o)t+=String.fromCharCode(gs(this,f)),f+=2;n*=2;break;case"utf8":t=Nl(this,this.l,this.l+n);break;case"utf16le":n*=2,t=uu(this,this.l,this.l+n);break;case"wstr":if(typeof Lt<"u")t=Lt.utils.decode(ni,this.slice(this.l,this.l+2*n));else return mo.call(this,n,"dbcs");n=2*n;break;case"lpstr-ansi":t=lh(this,this.l),n=4+nr(this,this.l);break;case"lpstr-cp":t=oh(this,this.l),n=4+nr(this,this.l);break;case"lpwstr":t=fh(this,this.l),n=4+2*nr(this,this.l);break;case"lpp4":n=4+nr(this,this.l),t=ch(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+nr(this,this.l),t=uh(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(a=nl(this,this.l+n++))!==0;)s.push(ro(a));t=s.join("");break;case"_wstr":for(n=0,t="";(a=gs(this,this.l+n))!==0;)s.push(ro(a)),n+=2;n+=2,t=s.join("");break;case"dbcs-cont":for(t="",f=this.l,o=0;o<n;++o){if(this.lens&&this.lens.indexOf(f)!==-1)return a=nl(this,f),this.l=f+1,l=mo.call(this,n-o,a?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(ro(gs(this,f))),f+=2}t=s.join(""),n*=2;break;case"cpstr":if(typeof Lt<"u"){t=Lt.utils.decode(ni,this.slice(this.l,this.l+n));break}case"sbcs-cont":for(t="",f=this.l,o=0;o!=n;++o){if(this.lens&&this.lens.indexOf(f)!==-1)return a=nl(this,f),this.l=f+1,l=mo.call(this,n-o,a?"dbcs-cont":"sbcs-cont"),s.join("")+l;s.push(ro(nl(this,f))),f+=1}t=s.join("");break;default:switch(n){case 1:return r=nl(this,this.l),this.l++,r;case 2:return r=(e==="i"?KL:gs)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(r=(n>0?_a:JL)(this,this.l),this.l+=4,r):(i=nr(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=Nc(this,this.l):i=Nc([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=Ox(this,this.l,n);break}}return this.l+=n,t}var ZL=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},QL=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},eR=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function tR(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)eR(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){if(typeof Lt<"u"&&Fa==874)for(i=0;i!=e.length;++i){var s=Lt.utils.encode(Fa,e.charAt(i));this[this.l+i]=s[0]}else for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var a=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var l=e.charCodeAt(i);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,ZL(this,e,this.l);break;case 8:if(r=8,t==="f"){XL(this,e,this.l);break}case 16:break;case-4:r=4,QL(this,e,this.l);break}return this.l+=r,this}function Bx(n,e){var t=Ox(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function fr(n,e){n.l=e,n.read_shift=mo,n.chk=Bx,n.write_shift=tR}function Er(n,e){n.l+=e}function De(n){var e=Ys(n);return fr(e,0),e}function Es(n,e,t){if(n){var r,i,s;fr(n,n.l||0);for(var a=n.length,l=0,o=0;n.l<a;){l=n.read_shift(1),l&128&&(l=(l&127)+((n.read_shift(1)&127)<<7));var f=Yo[l]||Yo[65535];for(r=n.read_shift(1),s=r&127,i=1;i<4&&r&128;++i)s+=((r=n.read_shift(1))&127)<<7*i;o=n.l+s;var c=f.f&&f.f(n,s,t);if(n.l=o,e(c,f,l))return}}}function qr(){var n=[],e=Ct?256:2048,t=function(f){var c=De(f);return fr(c,0),c},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},s=function(f){return r&&f<r.length-r.l?r:(i(),r=t(Math.max(f+1,e)))},a=function(){return i(),rr(n)},l=function(f){i(),r=f,r.l==null&&(r.l=r.length),s(e)};return{next:s,push:l,end:a,_bufs:n}}function Be(n,e,t,r){var i=+e,s;if(!isNaN(i)){r||(r=Yo[i].p||(t||[]).length||0),s=1+(i>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var a=n.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var l=0;l!=4;++l)if(r>=128)a.write_shift(1,(r&127)+128),r>>=7;else{a.write_shift(1,r);break}r>0&&dh(t)&&n.push(t)}}function _o(n,e,t){var r=rn(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function bv(n,e,t){var r=rn(n);return r.s=_o(r.s,e.s,t),r.e=_o(r.e,e.s,t),r}function go(n,e){if(n.cRel&&n.c<0)for(n=rn(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=rn(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=_t(n);return!n.cRel&&n.cRel!=null&&(t=iR(t)),!n.rRel&&n.rRel!=null&&(t=nR(t)),t}function Qu(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+cn(n.s.c)+":"+(n.e.cRel?"":"$")+cn(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+xn(n.s.r)+":"+(n.e.rRel?"":"$")+xn(n.e.r):go(n.s,e.biff)+":"+go(n.e,e.biff)}function hh(n){return parseInt(rR(n),10)-1}function xn(n){return""+(n+1)}function nR(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function rR(n){return n.replace(/\$(\d+)$/,"$1")}function ph(n){for(var e=sR(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function cn(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function iR(n){return n.replace(/^([A-Z])/,"$$$1")}function sR(n){return n.replace(/^\$([A-Z])/,"$1")}function aR(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function _n(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function _t(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function Lr(n){var e=n.indexOf(":");return e==-1?{s:_n(n),e:_n(n)}:{s:_n(n.slice(0,e)),e:_n(n.slice(e+1))}}function Tt(n,e){return typeof e>"u"||typeof e=="number"?Tt(n.s,n.e):(typeof n!="string"&&(n=_t(n)),typeof e!="string"&&(e=_t(e)),n==e?n:n+":"+e)}function It(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,s=n.length;for(t=0;r<s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=s&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=s&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function wv(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=si(n.z,t?er(e):e)}catch{}try{return n.w=si((n.XF||{}).numFmtId||(t?14:0),t?er(e):e)}catch{return""+e}}function ns(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Cs[n.v]||n.v:e==null?wv(n,n.v):wv(n,e))}function na(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function Ux(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,s=n||(i?[]:{}),a=0,l=0;if(s&&r.origin!=null){if(typeof r.origin=="number")a=r.origin;else{var o=typeof r.origin=="string"?_n(r.origin):r.origin;a=o.r,l=o.c}s["!ref"]||(s["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var c=It(s["!ref"]);f.s.c=c.s.c,f.s.r=c.s.r,f.e.c=Math.max(f.e.c,c.e.c),f.e.r=Math.max(f.e.r,c.e.r),a==-1&&(f.e.r=a=c.e.r+1)}for(var u=0;u!=e.length;++u)if(e[u]){if(!Array.isArray(e[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=e[u].length;++d)if(!(typeof e[u][d]>"u")){var h={v:e[u][d]},m=a+u,p=l+d;if(f.s.r>m&&(f.s.r=m),f.s.c>p&&(f.s.c=p),f.e.r<m&&(f.e.r=m),f.e.c<p&&(f.e.c=p),e[u][d]&&typeof e[u][d]=="object"&&!Array.isArray(e[u][d])&&!(e[u][d]instanceof Date))h=e[u][d];else if(Array.isArray(h.v)&&(h.f=e[u][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(r.nullError)h.t="e",h.v=0;else if(r.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=r.dateNF||pt[14],r.cellDates?(h.t="d",h.w=si(h.z,er(h.v))):(h.t="n",h.v=er(h.v),h.w=si(h.z,h.v))):h.t="s";if(i)s[m]||(s[m]=[]),s[m][p]&&s[m][p].z&&(h.z=s[m][p].z),s[m][p]=h;else{var g=_t({c:p,r:m});s[g]&&s[g].z&&(h.z=s[g].z),s[g]=h}}}return f.s.c<1e7&&(s["!ref"]=Tt(f)),s}function Pl(n,e){return Ux(null,n,e)}function lR(n){return n.read_shift(4,"i")}function Bi(n,e){return e||(e=De(4)),e.write_shift(4,n),e}function xr(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function ir(n,e){var t=!1;return e==null&&(t=!0,e=De(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function oR(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function fR(n,e){return e||(e=De(4)),e.write_shift(2,n.ich||0),e.write_shift(2,n.ifnt||0),e}function mh(n,e){var t=n.l,r=n.read_shift(1),i=xr(n),s=[],a={t:i,h:i};if(r&1){for(var l=n.read_shift(4),o=0;o!=l;++o)s.push(oR(n));a.r=s}else a.r=[{ich:0,ifnt:0}];return n.l=t+e,a}function cR(n,e){var t=!1;return e==null&&(t=!0,e=De(15+4*n.t.length)),e.write_shift(1,0),ir(n.t,e),t?e.slice(0,e.l):e}var uR=mh;function dR(n,e){var t=!1;return e==null&&(t=!0,e=De(23+4*n.t.length)),e.write_shift(1,1),ir(n.t,e),e.write_shift(4,1),fR({ich:0,ifnt:0},e),t?e.slice(0,e.l):e}function Fi(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Ha(n,e){return e==null&&(e=De(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Va(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Wa(n,e){return e==null&&(e=De(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var hR=xr,Hx=ir;function _h(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function Pc(n,e){var t=!1;return e==null&&(t=!0,e=De(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var pR=xr,Y0=_h,gh=Pc;function vh(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?Nc([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):_a(e,0)>>2;return t?i/100:i}function Vx(n,e){e==null&&(e=De(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-(1<<29)&&n<1<<29?r=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function Wx(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function mR(n,e){return e||(e=De(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var ja=Wx,Ll=mR;function br(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Ma(n,e){return(e||De(8)).write_shift(8,n,"f")}function _R(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),s=n.read_shift(2,"i"),a=n.read_shift(1),l=n.read_shift(1),o=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var f=ya[i];f&&(e.rgb=Wo(f));break;case 2:e.rgb=Wo([a,l,o]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Lc(n,e){if(e||(e=De(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function gR(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function vR(n,e){e||(e=De(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}function jx(n,e){var t={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},r=n.read_shift(4);switch(r){case 0:return"";case 4294967295:case 4294967294:return t[n.read_shift(4)]||""}if(r>400)throw new Error("Unsupported Clipboard: "+r.toString(16));return n.l-=4,n.read_shift(0,e==1?"lpstr":"lpwstr")}function bR(n){return jx(n,1)}function wR(n){return jx(n,2)}var bh=2,Br=3,Wf=11,kv=12,Rc=19,jf=64,kR=65,yR=71,xR=4108,TR=4126,tr=80,zx=81,SR=[tr,zx],G0={1:{n:"CodePage",t:bh},2:{n:"Category",t:tr},3:{n:"PresentationFormat",t:tr},4:{n:"ByteCount",t:Br},5:{n:"LineCount",t:Br},6:{n:"ParagraphCount",t:Br},7:{n:"SlideCount",t:Br},8:{n:"NoteCount",t:Br},9:{n:"HiddenCount",t:Br},10:{n:"MultimediaClipCount",t:Br},11:{n:"ScaleCrop",t:Wf},12:{n:"HeadingPairs",t:xR},13:{n:"TitlesOfParts",t:TR},14:{n:"Manager",t:tr},15:{n:"Company",t:tr},16:{n:"LinksUpToDate",t:Wf},17:{n:"CharacterCount",t:Br},19:{n:"SharedDoc",t:Wf},22:{n:"HyperlinksChanged",t:Wf},23:{n:"AppVersion",t:Br,p:"version"},24:{n:"DigSig",t:kR},26:{n:"ContentType",t:tr},27:{n:"ContentStatus",t:tr},28:{n:"Language",t:tr},29:{n:"Version",t:tr},255:{},2147483648:{n:"Locale",t:Rc},2147483651:{n:"Behavior",t:Rc},1919054434:{}},X0={1:{n:"CodePage",t:bh},2:{n:"Title",t:tr},3:{n:"Subject",t:tr},4:{n:"Author",t:tr},5:{n:"Keywords",t:tr},6:{n:"Comments",t:tr},7:{n:"Template",t:tr},8:{n:"LastAuthor",t:tr},9:{n:"RevNumber",t:tr},10:{n:"EditTime",t:jf},11:{n:"LastPrinted",t:jf},12:{n:"CreatedDate",t:jf},13:{n:"ModifiedDate",t:jf},14:{n:"PageCount",t:Br},15:{n:"WordCount",t:Br},16:{n:"CharCount",t:Br},17:{n:"Thumbnail",t:yR},18:{n:"Application",t:tr},19:{n:"DocSecurity",t:Br},255:{},2147483648:{n:"Locale",t:Rc},2147483651:{n:"Behavior",t:Rc},1919054434:{}},yv={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},ER=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function CR(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var AR=CR([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ya=rn(AR),Cs={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},qx={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},K0={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},zf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function wh(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function FR(n){var e=wh();if(!n||!n.match)return e;var t={};if((n.match(Cr)||[]).forEach(function(r){var i=gt(r);switch(i[0].replace(BL,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":t[i.Extension]=i.ContentType;break;case"<Override":e[K0[i.ContentType]]!==void 0&&e[K0[i.ContentType]].push(i.PartName);break}}),e.xmlns!==Zn.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=t,delete e.calcchains,e}function Yx(n,e){var t=DL(K0),r=[],i;r[r.length]=Mn,r[r.length]=Ke("Types",null,{xmlns:Zn.CT,"xmlns:xsd":Zn.xsd,"xmlns:xsi":Zn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(o){return Ke("Default",null,{Extension:o[0],ContentType:o[1]})}));var s=function(o){n[o]&&n[o].length>0&&(i=n[o][0],r[r.length]=Ke("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:zf[o][e.bookType]||zf[o].xlsx}))},a=function(o){(n[o]||[]).forEach(function(f){r[r.length]=Ke("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:zf[o][e.bookType]||zf[o].xlsx})})},l=function(o){(n[o]||[]).forEach(function(f){r[r.length]=Ke("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:t[o][0]})})};return s("workbooks"),a("sheets"),a("charts"),l("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(l),l("vba"),l("comments"),l("threadedcomments"),l("drawings"),a("metadata"),l("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Dt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Vo(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function vo(n,e){var t={"!id":{}};if(!n)return t;e.charAt(0)!=="/"&&(e="/"+e);var r={};return(n.match(Cr)||[]).forEach(function(i){var s=gt(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var l=s.TargetMode==="External"?s.Target:so(s.Target,e);t[l]=a,r[s.Id]=a}}),t["!id"]=r,t}function pl(n){var e=[Mn,Ke("Relationships",null,{xmlns:Zn.RELS})];return An(n["!id"]).forEach(function(t){e[e.length]=Ke("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Kt(n,e,t,r,i,s){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,s?i.TargetMode=s:[Dt.HLINK,Dt.XPATH,Dt.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}var DR="application/vnd.oasis.opendocument.spreadsheet";function OR(n,e){for(var t=ah(n),r,i;r=Ho.exec(t);)switch(r[3]){case"manifest":break;case"file-entry":if(i=gt(r[0],!1),i.path=="/"&&i.type!==DR)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw r}}function MR(n){var e=[Mn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function xv(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function IR(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function NR(n){var e=[Mn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(xv(n[t][0],n[t][1])),e.push(IR("",n[t][0]));return e.push(xv("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function Gx(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Lo.version+"</meta:generator></office:meta></office:document-meta>"}var xi=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],PR=function(){for(var n=new Array(xi.length),e=0;e<xi.length;++e){var t=xi[e],r="(?:"+t[0].slice(0,t[0].indexOf(":"))+":)"+t[0].slice(t[0].indexOf(":")+1);n[e]=new RegExp("<"+r+"[^>]*>([\\s\\S]*?)</"+r+">")}return n}();function Xx(n){var e={};n=tn(n);for(var t=0;t<xi.length;++t){var r=xi[t],i=n.match(PR[t]);i!=null&&i.length>0&&(e[r[1]]=Ut(i[1])),r[2]==="date"&&e[r[1]]&&(e[r[1]]=un(e[r[1]]))}return e}function e0(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=Zt(e),r[r.length]=t?Ke(n,e,t):cr(n,e))}function Kx(n,e){var t=e||{},r=[Mn,Ke("cp:coreProperties",null,{"xmlns:cp":Zn.CORE_PROPS,"xmlns:dc":Zn.dc,"xmlns:dcterms":Zn.dcterms,"xmlns:dcmitype":Zn.dcmitype,"xmlns:xsi":Zn.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&e0("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:q0(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&e0("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:q0(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var s=0;s!=xi.length;++s){var a=xi[s],l=t.Props&&t.Props[a[1]]!=null?t.Props[a[1]]:n?n[a[1]]:null;l===!0?l="1":l===!1?l="0":typeof l=="number"&&(l=String(l)),l!=null&&e0(a[0],l,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var xa=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Jx=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Zx(n,e,t,r){var i=[];if(typeof n=="string")i=hv(n,r);else for(var s=0;s<n.length;++s)i=i.concat(n[s].map(function(c){return{v:c}}));var a=typeof e=="string"?hv(e,r).map(function(c){return c.v}):e,l=0,o=0;if(a.length>0)for(var f=0;f!==i.length;f+=2){switch(o=+i[f+1].v,i[f].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":t.Worksheets=o,t.SheetNames=a.slice(l,l+o);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":t.NamedRanges=o,t.DefinedNames=a.slice(l,l+o);break;case"Charts":case"Diagramme":t.Chartsheets=o,t.ChartNames=a.slice(l,l+o);break}l+=o}}function LR(n,e,t){var r={};return e||(e={}),n=tn(n),xa.forEach(function(i){var s=(n.match(Bo(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Ut(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=n.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(r[i[1]]=a[1]);break}}),r.HeadingPairs&&r.TitlesOfParts&&Zx(r.HeadingPairs,r.TitlesOfParts,e,t),e}function Qx(n){var e=[],t=Ke;return n||(n={}),n.Application="SheetJS",e[e.length]=Mn,e[e.length]=Ke("Properties",null,{xmlns:Zn.EXT_PROPS,"xmlns:vt":Zn.vt}),xa.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Zt(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Zt(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var RR=/<[^>]+>[^<]*/g;function $R(n,e){var t={},r="",i=n.match(RR);if(i)for(var s=0;s!=i.length;++s){var a=i[s],l=gt(a);switch(l[0]){case"<?xml":break;case"<Properties":break;case"<property":r=Ut(l.name);break;case"</property>":r=null;break;default:if(a.indexOf("<vt:")===0){var o=a.split(">"),f=o[0].slice(4),c=o[1];switch(f){case"lpstr":case"bstr":case"lpwstr":t[r]=Ut(c);break;case"bool":t[r]=on(c);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":t[r]=parseInt(c,10);break;case"r4":case"r8":case"decimal":t[r]=parseFloat(c);break;case"filetime":case"date":t[r]=un(c);break;case"cy":case"error":t[r]=Ut(c);break;default:if(f.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,f,o)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return t}function e4(n){var e=[Mn,Ke("Properties",null,{xmlns:Zn.CUST_PROPS,"xmlns:vt":Zn.vt})];if(!n)return e.join("");var t=1;return An(n).forEach(function(i){++t,e[e.length]=Ke("property",YL(n[i],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Zt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var J0={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},t0;function BR(n,e,t){t0||(t0=ou(J0)),e=t0[e]||e,n[e]=t}function UR(n,e){var t=[];return An(J0).map(function(r){for(var i=0;i<xi.length;++i)if(xi[i][1]==r)return xi[i];for(i=0;i<xa.length;++i)if(xa[i][1]==r)return xa[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(cr(J0[r[1]]||r[1],i))}}),Ke("DocumentProperties",t.join(""),{xmlns:Jr.o})}function HR(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&An(n).forEach(function(s){if(Object.prototype.hasOwnProperty.call(n,s)){for(var a=0;a<xi.length;++a)if(s==xi[a][1])return;for(a=0;a<xa.length;++a)if(s==xa[a][1])return;for(a=0;a<t.length;++a)if(s==t[a])return;var l=n[s],o="string";typeof l=="number"?(o="float",l=String(l)):l===!0||l===!1?(o="boolean",l=l?"1":"0"):l=String(l),i.push(Ke(fv(s),l,{"dt:dt":o}))}}),e&&An(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(n&&Object.prototype.hasOwnProperty.call(n,s))){var a=e[s],l="string";typeof a=="number"?(l="float",a=String(a)):a===!0||a===!1?(l="boolean",a=a?"1":"0"):a instanceof Date?(l="dateTime.tz",a=a.toISOString()):a=String(a),i.push(Ke(fv(s),a,{"dt:dt":l}))}}),"<"+r+' xmlns="'+Jr.o+'">'+i.join("")+"</"+r+">"}function kh(n){var e=n.read_shift(4),t=n.read_shift(4);return new Date((t/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function VR(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var s=r/Math.pow(2,32)|0;s>0&&(r=r%Math.pow(2,32),i+=s);var a=De(8);return a.write_shift(4,r),a.write_shift(4,i),a}function t4(n,e,t){var r=n.l,i=n.read_shift(0,"lpstr-cp");if(t)for(;n.l-r&3;)++n.l;return i}function n4(n,e,t){var r=n.read_shift(0,"lpwstr");return t&&(n.l+=4-(r.length+1&3)&3),r}function r4(n,e,t){return e===31?n4(n):t4(n,e,t)}function Z0(n,e,t){return r4(n,e,t===!1?0:4)}function WR(n,e){if(!e)throw new Error("VtUnalignedString must have positive length");return r4(n,e,0)}function jR(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r){var i=n.l;t[r]=n.read_shift(0,"lpwstr").replace(yr,""),n.l-i&2&&(n.l+=2)}return t}function zR(n){for(var e=n.read_shift(4),t=[],r=0;r!=e;++r)t[r]=n.read_shift(0,"lpstr-cp").replace(yr,"");return t}function qR(n){var e=n.l,t=$c(n,zx);n[n.l]==0&&n[n.l+1]==0&&n.l-e&2&&(n.l+=2);var r=$c(n,Br);return[t,r]}function YR(n){for(var e=n.read_shift(4),t=[],r=0;r<e/2;++r)t.push(qR(n));return t}function Tv(n,e){for(var t=n.read_shift(4),r={},i=0;i!=t;++i){var s=n.read_shift(4),a=n.read_shift(4);r[s]=n.read_shift(a,e===1200?"utf16le":"utf8").replace(yr,"").replace(io,"!"),e===1200&&a%2&&(n.l+=2)}return n.l&3&&(n.l=n.l>>2+1<<2),r}function i4(n){var e=n.read_shift(4),t=n.slice(n.l,n.l+e);return n.l+=e,(e&3)>0&&(n.l+=4-(e&3)&3),t}function GR(n){var e={};return e.Size=n.read_shift(4),n.l+=e.Size+3-(e.Size-1)%4,e}function $c(n,e,t){var r=n.read_shift(2),i,s=t||{};if(n.l+=2,e!==kv&&r!==e&&SR.indexOf(e)===-1&&!((e&65534)==4126&&(r&65534)==4126))throw new Error("Expected type "+e+" saw "+r);switch(e===kv?r:e){case 2:return i=n.read_shift(2,"i"),s.raw||(n.l+=2),i;case 3:return i=n.read_shift(4,"i"),i;case 11:return n.read_shift(4)!==0;case 19:return i=n.read_shift(4),i;case 30:return t4(n,r,4).replace(yr,"");case 31:return n4(n);case 64:return kh(n);case 65:return i4(n);case 71:return GR(n);case 80:return Z0(n,r,!s.raw).replace(yr,"");case 81:return WR(n,r).replace(yr,"");case 4108:return YR(n);case 4126:case 4127:return r==4127?jR(n):zR(n);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+r)}}function Sv(n,e){var t=De(4),r=De(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=De(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=VR(e);break;case 31:case 80:for(r=De(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return rr([t,r])}function Ev(n,e){var t=n.l,r=n.read_shift(4),i=n.read_shift(4),s=[],a=0,l=0,o=-1,f={};for(a=0;a!=i;++a){var c=n.read_shift(4),u=n.read_shift(4);s[a]=[c,u+t]}s.sort(function(w,k){return w[1]-k[1]});var d={};for(a=0;a!=i;++a){if(n.l!==s[a][1]){var h=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:n.l+2===s[a][1]&&(n.l+=2,h=!1);break;case 80:n.l<=s[a][1]&&(n.l=s[a][1],h=!1);break;case 4108:n.l<=s[a][1]&&(n.l=s[a][1],h=!1);break}if((!e||a==0)&&n.l<=s[a][1]&&(h=!1,n.l=s[a][1]),h)throw new Error("Read Error: Expected address "+s[a][1]+" at "+n.l+" :"+a)}if(e){var m=e[s[a][0]];if(d[m.n]=$c(n,m.t,{raw:!0}),m.p==="version"&&(d[m.n]=String(d[m.n]>>16)+"."+("0000"+String(d[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(d[m.n]){case 0:d[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:yi(l=d[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[m.n])}}else if(s[a][0]===1){if(l=d.CodePage=$c(n,bh),yi(l),o!==-1){var p=n.l;n.l=s[o][1],f=Tv(n,l),n.l=p}}else if(s[a][0]===0){if(l===0){o=a,n.l=s[a+1][1];continue}f=Tv(n,l)}else{var g=f[s[a][0]],v;switch(n[n.l]){case 65:n.l+=4,v=i4(n);break;case 30:n.l+=4,v=Z0(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 31:n.l+=4,v=Z0(n,n[n.l-4]).replace(/\u0000+$/,"");break;case 3:n.l+=4,v=n.read_shift(4,"i");break;case 19:n.l+=4,v=n.read_shift(4);break;case 5:n.l+=4,v=n.read_shift(8,"f");break;case 11:n.l+=4,v=Dn(n,4);break;case 64:n.l+=4,v=un(kh(n));break;default:throw new Error("unparsed value: "+n[n.l])}d[g]=v}}return n.l=t+r,d}var s4=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function XR(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function Cv(n,e,t){var r=De(8),i=[],s=[],a=8,l=0,o=De(8),f=De(8);if(o.write_shift(4,2),o.write_shift(4,1200),f.write_shift(4,1),s.push(o),i.push(f),a+=8+o.length,!e){f=De(8),f.write_shift(4,0),i.unshift(f);var c=[De(4)];for(c[0].write_shift(4,n.length),l=0;l<n.length;++l){var u=n[l][0];for(o=De(4+4+2*(u.length+1)+(u.length%2?0:2)),o.write_shift(4,l+2),o.write_shift(4,u.length+1),o.write_shift(0,u,"dbcs");o.l!=o.length;)o.write_shift(1,0);c.push(o)}o=rr(c),s.unshift(o),a+=8+o.length}for(l=0;l<n.length;++l)if(!(e&&!e[n[l][0]])&&!(s4.indexOf(n[l][0])>-1||Jx.indexOf(n[l][0])>-1)&&n[l][1]!=null){var d=n[l][1],h=0;if(e){h=+e[n[l][0]];var m=t[h];if(m.p=="version"&&typeof d=="string"){var p=d.split(".");d=(+p[0]<<16)+(+p[1]||0)}o=Sv(m.t,d)}else{var g=XR(d);g==-1&&(g=31,d=String(d)),o=Sv(g,d)}s.push(o),f=De(8),f.write_shift(4,e?h:2+l),i.push(f),a+=8+o.length}var v=8*(s.length+1);for(l=0;l<s.length;++l)i[l].write_shift(4,v),v+=s[l].length;return r.write_shift(4,a),r.write_shift(4,s.length),rr([r].concat(i).concat(s))}function Av(n,e,t){var r=n.content;if(!r)return{};fr(r,0);var i,s,a,l,o=0;r.chk("feff","Byte Order: "),r.read_shift(2);var f=r.read_shift(4),c=r.read_shift(16);if(c!==ft.utils.consts.HEADER_CLSID&&c!==t)throw new Error("Bad PropertySet CLSID "+c);if(i=r.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=r.read_shift(16),l=r.read_shift(4),i===1&&l!==r.l)throw new Error("Length mismatch: "+l+" !== "+r.l);i===2&&(a=r.read_shift(16),o=r.read_shift(4));var u=Ev(r,e),d={SystemIdentifier:f};for(var h in u)d[h]=u[h];if(d.FMTID=s,i===1)return d;if(o-r.l==2&&(r.l+=2),r.l!==o)throw new Error("Length mismatch 2: "+r.l+" !== "+o);var m;try{m=Ev(r,null)}catch{}for(h in m)d[h]=m[h];return d.FMTID=[s,a],d}function Fv(n,e,t,r,i,s){var a=De(i?68:48),l=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,ft.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var o=Cv(n,t,r);if(l.push(o),i){var f=Cv(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+o.length),l.push(f)}return rr(l)}function Os(n,e){return n.read_shift(e),null}function KR(n,e){e||(e=De(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function JR(n,e,t){for(var r=[],i=n.l+e;n.l<i;)r.push(t(n,i-n.l));if(i!==n.l)throw new Error("Slurp error");return r}function Dn(n,e){return n.read_shift(e)===1}function Ir(n,e){return e||(e=De(2)),e.write_shift(2,+!!n),e}function $n(n){return n.read_shift(2,"u")}function gi(n,e){return e||(e=De(2)),e.write_shift(2,n),e}function a4(n,e){return JR(n,e,$n)}function ZR(n){var e=n.read_shift(1),t=n.read_shift(1);return t===1?e:e===1}function l4(n,e,t){return t||(t=De(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function hf(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont",s=ni;if(t&&t.biff>=8&&(ni=1200),!t||t.biff==8){var a=n.read_shift(1);a&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var l=r?n.read_shift(r,i):"";return ni=s,l}function QR(n){var e=ni;ni=1200;var t=n.read_shift(2),r=n.read_shift(1),i=r&4,s=r&8,a=1+(r&1),l=0,o,f={};s&&(l=n.read_shift(2)),i&&(o=n.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",u=t===0?"":n.read_shift(t,c);return s&&(n.l+=4*l),i&&(n.l+=o),f.t=u,s||(f.raw="<t>"+f.t+"</t>",f.r=f.t),ni=e,f}function e$(n){var e=n.t||"",t=De(3+0);t.write_shift(2,e.length),t.write_shift(1,1);var r=De(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return rr(i)}function Ia(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function pf(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):Ia(n,r,t)}function za(n,e,t){if(t.biff>5)return pf(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function o4(n,e,t){return t||(t=De(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function t$(n){var e=n.read_shift(1);n.l++;var t=n.read_shift(2);return n.l+=2,[e,t]}function n$(n){var e=n.read_shift(4),t=n.l,r=!1;e>24&&(n.l+=e-24,n.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(r=!0),n.l=t);var i=n.read_shift((r?e-24:e)>>1,"utf16le").replace(yr,"");return r&&(n.l+=24),i}function r$(n){for(var e=n.read_shift(2),t="";e-- >0;)t+="../";var r=n.read_shift(0,"lpstr-ansi");if(n.l+=2,n.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=n.read_shift(4);if(i===0)return t+r.replace(/\\/g,"/");var s=n.read_shift(4);if(n.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=n.read_shift(s>>1,"utf16le").replace(yr,"");return t+a}function i$(n,e){var t=n.read_shift(16);switch(t){case"e0c9ea79f9bace118c8200aa004ba90b":return n$(n);case"0303000000000000c000000000000046":return r$(n);default:throw new Error("Unsupported Moniker "+t)}}function qf(n){var e=n.read_shift(4),t=e>0?n.read_shift(e,"utf16le").replace(yr,""):"";return t}function Dv(n,e){e||(e=De(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function s$(n,e){var t=n.l+e,r=n.read_shift(4);if(r!==2)throw new Error("Unrecognized streamVersion: "+r);var i=n.read_shift(2);n.l+=2;var s,a,l,o,f="",c,u;i&16&&(s=qf(n,t-n.l)),i&128&&(a=qf(n,t-n.l)),(i&257)===257&&(l=qf(n,t-n.l)),(i&257)===1&&(o=i$(n,t-n.l)),i&8&&(f=qf(n,t-n.l)),i&32&&(c=n.read_shift(16)),i&64&&(u=kh(n)),n.l=t;var d=a||l||o||"";d&&f&&(d+="#"+f),d||(d="#"+f),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return c&&(h.guid=c),u&&(h.time=u),s&&(h.Tooltip=s),h}function a$(n){var e=De(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),s=i>-1?31:23;switch(r.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(t=0;t<a.length;++t)e.write_shift(4,a[t]);if(s==28)r=r.slice(1),Dv(r,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));var l=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(l.length+1)),t=0;t<l.length;++t)e.write_shift(2,l.charCodeAt(t));e.write_shift(2,0),s&8&&Dv(i>-1?r.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<a.length;++t)e.write_shift(1,parseInt(a[t],16));for(var o=0;r.slice(o*3,o*3+3)=="../"||r.slice(o*3,o*3+3)=="..\\";)++o;for(e.write_shift(2,o),e.write_shift(4,r.length-3*o+1),t=0;t<r.length-3*o;++t)e.write_shift(1,r.charCodeAt(t+3*o)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function f4(n){var e=n.read_shift(1),t=n.read_shift(1),r=n.read_shift(1),i=n.read_shift(1);return[e,t,r,i]}function c4(n,e){var t=f4(n);return t[3]=0,t}function ls(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return{r:e,c:t,ixfe:r}}function Na(n,e,t,r){return r||(r=De(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function l$(n){var e=n.read_shift(2),t=n.read_shift(2);return n.l+=8,{type:e,flags:t}}function o$(n,e,t){return e===0?"":za(n,e,t)}function f$(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),s=n.read_shift(r,"i"),a=n.read_shift(r,"i");return[i,s,a]}function u4(n){var e=n.read_shift(2),t=vh(n);return[e,t]}function c$(n,e,t){n.l+=4,e-=4;var r=n.l+e,i=hf(n,e,t),s=n.read_shift(2);if(r-=n.l,s!==r)throw new Error("Malformed AddinUdf: padding = "+r+" != "+s);return n.l+=s,i}function du(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function d4(n,e){return e||(e=De(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function h4(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(1),i=n.read_shift(1);return{s:{c:r,r:e},e:{c:i,r:t}}}var u$=h4;function p4(n){n.l+=4;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2);return n.l+=12,[t,e,r]}function d$(n){var e={};return n.l+=4,n.l+=16,e.fSharedNote=n.read_shift(2),n.l+=4,e}function h$(n){var e={};return n.l+=4,n.cf=n.read_shift(2),e}function hr(n){n.l+=2,n.l+=n.read_shift(2)}var p$={0:hr,4:hr,5:hr,6:hr,7:h$,8:hr,9:hr,10:hr,11:hr,12:hr,13:d$,14:hr,15:hr,16:hr,17:hr,18:hr,19:hr,20:hr,21:p4};function m$(n,e){for(var t=n.l+e,r=[];n.l<t;){var i=n.read_shift(2);n.l-=2;try{r.push(p$[i](n,t-n.l))}catch{return n.l=t,r}}return n.l!=t&&(n.l=t),r}function Yf(n,e){var t={BIFFVer:0,dt:0};switch(t.BIFFVer=n.read_shift(2),e-=2,e>=2&&(t.dt=n.read_shift(2),n.l-=2),t.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+t.BIFFVer)}return n.read_shift(e),t}function yh(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=De(i);return s.write_shift(2,r),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function _$(n,e){return e===0||n.read_shift(2),1200}function g$(n,e,t){if(t.enc)return n.l+=e,"";var r=n.l,i=za(n,0,t);return n.read_shift(e+r-n.l),i}function v$(n,e){var t=!e||e.biff==8,r=De(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function b$(n,e,t){var r=t&&t.biff==8||e==2?n.read_shift(2):(n.l+=e,0);return{fDialog:r&16,fBelow:r&64,fRight:r&128}}function w$(n,e,t){var r=n.read_shift(4),i=n.read_shift(1)&3,s=n.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=hf(n,0,t);return a.length===0&&(a="Sheet1"),{pos:r,hs:i,dt:s,name:a}}function k$(n,e){var t=!e||e.biff>=8?2:1,r=De(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function y$(n,e){for(var t=n.l+e,r=n.read_shift(4),i=n.read_shift(4),s=[],a=0;a!=i&&n.l<t;++a)s.push(QR(n));return s.Count=r,s.Unique=i,s}function x$(n,e){var t=De(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=e$(n[i]);var s=rr([t].concat(r));return s.parts=[t.length].concat(r.map(function(a){return a.length})),s}function T$(n,e){var t={};return t.dsst=n.read_shift(2),n.l+=e-2,t}function S$(n){var e={};e.r=n.read_shift(2),e.c=n.read_shift(2),e.cnt=n.read_shift(2)-e.c;var t=n.read_shift(2);n.l+=4;var r=n.read_shift(1);return n.l+=3,r&7&&(e.level=r&7),r&32&&(e.hidden=!0),r&64&&(e.hpt=t/20),e}function E$(n){var e=l$(n);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var t=n.read_shift(4);return t!==0}function C$(n){return n.read_shift(2),n.read_shift(4)}function Ov(n,e,t){var r=0;t&&t.biff==2||(r=n.read_shift(2));var i=n.read_shift(2);t&&t.biff==2&&(r=1-(i>>15),i&=32767);var s={Unsynced:r&1,DyZero:(r&2)>>1,ExAsc:(r&4)>>2,ExDsc:(r&8)>>3};return[s,i]}function A$(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2),l=n.read_shift(2),o=n.read_shift(2),f=n.read_shift(2);return{Pos:[e,t],Dim:[r,i],Flags:s,CurTab:a,FirstTab:l,Selected:o,TabRatio:f}}function F$(){var n=De(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function D$(n,e,t){if(t&&t.biff>=2&&t.biff<5)return{};var r=n.read_shift(2);return{RTL:r&64}}function O$(n){var e=De(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function M$(){}function I$(n,e,t){var r={dyHeight:n.read_shift(2),fl:n.read_shift(2)};switch(t&&t.biff||8){case 2:break;case 3:case 4:n.l+=2;break;default:n.l+=10;break}return r.name=hf(n,0,t),r}function N$(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,s=De(i);return s.write_shift(2,(n.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,t.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),s}function P$(n){var e=ls(n);return e.isst=n.read_shift(4),e}function L$(n,e,t,r){var i=De(10);return Na(n,e,r,i),i.write_shift(4,t),i}function R$(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=n.l+e,i=ls(n);t.biff==2&&n.l++;var s=pf(n,r-n.l,t);return i.val=s,i}function $$(n,e,t,r,i){var s=!i||i.biff==8,a=De(6+2+ +s+(1+s)*t.length);return Na(n,e,r,a),a.write_shift(2,t.length),s&&a.write_shift(1,1),a.write_shift((1+s)*t.length,t,s?"utf16le":"sbcs"),a}function B$(n,e,t){var r=n.read_shift(2),i=za(n,0,t);return[r,i]}function U$(n,e,t,r){var i=t&&t.biff==5;r||(r=De(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=r.length>r.l?r.slice(0,r.l):r;return s.l==null&&(s.l=s.length),s}var H$=za;function Mv(n,e,t){var r=n.l+e,i=t.biff==8||!t.biff?4:2,s=n.read_shift(i),a=n.read_shift(i),l=n.read_shift(2),o=n.read_shift(2);return n.l=r,{s:{r:s,c:l},e:{r:a,c:o}}}function V$(n,e){var t=e.biff==8||!e.biff?4:2,r=De(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function W$(n){var e=n.read_shift(2),t=n.read_shift(2),r=u4(n);return{r:e,c:t,ixfe:r[0],rknum:r[1]}}function j$(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<t;)s.push(u4(n));if(n.l!==t)throw new Error("MulRK read error");var a=n.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r,c:i,C:a,rkrec:s}}function z$(n,e){for(var t=n.l+e-2,r=n.read_shift(2),i=n.read_shift(2),s=[];n.l<t;)s.push(n.read_shift(2));if(n.l!==t)throw new Error("MulBlank read error");var a=n.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r,c:i,C:a,ixfe:s}}function q$(n,e,t,r){var i={},s=n.read_shift(4),a=n.read_shift(4),l=n.read_shift(4),o=n.read_shift(2);return i.patternType=ER[l>>26],r.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=l&127,i.icvBottom=l>>7&127,i.icvDiag=l>>14&127,i.dgDiag=l>>21&15,i.icvFore=o&127,i.icvBack=o>>7&127,i.fsxButton=o>>14&1),i}function Y$(n,e,t){var r={};return r.ifnt=n.read_shift(2),r.numFmtId=n.read_shift(2),r.flags=n.read_shift(2),r.fStyle=r.flags>>2&1,e-=6,r.data=q$(n,e,r.fStyle,t),r}function Iv(n,e,t,r){var i=t&&t.biff==5;r||(r=De(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var s=0;return n.numFmtId>0&&i&&(s|=1024),r.write_shift(4,s),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function G$(n){n.l+=4;var e=[n.read_shift(2),n.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function X$(n){var e=De(8);return e.write_shift(4,0),e.write_shift(2,n[0]?n[0]+1:0),e.write_shift(2,n[1]?n[1]+1:0),e}function Nv(n,e,t){var r=ls(n);(t.biff==2||e==9)&&++n.l;var i=ZR(n);return r.val=i,r.t=i===!0||i===!1?"b":"e",r}function K$(n,e,t,r,i,s){var a=De(8);return Na(n,e,r,a),l4(t,s,a),a}function J$(n,e,t){t.biffguess&&t.biff==2&&(t.biff=5);var r=ls(n),i=br(n);return r.val=i,r}function Z$(n,e,t,r){var i=De(14);return Na(n,e,r,i),Ma(t,i),i}var Pv=o$;function Q$(n,e,t){var r=n.l+e,i=n.read_shift(2),s=n.read_shift(2);if(t.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=Ia(n,s),l=[];r>n.l;)l.push(pf(n));return[s,i,a,l]}function Lv(n,e,t){var r=n.read_shift(2),i,s={fBuiltIn:r&1,fWantAdvise:r>>>1&1,fWantPict:r>>>2&1,fOle:r>>>3&1,fOleLink:r>>>4&1,cf:r>>>5&1023,fIcon:r>>>15&1};return t.sbcch===14849&&(i=c$(n,e-2,t)),s.body=i||n.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var e9=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function Rv(n,e,t){var r=n.l+e,i=n.read_shift(2),s=n.read_shift(1),a=n.read_shift(1),l=n.read_shift(t&&t.biff==2?1:2),o=0;(!t||t.biff>=5)&&(t.biff!=5&&(n.l+=2),o=n.read_shift(2),t.biff==5&&(n.l+=2),n.l+=4);var f=Ia(n,a,t);i&32&&(f=e9[f.charCodeAt(0)]);var c=r-n.l;t&&t.biff==2&&--c;var u=r==n.l||l===0||!(c>0)?[]:mH(n,c,t,l);return{chKey:s,Name:f,itab:o,rgce:u}}function m4(n,e,t){if(t.biff<8)return t9(n,e,t);for(var r=[],i=n.l+e,s=n.read_shift(t.biff>8?4:2);s--!==0;)r.push(f$(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function t9(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=hf(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function n9(n,e,t){if(t.biff<8){n.l+=e;return}var r=n.read_shift(2),i=n.read_shift(2),s=Ia(n,r,t),a=Ia(n,i,t);return[s,a]}function r9(n,e,t){var r=h4(n);n.l++;var i=n.read_shift(1);return e-=8,[_H(n,e,t),i,r]}function $v(n,e,t){var r=u$(n);switch(t.biff){case 2:n.l++,e-=7;break;case 3:case 4:n.l+=2,e-=8;break;default:n.l+=6,e-=12}return[r,hH(n,e,t)]}function i9(n){var e=n.read_shift(4)!==0,t=n.read_shift(4)!==0,r=n.read_shift(4);return[e,t,r]}function s9(n,e,t){if(!(t.biff<8)){var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2),a=n.read_shift(2),l=za(n,0,t);return t.biff<8&&n.read_shift(1),[{r,c:i},l,a,s]}}function a9(n,e,t){return s9(n,e,t)}function l9(n,e){for(var t=[],r=n.read_shift(2);r--;)t.push(du(n));return t}function o9(n){var e=De(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)d4(n[t],e);return e}function f9(n,e,t){if(t&&t.biff<8)return u9(n,e,t);var r=p4(n),i=m$(n,e-22,r[1]);return{cmo:r,ft:i}}var c9={8:function(n,e){var t=n.l+e;n.l+=10;var r=n.read_shift(2);n.l+=4,n.l+=2,n.l+=2,n.l+=2,n.l+=4;var i=n.read_shift(1);return n.l+=i,n.l=t,{fmt:r}}};function u9(n,e,t){n.l+=4;var r=n.read_shift(2),i=n.read_shift(2),s=n.read_shift(2);n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=2,n.l+=6,e-=36;var a=[];return a.push((c9[r]||Er)(n,e,t)),{cmo:[i,r,s],ft:a}}function d9(n,e,t){var r=n.l,i="";try{n.l+=4;var s=(t.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?n.l+=6:a=t$(n,6,t);var l=n.read_shift(2);n.read_shift(2),$n(n,2);var o=n.read_shift(2);n.l+=o;for(var f=1;f<n.lens.length-1;++f){if(n.l-r!=n.lens[f])throw new Error("TxO: bad continue record");var c=n[n.l],u=Ia(n,n.lens[f+1]-n.lens[f]-1);if(i+=u,i.length>=(c?l:2*l))break}if(i.length!==l&&i.length!==l*2)throw new Error("cchText: "+l+" != "+i.length);return n.l=r+e,{t:i}}catch{return n.l=r+e,{t:i}}}function h9(n,e){var t=du(n);n.l+=16;var r=s$(n,e-24);return[t,r]}function p9(n){var e=De(24),t=_n(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return rr([e,a$(n[1])])}function m9(n,e){n.read_shift(2);var t=du(n),r=n.read_shift((e-10)/2,"dbcs-cont");return r=r.replace(yr,""),[t,r]}function _9(n){var e=n[1].Tooltip,t=De(10+2*(e.length+1));t.write_shift(2,2048);var r=_n(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function g9(n){var e=[0,0],t;return t=n.read_shift(2),e[0]=yv[t]||t,t=n.read_shift(2),e[1]=yv[t]||t,e}function v9(n){return n||(n=De(4)),n.write_shift(2,1),n.write_shift(2,1),n}function b9(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(c4(n));return t}function w9(n){for(var e=n.read_shift(2),t=[];e-- >0;)t.push(c4(n));return t}function k9(n){n.l+=2;var e={cxfs:0,crc:0};return e.cxfs=n.read_shift(2),e.crc=n.read_shift(4),e}function _4(n,e,t){if(!t.cellStyles)return Er(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),s=n.read_shift(r),a=n.read_shift(r),l=n.read_shift(r),o=n.read_shift(2);r==2&&(n.l+=2);var f={s:i,e:s,w:a,ixfe:l,flags:o};return(t.biff>=5||!t.biff)&&(f.level=o>>8&7),f}function y9(n,e){var t=De(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function x9(n,e){var t={};return e<32||(n.l+=16,t.header=br(n),t.footer=br(n),n.l+=2),t}function T9(n,e,t){var r={area:!1};if(t.biff!=5)return n.l+=e,r;var i=n.read_shift(1);return n.l+=3,i&16&&(r.area=!0),r}function S9(n){for(var e=De(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}var E9=ls,C9=a4,A9=pf;function F9(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i={fmt:e,env:t,len:r,data:n.slice(n.l,n.l+r)};return n.l+=r,i}function D9(n,e,t){t.biffguess&&t.biff==5&&(t.biff=2);var r=ls(n);++n.l;var i=za(n,e-7,t);return r.t="str",r.val=i,r}function O9(n){var e=ls(n);++n.l;var t=br(n);return e.t="n",e.val=t,e}function M9(n,e,t){var r=De(15);return vf(r,n,e),r.write_shift(8,t,"f"),r}function I9(n){var e=ls(n);++n.l;var t=n.read_shift(2);return e.t="n",e.val=t,e}function N9(n,e,t){var r=De(9);return vf(r,n,e),r.write_shift(2,t),r}function P9(n){var e=n.read_shift(1);return e===0?(n.l++,""):n.read_shift(e,"sbcs-cont")}function L9(n,e){n.l+=6,n.l+=2,n.l+=1,n.l+=3,n.l+=1,n.l+=e-13}function R9(n,e,t){var r=n.l+e,i=ls(n),s=n.read_shift(2),a=Ia(n,s,t);return n.l=r,i.t="str",i.val=a,i}var $9=[2,3,48,49,131,139,140,245],Q0=function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=ou({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(l,o){var f=[],c=Ys(1);switch(o.type){case"base64":c=Zr(ii(l));break;case"binary":c=Zr(l);break;case"buffer":case"array":c=l;break}fr(c,0);var u=c.read_shift(1),d=!!(u&136),h=!1,m=!1;switch(u){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+u.toString(16))}var p=0,g=521;u==2&&(p=c.read_shift(2)),c.l+=3,u!=2&&(p=c.read_shift(4)),p>1048576&&(p=1e6),u!=2&&(g=c.read_shift(2));var v=c.read_shift(2),w=o.codepage||1252;u!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(w=n[c[c.l]]),c.l+=1,c.l+=2),m&&(c.l+=36);for(var k=[],x={},A=Math.min(c.length,u==2?521:g-10-(h?264:0)),T=m?32:11;c.l<A&&c[c.l]!=13;)switch(x={},x.name=Lt.utils.decode(w,c.slice(c.l,c.l+T)).replace(/[\u0000\r\n].*$/g,""),c.l+=T,x.type=String.fromCharCode(c.read_shift(1)),u!=2&&!m&&(x.offset=c.read_shift(4)),x.len=c.read_shift(1),u==2&&(x.offset=c.read_shift(2)),x.dec=c.read_shift(1),x.name.length&&k.push(x),u!=2&&(c.l+=m?13:14),x.type){case"B":(!h||x.len!=8)&&o.WTF&&console.log("Skipping "+x.name+":"+x.type);break;case"G":case"P":o.WTF&&console.log("Skipping "+x.name+":"+x.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+x.type)}if(c[c.l]!==13&&(c.l=g-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=g;var C=0,F=0;for(f[0]=[],F=0;F!=k.length;++F)f[0][F]=k[F].name;for(;p-- >0;){if(c[c.l]===42){c.l+=v;continue}for(++c.l,f[++C]=[],F=0,F=0;F!=k.length;++F){var O=c.slice(c.l,c.l+k[F].len);c.l+=k[F].len,fr(O,0);var I=Lt.utils.decode(w,O);switch(k[F].type){case"C":I.trim().length&&(f[C][F]=I.replace(/\s+$/,""));break;case"D":I.length===8?f[C][F]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):f[C][F]=I;break;case"F":f[C][F]=parseFloat(I.trim());break;case"+":case"I":f[C][F]=m?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":f[C][F]=!0;break;case"N":case"F":f[C][F]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+u.toString(16));f[C][F]="##MEMO##"+(m?parseInt(I.trim(),10):O.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(f[C][F]=+I||0);break;case"@":f[C][F]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":f[C][F]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":f[C][F]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[C][F]=-O.read_shift(-8,"f");break;case"B":if(h&&k[F].len==8){f[C][F]=O.read_shift(8,"f");break}case"G":case"P":O.l+=k[F].len;break;case"0":if(k[F].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[F].type)}}}if(u!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return o&&o.sheetRows&&(f=f.slice(0,o.sheetRows)),o.DBF=k,f}function r(l,o){var f=o||{};f.dateNF||(f.dateNF="yyyymmdd");var c=Pl(t(l,f),f);return c["!cols"]=f.DBF.map(function(u){return{wch:u.len,DBF:u}}),delete f.DBF,c}function i(l,o){try{return na(r(l,o),o)}catch(f){if(o&&o.WTF)throw f}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(l,o){var f=o||{};if(+f.codepage>=0&&yi(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var c=qr(),u=Vc(l,{header:1,raw:!0,cellDates:!0}),d=u[0],h=u.slice(1),m=l["!cols"]||[],p=0,g=0,v=0,w=1;for(p=0;p<d.length;++p){if(((m[p]||{}).DBF||{}).name){d[p]=m[p].DBF.name,++v;continue}if(d[p]!=null){if(++v,typeof d[p]=="number"&&(d[p]=d[p].toString(10)),typeof d[p]!="string")throw new Error("DBF Invalid column name "+d[p]+" |"+typeof d[p]+"|");if(d.indexOf(d[p])!==p){for(g=0;g<1024;++g)if(d.indexOf(d[p]+"_"+g)==-1){d[p]+="_"+g;break}}}}var k=It(l["!ref"]),x=[],A=[],T=[];for(p=0;p<=k.e.c-k.s.c;++p){var C="",F="",O=0,I=[];for(g=0;g<h.length;++g)h[g][p]!=null&&I.push(h[g][p]);if(I.length==0||d[p]==null){x[p]="?";continue}for(g=0;g<I.length;++g){switch(typeof I[g]){case"number":F="B";break;case"string":F="C";break;case"boolean":F="L";break;case"object":F=I[g]instanceof Date?"D":"C";break;default:F="C"}O=Math.max(O,String(I[g]).length),C=C&&C!=F?"C":F}O>250&&(O=250),F=((m[p]||{}).DBF||{}).type,F=="C"&&m[p].DBF.len>O&&(O=m[p].DBF.len),C=="B"&&F=="N"&&(C="N",T[p]=m[p].DBF.dec,O=m[p].DBF.len),A[p]=C=="C"||F=="N"?O:s[C]||0,w+=A[p],x[p]=C}var N=c.next(32);for(N.write_shift(4,318902576),N.write_shift(4,h.length),N.write_shift(2,296+32*v),N.write_shift(2,w),p=0;p<4;++p)N.write_shift(4,0);for(N.write_shift(4,0|(+e[Fa]||3)<<8),p=0,g=0;p<d.length;++p)if(d[p]!=null){var P=c.next(32),R=(d[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,R,"sbcs"),P.write_shift(1,x[p]=="?"?"C":x[p],"sbcs"),P.write_shift(4,g),P.write_shift(1,A[p]||s[x[p]]||0),P.write_shift(1,T[p]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),g+=A[p]||s[x[p]]||0}var Y=c.next(264);for(Y.write_shift(4,13),p=0;p<65;++p)Y.write_shift(4,0);for(p=0;p<h.length;++p){var ne=c.next(w);for(ne.write_shift(1,0),g=0;g<d.length;++g)if(d[g]!=null)switch(x[g]){case"L":ne.write_shift(1,h[p][g]==null?63:h[p][g]?84:70);break;case"B":ne.write_shift(8,h[p][g]||0,"f");break;case"N":var V="0";for(typeof h[p][g]=="number"&&(V=h[p][g].toFixed(T[g]||0)),v=0;v<A[g]-V.length;++v)ne.write_shift(1,32);ne.write_shift(1,V,"sbcs");break;case"D":h[p][g]?(ne.write_shift(4,("0000"+h[p][g].getFullYear()).slice(-4),"sbcs"),ne.write_shift(2,("00"+(h[p][g].getMonth()+1)).slice(-2),"sbcs"),ne.write_shift(2,("00"+h[p][g].getDate()).slice(-2),"sbcs")):ne.write_shift(8,"00000000","sbcs");break;case"C":var se=String(h[p][g]!=null?h[p][g]:"").slice(0,A[g]);for(ne.write_shift(1,se,"sbcs"),v=0;v<A[g]-se.length;++v)ne.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:r,from_sheet:a}}(),g4=function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+An(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(d,h){var m=n[h];return typeof m=="number"?z0(m):m},r=function(d,h,m){var p=h.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return p==59?d:z0(p)};n["|"]=254;function i(d,h){switch(h.type){case"base64":return s(ii(d),h);case"binary":return s(d,h);case"buffer":return s(Ct&&Buffer.isBuffer(d)?d.toString("binary"):ta(d),h);case"array":return s(Oa(d),h)}throw new Error("Unrecognized type "+h.type)}function s(d,h){var m=d.split(/[\n\r]+/),p=-1,g=-1,v=0,w=0,k=[],x=[],A=null,T={},C=[],F=[],O=[],I=0,N;for(+h.codepage>=0&&yi(+h.codepage);v!==m.length;++v){I=0;var P=m[v].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),R=P.replace(/;;/g,"\0").split(";").map(function(J){return J.replace(/\u0000/g,";")}),Y=R[0],ne;if(P.length>0)switch(Y){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":R[1].charAt(0)=="P"&&x.push(P.slice(3).replace(/;;/g,";"));break;case"C":var V=!1,se=!1,ue=!1,U=!1,be=-1,fe=-1;for(w=1;w<R.length;++w)switch(R[w].charAt(0)){case"A":break;case"X":g=parseInt(R[w].slice(1))-1,se=!0;break;case"Y":for(p=parseInt(R[w].slice(1))-1,se||(g=0),N=k.length;N<=p;++N)k[N]=[];break;case"K":ne=R[w].slice(1),ne.charAt(0)==='"'?ne=ne.slice(1,ne.length-1):ne==="TRUE"?ne=!0:ne==="FALSE"?ne=!1:isNaN($i(ne))?isNaN(Tl(ne).getDate())||(ne=un(ne)):(ne=$i(ne),A!==null&&Ba(A)&&(ne=cu(ne))),typeof Lt<"u"&&typeof ne=="string"&&(h||{}).type!="string"&&(h||{}).codepage&&(ne=Lt.utils.decode(h.codepage,ne)),V=!0;break;case"E":U=!0;var B=ml(R[w].slice(1),{r:p,c:g});k[p][g]=[k[p][g],B];break;case"S":ue=!0,k[p][g]=[k[p][g],"S5S"];break;case"G":break;case"R":be=parseInt(R[w].slice(1))-1;break;case"C":fe=parseInt(R[w].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}if(V&&(k[p][g]&&k[p][g].length==2?k[p][g][0]=ne:k[p][g]=ne,A=null),ue){if(U)throw new Error("SYLK shared formula cannot have own formula");var K=be>-1&&k[be][fe];if(!K||!K[1])throw new Error("SYLK shared formula cannot find base");k[p][g][1]=P4(K[1],{r:p-be,c:g-fe})}break;case"F":var G=0;for(w=1;w<R.length;++w)switch(R[w].charAt(0)){case"X":g=parseInt(R[w].slice(1))-1,++G;break;case"Y":for(p=parseInt(R[w].slice(1))-1,N=k.length;N<=p;++N)k[N]=[];break;case"M":I=parseInt(R[w].slice(1))/20;break;case"F":break;case"G":break;case"P":A=x[parseInt(R[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=R[w].slice(1).split(" "),N=parseInt(O[0],10);N<=parseInt(O[1],10);++N)I=parseInt(O[2],10),F[N-1]=I===0?{hidden:!0}:{wch:I},Gs(F[N-1]);break;case"C":g=parseInt(R[w].slice(1))-1,F[g]||(F[g]={});break;case"R":p=parseInt(R[w].slice(1))-1,C[p]||(C[p]={}),I>0?(C[p].hpt=I,C[p].hpx=El(I)):I===0&&(C[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}G<1&&(A=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+P)}}return C.length>0&&(T["!rows"]=C),F.length>0&&(T["!cols"]=F),h&&h.sheetRows&&(k=k.slice(0,h.sheetRows)),[k,T]}function a(d,h){var m=i(d,h),p=m[0],g=m[1],v=Pl(p,h);return An(g).forEach(function(w){v[w]=g[w]}),v}function l(d,h){return na(a(d,h),h)}function o(d,h,m,p){var g="C;Y"+(m+1)+";X"+(p+1)+";K";switch(d.t){case"n":g+=d.v||0,d.f&&!d.F&&(g+=";E"+Ah(d.f,{r:m,c:p}));break;case"b":g+=d.v?"TRUE":"FALSE";break;case"e":g+=d.w||d.v;break;case"d":g+='"'+(d.w||d.v)+'"';break;case"s":g+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function f(d,h){h.forEach(function(m,p){var g="F;W"+(p+1)+" "+(p+1)+" ";m.hidden?g+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=jo(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=zo(m.wpx)),typeof m.wch=="number"&&(g+=Math.round(m.wch))),g.charAt(g.length-1)!=" "&&d.push(g)})}function c(d,h){h.forEach(function(m,p){var g="F;";m.hidden?g+="M0;":m.hpt?g+="M"+20*m.hpt+";":m.hpx&&(g+="M"+20*qo(m.hpx)+";"),g.length>2&&d.push(g+"R"+(p+1))})}function u(d,h){var m=["ID;PWXL;N;E"],p=[],g=It(d["!ref"]),v,w=Array.isArray(d),k=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),d["!cols"]&&f(m,d["!cols"]),d["!rows"]&&c(m,d["!rows"]),m.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var x=g.s.r;x<=g.e.r;++x)for(var A=g.s.c;A<=g.e.c;++A){var T=_t({r:x,c:A});v=w?(d[x]||[])[A]:d[T],!(!v||v.v==null&&(!v.f||v.F))&&p.push(o(v,d,x,A))}return m.join(k)+k+p.join(k)+k+"E"+k}return{to_workbook:l,to_sheet:a,from_sheet:u}}(),v4=function(){function n(s,a){switch(a.type){case"base64":return e(ii(s),a);case"binary":return e(s,a);case"buffer":return e(Ct&&Buffer.isBuffer(s)?s.toString("binary"):ta(s),a);case"array":return e(Oa(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var l=s.split(`
`),o=-1,f=-1,c=0,u=[];c!==l.length;++c){if(l[c].trim()==="BOT"){u[++o]=[],f=0;continue}if(!(o<0)){var d=l[c].trim().split(","),h=d[0],m=d[1];++c;for(var p=l[c]||"";(p.match(/["]/g)||[]).length&1&&c<l.length-1;)p+=`
`+l[++c];switch(p=p.trim(),+h){case-1:if(p==="BOT"){u[++o]=[],f=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?u[o][f]=!0:p==="FALSE"?u[o][f]=!1:isNaN($i(m))?isNaN(Tl(m).getDate())?u[o][f]=m:u[o][f]=un(m):u[o][f]=$i(m),++f;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),u[o][f++]=p!==""?p:null;break}if(p==="EOD")break}}return a&&a.sheetRows&&(u=u.slice(0,a.sheetRows)),u}function t(s,a){return Pl(n(s,a),a)}function r(s,a){return na(t(s,a),a)}var i=function(){var s=function(o,f,c,u,d){o.push(f),o.push(c+","+u),o.push('"'+d.replace(/"/g,'""')+'"')},a=function(o,f,c,u){o.push(f+","+c),o.push(f==1?'"'+u.replace(/"/g,'""')+'"':u)};return function(o){var f=[],c=It(o["!ref"]),u,d=Array.isArray(o);s(f,"TABLE",0,1,"sheetjs"),s(f,"VECTORS",0,c.e.r-c.s.r+1,""),s(f,"TUPLES",0,c.e.c-c.s.c+1,""),s(f,"DATA",0,0,"");for(var h=c.s.r;h<=c.e.r;++h){a(f,-1,0,"BOT");for(var m=c.s.c;m<=c.e.c;++m){var p=_t({r:h,c:m});if(u=d?(o[h]||[])[m]:o[p],!u){a(f,1,0,"");continue}switch(u.t){case"n":var g=u.w;!g&&u.v!=null&&(g=u.v),g==null?u.f&&!u.F?a(f,1,0,"="+u.f):a(f,1,0,""):a(f,0,g,"V");break;case"b":a(f,0,u.v?1:0,u.v?"TRUE":"FALSE");break;case"s":a(f,1,0,isNaN(u.v)?u.v:'="'+u.v+'"');break;case"d":u.w||(u.w=si(u.z||pt[14],er(un(u.v)))),a(f,0,u.w,"V");break;default:a(f,1,0,"")}}}a(f,-1,0,"EOD");var v=`\r
`,w=f.join(v);return w}}();return{to_workbook:r,to_sheet:t,from_sheet:i}}(),b4=function(){function n(u){return u.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(u){return u.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(u,d){for(var h=u.split(`
`),m=-1,p=-1,g=0,v=[];g!==h.length;++g){var w=h[g].trim().split(":");if(w[0]==="cell"){var k=_n(w[1]);if(v.length<=k.r)for(m=v.length;m<=k.r;++m)v[m]||(v[m]=[]);switch(m=k.r,p=k.c,w[2]){case"t":v[m][p]=n(w[3]);break;case"v":v[m][p]=+w[3];break;case"vtf":var x=w[w.length-1];case"vtc":switch(w[3]){case"nl":v[m][p]=!!+w[4];break;default:v[m][p]=+w[4];break}w[2]=="vtf"&&(v[m][p]=[v[m][p],x])}}}return d&&d.sheetRows&&(v=v.slice(0,d.sheetRows)),v}function r(u,d){return Pl(t(u,d),d)}function i(u,d){return na(r(u,d),d)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,l=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),o="--SocialCalcSpreadsheetControlSave--";function f(u){if(!u||!u["!ref"])return"";for(var d=[],h=[],m,p="",g=Lr(u["!ref"]),v=Array.isArray(u),w=g.s.r;w<=g.e.r;++w)for(var k=g.s.c;k<=g.e.c;++k)if(p=_t({r:w,c:k}),m=v?(u[w]||[])[k]:u[p],!(!m||m.v==null||m.t==="z")){switch(h=["cell",p,"t"],m.t){case"s":case"str":h.push(e(m.v));break;case"n":m.f?(h[2]="vtf",h[3]="n",h[4]=m.v,h[5]=e(m.f)):(h[2]="v",h[3]=m.v);break;case"b":h[2]="vt"+(m.f?"f":"c"),h[3]="nl",h[4]=m.v?"1":"0",h[5]=e(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var x=er(un(m.v));h[2]="vtc",h[3]="nd",h[4]=""+x,h[5]=m.w||si(m.z||pt[14],x);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function c(u){return[s,a,l,a,f(u),o].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:c}}(),Sl=function(){function n(c,u,d,h,m){m.raw?u[d][h]=c:c===""||(c==="TRUE"?u[d][h]=!0:c==="FALSE"?u[d][h]=!1:isNaN($i(c))?isNaN(Tl(c).getDate())?u[d][h]=c:u[d][h]=un(c):u[d][h]=$i(c))}function e(c,u){var d=u||{},h=[];if(!c||c.length===0)return h;for(var m=c.split(/[\r\n]/),p=m.length-1;p>=0&&m[p].length===0;)--p;for(var g=10,v=0,w=0;w<=p;++w)v=m[w].indexOf(" "),v==-1?v=m[w].length:v++,g=Math.max(g,v);for(w=0;w<=p;++w){h[w]=[];var k=0;for(n(m[w].slice(0,g).trim(),h,w,k,d),k=1;k<=(m[w].length-g)/10+1;++k)n(m[w].slice(g+(k-1)*10,g+k*10).trim(),h,w,k,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(c){for(var u={},d=!1,h=0,m=0;h<c.length;++h)(m=c.charCodeAt(h))==34?d=!d:!d&&m in t&&(u[m]=(u[m]||0)+1);m=[];for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&m.push([u[h],h]);if(!m.length){u=r;for(h in u)Object.prototype.hasOwnProperty.call(u,h)&&m.push([u[h],h])}return m.sort(function(p,g){return p[0]-g[0]||r[p[1]]-r[g[1]]}),t[m.pop()[1]]||44}function s(c,u){var d=u||{},h="",m=d.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(h=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(h=c.charAt(4),c=c.slice(6)):h=i(c.slice(0,1024)):d&&d.FS?h=d.FS:h=i(c.slice(0,1024));var g=0,v=0,w=0,k=0,x=0,A=h.charCodeAt(0),T=!1,C=0,F=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var O=d.dateNF!=null?TL(d.dateNF):null;function I(){var N=c.slice(k,x),P={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)P.t="z";else if(d.raw)P.t="s",P.v=N;else if(N.trim().length===0)P.t="s",P.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(P.t="s",P.v=N.slice(2,-1).replace(/""/g,'"')):QB(N)?(P.t="n",P.f=N.slice(1)):(P.t="s",P.v=N);else if(N=="TRUE")P.t="b",P.v=!0;else if(N=="FALSE")P.t="b",P.v=!1;else if(!isNaN(w=$i(N)))P.t="n",d.cellText!==!1&&(P.w=N),P.v=w;else if(!isNaN(Tl(N).getDate())||O&&N.match(O)){P.z=d.dateNF||pt[14];var R=0;O&&N.match(O)&&(N=SL(N,d.dateNF,N.match(O)||[]),R=1),d.cellDates?(P.t="d",P.v=un(N,R)):(P.t="n",P.v=er(un(N,R))),d.cellText!==!1&&(P.w=si(P.z,P.v instanceof Date?er(P.v):P.v)),d.cellNF||delete P.z}else P.t="s",P.v=N;if(P.t=="z"||(d.dense?(m[g]||(m[g]=[]),m[g][v]=P):m[_t({c:v,r:g})]=P),k=x+1,F=c.charCodeAt(k),p.e.c<v&&(p.e.c=v),p.e.r<g&&(p.e.r=g),C==A)++v;else if(v=0,++g,d.sheetRows&&d.sheetRows<=g)return!0}e:for(;x<c.length;++x)switch(C=c.charCodeAt(x)){case 34:F===34&&(T=!T);break;case A:case 10:case 13:if(!T&&I())break e;break}return x-k>0&&I(),m["!ref"]=Tt(p),m}function a(c,u){return!(u&&u.PRN)||u.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?s(c,u):Pl(e(c,u),u)}function l(c,u){var d="",h=u.type=="string"?[0,0,0,0]:Rh(c,u);switch(u.type){case"base64":d=ii(c);break;case"binary":d=c;break;case"buffer":u.codepage==65001?d=c.toString("utf8"):u.codepage&&typeof Lt<"u"?d=Lt.utils.decode(u.codepage,c):d=Ct&&Buffer.isBuffer(c)?c.toString("binary"):ta(c);break;case"array":d=Oa(c);break;case"string":d=c;break;default:throw new Error("Unrecognized type "+u.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=tn(d.slice(3)):u.type!="string"&&u.type!="buffer"&&u.codepage==65001?d=tn(d):u.type=="binary"&&typeof Lt<"u"&&u.codepage&&(d=Lt.utils.decode(u.codepage,Lt.utils.encode(28591,d))),d.slice(0,19)=="socialcalc:version:"?b4.to_sheet(u.type=="string"?d:tn(d),u):a(d,u)}function o(c,u){return na(l(c,u),u)}function f(c){for(var u=[],d=It(c["!ref"]),h,m=Array.isArray(c),p=d.s.r;p<=d.e.r;++p){for(var g=[],v=d.s.c;v<=d.e.c;++v){var w=_t({r:p,c:v});if(h=m?(c[p]||[])[v]:c[w],!h||h.v==null){g.push("          ");continue}for(var k=(h.w||(ns(h),h.w)||"").slice(0,10);k.length<10;)k+=" ";g.push(k+(v===0?" ":""))}u.push(g.join(""))}return u.join(`
`)}return{to_workbook:o,to_sheet:l,from_sheet:f}}();function B9(n,e){var t=e||{},r=!!t.WTF;t.WTF=!0;try{var i=g4.to_workbook(n,t);return t.WTF=r,i}catch(s){if(t.WTF=r,!s.message.match(/SYLK bad record ID/)&&r)throw s;return Sl.to_workbook(n,e)}}var Ta=function(){function n(B,K,G){if(B){fr(B,B.l||0);for(var J=G.Enum||be;B.l<B.length;){var de=B.read_shift(2),me=J[de]||J[65535],we=B.read_shift(2),Fe=B.l+we,Oe=me.f&&me.f(B,we,G);if(B.l=Fe,K(Oe,me,de))return}}}function e(B,K){switch(K.type){case"base64":return t(Zr(ii(B)),K);case"binary":return t(Zr(B),K);case"buffer":case"array":return t(B,K)}throw"Unsupported type "+K.type}function t(B,K){if(!B)return B;var G=K||{},J=G.dense?[]:{},de="Sheet1",me="",we=0,Fe={},Oe=[],ye=[],te={s:{r:0,c:0},e:{r:0,c:0}},he=G.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)G.Enum=be,n(B,function(Ce,_e,je){switch(je){case 0:G.vers=Ce,Ce>=4096&&(G.qpro=!0);break;case 6:te=Ce;break;case 204:Ce&&(me=Ce);break;case 222:me=Ce;break;case 15:case 51:G.qpro||(Ce[1].v=Ce[1].v.slice(1));case 13:case 14:case 16:je==14&&(Ce[2]&112)==112&&(Ce[2]&15)>1&&(Ce[2]&15)<15&&(Ce[1].z=G.dateNF||pt[14],G.cellDates&&(Ce[1].t="d",Ce[1].v=cu(Ce[1].v))),G.qpro&&Ce[3]>we&&(J["!ref"]=Tt(te),Fe[de]=J,Oe.push(de),J=G.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},we=Ce[3],de=me||"Sheet"+(we+1),me="");var wt=G.dense?(J[Ce[0].r]||[])[Ce[0].c]:J[_t(Ce[0])];if(wt){wt.t=Ce[1].t,wt.v=Ce[1].v,Ce[1].z!=null&&(wt.z=Ce[1].z),Ce[1].f!=null&&(wt.f=Ce[1].f);break}G.dense?(J[Ce[0].r]||(J[Ce[0].r]=[]),J[Ce[0].r][Ce[0].c]=Ce[1]):J[_t(Ce[0])]=Ce[1];break}},G);else if(B[2]==26||B[2]==14)G.Enum=fe,B[2]==14&&(G.qpro=!0,B.l=0),n(B,function(Ce,_e,je){switch(je){case 204:de=Ce;break;case 22:Ce[1].v=Ce[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ce[3]>we&&(J["!ref"]=Tt(te),Fe[de]=J,Oe.push(de),J=G.dense?[]:{},te={s:{r:0,c:0},e:{r:0,c:0}},we=Ce[3],de="Sheet"+(we+1)),he>0&&Ce[0].r>=he)break;G.dense?(J[Ce[0].r]||(J[Ce[0].r]=[]),J[Ce[0].r][Ce[0].c]=Ce[1]):J[_t(Ce[0])]=Ce[1],te.e.c<Ce[0].c&&(te.e.c=Ce[0].c),te.e.r<Ce[0].r&&(te.e.r=Ce[0].r);break;case 27:Ce[14e3]&&(ye[Ce[14e3][0]]=Ce[14e3][1]);break;case 1537:ye[Ce[0]]=Ce[1],Ce[0]==we&&(de=Ce[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(J["!ref"]=Tt(te),Fe[me||de]=J,Oe.push(me||de),!ye.length)return{SheetNames:Oe,Sheets:Fe};for(var qe={},ot=[],ct=0;ct<ye.length;++ct)Fe[Oe[ct]]?(ot.push(ye[ct]||Oe[ct]),qe[ye[ct]]=Fe[ye[ct]]||Fe[Oe[ct]]):(ot.push(ye[ct]),qe[ye[ct]]={"!ref":"A1"});return{SheetNames:ot,Sheets:qe}}function r(B,K){var G=K||{};if(+G.codepage>=0&&yi(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var J=qr(),de=It(B["!ref"]),me=Array.isArray(B),we=[];Je(J,0,s(1030)),Je(J,6,o(de));for(var Fe=Math.min(de.e.r,8191),Oe=de.s.r;Oe<=Fe;++Oe)for(var ye=xn(Oe),te=de.s.c;te<=de.e.c;++te){Oe===de.s.r&&(we[te]=cn(te));var he=we[te]+ye,qe=me?(B[Oe]||[])[te]:B[he];if(!(!qe||qe.t=="z"))if(qe.t=="n")(qe.v|0)==qe.v&&qe.v>=-32768&&qe.v<=32767?Je(J,13,h(Oe,te,qe.v)):Je(J,14,p(Oe,te,qe.v));else{var ot=ns(qe);Je(J,15,u(Oe,te,ot.slice(0,239)))}}return Je(J,1),J.end()}function i(B,K){var G=K||{};if(+G.codepage>=0&&yi(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var J=qr();Je(J,0,a(B));for(var de=0,me=0;de<B.SheetNames.length;++de)(B.Sheets[B.SheetNames[de]]||{})["!ref"]&&Je(J,27,U(B.SheetNames[de],me++));var we=0;for(de=0;de<B.SheetNames.length;++de){var Fe=B.Sheets[B.SheetNames[de]];if(!(!Fe||!Fe["!ref"])){for(var Oe=It(Fe["!ref"]),ye=Array.isArray(Fe),te=[],he=Math.min(Oe.e.r,8191),qe=Oe.s.r;qe<=he;++qe)for(var ot=xn(qe),ct=Oe.s.c;ct<=Oe.e.c;++ct){qe===Oe.s.r&&(te[ct]=cn(ct));var Ce=te[ct]+ot,_e=ye?(Fe[qe]||[])[ct]:Fe[Ce];if(!(!_e||_e.t=="z"))if(_e.t=="n")Je(J,23,I(qe,ct,we,_e.v));else{var je=ns(_e);Je(J,22,C(qe,ct,we,je.slice(0,239)))}}++we}}return Je(J,1),J.end()}function s(B){var K=De(2);return K.write_shift(2,B),K}function a(B){var K=De(26);K.write_shift(2,4096),K.write_shift(2,4),K.write_shift(4,0);for(var G=0,J=0,de=0,me=0;me<B.SheetNames.length;++me){var we=B.SheetNames[me],Fe=B.Sheets[we];if(!(!Fe||!Fe["!ref"])){++de;var Oe=Lr(Fe["!ref"]);G<Oe.e.r&&(G=Oe.e.r),J<Oe.e.c&&(J=Oe.e.c)}}return G>8191&&(G=8191),K.write_shift(2,G),K.write_shift(1,de),K.write_shift(1,J),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(1,1),K.write_shift(1,2),K.write_shift(4,0),K.write_shift(4,0),K}function l(B,K,G){var J={s:{c:0,r:0},e:{c:0,r:0}};return K==8&&G.qpro?(J.s.c=B.read_shift(1),B.l++,J.s.r=B.read_shift(2),J.e.c=B.read_shift(1),B.l++,J.e.r=B.read_shift(2),J):(J.s.c=B.read_shift(2),J.s.r=B.read_shift(2),K==12&&G.qpro&&(B.l+=2),J.e.c=B.read_shift(2),J.e.r=B.read_shift(2),K==12&&G.qpro&&(B.l+=2),J.s.c==65535&&(J.s.c=J.e.c=J.s.r=J.e.r=0),J)}function o(B){var K=De(8);return K.write_shift(2,B.s.c),K.write_shift(2,B.s.r),K.write_shift(2,B.e.c),K.write_shift(2,B.e.r),K}function f(B,K,G){var J=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(J[0].c=B.read_shift(1),J[3]=B.read_shift(1),J[0].r=B.read_shift(2),B.l+=2):(J[2]=B.read_shift(1),J[0].c=B.read_shift(2),J[0].r=B.read_shift(2)),J}function c(B,K,G){var J=B.l+K,de=f(B,K,G);if(de[1].t="s",G.vers==20768){B.l++;var me=B.read_shift(1);return de[1].v=B.read_shift(me,"utf8"),de}return G.qpro&&B.l++,de[1].v=B.read_shift(J-B.l,"cstr"),de}function u(B,K,G){var J=De(7+G.length);J.write_shift(1,255),J.write_shift(2,K),J.write_shift(2,B),J.write_shift(1,39);for(var de=0;de<J.length;++de){var me=G.charCodeAt(de);J.write_shift(1,me>=128?95:me)}return J.write_shift(1,0),J}function d(B,K,G){var J=f(B,K,G);return J[1].v=B.read_shift(2,"i"),J}function h(B,K,G){var J=De(7);return J.write_shift(1,255),J.write_shift(2,K),J.write_shift(2,B),J.write_shift(2,G,"i"),J}function m(B,K,G){var J=f(B,K,G);return J[1].v=B.read_shift(8,"f"),J}function p(B,K,G){var J=De(13);return J.write_shift(1,255),J.write_shift(2,K),J.write_shift(2,B),J.write_shift(8,G,"f"),J}function g(B,K,G){var J=B.l+K,de=f(B,K,G);if(de[1].v=B.read_shift(8,"f"),G.qpro)B.l=J;else{var me=B.read_shift(2);x(B.slice(B.l,B.l+me),de),B.l+=me}return de}function v(B,K,G){var J=K&32768;return K&=-32769,K=(J?B:0)+(K>=8192?K-16384:K),(J?"":"$")+(G?cn(K):xn(K))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function x(B,K){fr(B,0);for(var G=[],J=0,de="",me="",we="",Fe="";B.l<B.length;){var Oe=B[B.l++];switch(Oe){case 0:G.push(B.read_shift(8,"f"));break;case 1:me=v(K[0].c,B.read_shift(2),!0),de=v(K[0].r,B.read_shift(2),!1),G.push(me+de);break;case 2:{var ye=v(K[0].c,B.read_shift(2),!0),te=v(K[0].r,B.read_shift(2),!1);me=v(K[0].c,B.read_shift(2),!0),de=v(K[0].r,B.read_shift(2),!1),G.push(ye+te+":"+me+de)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(B.read_shift(2));break;case 6:{for(var he="";Oe=B[B.l++];)he+=String.fromCharCode(Oe);G.push('"'+he.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:Fe=G.pop(),we=G.pop(),G.push(["AND","OR"][Oe-20]+"("+we+","+Fe+")");break;default:if(Oe<32&&k[Oe])Fe=G.pop(),we=G.pop(),G.push(we+k[Oe]+Fe);else if(w[Oe]){if(J=w[Oe][1],J==69&&(J=B[B.l++]),J>G.length){console.error("WK1 bad formula parse 0x"+Oe.toString(16)+":|"+G.join("|")+"|");return}var qe=G.slice(-J);G.length-=J,G.push(w[Oe][0]+"("+qe.join(",")+")")}else return Oe<=7?console.error("WK1 invalid opcode "+Oe.toString(16)):Oe<=24?console.error("WK1 unsupported op "+Oe.toString(16)):Oe<=30?console.error("WK1 invalid opcode "+Oe.toString(16)):Oe<=115?console.error("WK1 unsupported function opcode "+Oe.toString(16)):console.error("WK1 unrecognized opcode "+Oe.toString(16))}}G.length==1?K[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function A(B){var K=[{c:0,r:0},{t:"n",v:0},0];return K[0].r=B.read_shift(2),K[3]=B[B.l++],K[0].c=B[B.l++],K}function T(B,K){var G=A(B);return G[1].t="s",G[1].v=B.read_shift(K-4,"cstr"),G}function C(B,K,G,J){var de=De(6+J.length);de.write_shift(2,B),de.write_shift(1,G),de.write_shift(1,K),de.write_shift(1,39);for(var me=0;me<J.length;++me){var we=J.charCodeAt(me);de.write_shift(1,we>=128?95:we)}return de.write_shift(1,0),de}function F(B,K){var G=A(B);G[1].v=B.read_shift(2);var J=G[1].v>>1;if(G[1].v&1)switch(J&7){case 0:J=(J>>3)*5e3;break;case 1:J=(J>>3)*500;break;case 2:J=(J>>3)/20;break;case 3:J=(J>>3)/200;break;case 4:J=(J>>3)/2e3;break;case 5:J=(J>>3)/2e4;break;case 6:J=(J>>3)/16;break;case 7:J=(J>>3)/64;break}return G[1].v=J,G}function O(B,K){var G=A(B),J=B.read_shift(4),de=B.read_shift(4),me=B.read_shift(2);if(me==65535)return J===0&&de===3221225472?(G[1].t="e",G[1].v=15):J===0&&de===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var we=me&32768;return me=(me&32767)-16446,G[1].v=(1-we*2)*(de*Math.pow(2,me+32)+J*Math.pow(2,me)),G}function I(B,K,G,J){var de=De(14);if(de.write_shift(2,B),de.write_shift(1,G),de.write_shift(1,K),J==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var me=0,we=0,Fe=0,Oe=0;return J<0&&(me=1,J=-J),we=Math.log2(J)|0,J/=Math.pow(2,we-31),Oe=J>>>0,Oe&2147483648||(J/=2,++we,Oe=J>>>0),J-=Oe,Oe|=2147483648,Oe>>>=0,J*=Math.pow(2,32),Fe=J>>>0,de.write_shift(4,Fe),de.write_shift(4,Oe),we+=16383+(me?32768:0),de.write_shift(2,we),de}function N(B,K){var G=O(B);return B.l+=K-14,G}function P(B,K){var G=A(B),J=B.read_shift(4);return G[1].v=J>>6,G}function R(B,K){var G=A(B),J=B.read_shift(8,"f");return G[1].v=J,G}function Y(B,K){var G=R(B);return B.l+=K-10,G}function ne(B,K){return B[B.l+K-1]==0?B.read_shift(K,"cstr"):""}function V(B,K){var G=B[B.l++];G>K-1&&(G=K-1);for(var J="";J.length<G;)J+=String.fromCharCode(B[B.l++]);return J}function se(B,K,G){if(!(!G.qpro||K<21)){var J=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var de=B.read_shift(K-21,"cstr");return[J,de]}}function ue(B,K){for(var G={},J=B.l+K;B.l<J;){var de=B.read_shift(2);if(de==14e3){for(G[de]=[0,""],G[de][0]=B.read_shift(2);B[B.l];)G[de][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return G}function U(B,K){var G=De(5+B.length);G.write_shift(2,14e3),G.write_shift(2,K);for(var J=0;J<B.length;++J){var de=B.charCodeAt(J);G[G.l++]=de>127?95:de}return G[G.l++]=0,G}var be={0:{n:"BOF",f:$n},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:l},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ne},222:{n:"SHEETNAMELP",f:V},65535:{n:""}},fe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:T},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:F},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:ue},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:R},40:{n:"FORMULA28",f:Y},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ne},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}}();function U9(n){var e={},t=n.match(Cr),r=0,i=!1;if(t)for(;r!=t.length;++r){var s=gt(t[r]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=Jd[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var H9=function(){var n=Bo("t"),e=Bo("rPr");function t(s){var a=s.match(n);if(!a)return{t:"s",v:""};var l={t:"s",v:Ut(a[1])},o=s.match(e);return o&&(l.s=U9(o[1])),l}var r=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(r,"").split(i).map(t).filter(function(l){return l.v})}}(),V9=function(){var e=/(\r\n|\n)/g;function t(i,s,a){var l=[];i.u&&l.push("text-decoration: underline;"),i.uval&&l.push("text-underline-style:"+i.uval+";"),i.sz&&l.push("font-size:"+i.sz+"pt;"),i.outline&&l.push("text-effect: outline;"),i.shadow&&l.push("text-shadow: auto;"),s.push('<span style="'+l.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var o=i.valign||"";return o=="superscript"||o=="super"?o="sup":o=="subscript"&&(o="sub"),o!=""&&(s.push("<"+o+">"),a.push("</"+o+">")),a.push("</span>"),i}function r(i){var s=[[],i.v,[]];return i.v?(i.s&&t(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(r).join("")}}(),W9=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,j9=/<(?:\w+:)?r>/,z9=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function xh(n,e){var t=e?e.cellHTML:!0,r={};return n?(n.match(/^\s*<(?:\w+:)?t[^>]*>/)?(r.t=Ut(tn(n.slice(n.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),r.r=tn(n),t&&(r.h=sh(r.t))):n.match(j9)&&(r.r=tn(n),r.t=Ut(tn((n.replace(z9,"").match(W9)||[]).join("").replace(Cr,""))),t&&(r.h=V9(H9(r.r)))),r):{t:""}}var q9=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Y9=/<(?:\w+:)?(?:si|sstItem)>/g,G9=/<\/(?:\w+:)?(?:si|sstItem)>/;function X9(n,e){var t=[],r="";if(!n)return t;var i=n.match(q9);if(i){r=i[2].replace(Y9,"").split(G9);for(var s=0;s!=r.length;++s){var a=xh(r[s].trim(),e);a!=null&&(t[t.length]=a)}i=gt(i[1]),t.Count=i.count,t.Unique=i.uniqueCount}return t}var K9=/^\s|\s$|[\t\n\r]/;function w4(n,e){if(!e.bookSST)return"";var t=[Mn];t[t.length]=Ke("sst",null,{xmlns:Ua[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(K9)&&(s+=' xml:space="preserve"'),s+=">"+Zt(i.t)+"</t>"),s+="</si>",t[t.length]=s}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function J9(n){return[n.read_shift(4),n.read_shift(4)]}function Z9(n,e){var t=[],r=!1;return Es(n,function(s,a,l){switch(l){case 159:t.Count=s[0],t.Unique=s[1];break;case 19:t.push(s);break;case 160:return!0;case 35:r=!0;break;case 36:r=!1;break;default:if(a.T,!r||e.WTF)throw new Error("Unexpected record 0x"+l.toString(16))}}),t}function Q9(n,e){return e||(e=De(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var e7=cR;function t7(n){var e=qr();Be(e,159,Q9(n));for(var t=0;t<n.length;++t)Be(e,19,e7(n[t]));return Be(e,160),e.end()}function k4(n){if(typeof Lt<"u")return Lt.utils.encode(Fa,n);for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function bs(n,e){var t={};return t.Major=n.read_shift(2),t.Minor=n.read_shift(2),e>=4&&(n.l+=e-4),t}function n7(n){var e={};return e.id=n.read_shift(0,"lpp4"),e.R=bs(n,4),e.U=bs(n,4),e.W=bs(n,4),e}function r7(n){for(var e=n.read_shift(4),t=n.l+e-4,r={},i=n.read_shift(4),s=[];i-- >0;)s.push({t:n.read_shift(4),v:n.read_shift(0,"lpp4")});if(r.name=n.read_shift(0,"lpp4"),r.comps=s,n.l!=t)throw new Error("Bad DataSpaceMapEntry: "+n.l+" != "+t);return r}function i7(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(r7(n));return e}function s7(n){var e=[];n.l+=4;for(var t=n.read_shift(4);t-- >0;)e.push(n.read_shift(0,"lpp4"));return e}function a7(n){var e={};return n.read_shift(4),n.l+=4,e.id=n.read_shift(0,"lpp4"),e.name=n.read_shift(0,"lpp4"),e.R=bs(n,4),e.U=bs(n,4),e.W=bs(n,4),e}function l7(n){var e=a7(n);if(e.ename=n.read_shift(0,"8lpp4"),e.blksz=n.read_shift(4),e.cmode=n.read_shift(4),n.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function y4(n,e){var t=n.l+e,r={};r.Flags=n.read_shift(4)&63,n.l+=4,r.AlgID=n.read_shift(4);var i=!1;switch(r.AlgID){case 26126:case 26127:case 26128:i=r.Flags==36;break;case 26625:i=r.Flags==4;break;case 0:i=r.Flags==16||r.Flags==4||r.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+r.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return r.AlgIDHash=n.read_shift(4),r.KeySize=n.read_shift(4),r.ProviderType=n.read_shift(4),n.l+=8,r.CSPName=n.read_shift(t-n.l>>1,"utf16le"),n.l=t,r}function x4(n,e){var t={},r=n.l+e;return n.l+=4,t.Salt=n.slice(n.l,n.l+16),n.l+=16,t.Verifier=n.slice(n.l,n.l+16),n.l+=16,n.read_shift(4),t.VerifierHash=n.slice(n.l,r),n.l=r,t}function o7(n){var e=bs(n);switch(e.Minor){case 2:return[e.Minor,f7(n)];case 3:return[e.Minor,c7()];case 4:return[e.Minor,u7(n)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function f7(n){var e=n.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var t=n.read_shift(4),r=y4(n,t),i=x4(n,n.length-n.l);return{t:"Std",h:r,v:i}}function c7(){throw new Error("File is password-protected: ECMA-376 Extensible")}function u7(n){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];n.l+=4;var t=n.read_shift(n.length-n.l,"utf8"),r={};return t.replace(Cr,function(s){var a=gt(s);switch(as(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(l){r[l]=a[l]});break;case"<dataIntegrity":r.encryptedHmacKey=a.encryptedHmacKey,r.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":r.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":r.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":r.encs.push(a);break;default:throw a[0]}}),r}function d7(n,e){var t={},r=t.EncryptionVersionInfo=bs(n,4);if(e-=4,r.Minor!=2)throw new Error("unrecognized minor version code: "+r.Minor);if(r.Major>4||r.Major<2)throw new Error("unrecognized major version code: "+r.Major);t.Flags=n.read_shift(4),e-=4;var i=n.read_shift(4);return e-=4,t.EncryptionHeader=y4(n,i),e-=i,t.EncryptionVerifier=x4(n,e),t}function h7(n){var e={},t=e.EncryptionVersionInfo=bs(n,4);if(t.Major!=1||t.Minor!=1)throw"unrecognized version code "+t.Major+" : "+t.Minor;return e.Salt=n.read_shift(16),e.EncryptedVerifier=n.read_shift(16),e.EncryptedVerifierHash=n.read_shift(16),e}function Th(n){var e=0,t,r=k4(n),i=r.length+1,s,a,l,o,f;for(t=Ys(i),t[0]=r.length,s=1;s!=i;++s)t[s]=r[s-1];for(s=i-1;s>=0;--s)a=t[s],l=e&16384?1:0,o=e<<1&32767,f=l|o,e=f^a;return e^52811}var T4=function(){var n=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],t=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],r=function(a){return(a/2|a*128)&255},i=function(a,l){return r(a^l)},s=function(a){for(var l=e[a.length-1],o=104,f=a.length-1;f>=0;--f)for(var c=a[f],u=0;u!=7;++u)c&64&&(l^=t[o]),c*=2,--o;return l};return function(a){for(var l=k4(a),o=s(l),f=l.length,c=Ys(16),u=0;u!=16;++u)c[u]=0;var d,h,m;for((f&1)===1&&(d=o>>8,c[f]=i(n[0],d),--f,d=o&255,h=l[l.length-1],c[f]=i(h,d));f>0;)--f,d=o>>8,c[f]=i(l[f],d),--f,d=o&255,c[f]=i(l[f],d);for(f=15,m=15-l.length;m>0;)d=o>>8,c[f]=i(n[m],d),--f,--m,d=o&255,c[f]=i(l[f],d),--f,--m;return c}}(),p7=function(n,e,t,r,i){i||(i=e),r||(r=T4(n));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=r[t],a=(a>>5|a<<3)&255,i[s]=a,++t;return[i,t,r]},m7=function(n){var e=0,t=T4(n);return function(r){var i=p7("",r,e,t);return e=i[1],i[0]}};function _7(n,e,t,r){var i={key:$n(n),verificationBytes:$n(n)};return t.password&&(i.verifier=Th(t.password)),r.valid=i.verificationBytes===i.verifier,r.valid&&(r.insitu=m7(t.password)),i}function g7(n,e,t){var r=t||{};return r.Info=n.read_shift(2),n.l-=2,r.Info===1?r.Data=h7(n):r.Data=d7(n,e),r}function v7(n,e,t){var r={Type:t.biff>=8?n.read_shift(2):0};return r.Type?g7(n,e-2,r):_7(n,t.biff>=8?e:e-2,t,r),r}var S4=function(){function n(i,s){switch(s.type){case"base64":return e(ii(i),s);case"binary":return e(i,s);case"buffer":return e(Ct&&Buffer.isBuffer(i)?i.toString("binary"):ta(i),s);case"array":return e(Oa(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},l=a.dense?[]:{},o=i.match(/\\trowd.*?\\row\b/g);if(!o.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:o.length-1}};return o.forEach(function(c,u){Array.isArray(l)&&(l[u]=[]);for(var d=/\\\w+\b/g,h=0,m,p=-1;m=d.exec(c);){switch(m[0]){case"\\cell":var g=c.slice(h,d.lastIndex-m[0].length);if(g[0]==" "&&(g=g.slice(1)),++p,g.length){var v={v:g,t:"s"};Array.isArray(l)?l[u][p]=v:l[_t({r:u,c:p})]=v}break}h=d.lastIndex}p>f.e.c&&(f.e.c=p)}),l["!ref"]=Tt(f),l}function t(i,s){return na(n(i,s),s)}function r(i){for(var s=["{\\rtf1\\ansi"],a=It(i["!ref"]),l,o=Array.isArray(i),f=a.s.r;f<=a.e.r;++f){s.push("\\trowd\\trautofit1");for(var c=a.s.c;c<=a.e.c;++c)s.push("\\cellx"+(c+1));for(s.push("\\pard\\intbl"),c=a.s.c;c<=a.e.c;++c){var u=_t({r:f,c});l=o?(i[f]||[])[c]:i[u],!(!l||l.v==null&&(!l.f||l.F))&&(s.push(" "+(l.w||(ns(l),l.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}}();function b7(n){var e=n.slice(n[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Wo(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}function w7(n){var e=n[0]/255,t=n[1]/255,r=n[2]/255,i=Math.max(e,t,r),s=Math.min(e,t,r),a=i-s;if(a===0)return[0,0,e];var l=0,o=0,f=i+s;switch(o=a/(f>1?2-f:f),i){case e:l=((t-r)/a+6)%6;break;case t:l=(r-e)/a+2;break;case r:l=(e-t)/a+4;break}return[l/6,o,f/2]}function k7(n){var e=n[0],t=n[1],r=n[2],i=t*2*(r<.5?r:1-r),s=r-i/2,a=[s,s,s],l=6*e,o;if(t!==0)switch(l|0){case 0:case 6:o=i*l,a[0]+=i,a[1]+=o;break;case 1:o=i*(2-l),a[0]+=o,a[1]+=i;break;case 2:o=i*(l-2),a[1]+=i,a[2]+=o;break;case 3:o=i*(4-l),a[1]+=o,a[2]+=i;break;case 4:o=i*(l-4),a[2]+=i,a[0]+=o;break;case 5:o=i*(6-l),a[2]+=o,a[0]+=i;break}for(var f=0;f!=3;++f)a[f]=Math.round(a[f]*255);return a}function Bc(n,e){if(e===0)return n;var t=w7(b7(n));return e<0?t[2]=t[2]*(1+e):t[2]=1-(1-t[2])*(1-e),Wo(k7(t))}var E4=6,y7=15,x7=1,vr=E4;function jo(n){return Math.floor((n+Math.round(128/vr)/256)*vr)}function zo(n){return Math.floor((n-5)/vr*100+.5)/100}function Uc(n){return Math.round((n*vr+5)/vr*256)/256}function n0(n){return Uc(zo(jo(n)))}function Sh(n){var e=Math.abs(n-n0(n)),t=vr;if(e>.005)for(vr=x7;vr<y7;++vr)Math.abs(n-n0(n))<=e&&(e=Math.abs(n-n0(n)),t=vr);vr=t}function Gs(n){n.width?(n.wpx=jo(n.width),n.wch=zo(n.wpx),n.MDW=vr):n.wpx?(n.wch=zo(n.wpx),n.width=Uc(n.wch),n.MDW=vr):typeof n.wch=="number"&&(n.width=Uc(n.wch),n.wpx=jo(n.width),n.MDW=vr),n.customWidth&&delete n.customWidth}var T7=96,C4=T7;function qo(n){return n*96/C4}function El(n){return n*C4/96}var S7={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function E7(n,e,t,r){e.Borders=[];var i={},s=!1;(n[0].match(Cr)||[]).forEach(function(a){var l=gt(a);switch(as(l[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},l.diagonalUp&&(i.diagonalUp=on(l.diagonalUp)),l.diagonalDown&&(i.diagonalDown=on(l.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in borders")}})}function C7(n,e,t,r){e.Fills=[];var i={},s=!1;(n[0].match(Cr)||[]).forEach(function(a){var l=gt(a);switch(as(l[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":l.patternType&&(i.patternType=l.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),l.indexed&&(i.bgColor.indexed=parseInt(l.indexed,10)),l.theme&&(i.bgColor.theme=parseInt(l.theme,10)),l.tint&&(i.bgColor.tint=parseFloat(l.tint)),l.rgb&&(i.bgColor.rgb=l.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),l.theme&&(i.fgColor.theme=parseInt(l.theme,10)),l.tint&&(i.fgColor.tint=parseFloat(l.tint)),l.rgb!=null&&(i.fgColor.rgb=l.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fills")}})}function A7(n,e,t,r){e.Fonts=[];var i={},s=!1;(n[0].match(Cr)||[]).forEach(function(a){var l=gt(a);switch(as(l[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":l.val&&(i.name=tn(l.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=l.val?on(l.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=l.val?on(l.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(l.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=l.val?on(l.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=l.val?on(l.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=l.val?on(l.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=l.val?on(l.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=l.val?on(l.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":l.val&&(i.sz=+l.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":l.val&&(i.vertAlign=l.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":l.val&&(i.family=parseInt(l.val,10));break;case"<family/>":case"</family>":break;case"<scheme":l.val&&(i.scheme=l.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(l.val=="1")break;l.codepage=Jd[parseInt(l.val,10)];break;case"<color":if(i.color||(i.color={}),l.auto&&(i.color.auto=on(l.auto)),l.rgb)i.color.rgb=l.rgb.slice(-6);else if(l.indexed){i.color.index=parseInt(l.indexed,10);var o=ya[i.color.index];i.color.index==81&&(o=ya[1]),o||(o=ya[1]),i.color.rgb=o[0].toString(16)+o[1].toString(16)+o[2].toString(16)}else l.theme&&(i.color.theme=parseInt(l.theme,10),l.tint&&(i.color.tint=parseFloat(l.tint)),l.theme&&t.themeElements&&t.themeElements.clrScheme&&(i.color.rgb=Bc(t.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(r&&r.WTF&&!s)throw new Error("unrecognized "+l[0]+" in fonts")}})}function F7(n,e,t){e.NumberFmt=[];for(var r=An(pt),i=0;i<r.length;++i)e.NumberFmt[r[i]]=pt[r[i]];var s=n[0].match(Cr);if(s)for(i=0;i<s.length;++i){var a=gt(s[i]);switch(as(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var l=Ut(tn(a.formatCode)),o=parseInt(a.numFmtId,10);if(e.NumberFmt[o]=l,o>0){if(o>392){for(o=392;o>60&&e.NumberFmt[o]!=null;--o);e.NumberFmt[o]=l}es(l,o)}}break;case"</numFmt>":break;default:if(t.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function D7(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Ke("numFmt",null,{numFmtId:r,formatCode:Zt(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Ke("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Gf=["numFmtId","fillId","fontId","borderId","xfId"],Xf=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function O7(n,e,t){e.CellXf=[];var r,i=!1;(n[0].match(Cr)||[]).forEach(function(s){var a=gt(s),l=0;switch(as(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(r=a,delete r[0],l=0;l<Gf.length;++l)r[Gf[l]]&&(r[Gf[l]]=parseInt(r[Gf[l]],10));for(l=0;l<Xf.length;++l)r[Xf[l]]&&(r[Xf[l]]=on(r[Xf[l]]));if(e.NumberFmt&&r.numFmtId>392){for(l=392;l>60;--l)if(e.NumberFmt[r.numFmtId]==e.NumberFmt[l]){r.numFmtId=l;break}}e.CellXf.push(r);break;case"</xf>":break;case"<alignment":case"<alignment/>":var o={};a.vertical&&(o.vertical=a.vertical),a.horizontal&&(o.horizontal=a.horizontal),a.textRotation!=null&&(o.textRotation=a.textRotation),a.indent&&(o.indent=a.indent),a.wrapText&&(o.wrapText=on(a.wrapText)),r.alignment=o;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(t&&t.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function M7(n){var e=[];return e[e.length]=Ke("cellXfs",null),n.forEach(function(t){e[e.length]=Ke("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Ke("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var I7=function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,t=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,r=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(l,o,f){var c={};if(!l)return c;l=l.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var u;return(u=l.match(e))&&F7(u,c,f),(u=l.match(i))&&A7(u,c,o,f),(u=l.match(r))&&C7(u,c,o,f),(u=l.match(s))&&E7(u,c,o,f),(u=l.match(t))&&O7(u,c,f),c}}();function A4(n,e){var t=[Mn,Ke("styleSheet",null,{xmlns:Ua[0],"xmlns:vt":Zn.vt})],r;return n.SSF&&(r=D7(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=M7(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function N7(n,e){var t=n.read_shift(2),r=xr(n);return[t,r]}function P7(n,e,t){t||(t=De(6+4*e.length)),t.write_shift(2,n),ir(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function L7(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=gR(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var s=n.read_shift(2);switch(s===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var a=n.read_shift(1);a!=0&&(r.underline=a);var l=n.read_shift(1);l>0&&(r.family=l);var o=n.read_shift(1);switch(o>0&&(r.charset=o),n.l++,r.color=_R(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=xr(n),r}function R7(n,e){e||(e=De(25+4*32)),e.write_shift(2,n.sz*20),vR(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),Lc(n.color,e);var r=0;return n.scheme=="major"&&(r=1),n.scheme=="minor"&&(r=2),e.write_shift(1,r),ir(n.name,e),e.length>e.l?e.slice(0,e.l):e}var $7=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],r0,B7=Er;function Bv(n,e){e||(e=De(4*3+8*7+16*1)),r0||(r0=ou($7));var t=r0[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(Lc({auto:1},e),Lc({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function U7(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function F4(n,e,t){t||(t=De(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Zl(n,e){return e||(e=De(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var H7=Er;function V7(n,e){return e||(e=De(51)),e.write_shift(1,0),Zl(null,e),Zl(null,e),Zl(null,e),Zl(null,e),Zl(null,e),e.length>e.l?e.slice(0,e.l):e}function W7(n,e){return e||(e=De(12+4*10)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,+n.builtinId),e.write_shift(1,0),Pc(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function j7(n,e,t){var r=De(2052);return r.write_shift(4,n),Pc(e,r),Pc(t,r),r.length>r.l?r.slice(0,r.l):r}function z7(n,e,t){var r={};r.NumberFmt=[];for(var i in pt)r.NumberFmt[i]=pt[i];r.CellXf=[],r.Fonts=[];var s=[],a=!1;return Es(n,function(o,f,c){switch(c){case 44:r.NumberFmt[o[0]]=o[1],es(o[1],o[0]);break;case 43:r.Fonts.push(o),o.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(o.color.rgb=Bc(e.themeElements.clrScheme[o.color.theme].rgb,o.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&r.CellXf.push(o);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(c),a=!0;break;case 38:s.pop(),a=!1;break;default:if(f.T>0)s.push(c);else if(f.T<0)s.pop();else if(!a||t.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+c.toString(16))}}),r}function q7(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(Be(n,615,Bi(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Be(n,44,P7(i,e[i]))}),Be(n,616))}}function Y7(n){var e=1;Be(n,611,Bi(e)),Be(n,43,R7({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Be(n,612)}function G7(n){var e=2;Be(n,603,Bi(e)),Be(n,45,Bv({patternType:"none"})),Be(n,45,Bv({patternType:"gray125"})),Be(n,604)}function X7(n){var e=1;Be(n,613,Bi(e)),Be(n,46,V7()),Be(n,614)}function K7(n){var e=1;Be(n,626,Bi(e)),Be(n,47,F4({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Be(n,627)}function J7(n,e){Be(n,617,Bi(e.length)),e.forEach(function(t){Be(n,47,F4(t,0))}),Be(n,618)}function Z7(n){var e=1;Be(n,619,Bi(e)),Be(n,48,W7({xfId:0,builtinId:0,name:"Normal"})),Be(n,620)}function Q7(n){var e=0;Be(n,505,Bi(e)),Be(n,506)}function eB(n){var e=0;Be(n,508,j7(e,"TableStyleMedium9","PivotStyleMedium4")),Be(n,509)}function tB(n,e){var t=qr();return Be(t,278),q7(t,n.SSF),Y7(t),G7(t),X7(t),K7(t),J7(t,e.cellXfs),Z7(t),Q7(t),eB(t),Be(t,279),t.end()}var nB=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function rB(n,e,t){e.themeElements.clrScheme=[];var r={};(n[0].match(Cr)||[]).forEach(function(i){var s=gt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":r.rgb=s.val;break;case"<a:sysClr":r.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[nB.indexOf(s[0])]=r,r={}):r.name=s[0].slice(3,s[0].length-1);break;default:if(t&&t.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function iB(){}function sB(){}var aB=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,lB=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,oB=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function fB(n,e,t){e.themeElements={};var r;[["clrScheme",aB,rB],["fontScheme",lB,iB],["fmtScheme",oB,sB]].forEach(function(i){if(!(r=n.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](r,e,t)})}var cB=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function D4(n,e){(!n||n.length===0)&&(n=Eh());var t,r={};if(!(t=n.match(cB)))throw new Error("themeElements not found in theme");return fB(t[0],r,e),r.raw=n,r}function Eh(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Mn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function uB(n,e,t){var r=n.l+e,i=n.read_shift(4);if(i!==124226){if(!t.cellStyles){n.l=r;return}var s=n.slice(n.l);n.l=r;var a;try{a=Ex(s,{type:"array"})}catch{return}var l=Qr(a,"theme/theme/theme1.xml",!0);if(l)return D4(l,t)}}function dB(n){return n.read_shift(4)}function hB(n){var e={};switch(e.xclrType=n.read_shift(2),e.nTintShade=n.read_shift(2),e.xclrType){case 0:n.l+=4;break;case 1:e.xclrValue=pB(n,4);break;case 2:e.xclrValue=f4(n);break;case 3:e.xclrValue=dB(n);break;case 4:n.l+=4;break}return n.l+=8,e}function pB(n,e){return Er(n,e)}function mB(n,e){return Er(n,e)}function _B(n){var e=n.read_shift(2),t=n.read_shift(2)-4,r=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:r[1]=hB(n);break;case 6:r[1]=mB(n,t);break;case 14:case 15:r[1]=n.read_shift(t===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+t)}return r}function gB(n,e){var t=n.l+e;n.l+=2;var r=n.read_shift(2);n.l+=2;for(var i=n.read_shift(2),s=[];i-- >0;)s.push(_B(n,t-n.l));return{ixfe:r,ext:s}}function vB(n,e){e.forEach(function(t){switch(t[0]){}})}function bB(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:xr(n)}}function wB(n){var e=De(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),ir(n.name,e),e.slice(0,e.l)}function kB(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function yB(n){var e=De(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function xB(n,e){var t=De(8+2*e.length);return t.write_shift(4,n),ir(e,t),t.slice(0,t.l)}function TB(n){return n.l+=4,n.read_shift(4)!=0}function SB(n,e){var t=De(8);return t.write_shift(4,n),t.write_shift(4,e?1:0),t}function EB(n,e,t){var r={Types:[],Cell:[],Value:[]},i=t||{},s=[],a=!1,l=2;return Es(n,function(o,f,c){switch(c){case 335:r.Types.push({name:o.name});break;case 51:o.forEach(function(u){l==1?r.Cell.push({type:r.Types[u[0]-1].name,index:u[1]}):l==0&&r.Value.push({type:r.Types[u[0]-1].name,index:u[1]})});break;case 337:l=o?1:0;break;case 338:l=2;break;case 35:s.push(c),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!f.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function CB(){var n=qr();return Be(n,332),Be(n,334,Bi(1)),Be(n,335,wB({name:"XLDAPR",version:12e4,flags:3496657072})),Be(n,336),Be(n,339,xB(1,"XLDAPR")),Be(n,52),Be(n,35,Bi(514)),Be(n,4096,Bi(0)),Be(n,4097,gi(1)),Be(n,36),Be(n,53),Be(n,340),Be(n,337,SB(1,!0)),Be(n,51,yB([[1,0]])),Be(n,338),Be(n,333),n.end()}function AB(n,e,t){var r={Types:[],Cell:[],Value:[]};if(!n)return r;var i=!1,s=2,a;return n.replace(Cr,function(l){var o=gt(l);switch(as(o[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":r.Types.push({name:o.name});break;case"</metadataType>":break;case"<futureMetadata":for(var f=0;f<r.Types.length;++f)r.Types[f].name==o.name&&(a=r.Types[f]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?r.Cell.push({type:r.Types[o.t-1].name,index:+o.v}):s==0&&r.Value.push({type:r.Types[o.t-1].name,index:+o.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+o.i);break;default:if(!i&&t.WTF)throw new Error("unrecognized "+o[0]+" in metadata")}return l}),r}function O4(){var n=[Mn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function FB(n){var e=[];if(!n)return e;var t=1;return(n.match(Cr)||[]).forEach(function(r){var i=gt(r);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?t=i.i:i.i=t,e.push(i);break}}),e}function DB(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=_t(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}function OB(n,e,t){var r=[];return Es(n,function(s,a,l){switch(l){case 63:r.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+l.toString(16))}}),r}function MB(n,e,t,r){if(!n)return n;var i=r||{},s=!1;Es(n,function(l,o,f){switch(f){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!o.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}},i)}function IB(n,e){if(!n)return"??";var t=(n.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][t].Target}var sl=1024;function M4(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[Ke("xml",null,{"xmlns:v":Jr.v,"xmlns:o":Jr.o,"xmlns:x":Jr.x,"xmlns:mv":Jr.mv}).replace(/\/>/,">"),Ke("o:shapelayout",Ke("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Ke("v:shapetype",[Ke("v:stroke",null,{joinstyle:"miter"}),Ke("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];sl<n*1e3;)sl+=1e3;return e.forEach(function(s){var a=_n(s[0]),l={color2:"#BEFF82",type:"gradient"};l.type=="gradient"&&(l.angle="-180");var o=l.type=="gradient"?Ke("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Ke("v:fill",o,l),c={on:"t",obscured:"t"};++sl,i=i.concat(["<v:shape"+Uo({id:"_x0000_s"+sl,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Ke("v:shadow",null,c),Ke("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",cr("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),cr("x:AutoFill","False"),cr("x:Row",String(a.r)),cr("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function Uv(n,e,t,r){var i=Array.isArray(n),s;e.forEach(function(a){var l=_n(a.ref);if(i?(n[l.r]||(n[l.r]=[]),s=n[l.r][l.c]):s=n[a.ref],!s){s={t:"z"},i?n[l.r][l.c]=s:n[a.ref]=s;var o=It(n["!ref"]||"BDWGO1000001:A1");o.s.r>l.r&&(o.s.r=l.r),o.e.r<l.r&&(o.e.r=l.r),o.s.c>l.c&&(o.s.c=l.c),o.e.c<l.c&&(o.e.c=l.c);var f=Tt(o);f!==n["!ref"]&&(n["!ref"]=f)}s.c||(s.c=[]);var c={a:a.author,t:a.t,r:a.r,T:t};a.h&&(c.h=a.h);for(var u=s.c.length-1;u>=0;--u){if(!t&&s.c[u].T)return;t&&!s.c[u].T&&s.c.splice(u,1)}if(t&&r){for(u=0;u<r.length;++u)if(c.a==r[u].id){c.a=r[u].name||c.a;break}}s.c.push(c)})}function NB(n,e){if(n.match(/<(?:\w+:)?comments *\/>/))return[];var t=[],r=[],i=n.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var l=a.match(/<(?:\w+:)?author[^>]*>(.*)/);l&&t.push(l[1])}});var s=n.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var l=a.match(/<(?:\w+:)?comment[^>]*>/);if(l){var o=gt(l[0]),f={author:o.authorId&&t[o.authorId]||"sheetjsghost",ref:o.ref,guid:o.guid},c=_n(o.ref);if(!(e.sheetRows&&e.sheetRows<=c.r)){var u=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!u&&!!u[1]&&xh(u[1])||{r:"",t:"",h:""};f.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),f.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(f.h=d.h),r.push(f)}}}}),r}function I4(n){var e=[Mn,Ke("comments",null,{xmlns:Ua[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var s=Zt(i.a);t.indexOf(s)==-1&&(t.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,s=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(o){o.a&&(i=t.indexOf(Zt(o.a))),s.push(o.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(cr("t",Zt(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,l=1;l<s.length;++l)a+=`Reply:
    `+s[l]+`
`;e.push(cr("t",Zt(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function PB(n,e){var t=[],r=!1,i={},s=0;return n.replace(Cr,function(l,o){var f=gt(l);switch(as(f[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:f.personId,guid:f.id,ref:f.ref,T:1};break;case"</threadedComment>":i.t!=null&&t.push(i);break;case"<text>":case"<text":s=o+l.length;break;case"</text>":i.t=n.slice(s,o).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":r=!0;break;case"</mentions>":r=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+f[0]+" in threaded comments")}return l}),t}function LB(n,e,t){var r=[Mn,Ke("ThreadedComments",null,{xmlns:Zn.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,l){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var o={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};l==0?s=o.id:o.parentId=s,a.ID=o.id,a.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),r.push(Ke("threadedComment",cr("text",a.t||""),o))})}),r.push("</ThreadedComments>"),r.join("")}function RB(n,e){var t=[],r=!1;return n.replace(Cr,function(s){var a=gt(s);switch(as(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":t.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;default:if(!r&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),t}function $B(n){var e=[Mn,Ke("personList",null,{xmlns:Zn.TCMNT,"xmlns:x":Ua[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Ke("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function BB(n){var e={};e.iauthor=n.read_shift(4);var t=ja(n);return e.rfx=t.s,e.ref=_t(t.s),n.l+=16,e}function UB(n,e){return e==null&&(e=De(36)),e.write_shift(4,n[1].iauthor),Ll(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var HB=xr;function VB(n){return ir(n.slice(0,54))}function WB(n,e){var t=[],r=[],i={},s=!1;return Es(n,function(l,o,f){switch(f){case 632:r.push(l);break;case 635:i=l;break;case 637:i.t=l.t,i.h=l.h,i.r=l.r;break;case 636:if(i.author=r[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,t.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!o.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}),t}function jB(n){var e=qr(),t=[];return Be(e,628),Be(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Be(e,632,VB(i.a)))})}),Be(e,631),Be(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var s={s:_n(r[0]),e:_n(r[0])};Be(e,635,UB([s,i])),i.t&&i.t.length>0&&Be(e,637,dR(i)),Be(e,636),delete i.iauthor})}),Be(e,634),Be(e,629),e.end()}var zB="application/vnd.ms-office.vbaProject";function qB(n){var e=ft.utils.cfb_new({root:"R"});return n.FullPaths.forEach(function(t,r){if(!(t.slice(-1)==="/"||!t.match(/_VBA_PROJECT_CUR/))){var i=t.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");ft.utils.cfb_add(e,i,n.FileIndex[r].content)}}),ft.write(e)}function YB(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&ft.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var N4=["xlsb","xlsm","xlam","biff8","xla"];function GB(){return{"!type":"dialog"}}function XB(){return{"!type":"dialog"}}function KB(){return{"!type":"macro"}}function JB(){return{"!type":"macro"}}var ml=function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,s,a){var l=!1,o=!1;s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1)),a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1));var f=s.length>0?parseInt(s,10)|0:0,c=a.length>0?parseInt(a,10)|0:0;return l?c+=e.c:--c,o?f+=e.r:--f,i+(l?"":"$")+cn(c)+(o?"":"$")+xn(f)}return function(i,s){return e=s,i.replace(n,t)}}(),Ch=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Ah=function(){return function(e,t){return e.replace(Ch,function(r,i,s,a,l,o){var f=ph(a)-(s?0:t.c),c=hh(o)-(l?0:t.r),u=c==0?"":l?c+1:"["+c+"]",d=f==0?"":s?f+1:"["+f+"]";return i+"R"+u+"C"+d})}}();function P4(n,e){return n.replace(Ch,function(t,r,i,s,a,l){return r+(i=="$"?i+s:cn(ph(s)+e.c))+(a=="$"?a+l:xn(hh(l)+e.r))})}function ZB(n,e,t){var r=Lr(e),i=r.s,s=_n(t),a={r:s.r-i.r,c:s.c-i.c};return P4(n,a)}function QB(n){return n.length!=1}function Hv(n){return n.replace(/_xlfn\./g,"")}function Ln(n){n.l+=1}function Xs(n,e){var t=n.read_shift(e==1?1:2);return[t&16383,t>>14&1,t>>15&1]}function L4(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return R4(n);t.biff==12&&(r=4)}var i=n.read_shift(r),s=n.read_shift(r),a=Xs(n,2),l=Xs(n,2);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:l[0],cRel:l[1],rRel:l[2]}}}function R4(n){var e=Xs(n,2),t=Xs(n,2),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function eU(n,e,t){if(t.biff<8)return R4(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),s=Xs(n,2),a=Xs(n,2);return{s:{r,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function $4(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return tU(n);var r=n.read_shift(t&&t.biff==12?4:2),i=Xs(n,2);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function tU(n){var e=Xs(n,2),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function nU(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function rU(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return iU(n);var i=n.read_shift(r>=12?4:2),s=n.read_shift(2),a=(s&16384)>>14,l=(s&32768)>>15;if(s&=16383,l==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:l}}function iU(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function sU(n,e,t){var r=(n[n.l++]&96)>>5,i=L4(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function aU(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}var a=L4(n,s,t);return[r,i,a]}function lU(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function oU(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=8;if(t)switch(t.biff){case 5:n.l+=12,s=6;break;case 12:s=12;break}return n.l+=s,[r,i]}function fU(n,e,t){var r=(n[n.l++]&96)>>5,i=eU(n,e-1,t);return[r,i]}function cU(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function Vv(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function uU(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],s=0;s<=r;++s)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function dU(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function hU(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function pU(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function mU(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function B4(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function _U(n){return n.read_shift(2),B4(n)}function gU(n){return n.read_shift(2),B4(n)}function vU(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=$4(n,0,t);return[r,i]}function bU(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=rU(n,0,t);return[r,i]}function wU(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var s=$4(n,0,t);return[r,i,s]}function kU(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[TH[i],V4[i],r]}function yU(n,e,t){var r=n[n.l++],i=n.read_shift(1),s=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:xU(n);return[i,(s[0]===0?V4:xH)[s[1]]]}function xU(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function TU(n,e,t){n.l+=t&&t.biff==2?3:4}function SU(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function EU(n){return n.l++,Cs[n.read_shift(1)]}function CU(n){return n.l++,n.read_shift(2)}function AU(n){return n.l++,n.read_shift(1)!==0}function FU(n){return n.l++,br(n)}function DU(n,e,t){return n.l++,hf(n,e-1,t)}function OU(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Dn(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Cs[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=br(n);break;case 2:t[1]=za(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function MU(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],s=0;s!=r;++s)i.push((t.biff==12?ja:du)(n));return i}function IU(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var s=0,a=[];s!=r&&(a[s]=[]);++s)for(var l=0;l!=i;++l)a[s][l]=OU(n,t.biff);return a}function NU(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,s=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,s]}function PU(n,e,t){if(t.biff==5)return LU(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),s=n.read_shift(4);return[r,i,s]}function LU(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function RU(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function $U(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function BU(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function UU(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),s=4;if(t)switch(t.biff){case 5:s=15;break;case 12:s=6;break}return n.l+=s,[r,i]}var HU=Er,VU=Er,WU=Er;function mf(n,e,t){return n.l+=2,[nU(n)]}function Fh(n){return n.l+=6,[]}var jU=mf,zU=Fh,qU=Fh,YU=mf;function U4(n){return n.l+=2,[$n(n),n.read_shift(2)&1]}var GU=mf,XU=U4,KU=Fh,JU=mf,ZU=mf,QU=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function eH(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),s=n.read_shift(2),a=QU[t>>2&31];return{ixti:e,coltype:t&3,rt:a,idx:r,c:i,C:s}}function tH(n){return n.l+=2,[n.read_shift(4)]}function nH(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function rH(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function iH(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function sH(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function aH(n){return n.l+=4,[0,0]}var Wv={1:{n:"PtgExp",f:SU},2:{n:"PtgTbl",f:WU},3:{n:"PtgAdd",f:Ln},4:{n:"PtgSub",f:Ln},5:{n:"PtgMul",f:Ln},6:{n:"PtgDiv",f:Ln},7:{n:"PtgPower",f:Ln},8:{n:"PtgConcat",f:Ln},9:{n:"PtgLt",f:Ln},10:{n:"PtgLe",f:Ln},11:{n:"PtgEq",f:Ln},12:{n:"PtgGe",f:Ln},13:{n:"PtgGt",f:Ln},14:{n:"PtgNe",f:Ln},15:{n:"PtgIsect",f:Ln},16:{n:"PtgUnion",f:Ln},17:{n:"PtgRange",f:Ln},18:{n:"PtgUplus",f:Ln},19:{n:"PtgUminus",f:Ln},20:{n:"PtgPercent",f:Ln},21:{n:"PtgParen",f:Ln},22:{n:"PtgMissArg",f:Ln},23:{n:"PtgStr",f:DU},26:{n:"PtgSheet",f:nH},27:{n:"PtgEndSheet",f:rH},28:{n:"PtgErr",f:EU},29:{n:"PtgBool",f:AU},30:{n:"PtgInt",f:CU},31:{n:"PtgNum",f:FU},32:{n:"PtgArray",f:cU},33:{n:"PtgFunc",f:kU},34:{n:"PtgFuncVar",f:yU},35:{n:"PtgName",f:NU},36:{n:"PtgRef",f:vU},37:{n:"PtgArea",f:sU},38:{n:"PtgMemArea",f:RU},39:{n:"PtgMemErr",f:HU},40:{n:"PtgMemNoMem",f:VU},41:{n:"PtgMemFunc",f:$U},42:{n:"PtgRefErr",f:BU},43:{n:"PtgAreaErr",f:lU},44:{n:"PtgRefN",f:bU},45:{n:"PtgAreaN",f:fU},46:{n:"PtgMemAreaN",f:iH},47:{n:"PtgMemNoMemN",f:sH},57:{n:"PtgNameX",f:PU},58:{n:"PtgRef3d",f:wU},59:{n:"PtgArea3d",f:aU},60:{n:"PtgRefErr3d",f:UU},61:{n:"PtgAreaErr3d",f:oU},255:{}},lH={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},oH={1:{n:"PtgElfLel",f:U4},2:{n:"PtgElfRw",f:JU},3:{n:"PtgElfCol",f:jU},6:{n:"PtgElfRwV",f:ZU},7:{n:"PtgElfColV",f:YU},10:{n:"PtgElfRadical",f:GU},11:{n:"PtgElfRadicalS",f:KU},13:{n:"PtgElfColS",f:zU},15:{n:"PtgElfColSV",f:qU},16:{n:"PtgElfRadicalLel",f:XU},25:{n:"PtgList",f:eH},29:{n:"PtgSxName",f:tH},255:{}},fH={0:{n:"PtgAttrNoop",f:aH},1:{n:"PtgAttrSemi",f:mU},2:{n:"PtgAttrIf",f:hU},4:{n:"PtgAttrChoose",f:uU},8:{n:"PtgAttrGoto",f:dU},16:{n:"PtgAttrSum",f:TU},32:{n:"PtgAttrBaxcel",f:Vv},33:{n:"PtgAttrBaxcel",f:Vv},64:{n:"PtgAttrSpace",f:_U},65:{n:"PtgAttrSpaceSemi",f:gU},128:{n:"PtgAttrIfError",f:pU},255:{}};function _f(n,e,t,r){if(r.biff<8)return Er(n,e);for(var i=n.l+e,s=[],a=0;a!==t.length;++a)switch(t[a][0]){case"PtgArray":t[a][1]=IU(n,0,r),s.push(t[a][1]);break;case"PtgMemArea":t[a][2]=MU(n,t[a][1],r),s.push(t[a][2]);break;case"PtgExp":r&&r.biff==12&&(t[a][1][1]=n.read_shift(4),s.push(t[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[a][0]}return e=i-n.l,e!==0&&s.push(Er(n,e)),s}function gf(n,e,t){for(var r=n.l+e,i,s,a=[];r!=n.l;)e=r-n.l,s=n[n.l],i=Wv[s]||Wv[lH[s]],(s===24||s===25)&&(i=(s===24?oH:fH)[n[n.l+1]]),!i||!i.f?Er(n,e):a.push([i.n,i.f(n,e,t)]);return a}function cH(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],s=0;s<r.length;++s){var a=r[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var uH={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function dH(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function H4(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function jv(n,e,t){var r=H4(n,e,t);return r=="#REF"?r:dH(r,t)}function _r(n,e,t,r,i){var s=i&&i.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},l=[],o,f,c,u=0,d=0,h,m="";if(!n[0]||!n[0][0])return"";for(var p=-1,g="",v=0,w=n[0].length;v<w;++v){var k=n[0][v];switch(k[0]){case"PtgUminus":l.push("-"+l.pop());break;case"PtgUplus":l.push("+"+l.pop());break;case"PtgPercent":l.push(l.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(o=l.pop(),f=l.pop(),p>=0){switch(n[0][p][1][0]){case 0:g=kn(" ",n[0][p][1][1]);break;case 1:g=kn("\r",n[0][p][1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][p][1][0])}f=f+g,p=-1}l.push(f+uH[k[0]]+o);break;case"PtgIsect":o=l.pop(),f=l.pop(),l.push(f+" "+o);break;case"PtgUnion":o=l.pop(),f=l.pop(),l.push(f+","+o);break;case"PtgRange":o=l.pop(),f=l.pop(),l.push(f+":"+o);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=_o(k[1][1],a,i),l.push(go(c,s));break;case"PtgRefN":c=t?_o(k[1][1],t,i):k[1][1],l.push(go(c,s));break;case"PtgRef3d":u=k[1][1],c=_o(k[1][2],a,i),m=jv(r,u,i),l.push(m+"!"+go(c,s));break;case"PtgFunc":case"PtgFuncVar":var x=k[1][0],A=k[1][1];x||(x=0),x&=127;var T=x==0?[]:l.slice(-x);l.length-=x,A==="User"&&(A=T.shift()),l.push(A+"("+T.join(",")+")");break;case"PtgBool":l.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":l.push(k[1]);break;case"PtgNum":l.push(String(k[1]));break;case"PtgStr":l.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":l.push(k[1]);break;case"PtgAreaN":h=bv(k[1][1],t?{s:t}:a,i),l.push(Qu(h,i));break;case"PtgArea":h=bv(k[1][1],a,i),l.push(Qu(h,i));break;case"PtgArea3d":u=k[1][1],h=k[1][2],m=jv(r,u,i),l.push(m+"!"+Qu(h,i));break;case"PtgAttrSum":l.push("SUM("+l.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=k[1][2];var C=(r.names||[])[d-1]||(r[0]||[])[d],F=C?C.Name:"SH33TJSNAME"+String(d);F&&F.slice(0,6)=="_xlfn."&&!i.xlfn&&(F=F.slice(6)),l.push(F);break;case"PtgNameX":var O=k[1][1];d=k[1][2];var I;if(i.biff<=5)O<0&&(O=-O),r[O]&&(I=r[O][d]);else{var N="";if(((r[O]||[])[0]||[])[0]==14849||(((r[O]||[])[0]||[])[0]==1025?r[O][d]&&r[O][d].itab>0&&(N=r.SheetNames[r[O][d].itab-1]+"!"):N=r.SheetNames[d-1]+"!"),r[O]&&r[O][d])N+=r[O][d].Name;else if(r[0]&&r[0][d])N+=r[0][d].Name;else{var P=(H4(r,O,i)||"").split(";;");P[d-1]?N=P[d-1]:N+="SH33TJSERRX"}l.push(N);break}I||(I={Name:"SH33TJSERRY"}),l.push(I.Name);break;case"PtgParen":var R="(",Y=")";if(p>=0){switch(g="",n[0][p][1][0]){case 2:R=kn(" ",n[0][p][1][1])+R;break;case 3:R=kn("\r",n[0][p][1][1])+R;break;case 4:Y=kn(" ",n[0][p][1][1])+Y;break;case 5:Y=kn("\r",n[0][p][1][1])+Y;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][p][1][0])}p=-1}l.push(R+l.pop()+Y);break;case"PtgRefErr":l.push("#REF!");break;case"PtgRefErr3d":l.push("#REF!");break;case"PtgExp":c={c:k[1][1],r:k[1][0]};var ne={c:t.c,r:t.r};if(r.sharedf[_t(c)]){var V=r.sharedf[_t(c)];l.push(_r(V,a,ne,r,i))}else{var se=!1;for(o=0;o!=r.arrayf.length;++o)if(f=r.arrayf[o],!(c.c<f[0].s.c||c.c>f[0].e.c)&&!(c.r<f[0].s.r||c.r>f[0].e.r)){l.push(_r(f[1],a,ne,r,i)),se=!0;break}se||l.push(k[1])}break;case"PtgArray":l.push("{"+cH(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=v;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":l.push("");break;case"PtgAreaErr":l.push("#REF!");break;case"PtgAreaErr3d":l.push("#REF!");break;case"PtgList":l.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var ue=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&p>=0&&ue.indexOf(n[0][v][0])==-1){k=n[0][p];var U=!0;switch(k[1][0]){case 4:U=!1;case 0:g=kn(" ",k[1][1]);break;case 5:U=!1;case 1:g=kn("\r",k[1][1]);break;default:if(g="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}l.push((U?g:"")+l.pop()+(U?"":g)),p=-1}}if(l.length>1&&i.WTF)throw new Error("bad formula stack");return l[0]}function hH(n,e,t){var r=n.l+e,i=t.biff==2?1:2,s,a=n.read_shift(i);if(a==65535)return[[],Er(n,e-2)];var l=gf(n,a,t);return e!==a+i&&(s=_f(n,e-a-i,l,t)),n.l=r,[l,s]}function pH(n,e,t){var r=n.l+e,i=t.biff==2?1:2,s,a=n.read_shift(i);if(a==65535)return[[],Er(n,e-2)];var l=gf(n,a,t);return e!==a+i&&(s=_f(n,e-a-i,l,t)),n.l=r,[l,s]}function mH(n,e,t,r){var i=n.l+e,s=gf(n,r,t),a;return i!==n.l&&(a=_f(n,i-n.l,s,t)),[s,a]}function _H(n,e,t){var r=n.l+e,i,s=n.read_shift(2),a=gf(n,s,t);return s==65535?[[],Er(n,e-2)]:(e!==s+2&&(i=_f(n,r-s-2,a,t)),[a,i])}function gH(n){var e;if(gs(n,n.l+6)!==65535)return[br(n),"n"];switch(n[n.l]){case 0:return n.l+=8,["String","s"];case 1:return e=n[n.l+2]===1,n.l+=8,[e,"b"];case 2:return e=n[n.l+2],n.l+=8,[e,"e"];case 3:return n.l+=8,["","s"]}return[]}function vH(n){if(n==null){var e=De(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Ma(n);return Ma(0)}function i0(n,e,t){var r=n.l+e,i=ls(n);t.biff==2&&++n.l;var s=gH(n),a=n.read_shift(1);t.biff!=2&&(n.read_shift(1),t.biff>=5&&n.read_shift(4));var l=pH(n,r-n.l,t);return{cell:i,val:s[0],formula:l,shared:a>>3&1,tt:s[1]}}function bH(n,e,t,r,i){var s=Na(e,t,i),a=vH(n.v),l=De(6),o=33;l.write_shift(2,o),l.write_shift(4,0);for(var f=De(n.bf.length),c=0;c<n.bf.length;++c)f[c]=n.bf[c];var u=rr([s,a,l,f]);return u}function hu(n,e,t){var r=n.read_shift(4),i=gf(n,r,t),s=n.read_shift(4),a=s>0?_f(n,s,i,t):null;return[i,a]}var wH=hu,pu=hu,kH=hu,yH=hu,xH={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},V4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},TH={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function zv(n){return n.slice(0,3)=="of:"&&(n=n.slice(3)),n.charCodeAt(0)==61&&(n=n.slice(1),n.charCodeAt(0)==61&&(n=n.slice(1))),n=n.replace(/COM\.MICROSOFT\./g,""),n=n.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,t){return t.replace(/\./g,"")}),n=n.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),n.replace(/[;~]/g,",").replace(/\|/g,";")}function SH(n){var e="of:="+n.replace(Ch,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function s0(n){var e=n.split(":"),t=e[0].split(".")[0];return[t,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function EH(n){return n.replace(/\./,"!")}var bo={},_l={},wo=typeof Map<"u";function Dh(n,e,t){var r=0,i=n.length;if(t){if(wo?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var s=wo?t.get(e):t[e];r<s.length;++r)if(n[s[r]].t===e)return n.Count++,s[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(wo?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function mu(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(vr=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=zo(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=Uc(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function Sa(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(t=[1,1,1,1,.5,.5]),n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function ra(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,s=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){es(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=s;++i)if(n[i].numFmtId===r)return i;return n[s]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function W4(n,e,t,r,i,s){try{r.cellNF&&(n.z=pt[e])}catch(l){if(r.WTF)throw l}if(!(n.t==="z"&&!r.cellStyles)){if(n.t==="d"&&typeof n.v=="string"&&(n.v=un(n.v)),(!r||r.cellText!==!1)&&n.t!=="z")try{if(pt[e]==null&&es(xL[e]||"General",e),n.t==="e")n.w=n.w||Cs[n.v];else if(e===0)if(n.t==="n")(n.v|0)===n.v?n.w=n.v.toString(10):n.w=$o(n.v);else if(n.t==="d"){var a=er(n.v);(a|0)===a?n.w=a.toString(10):n.w=$o(a)}else{if(n.v===void 0)return"";n.w=Da(n.v,_l)}else n.t==="d"?n.w=si(e,er(n.v),_l):n.w=si(e,n.v,_l)}catch(l){if(r.WTF)throw l}if(r.cellStyles&&t!=null)try{n.s=s.Fills[t],n.s.fgColor&&n.s.fgColor.theme&&!n.s.fgColor.rgb&&(n.s.fgColor.rgb=Bc(i.themeElements.clrScheme[n.s.fgColor.theme].rgb,n.s.fgColor.tint||0),r.WTF&&(n.s.fgColor.raw_rgb=i.themeElements.clrScheme[n.s.fgColor.theme].rgb)),n.s.bgColor&&n.s.bgColor.theme&&(n.s.bgColor.rgb=Bc(i.themeElements.clrScheme[n.s.bgColor.theme].rgb,n.s.bgColor.tint||0),r.WTF&&(n.s.bgColor.raw_rgb=i.themeElements.clrScheme[n.s.bgColor.theme].rgb))}catch(l){if(r.WTF&&s.Fills)throw l}}}function CH(n,e,t){if(n&&n["!ref"]){var r=It(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function AH(n,e){var t=It(e);t.s.r<=t.e.r&&t.s.c<=t.e.c&&t.s.r>=0&&t.s.c>=0&&(n["!ref"]=Tt(t))}var FH=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,DH=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,OH=/<(?:\w:)?hyperlink [^>]*>/mg,MH=/"(\w*:\w*)"/,IH=/<(?:\w:)?col\b[^>]*[\/]?>/g,NH=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,PH=/<(?:\w:)?pageMargins[^>]*\/>/g,j4=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,LH=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,RH=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function $H(n,e,t,r,i,s,a){if(!n)return n;r||(r={"!id":{}});var l=e.dense?[]:{},o={s:{r:2e6,c:2e6},e:{r:0,c:0}},f="",c="",u=n.match(DH);u?(f=n.slice(0,u.index),c=n.slice(u.index+u[0].length)):f=c=n;var d=f.match(j4);d?Oh(d[0],l,i,t):(d=f.match(LH))&&UH(d[0],d[1]||"",l,i,t);var h=(f.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var m=f.slice(h,h+50).match(MH);m&&AH(l,m[1])}var p=f.match(RH);p&&p[1]&&QH(p[1],i);var g=[];if(e.cellStyles){var v=f.match(IH);v&&GH(g,v)}u&&nV(u[1],l,e,o,s,a);var w=c.match(NH);w&&(l["!autofilter"]=KH(w[0]));var k=[],x=c.match(FH);if(x)for(h=0;h!=x.length;++h)k[h]=It(x[h].slice(x[h].indexOf('"')+1));var A=c.match(OH);A&&zH(l,A,r);var T=c.match(PH);if(T&&(l["!margins"]=qH(gt(T[0]))),!l["!ref"]&&o.e.c>=o.s.c&&o.e.r>=o.s.r&&(l["!ref"]=Tt(o)),e.sheetRows>0&&l["!ref"]){var C=It(l["!ref"]);e.sheetRows<=+C.e.r&&(C.e.r=e.sheetRows-1,C.e.r>o.e.r&&(C.e.r=o.e.r),C.e.r<C.s.r&&(C.s.r=C.e.r),C.e.c>o.e.c&&(C.e.c=o.e.c),C.e.c<C.s.c&&(C.s.c=C.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Tt(C))}return g.length>0&&(l["!cols"]=g),k.length>0&&(l["!merges"]=k),l}function BH(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Tt(n[t])+'"/>';return e+"</mergeCells>"}function Oh(n,e,t,r){var i=gt(n);t.Sheets[r]||(t.Sheets[r]={}),i.codeName&&(t.Sheets[r].CodeName=Ut(tn(i.codeName)))}function UH(n,e,t,r,i){Oh(n.slice(0,n.indexOf(">")),t,r,i)}function HH(n,e,t,r,i){var s=!1,a={},l=null;if(r.bookType!=="xlsx"&&e.vbaraw){var o=e.SheetNames[t];try{e.Workbook&&(o=e.Workbook.Sheets[t].CodeName||o)}catch{}s=!0,a.codeName=Zi(Zt(o))}if(n&&n["!outline"]){var f={summaryBelow:1,summaryRight:1};n["!outline"].above&&(f.summaryBelow=0),n["!outline"].left&&(f.summaryRight=0),l=(l||"")+Ke("outlinePr",null,f)}!s&&!l||(i[i.length]=Ke("sheetPr",l,a))}var VH=["objects","scenarios","selectLockedCells","selectUnlockedCells"],WH=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function jH(n){var e={sheet:1};return VH.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),WH.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=Th(n.password).toString(16).toUpperCase()),Ke("sheetProtection",null,e)}function zH(n,e,t){for(var r=Array.isArray(n),i=0;i!=e.length;++i){var s=gt(tn(e[i]),!0);if(!s.ref)return;var a=((t||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Ut(s.location))):(s.Target="#"+Ut(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var l=It(s.ref),o=l.s.r;o<=l.e.r;++o)for(var f=l.s.c;f<=l.e.c;++f){var c=_t({c:f,r:o});r?(n[o]||(n[o]=[]),n[o][f]||(n[o][f]={t:"z",v:void 0}),n[o][f].l=s):(n[c]||(n[c]={t:"z",v:void 0}),n[c].l=s)}}}function qH(n){var e={};return["left","right","top","bottom","header","footer"].forEach(function(t){n[t]&&(e[t]=parseFloat(n[t]))}),e}function YH(n){return Sa(n),Ke("pageMargins",null,n)}function GH(n,e){for(var t=!1,r=0;r!=e.length;++r){var i=gt(e[r],!0);i.hidden&&(i.hidden=on(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!t&&i.width&&(t=!0,Sh(i.width)),Gs(i);s<=a;)n[s++]=rn(i)}}function XH(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=Ke("col",null,mu(i,r)));return t[t.length]="</cols>",t.join("")}function KH(n){var e={ref:(n.match(/ref="([^"]*)"/)||[])[1]};return e}function JH(n,e,t,r){var i=typeof n.ref=="string"?n.ref:Tt(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var s=t.Workbook.Names,a=Lr(i);a.s.r==a.e.r&&(a.e.r=Lr(e["!ref"]).e.r,i=Tt(a));for(var l=0;l<s.length;++l){var o=s[l];if(o.Name=="_xlnm._FilterDatabase"&&o.Sheet==r){o.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),Ke("autoFilter",null,{ref:i})}var ZH=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function QH(n,e){e.Views||(e.Views=[{}]),(n.match(ZH)||[]).forEach(function(t,r){var i=gt(t);e.Views[r]||(e.Views[r]={}),+i.zoomScale&&(e.Views[r].zoom=+i.zoomScale),on(i.rightToLeft)&&(e.Views[r].RTL=!0)})}function eV(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Ke("sheetViews",Ke("sheetView",null,i),{})}function tV(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",s=n.t,a=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=Cs[n.v];break;case"d":r&&r.cellDates?i=un(n.v,-1).toISOString():(n=rn(n),n.t="n",i=""+(n.v=er(un(n.v)))),typeof n.z>"u"&&(n.z=pt[14]);break;default:i=n.v;break}var l=cr("v",Zt(i)),o={r:e},f=ra(r.cellXfs,n,r);switch(f!==0&&(o.s=f),n.t){case"n":break;case"d":o.t="d";break;case"b":o.t="b";break;case"e":o.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){l=cr("v",""+Dh(r.Strings,n.v,r.revStrings)),o.t="s";break}o.t="str";break}if(n.t!=s&&(n.t=s,n.v=a),typeof n.f=="string"&&n.f){var c=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;l=Ke("f",Zt(n.f),c)+(n.v!=null?l:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(o.cm=1),Ke("c",l,o)}var nV=function(){var n=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,t=/r=["']([^"']*)["']/,r=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Bo("v"),a=Bo("f");return function(o,f,c,u,d,h){for(var m=0,p="",g=[],v=[],w=0,k=0,x=0,A="",T,C,F=0,O=0,I,N,P=0,R=0,Y=Array.isArray(h.CellXf),ne,V=[],se=[],ue=Array.isArray(f),U=[],be={},fe=!1,B=!!c.sheetStubs,K=o.split(e),G=0,J=K.length;G!=J;++G){p=K[G].trim();var de=p.length;if(de===0)continue;var me=0;e:for(m=0;m<de;++m)switch(p[m]){case">":if(p[m-1]!="/"){++m;break e}if(c&&c.cellStyles){if(C=gt(p.slice(me,m),!0),F=C.r!=null?parseInt(C.r,10):F+1,O=-1,c.sheetRows&&c.sheetRows<F)continue;be={},fe=!1,C.ht&&(fe=!0,be.hpt=parseFloat(C.ht),be.hpx=El(be.hpt)),C.hidden=="1"&&(fe=!0,be.hidden=!0),C.outlineLevel!=null&&(fe=!0,be.level=+C.outlineLevel),fe&&(U[F-1]=be)}break;case"<":me=m;break}if(me>=m)break;if(C=gt(p.slice(me,m),!0),F=C.r!=null?parseInt(C.r,10):F+1,O=-1,!(c.sheetRows&&c.sheetRows<F)){u.s.r>F-1&&(u.s.r=F-1),u.e.r<F-1&&(u.e.r=F-1),c&&c.cellStyles&&(be={},fe=!1,C.ht&&(fe=!0,be.hpt=parseFloat(C.ht),be.hpx=El(be.hpt)),C.hidden=="1"&&(fe=!0,be.hidden=!0),C.outlineLevel!=null&&(fe=!0,be.level=+C.outlineLevel),fe&&(U[F-1]=be)),g=p.slice(m).split(n);for(var we=0;we!=g.length&&g[we].trim().charAt(0)=="<";++we);for(g=g.slice(we),m=0;m!=g.length;++m)if(p=g[m].trim(),p.length!==0){if(v=p.match(t),w=m,k=0,x=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,v!=null&&v.length===2){for(w=0,A=v[1],k=0;k!=A.length&&!((x=A.charCodeAt(k)-64)<1||x>26);++k)w=26*w+x;--w,O=w}else++O;for(k=0;k!=p.length&&p.charCodeAt(k)!==62;++k);if(++k,C=gt(p.slice(0,k),!0),C.r||(C.r=_t({r:F-1,c:O})),A=p.slice(k),T={t:""},(v=A.match(s))!=null&&v[1]!==""&&(T.v=Ut(v[1])),c.cellFormula){if((v=A.match(a))!=null&&v[1]!==""){if(T.f=Ut(tn(v[1])).replace(/\r\n/g,`
`),c.xlfn||(T.f=Hv(T.f)),v[0].indexOf('t="array"')>-1)T.F=(A.match(i)||[])[1],T.F.indexOf(":")>-1&&V.push([It(T.F),T.F]);else if(v[0].indexOf('t="shared"')>-1){N=gt(v[0]);var Fe=Ut(tn(v[1]));c.xlfn||(Fe=Hv(Fe)),se[parseInt(N.si,10)]=[N,Fe,C.r]}}else(v=A.match(/<f[^>]*\/>/))&&(N=gt(v[0]),se[N.si]&&(T.f=ZB(se[N.si][1],se[N.si][2],C.r)));var Oe=_n(C.r);for(k=0;k<V.length;++k)Oe.r>=V[k][0].s.r&&Oe.r<=V[k][0].e.r&&Oe.c>=V[k][0].s.c&&Oe.c<=V[k][0].e.c&&(T.F=V[k][1])}if(C.t==null&&T.v===void 0)if(T.f||T.F)T.v=0,T.t="n";else if(B)T.t="z";else continue;else T.t=C.t||"n";switch(u.s.c>O&&(u.s.c=O),u.e.c<O&&(u.e.c=O),T.t){case"n":if(T.v==""||T.v==null){if(!B)continue;T.t="z"}else T.v=parseFloat(T.v);break;case"s":if(typeof T.v>"u"){if(!B)continue;T.t="z"}else I=bo[parseInt(T.v,10)],T.v=I.t,T.r=I.r,c.cellHTML&&(T.h=I.h);break;case"str":T.t="s",T.v=T.v!=null?tn(T.v):"",c.cellHTML&&(T.h=sh(T.v));break;case"inlineStr":v=A.match(r),T.t="s",v!=null&&(I=xh(v[1]))?(T.v=I.t,c.cellHTML&&(T.h=I.h)):T.v="";break;case"b":T.v=on(T.v);break;case"d":c.cellDates?T.v=un(T.v,1):(T.v=er(un(T.v,1)),T.t="n");break;case"e":(!c||c.cellText!==!1)&&(T.w=T.v),T.v=qx[T.v];break}if(P=R=0,ne=null,Y&&C.s!==void 0&&(ne=h.CellXf[C.s],ne!=null&&(ne.numFmtId!=null&&(P=ne.numFmtId),c.cellStyles&&ne.fillId!=null&&(R=ne.fillId))),W4(T,P,R,c,d,h),c.cellDates&&Y&&T.t=="n"&&Ba(pt[P])&&(T.t="d",T.v=cu(T.v)),C.cm&&c.xlmeta){var ye=(c.xlmeta.Cell||[])[+C.cm-1];ye&&ye.type=="XLDAPR"&&(T.D=!0)}if(ue){var te=_n(C.r);f[te.r]||(f[te.r]=[]),f[te.r][te.c]=T}else f[C.r]=T}}}U.length>0&&(f["!rows"]=U)}}();function rV(n,e,t,r){var i=[],s=[],a=It(n["!ref"]),l="",o,f="",c=[],u=0,d=0,h=n["!rows"],m=Array.isArray(n),p={r:f},g,v=-1;for(d=a.s.c;d<=a.e.c;++d)c[d]=cn(d);for(u=a.s.r;u<=a.e.r;++u){for(s=[],f=xn(u),d=a.s.c;d<=a.e.c;++d){o=c[d]+f;var w=m?(n[u]||[])[d]:n[o];w!==void 0&&(l=tV(w,o,n,e))!=null&&s.push(l)}(s.length>0||h&&h[u])&&(p={r:f},h&&h[u]&&(g=h[u],g.hidden&&(p.hidden=1),v=-1,g.hpx?v=qo(g.hpx):g.hpt&&(v=g.hpt),v>-1&&(p.ht=v,p.customHeight=1),g.level&&(p.outlineLevel=g.level)),i[i.length]=Ke("row",s.join(""),p))}if(h)for(;u<h.length;++u)h&&h[u]&&(p={r:u+1},g=h[u],g.hidden&&(p.hidden=1),v=-1,g.hpx?v=qo(g.hpx):g.hpt&&(v=g.hpt),v>-1&&(p.ht=v,p.customHeight=1),g.level&&(p.outlineLevel=g.level),i[i.length]=Ke("row","",p));return i.join("")}function z4(n,e,t,r){var i=[Mn,Ke("worksheet",null,{xmlns:Ua[0],"xmlns:r":Zn.r})],s=t.SheetNames[n],a=0,l="",o=t.Sheets[s];o==null&&(o={});var f=o["!ref"]||"A1",c=It(f);if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),f=Tt(c)}r||(r={}),o["!comments"]=[];var u=[];HH(o,t,n,e,i),i[i.length]=Ke("dimension",null,{ref:f}),i[i.length]=eV(o,e,n,t),e.sheetFormat&&(i[i.length]=Ke("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),o["!cols"]!=null&&o["!cols"].length>0&&(i[i.length]=XH(o,o["!cols"])),i[a=i.length]="<sheetData/>",o["!links"]=[],o["!ref"]!=null&&(l=rV(o,e),l.length>0&&(i[i.length]=l)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),o["!protect"]&&(i[i.length]=jH(o["!protect"])),o["!autofilter"]!=null&&(i[i.length]=JH(o["!autofilter"],o,t,n)),o["!merges"]!=null&&o["!merges"].length>0&&(i[i.length]=BH(o["!merges"]));var d=-1,h,m=-1;return o["!links"].length>0&&(i[i.length]="<hyperlinks>",o["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(m=Kt(r,-1,Zt(p[1].Target).replace(/#.*$/,""),Dt.HLINK),h["r:id"]="rId"+m),(d=p[1].Target.indexOf("#"))>-1&&(h.location=Zt(p[1].Target.slice(d+1))),p[1].Tooltip&&(h.tooltip=Zt(p[1].Tooltip)),i[i.length]=Ke("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete o["!links"],o["!margins"]!=null&&(i[i.length]=YH(o["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=cr("ignoredErrors",Ke("ignoredError",null,{numberStoredAsText:1,sqref:f}))),u.length>0&&(m=Kt(r,-1,"../drawings/drawing"+(n+1)+".xml",Dt.DRAW),i[i.length]=Ke("drawing",null,{"r:id":"rId"+m}),o["!drawing"]=u),o["!comments"].length>0&&(m=Kt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Dt.VML),i[i.length]=Ke("legacyDrawing",null,{"r:id":"rId"+m}),o["!legacy"]=m),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function iV(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var s=n.read_shift(1);return n.l=r,s&7&&(t.level=s&7),s&16&&(t.hidden=!0),s&32&&(t.hpt=i/20),t}function sV(n,e,t){var r=De(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var s=320;i.hpx?s=qo(i.hpx)*20:i.hpt&&(s=i.hpt*20),r.write_shift(2,s),r.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),r.write_shift(1,a),r.write_shift(1,0);var l=0,o=r.l;r.l+=4;for(var f={r:n,c:0},c=0;c<16;++c)if(!(e.s.c>c+1<<10||e.e.c<c<<10)){for(var u=-1,d=-1,h=c<<10;h<c+1<<10;++h){f.c=h;var m=Array.isArray(t)?(t[f.r]||[])[f.c]:t[_t(f)];m&&(u<0&&(u=h),d=h)}u<0||(++l,r.write_shift(4,u),r.write_shift(4,d))}var p=r.l;return r.l=o,r.write_shift(4,l),r.l=p,r.length>r.l?r.slice(0,r.l):r}function aV(n,e,t,r){var i=sV(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&Be(n,0,i)}var lV=ja,oV=Ll;function fV(){}function cV(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=hR(n),t}function uV(n,e,t){t==null&&(t=De(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return Lc({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),Hx(n,t),t.slice(0,t.l)}function dV(n){var e=Fi(n);return[e]}function hV(n,e,t){return t==null&&(t=De(8)),Ha(e,t)}function pV(n){var e=Va(n);return[e]}function mV(n,e,t){return t==null&&(t=De(4)),Wa(e,t)}function _V(n){var e=Fi(n),t=n.read_shift(1);return[e,t,"b"]}function gV(n,e,t){return t==null&&(t=De(9)),Ha(e,t),t.write_shift(1,n.v?1:0),t}function vV(n){var e=Va(n),t=n.read_shift(1);return[e,t,"b"]}function bV(n,e,t){return t==null&&(t=De(5)),Wa(e,t),t.write_shift(1,n.v?1:0),t}function wV(n){var e=Fi(n),t=n.read_shift(1);return[e,t,"e"]}function kV(n,e,t){return t==null&&(t=De(9)),Ha(e,t),t.write_shift(1,n.v),t}function yV(n){var e=Va(n),t=n.read_shift(1);return[e,t,"e"]}function xV(n,e,t){return t==null&&(t=De(8)),Wa(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function TV(n){var e=Fi(n),t=n.read_shift(4);return[e,t,"s"]}function SV(n,e,t){return t==null&&(t=De(12)),Ha(e,t),t.write_shift(4,e.v),t}function EV(n){var e=Va(n),t=n.read_shift(4);return[e,t,"s"]}function CV(n,e,t){return t==null&&(t=De(8)),Wa(e,t),t.write_shift(4,e.v),t}function AV(n){var e=Fi(n),t=br(n);return[e,t,"n"]}function FV(n,e,t){return t==null&&(t=De(16)),Ha(e,t),Ma(n.v,t),t}function q4(n){var e=Va(n),t=br(n);return[e,t,"n"]}function DV(n,e,t){return t==null&&(t=De(12)),Wa(e,t),Ma(n.v,t),t}function OV(n){var e=Fi(n),t=vh(n);return[e,t,"n"]}function MV(n,e,t){return t==null&&(t=De(12)),Ha(e,t),Vx(n.v,t),t}function IV(n){var e=Va(n),t=vh(n);return[e,t,"n"]}function NV(n,e,t){return t==null&&(t=De(8)),Wa(e,t),Vx(n.v,t),t}function PV(n){var e=Fi(n),t=mh(n);return[e,t,"is"]}function LV(n){var e=Fi(n),t=xr(n);return[e,t,"str"]}function RV(n,e,t){return t==null&&(t=De(12+4*n.v.length)),Ha(e,t),ir(n.v,t),t.length>t.l?t.slice(0,t.l):t}function $V(n){var e=Va(n),t=xr(n);return[e,t,"str"]}function BV(n,e,t){return t==null&&(t=De(8+4*n.v.length)),Wa(e,t),ir(n.v,t),t.length>t.l?t.slice(0,t.l):t}function UV(n,e,t){var r=n.l+e,i=Fi(n);i.r=t["!row"];var s=n.read_shift(1),a=[i,s,"b"];if(t.cellFormula){n.l+=2;var l=pu(n,r-n.l,t);a[3]=_r(l,null,i,t.supbooks,t)}else n.l=r;return a}function HV(n,e,t){var r=n.l+e,i=Fi(n);i.r=t["!row"];var s=n.read_shift(1),a=[i,s,"e"];if(t.cellFormula){n.l+=2;var l=pu(n,r-n.l,t);a[3]=_r(l,null,i,t.supbooks,t)}else n.l=r;return a}function VV(n,e,t){var r=n.l+e,i=Fi(n);i.r=t["!row"];var s=br(n),a=[i,s,"n"];if(t.cellFormula){n.l+=2;var l=pu(n,r-n.l,t);a[3]=_r(l,null,i,t.supbooks,t)}else n.l=r;return a}function WV(n,e,t){var r=n.l+e,i=Fi(n);i.r=t["!row"];var s=xr(n),a=[i,s,"str"];if(t.cellFormula){n.l+=2;var l=pu(n,r-n.l,t);a[3]=_r(l,null,i,t.supbooks,t)}else n.l=r;return a}var jV=ja,zV=Ll;function qV(n,e){return e==null&&(e=De(4)),e.write_shift(4,n),e}function YV(n,e){var t=n.l+e,r=ja(n),i=_h(n),s=xr(n),a=xr(n),l=xr(n);n.l=t;var o={rfx:r,relId:i,loc:s,display:l};return a&&(o.Tooltip=a),o}function GV(n,e){var t=De(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Ll({s:_n(n[0]),e:_n(n[0])},t),gh("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return ir(i||"",t),ir(n[1].Tooltip||"",t),ir("",t),t.slice(0,t.l)}function XV(){}function KV(n,e,t){var r=n.l+e,i=Wx(n),s=n.read_shift(1),a=[i];if(a[2]=s,t.cellFormula){var l=wH(n,r-n.l,t);a[1]=l}else n.l=r;return a}function JV(n,e,t){var r=n.l+e,i=ja(n),s=[i];if(t.cellFormula){var a=yH(n,r-n.l,t);s[1]=a,n.l=r}else n.l=r;return s}function ZV(n,e,t){t==null&&(t=De(18));var r=mu(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var Y4=["left","right","top","bottom","header","footer"];function QV(n){var e={};return Y4.forEach(function(t){e[t]=br(n)}),e}function eW(n,e){return e==null&&(e=De(6*8)),Sa(n),Y4.forEach(function(t){Ma(n[t],e)}),e}function tW(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function nW(n,e,t){t==null&&(t=De(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function rW(n){var e=De(24);return e.write_shift(4,4),e.write_shift(4,1),Ll(n,e),e}function iW(n,e){return e==null&&(e=De(16*4+2)),e.write_shift(2,n.password?Th(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function sW(){}function aW(){}function lW(n,e,t,r,i,s,a){if(!n)return n;var l=e||{};r||(r={"!id":{}});var o=l.dense?[]:{},f,c={s:{r:2e6,c:2e6},e:{r:0,c:0}},u=!1,d=!1,h,m,p,g,v,w,k,x,A,T=[];l.biff=12,l["!row"]=0;var C=0,F=!1,O=[],I={},N=l.supbooks||i.supbooks||[[]];if(N.sharedf=I,N.arrayf=O,N.SheetNames=i.SheetNames||i.Sheets.map(function(ue){return ue.name}),!l.supbooks&&(l.supbooks=N,i.Names))for(var P=0;P<i.Names.length;++P)N[0][P+1]=i.Names[P];var R=[],Y=[],ne=!1;Yo[16]={n:"BrtShortReal",f:q4};var V;if(Es(n,function(U,be,fe){if(!d)switch(fe){case 148:f=U;break;case 0:h=U,l.sheetRows&&l.sheetRows<=h.r&&(d=!0),x=xn(g=h.r),l["!row"]=h.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=El(U.hpt)),Y[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:U[2]},U[2]){case"n":m.v=U[1];break;case"s":k=bo[U[1]],m.v=k.t,m.r=k.r;break;case"b":m.v=!!U[1];break;case"e":m.v=U[1],l.cellText!==!1&&(m.w=Cs[m.v]);break;case"str":m.t="s",m.v=U[1];break;case"is":m.t="s",m.v=U[1].t;break}if((p=a.CellXf[U[0].iStyleRef])&&W4(m,p.numFmtId,null,l,s,a),v=U[0].c==-1?v+1:U[0].c,l.dense?(o[g]||(o[g]=[]),o[g][v]=m):o[cn(v)+x]=m,l.cellFormula){for(F=!1,C=0;C<O.length;++C){var B=O[C];h.r>=B[0].s.r&&h.r<=B[0].e.r&&v>=B[0].s.c&&v<=B[0].e.c&&(m.F=Tt(B[0]),F=!0)}!F&&U.length>3&&(m.f=U[3])}if(c.s.r>h.r&&(c.s.r=h.r),c.s.c>v&&(c.s.c=v),c.e.r<h.r&&(c.e.r=h.r),c.e.c<v&&(c.e.c=v),l.cellDates&&p&&m.t=="n"&&Ba(pt[p.numFmtId])){var K=$s(m.v);K&&(m.t="d",m.v=new Date(K.y,K.m-1,K.d,K.H,K.M,K.S,K.u))}V&&(V.type=="XLDAPR"&&(m.D=!0),V=void 0);break;case 1:case 12:if(!l.sheetStubs||u)break;m={t:"z",v:void 0},v=U[0].c==-1?v+1:U[0].c,l.dense?(o[g]||(o[g]=[]),o[g][v]=m):o[cn(v)+x]=m,c.s.r>h.r&&(c.s.r=h.r),c.s.c>v&&(c.s.c=v),c.e.r<h.r&&(c.e.r=h.r),c.e.c<v&&(c.e.c=v),V&&(V.type=="XLDAPR"&&(m.D=!0),V=void 0);break;case 176:T.push(U);break;case 49:V=((l.xlmeta||{}).Cell||[])[U-1];break;case 494:var G=r["!id"][U.relId];for(G?(U.Target=G.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=G):U.relId==""&&(U.Target="#"+U.loc),g=U.rfx.s.r;g<=U.rfx.e.r;++g)for(v=U.rfx.s.c;v<=U.rfx.e.c;++v)l.dense?(o[g]||(o[g]=[]),o[g][v]||(o[g][v]={t:"z",v:void 0}),o[g][v].l=U):(w=_t({c:v,r:g}),o[w]||(o[w]={t:"z",v:void 0}),o[w].l=U);break;case 426:if(!l.cellFormula)break;O.push(U),A=l.dense?o[g][v]:o[cn(v)+x],A.f=_r(U[1],c,{r:h.r,c:v},N,l),A.F=Tt(U[0]);break;case 427:if(!l.cellFormula)break;I[_t(U[0].s)]=U[1],A=l.dense?o[g][v]:o[cn(v)+x],A.f=_r(U[1],c,{r:h.r,c:v},N,l);break;case 60:if(!l.cellStyles)break;for(;U.e>=U.s;)R[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},ne||(ne=!0,Sh(U.w/256)),Gs(R[U.e+1]);break;case 161:o["!autofilter"]={ref:Tt(U)};break;case 476:o["!margins"]=U;break;case 147:i.Sheets[t]||(i.Sheets[t]={}),U.name&&(i.Sheets[t].CodeName=U.name),(U.above||U.left)&&(o["!outline"]={above:U.above,left:U.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),U.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:u=!0;break;case 36:u=!1;break;case 37:u=!0;break;case 38:u=!1;break;default:if(!be.T){if(!u||l.WTF)throw new Error("Unexpected record 0x"+fe.toString(16))}}},l),delete l.supbooks,delete l["!row"],!o["!ref"]&&(c.s.r<2e6||f&&(f.e.r>0||f.e.c>0||f.s.r>0||f.s.c>0))&&(o["!ref"]=Tt(f||c)),l.sheetRows&&o["!ref"]){var se=It(o["!ref"]);l.sheetRows<=+se.e.r&&(se.e.r=l.sheetRows-1,se.e.r>c.e.r&&(se.e.r=c.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>c.e.c&&(se.e.c=c.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Tt(se))}return T.length>0&&(o["!merges"]=T),R.length>0&&(o["!cols"]=R),Y.length>0&&(o["!rows"]=Y),o}function oW(n,e,t,r,i,s,a){if(e.v===void 0)return!1;var l="";switch(e.t){case"b":l=e.v?"1":"0";break;case"d":e=rn(e),e.z=e.z||pt[14],e.v=er(un(e.v)),e.t="n";break;case"n":case"e":l=""+e.v;break;default:l=e.v;break}var o={r:t,c:r};switch(o.s=ra(i.cellXfs,e,i),e.l&&s["!links"].push([_t(o),e.l]),e.c&&s["!comments"].push([_t(o),e.c]),e.t){case"s":case"str":return i.bookSST?(l=Dh(i.Strings,e.v,i.revStrings),o.t="s",o.v=l,a?Be(n,18,CV(e,o)):Be(n,7,SV(e,o))):(o.t="str",a?Be(n,17,BV(e,o)):Be(n,6,RV(e,o))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?Be(n,13,NV(e,o)):Be(n,2,MV(e,o)):a?Be(n,16,DV(e,o)):Be(n,5,FV(e,o)),!0;case"b":return o.t="b",a?Be(n,15,bV(e,o)):Be(n,4,gV(e,o)),!0;case"e":return o.t="e",a?Be(n,14,xV(e,o)):Be(n,3,kV(e,o)),!0}return a?Be(n,12,mV(e,o)):Be(n,1,hV(e,o)),!0}function fW(n,e,t,r){var i=It(e["!ref"]||"A1"),s,a="",l=[];Be(n,145);var o=Array.isArray(e),f=i.e.r;e["!rows"]&&(f=Math.max(i.e.r,e["!rows"].length-1));for(var c=i.s.r;c<=f;++c){a=xn(c),aV(n,e,i,c);var u=!1;if(c<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){c===i.s.r&&(l[d]=cn(d)),s=l[d]+a;var h=o?(e[c]||[])[d]:e[s];if(!h){u=!1;continue}u=oW(n,h,c,d,r,e,u)}}Be(n,146)}function cW(n,e){!e||!e["!merges"]||(Be(n,177,qV(e["!merges"].length)),e["!merges"].forEach(function(t){Be(n,176,zV(t))}),Be(n,178))}function uW(n,e){!e||!e["!cols"]||(Be(n,390),e["!cols"].forEach(function(t,r){t&&Be(n,60,ZV(r,t))}),Be(n,391))}function dW(n,e){!e||!e["!ref"]||(Be(n,648),Be(n,649,rW(It(e["!ref"]))),Be(n,650))}function hW(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Kt(t,-1,r[1].Target.replace(/#.*$/,""),Dt.HLINK);Be(n,494,GV(r,i))}}),delete e["!links"]}function pW(n,e,t,r){if(e["!comments"].length>0){var i=Kt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Dt.VML);Be(n,551,gh("rId"+i)),e["!legacy"]=i}}function mW(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:Tt(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var a=t.Workbook.Names,l=Lr(s);l.s.r==l.e.r&&(l.e.r=Lr(e["!ref"]).e.r,s=Tt(l));for(var o=0;o<a.length;++o){var f=a[o];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+t.SheetNames[r]+"'!"+s;break}}o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),Be(n,161,Ll(It(s))),Be(n,162)}}function _W(n,e,t){Be(n,133),Be(n,137,nW(e,t)),Be(n,138),Be(n,134)}function gW(n,e){e["!protect"]&&Be(n,535,iW(e["!protect"]))}function vW(n,e,t,r){var i=qr(),s=t.SheetNames[n],a=t.Sheets[s]||{},l=s;try{t&&t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch{}var o=It(a["!ref"]||"A1");if(o.e.c>16383||o.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");o.e.c=Math.min(o.e.c,16383),o.e.r=Math.min(o.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],Be(i,129),(t.vbaraw||a["!outline"])&&Be(i,147,uV(l,a["!outline"])),Be(i,148,oV(o)),_W(i,a,t.Workbook),uW(i,a),fW(i,a,n,e),gW(i,a),mW(i,a,t,n),cW(i,a),hW(i,a,r),a["!margins"]&&Be(i,476,eW(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&dW(i,a),pW(i,a,n,r),Be(i,130),i.end()}function bW(n){var e=[],t=n.match(/^<c:numCache>/),r;(n.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=t?+a[2]:a[2])});var i=Ut((n.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(n.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){r=s.replace(/<.*?>/g,"")}),[e,i,r]}function wW(n,e,t,r,i,s){var a=s||{"!type":"chart"};if(!n)return s;var l=0,o=0,f="A",c={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(n.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(u){var d=bW(u);c.s.r=c.s.c=0,c.e.c=l,f=cn(l),d[0].forEach(function(h,m){a[f+xn(m)]={t:"n",v:h,z:d[1]},o=m}),c.e.r<o&&(c.e.r=o),++l}),l>0&&(a["!ref"]=Tt(c)),a}function kW(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,l=n.match(j4);return l&&Oh(l[0],s,i,t),(a=n.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}function yW(n,e){n.l+=10;var t=xr(n);return{name:t}}function xW(n,e,t,r,i){if(!n)return n;r||(r={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Es(n,function(o,f,c){switch(c){case 550:s["!rel"]=o;break;case 651:i.Sheets[t]||(i.Sheets[t]={}),o.name&&(i.Sheets[t].CodeName=o.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(f.T>0)){if(!(f.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}},e),r["!id"][s["!rel"]]&&(s["!drawel"]=r["!id"][s["!rel"]]),s}var Mh=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],TW=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],SW=[],EW=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function qv(n,e){for(var t=0;t!=n.length;++t)for(var r=n[t],i=0;i!=e.length;++i){var s=e[i];if(r[s[0]]==null)r[s[0]]=s[1];else switch(s[2]){case"bool":typeof r[s[0]]=="string"&&(r[s[0]]=on(r[s[0]]));break;case"int":typeof r[s[0]]=="string"&&(r[s[0]]=parseInt(r[s[0]],10));break}}}function Yv(n,e){for(var t=0;t!=e.length;++t){var r=e[t];if(n[r[0]]==null)n[r[0]]=r[1];else switch(r[2]){case"bool":typeof n[r[0]]=="string"&&(n[r[0]]=on(n[r[0]]));break;case"int":typeof n[r[0]]=="string"&&(n[r[0]]=parseInt(n[r[0]],10));break}}}function G4(n){Yv(n.WBProps,Mh),Yv(n.CalcPr,EW),qv(n.WBView,TW),qv(n.Sheets,SW),_l.date1904=on(n.WBProps.date1904)}function CW(n){return!n.Workbook||!n.Workbook.WBProps?"false":on(n.Workbook.WBProps.date1904)?"true":"false"}var AW="][*?/\\".split("");function X4(n,e){if(n.length>31){if(e)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var t=!0;return AW.forEach(function(r){if(n.indexOf(r)!=-1){if(!e)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");t=!1}}),t}function FW(n,e,t){n.forEach(function(r,i){X4(r);for(var s=0;s<i;++s)if(r==n[s])throw new Error("Duplicate Sheet Name: "+r);if(t){var a=e&&e[i]&&e[i].CodeName||r;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function K4(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];FW(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)CH(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}var DW=/<\w+:workbook/;function OW(n,e){if(!n)throw new Error("Could not find file");var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},r=!1,i="xmlns",s={},a=0;if(n.replace(Cr,function(o,f){var c=gt(o);switch(as(c[0])){case"<?xml":break;case"<workbook":o.match(DW)&&(i="xmlns"+o.match(/<(\w+):/)[1]),t.xmlns=c[i];break;case"</workbook>":break;case"<fileVersion":delete c[0],t.AppVersion=c;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":Mh.forEach(function(u){if(c[u[0]]!=null)switch(u[2]){case"bool":t.WBProps[u[0]]=on(c[u[0]]);break;case"int":t.WBProps[u[0]]=parseInt(c[u[0]],10);break;default:t.WBProps[u[0]]=c[u[0]]}}),c.codeName&&(t.WBProps.CodeName=tn(c.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete c[0],t.WBView.push(c);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(c.state){case"hidden":c.Hidden=1;break;case"veryHidden":c.Hidden=2;break;default:c.Hidden=0}delete c.state,c.name=Ut(tn(c.name)),delete c[0],t.Sheets.push(c);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":r=!0;break;case"</definedNames>":r=!1;break;case"<definedName":s={},s.Name=tn(c.name),c.comment&&(s.Comment=c.comment),c.localSheetId&&(s.Sheet=+c.localSheetId),on(c.hidden||"0")&&(s.Hidden=!0),a=f+o.length;break;case"</definedName>":s.Ref=Ut(tn(n.slice(a,f))),t.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete c[0],t.CalcPr=c;break;case"<calcPr/>":delete c[0],t.CalcPr=c;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":r=!0;break;case"</ext>":r=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":r=!0;break;case"</AlternateContent>":r=!1;break;case"<revisionPtr":break;default:if(!r&&e.WTF)throw new Error("unrecognized "+c[0]+" in workbook")}return o}),Ua.indexOf(t.xmlns)===-1)throw new Error("Unknown Namespace: "+t.xmlns);return G4(t),t}function J4(n){var e=[Mn];e[e.length]=Ke("workbook",null,{xmlns:Ua[0],"xmlns:r":Zn.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(Mh.forEach(function(l){n.Workbook.WBProps[l[0]]!=null&&n.Workbook.WBProps[l[0]]!=l[1]&&(r[l[0]]=n.Workbook.WBProps[l[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Ke("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=n.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==n.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=n.SheetNames.length;++s){var a={name:Zt(n.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=Ke("sheet",null,a)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(l){var o={name:l.Name};l.Comment&&(o.comment=l.Comment),l.Sheet!=null&&(o.localSheetId=""+l.Sheet),l.Hidden&&(o.hidden="1"),l.Ref&&(e[e.length]=Ke("definedName",Zt(l.Ref),o))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function MW(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=Y0(n),t.name=xr(n),t}function IW(n,e){return e||(e=De(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),gh(n.strRelID,e),ir(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function NW(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?xr(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function PW(n,e){e||(e=De(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),Hx(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function LW(n,e){var t={};return n.read_shift(4),t.ArchID=n.read_shift(4),n.l+=e-8,t}function RW(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),s=pR(n),a=kH(n,0,t),l=_h(n);n.l=r;var o={Name:s,Ptg:a};return i<268435455&&(o.Sheet=i),l&&(o.Comment=l),o}function $W(n,e){var t={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},r=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],Yo[16]={n:"BrtFRTArchID$",f:LW},Es(n,function(o,f,c){switch(c){case 156:a.SheetNames.push(o.name),t.Sheets.push(o);break;case 153:t.WBProps=o;break;case 39:o.Sheet!=null&&(e.SID=o.Sheet),o.Ref=_r(o.Ptg,null,null,a,e),delete e.SID,delete o.Ptg,s.push(o);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([c,o]):a[0]=[c,o],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(o),a.XTI=a.XTI.concat(o);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:r.push(c),i=!0;break;case 36:r.pop(),i=!1;break;case 37:r.push(c),i=!0;break;case 38:r.pop(),i=!1;break;case 16:break;default:if(!f.T){if(!i||e.WTF&&r[r.length-1]!=37&&r[r.length-1]!=35)throw new Error("Unexpected record 0x"+c.toString(16))}}},e),G4(t),t.Names=s,t.supbooks=a,t}function BW(n,e){Be(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Be(n,156,IW(i))}Be(n,144)}function UW(n,e){e||(e=De(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return ir("SheetJS",e),ir(Lo.version,e),ir(Lo.version,e),ir("7262",e),e.length>e.l?e.slice(0,e.l):e}function HW(n,e){e||(e=De(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function VW(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,s=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&s==-1&&(s=r);s>i||(Be(n,135),Be(n,158,HW(i)),Be(n,136))}}function WW(n,e){var t=qr();return Be(t,131),Be(t,128,UW()),Be(t,153,PW(n.Workbook&&n.Workbook.WBProps||null)),VW(t,n),BW(t,n),Be(t,132),t.end()}function jW(n,e,t){return e.slice(-4)===".bin"?$W(n,t):OW(n,t)}function zW(n,e,t,r,i,s,a,l){return e.slice(-4)===".bin"?lW(n,r,t,i,s,a,l):$H(n,r,t,i,s,a,l)}function qW(n,e,t,r,i,s,a,l){return e.slice(-4)===".bin"?xW(n,r,t,i,s):kW(n,r,t,i,s)}function YW(n,e,t,r,i,s,a,l){return e.slice(-4)===".bin"?KB():JB()}function GW(n,e,t,r,i,s,a,l){return e.slice(-4)===".bin"?GB():XB()}function XW(n,e,t,r){return e.slice(-4)===".bin"?z7(n,t,r):I7(n,t,r)}function KW(n,e,t){return D4(n,t)}function JW(n,e,t){return e.slice(-4)===".bin"?Z9(n,t):X9(n,t)}function ZW(n,e,t){return e.slice(-4)===".bin"?WB(n,t):NB(n,t)}function QW(n,e,t){return e.slice(-4)===".bin"?OB(n):FB(n)}function ej(n,e,t,r){return t.slice(-4)===".bin"?MB(n,e,t,r):void 0}function tj(n,e,t){return e.slice(-4)===".bin"?EB(n,e,t):AB(n,e,t)}function nj(n,e,t){return(e.slice(-4)===".bin"?WW:J4)(n)}function rj(n,e,t,r,i){return(e.slice(-4)===".bin"?vW:z4)(n,t,r,i)}function ij(n,e,t){return(e.slice(-4)===".bin"?tB:A4)(n,t)}function sj(n,e,t){return(e.slice(-4)===".bin"?t7:w4)(n,t)}function aj(n,e,t){return(e.slice(-4)===".bin"?jB:I4)(n)}function lj(n){return(n.slice(-4)===".bin"?CB:O4)()}var Z4=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Q4=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ii(n,e){var t=n.split(/\s+/),r=[];if(e||(r[0]=t[0]),t.length===1)return r;var i=n.match(Z4),s,a,l,o;if(i)for(o=0;o!=i.length;++o)s=i[o].match(Q4),(a=s[1].indexOf(":"))===-1?r[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?l="xmlns"+s[1].slice(6):l=s[1].slice(a+1),r[l]=s[2].slice(1,s[2].length-1));return r}function oj(n){var e=n.split(/\s+/),t={};if(e.length===1)return t;var r=n.match(Z4),i,s,a,l;if(r)for(l=0;l!=r.length;++l)i=r[l].match(Q4),(s=i[1].indexOf(":"))===-1?t[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),t[a]=i[2].slice(1,i[2].length-1));return t}var ko;function fj(n,e){var t=ko[n]||Ut(n);return t==="General"?Da(e):si(t,e)}function cj(n,e,t,r){var i=r;switch((t[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=on(r);break;case"i2":case"int":i=parseInt(r,10);break;case"r4":case"float":i=parseFloat(r);break;case"date":case"dateTime.tz":i=un(r);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+t[0])}n[Ut(e)]=i}function uj(n,e,t){if(n.t!=="z"){if(!t||t.cellText!==!1)try{n.t==="e"?n.w=n.w||Cs[n.v]:e==="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=$o(n.v):n.w=Da(n.v):n.w=fj(e||"General",n.v)}catch(s){if(t.WTF)throw s}try{var r=ko[e]||e||"General";if(t.cellNF&&(n.z=r),t.cellDates&&n.t=="n"&&Ba(r)){var i=$s(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(t.WTF)throw s}}}function dj(n,e,t){if(t.cellStyles&&e.Interior){var r=e.Interior;r.Pattern&&(r.patternType=S7[r.Pattern]||r.Pattern)}n[e.ID]=e}function hj(n,e,t,r,i,s,a,l,o,f){var c="General",u=r.StyleID,d={};f=f||{};var h=[],m=0;for(u===void 0&&l&&(u=l.StyleID),u===void 0&&a&&(u=a.StyleID);s[u]!==void 0&&(s[u].nf&&(c=s[u].nf),s[u].Interior&&h.push(s[u].Interior),!!s[u].Parent);)u=s[u].Parent;switch(t.Type){case"Boolean":r.t="b",r.v=on(n);break;case"String":r.t="s",r.r=cv(Ut(n)),r.v=n.indexOf("<")>-1?Ut(e||n).replace(/<.*?>/g,""):r.r;break;case"DateTime":n.slice(-1)!="Z"&&(n+="Z"),r.v=(un(n)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),r.v!==r.v?r.v=Ut(n):r.v<60&&(r.v=r.v-1),(!c||c=="General")&&(c="yyyy-mm-dd");case"Number":r.v===void 0&&(r.v=+n),r.t||(r.t="n");break;case"Error":r.t="e",r.v=qx[n],f.cellText!==!1&&(r.w=n);break;default:n==""&&e==""?r.t="z":(r.t="s",r.v=cv(e||n));break}if(uj(r,c,f),f.cellFormula!==!1)if(r.Formula){var p=Ut(r.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),r.f=ml(p,i),delete r.Formula,r.ArrayRange=="RC"?r.F=ml("RC:RC",i):r.ArrayRange&&(r.F=ml(r.ArrayRange,i),o.push([It(r.F),r.F]))}else for(m=0;m<o.length;++m)i.r>=o[m][0].s.r&&i.r<=o[m][0].e.r&&i.c>=o[m][0].s.c&&i.c<=o[m][0].e.c&&(r.F=o[m][1]);f.cellStyles&&(h.forEach(function(g){!d.patternType&&g.patternType&&(d.patternType=g.patternType)}),r.s=d),r.StyleID!==void 0&&(r.ixfe=r.StyleID)}function pj(n){n.t=n.v||"",n.t=n.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),n.v=n.w=n.ixfe=void 0}function a0(n,e){var t=e||{};Il();var r=il(ah(n));(t.type=="binary"||t.type=="array"||t.type=="base64")&&(typeof Lt<"u"?r=Lt.utils.decode(65001,Fc(r)):r=tn(r));var i=r.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=rn(t);return a.type="string",Sl.to_workbook(r,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(_e){i.indexOf("<"+_e)>=0&&(s=!0)}),s)return Kj(r,t);ko={"General Number":"General","General Date":pt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":pt[15],"Short Date":pt[14],"Long Time":pt[19],"Medium Time":pt[18],"Short Time":pt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:pt[2],Standard:pt[4],Percent:pt[10],Scientific:pt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var l,o=[],f,c={},u=[],d=t.dense?[]:{},h="",m={},p={},g=Ii('<Data ss:Type="String">'),v=0,w=0,k=0,x={s:{r:2e6,c:2e6},e:{r:0,c:0}},A={},T={},C="",F=0,O=[],I={},N={},P=0,R=[],Y=[],ne={},V=[],se,ue=!1,U=[],be=[],fe={},B=0,K=0,G={Sheets:[],WBProps:{date1904:!1}},J={};Ho.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"");for(var de="";l=Ho.exec(r);)switch(l[3]=(de=l[3]).toLowerCase()){case"data":if(de=="data"){if(l[1]==="/"){if((f=o.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&o.push([l[3],!0]);break}if(o[o.length-1][1])break;l[1]==="/"?hj(r.slice(v,l.index),C,g,o[o.length-1][0]=="comment"?ne:m,{c:w,r:k},A,V[w],p,U,t):(C="",g=Ii(l[0]),v=l.index+l[0].length);break;case"cell":if(l[1]==="/")if(Y.length>0&&(m.c=Y),(!t.sheetRows||t.sheetRows>k)&&m.v!==void 0&&(t.dense?(d[k]||(d[k]=[]),d[k][w]=m):d[cn(w)+xn(k)]=m),m.HRef&&(m.l={Target:Ut(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(B=w+(parseInt(m.MergeAcross,10)|0),K=k+(parseInt(m.MergeDown,10)|0),O.push({s:{c:w,r:k},e:{c:B,r:K}})),!t.sheetStubs)m.MergeAcross?w=B+1:++w;else if(m.MergeAcross||m.MergeDown){for(var me=w;me<=B;++me)for(var we=k;we<=K;++we)(me>w||we>k)&&(t.dense?(d[we]||(d[we]=[]),d[we][me]={t:"z"}):d[cn(me)+xn(we)]={t:"z"});w=B+1}else++w;else m=oj(l[0]),m.Index&&(w=+m.Index-1),w<x.s.c&&(x.s.c=w),w>x.e.c&&(x.e.c=w),l[0].slice(-2)==="/>"&&++w,Y=[];break;case"row":l[1]==="/"||l[0].slice(-2)==="/>"?(k<x.s.r&&(x.s.r=k),k>x.e.r&&(x.e.r=k),l[0].slice(-2)==="/>"&&(p=Ii(l[0]),p.Index&&(k=+p.Index-1)),w=0,++k):(p=Ii(l[0]),p.Index&&(k=+p.Index-1),fe={},(p.AutoFitHeight=="0"||p.Height)&&(fe.hpx=parseInt(p.Height,10),fe.hpt=qo(fe.hpx),be[k]=fe),p.Hidden=="1"&&(fe.hidden=!0,be[k]=fe));break;case"worksheet":if(l[1]==="/"){if((f=o.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"));u.push(h),x.s.r<=x.e.r&&x.s.c<=x.e.c&&(d["!ref"]=Tt(x),t.sheetRows&&t.sheetRows<=x.e.r&&(d["!fullref"]=d["!ref"],x.e.r=t.sheetRows-1,d["!ref"]=Tt(x))),O.length&&(d["!merges"]=O),V.length>0&&(d["!cols"]=V),be.length>0&&(d["!rows"]=be),c[h]=d}else x={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=w=0,o.push([l[3],!1]),f=Ii(l[0]),h=Ut(f.Name),d=t.dense?[]:{},O=[],U=[],be=[],J={name:h,Hidden:0},G.Sheets.push(J);break;case"table":if(l[1]==="/"){if((f=o.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else{if(l[0].slice(-2)=="/>")break;o.push([l[3],!1]),V=[],ue=!1}break;case"style":l[1]==="/"?dj(A,T,t):T=Ii(l[0]);break;case"numberformat":T.nf=Ut(Ii(l[0]).Format||"General"),ko[T.nf]&&(T.nf=ko[T.nf]);for(var Fe=0;Fe!=392&&pt[Fe]!=T.nf;++Fe);if(Fe==392){for(Fe=57;Fe!=392;++Fe)if(pt[Fe]==null){es(T.nf,Fe);break}}break;case"column":if(o[o.length-1][0]!=="table")break;if(se=Ii(l[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!ue&&se.wpx>10){ue=!0,vr=E4;for(var Oe=0;Oe<V.length;++Oe)V[Oe]&&Gs(V[Oe])}ue&&Gs(se),V[se.Index-1||V.length]=se;for(var ye=0;ye<+se.Span;++ye)V[V.length]=rn(se);break;case"namedrange":if(l[1]==="/")break;G.Names||(G.Names=[]);var te=gt(l[0]),he={Name:te.Name,Ref:ml(te.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(he.Sheet=G.Sheets.length-1),G.Names.push(he);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(l[0].slice(-2)==="/>")break;l[1]==="/"?C+=r.slice(F,l.index):F=l.index+l[0].length;break;case"interior":if(!t.cellStyles)break;T.Interior=Ii(l[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(l[0].slice(-2)==="/>")break;l[1]==="/"?BR(I,de,r.slice(P,l.index)):P=l.index+l[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(l[1]==="/"){if((f=o.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else o.push([l[3],!1]);break;case"comment":if(l[1]==="/"){if((f=o.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"));pj(ne),Y.push(ne)}else o.push([l[3],!1]),f=Ii(l[0]),ne={a:f.Author};break;case"autofilter":if(l[1]==="/"){if((f=o.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else if(l[0].charAt(l[0].length-2)!=="/"){var qe=Ii(l[0]);d["!autofilter"]={ref:ml(qe.Range).replace(/\$/g,"")},o.push([l[3],!0])}break;case"name":break;case"datavalidation":if(l[1]==="/"){if((f=o.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&o.push([l[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(l[1]==="/"){if((f=o.pop())[0]!==l[3])throw new Error("Bad state: "+f.join("|"))}else l[0].charAt(l[0].length-2)!=="/"&&o.push([l[3],!0]);break;case"null":break;default:if(o.length==0&&l[3]=="document"||o.length==0&&l[3]=="uof")return Zv(r,t);var ot=!0;switch(o[o.length-1][0]){case"officedocumentsettings":switch(l[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ot=!1}break;case"componentoptions":switch(l[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ot=!1}break;case"excelworkbook":switch(l[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ot=!1}break;case"workbookoptions":switch(l[3]){case"owcversion":break;case"height":break;case"width":break;default:ot=!1}break;case"worksheetoptions":switch(l[3]){case"visible":if(l[0].slice(-2)!=="/>")if(l[1]==="/")switch(r.slice(P,l.index)){case"SheetHidden":J.Hidden=1;break;case"SheetVeryHidden":J.Hidden=2;break}else P=l.index+l[0].length;break;case"header":d["!margins"]||Sa(d["!margins"]={},"xlml"),isNaN(+gt(l[0]).Margin)||(d["!margins"].header=+gt(l[0]).Margin);break;case"footer":d["!margins"]||Sa(d["!margins"]={},"xlml"),isNaN(+gt(l[0]).Margin)||(d["!margins"].footer=+gt(l[0]).Margin);break;case"pagemargins":var ct=gt(l[0]);d["!margins"]||Sa(d["!margins"]={},"xlml"),isNaN(+ct.Top)||(d["!margins"].top=+ct.Top),isNaN(+ct.Left)||(d["!margins"].left=+ct.Left),isNaN(+ct.Right)||(d["!margins"].right=+ct.Right),isNaN(+ct.Bottom)||(d["!margins"].bottom=+ct.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ot=!1}break;case"pivottable":case"pivotcache":switch(l[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ot=!1}break;case"pagebreaks":switch(l[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ot=!1}break;case"autofilter":switch(l[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ot=!1}break;case"querytable":switch(l[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ot=!1}break;case"datavalidation":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ot=!1}break;case"sorting":case"conditionalformatting":switch(l[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ot=!1}break;case"mapinfo":case"schema":case"data":switch(l[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ot=!1}break;case"smarttags":break;default:ot=!1;break}if(ot||l[3].match(/!\[CDATA/))break;if(!o[o.length-1][1])throw"Unrecognized tag: "+l[3]+"|"+o.join("|");if(o[o.length-1][0]==="customdocumentproperties"){if(l[0].slice(-2)==="/>")break;l[1]==="/"?cj(N,de,R,r.slice(P,l.index)):(R=l,P=l.index+l[0].length);break}if(t.WTF)throw"Unrecognized tag: "+l[3]+"|"+o.join("|")}var Ce={};return!t.bookSheets&&!t.bookProps&&(Ce.Sheets=c),Ce.SheetNames=u,Ce.Workbook=G,Ce.SSF=rn(pt),Ce.Props=I,Ce.Custprops=N,Ce}function ed(n,e){switch(Ph(e=e||{}),e.type||"base64"){case"base64":return a0(ii(n),e);case"binary":case"buffer":case"file":return a0(n,e);case"array":return a0(ta(n),e)}}function mj(n,e){var t=[];return n.Props&&t.push(UR(n.Props,e)),n.Custprops&&t.push(HR(n.Props,n.Custprops)),t.join("")}function _j(){return""}function gj(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var s=[];s.push(Ke("NumberFormat",null,{"ss:Format":Zt(pt[r.numFmtId])}));var a={"ss:ID":"s"+(21+i)};t.push(Ke("Style",s.join(""),a))}),Ke("Styles",t.join(""))}function eT(n){return Ke("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+Ah(n.Ref,{r:0,c:0})})}function vj(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(eT(i)))}return Ke("Names",t.join(""))}function bj(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,s=[],a=0;a<i.length;++a){var l=i[a];l.Sheet==t&&(l.Name.match(/^_xlfn\./)||s.push(eT(l)))}return s.join("")}function wj(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(Ke("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(Ke("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(Ke("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(Ke("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<t&&!(r.Workbook.Sheets[s]&&!r.Workbook.Sheets[s].Hidden);++s);s==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(cr("ProtectContents","True")),n["!protect"].objects&&i.push(cr("ProtectObjects","True")),n["!protect"].scenarios&&i.push(cr("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(cr("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(cr("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){n["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":Ke("WorksheetOptions",i.join(""),{xmlns:Jr.x})}function kj(n){return n.map(function(e){var t=WL(e.t||""),r=Ke("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Ke("Comment",r,{"ss:Author":e.a})}).join("")}function yj(n,e,t,r,i,s,a){if(!n||n.v==null&&n.f==null)return"";var l={};if(n.f&&(l["ss:Formula"]="="+Zt(Ah(n.f,a))),n.F&&n.F.slice(0,e.length)==e){var o=_n(n.F.slice(e.length+1));l["ss:ArrayRange"]="RC:R"+(o.r==a.r?"":"["+(o.r-a.r)+"]")+"C"+(o.c==a.c?"":"["+(o.c-a.c)+"]")}if(n.l&&n.l.Target&&(l["ss:HRef"]=Zt(n.l.Target),n.l.Tooltip&&(l["x:HRefScreenTip"]=Zt(n.l.Tooltip))),t["!merges"])for(var f=t["!merges"],c=0;c!=f.length;++c)f[c].s.c!=a.c||f[c].s.r!=a.r||(f[c].e.c>f[c].s.c&&(l["ss:MergeAcross"]=f[c].e.c-f[c].s.c),f[c].e.r>f[c].s.r&&(l["ss:MergeDown"]=f[c].e.r-f[c].s.r));var u="",d="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":u="Number",d=String(n.v);break;case"b":u="Boolean",d=n.v?"1":"0";break;case"e":u="Error",d=Cs[n.v];break;case"d":u="DateTime",d=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||pt[14]);break;case"s":u="String",d=VL(n.v||"");break}var h=ra(r.cellXfs,n,r);l["ss:StyleID"]="s"+(21+h),l["ss:Index"]=a.c+1;var m=n.v!=null?d:"",p=n.t=="z"?"":'<Data ss:Type="'+u+'">'+m+"</Data>";return(n.c||[]).length>0&&(p+=kj(n.c)),Ke("Cell",p,l)}function xj(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=El(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function Tj(n,e,t,r){if(!n["!ref"])return"";var i=It(n["!ref"]),s=n["!merges"]||[],a=0,l=[];n["!cols"]&&n["!cols"].forEach(function(g,v){Gs(g);var w=!!g.width,k=mu(v,g),x={"ss:Index":v+1};w&&(x["ss:Width"]=jo(k.width)),g.hidden&&(x["ss:Hidden"]="1"),l.push(Ke("Column",null,x))});for(var o=Array.isArray(n),f=i.s.r;f<=i.e.r;++f){for(var c=[xj(f,(n["!rows"]||[])[f])],u=i.s.c;u<=i.e.c;++u){var d=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>u)&&!(s[a].s.r>f)&&!(s[a].e.c<u)&&!(s[a].e.r<f)){(s[a].s.c!=u||s[a].s.r!=f)&&(d=!0);break}if(!d){var h={r:f,c:u},m=_t(h),p=o?(n[f]||[])[u]:n[m];c.push(yj(p,m,n,e,t,r,h))}}c.push("</Row>"),c.length>2&&l.push(c.join(""))}return l.join("")}function Sj(n,e,t){var r=[],i=t.SheetNames[n],s=t.Sheets[i],a=s?bj(s,e,n,t):"";return a.length>0&&r.push("<Names>"+a+"</Names>"),a=s?Tj(s,e,n,t):"",a.length>0&&r.push("<Table>"+a+"</Table>"),r.push(wj(s,e,n,t)),r.join("")}function Ej(n,e){e||(e={}),n.SSF||(n.SSF=rn(pt)),n.SSF&&(Il(),uf(n.SSF),e.revssf=fu(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],ra(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(mj(n,e)),t.push(_j()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Ke("Worksheet",Sj(r,e,n),{"ss:Name":Zt(n.SheetNames[r])}));return t[2]=gj(n,e),t[3]=vj(n),Mn+Ke("Workbook",t.join(""),{xmlns:Jr.ss,"xmlns:o":Jr.o,"xmlns:x":Jr.x,"xmlns:ss":Jr.ss,"xmlns:dt":Jr.dt,"xmlns:html":Jr.html})}function Cj(n){var e={},t=n.content;if(t.l=28,e.AnsiUserType=t.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=bR(t),t.length-t.l<=4)return e;var r=t.read_shift(4);if(r==0||r>40||(t.l-=4,e.Reserved1=t.read_shift(0,"lpstr-ansi"),t.length-t.l<=4)||(r=t.read_shift(4),r!==1907505652)||(e.UnicodeClipboardFormat=wR(t),r=t.read_shift(4),r==0||r>40))return e;t.l-=4,e.Reserved2=t.read_shift(0,"lpwstr")}var Aj=[60,1084,2066,2165,2175];function Fj(n,e,t,r,i){var s=r,a=[],l=t.slice(t.l,t.l+s);if(i&&i.enc&&i.enc.insitu&&l.length>0)switch(n){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(l)}a.push(l),t.l+=s;for(var o=gs(t,t.l),f=td[o],c=0;f!=null&&Aj.indexOf(o)>-1;)s=gs(t,t.l+2),c=t.l+4,o==2066?c+=4:(o==2165||o==2175)&&(c+=12),l=t.slice(c,t.l+4+s),a.push(l),t.l+=4+s,f=td[o=gs(t,t.l)];var u=rr(a);fr(u,0);var d=0;u.lens=[];for(var h=0;h<a.length;++h)u.lens.push(d),d+=a[h].length;if(u.length<r)throw"XLS Record 0x"+n.toString(16)+" Truncated: "+u.length+" < "+r;return e.f(u,u.length,i)}function qi(n,e,t){if(n.t!=="z"&&n.XF){var r=0;try{r=n.z||n.XF.numFmtId||0,e.cellNF&&(n.z=pt[r])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{n.t==="e"?n.w=n.w||Cs[n.v]:r===0||r=="General"?n.t==="n"?(n.v|0)===n.v?n.w=n.v.toString(10):n.w=$o(n.v):n.w=Da(n.v):n.w=si(r,n.v,{date1904:!!t,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&r&&n.t=="n"&&Ba(pt[r]||String(r))){var i=$s(n.v);i&&(n.t="d",n.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function Kf(n,e,t){return{v:n,ixfe:e,t}}function Dj(n,e){var t={opts:{}},r={},i=e.dense?[]:{},s={},a={},l=null,o=[],f="",c={},u,d="",h,m,p,g,v={},w=[],k,x,A=[],T=[],C={Sheets:[],WBProps:{date1904:!1},Views:[{}]},F={},O=function(bt){return bt<8?ya[bt]:bt<64&&T[bt-8]||ya[bt]},I=function(bt,an,Nn){var ln=an.XF.data;if(!(!ln||!ln.patternType||!Nn||!Nn.cellStyles)){an.s={},an.s.patternType=ln.patternType;var vn;(vn=Wo(O(ln.icvFore)))&&(an.s.fgColor={rgb:vn}),(vn=Wo(O(ln.icvBack)))&&(an.s.bgColor={rgb:vn})}},N=function(bt,an,Nn){if(!(fe>1)&&!(Nn.sheetRows&&bt.r>=Nn.sheetRows)){if(Nn.cellStyles&&an.XF&&an.XF.data&&I(bt,an,Nn),delete an.ixfe,delete an.XF,u=bt,d=_t(bt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),bt.r<a.s.r&&(a.s.r=bt.r),bt.c<a.s.c&&(a.s.c=bt.c),bt.r+1>a.e.r&&(a.e.r=bt.r+1),bt.c+1>a.e.c&&(a.e.c=bt.c+1),Nn.cellFormula&&an.f){for(var ln=0;ln<w.length;++ln)if(!(w[ln][0].s.c>bt.c||w[ln][0].s.r>bt.r)&&!(w[ln][0].e.c<bt.c||w[ln][0].e.r<bt.r)){an.F=Tt(w[ln][0]),(w[ln][0].s.c!=bt.c||w[ln][0].s.r!=bt.r)&&delete an.f,an.f&&(an.f=""+_r(w[ln][1],a,bt,U,P));break}}Nn.dense?(i[bt.r]||(i[bt.r]=[]),i[bt.r][bt.c]=an):i[d]=an}},P={enc:!1,sbcch:0,snames:[],sharedf:v,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(P.password=e.password);var R,Y=[],ne=[],V=[],se=[],ue=!1,U=[];U.SheetNames=P.snames,U.sharedf=P.sharedf,U.arrayf=P.arrayf,U.names=[],U.XTI=[];var be=0,fe=0,B=0,K=[],G=[],J;P.codepage=1200,yi(1200);for(var de=!1;n.l<n.length-1;){var me=n.l,we=n.read_shift(2);if(we===0&&be===10)break;var Fe=n.l===n.length?0:n.read_shift(2),Oe=td[we];if(Oe&&Oe.f){if(e.bookSheets&&be===133&&we!==133)break;if(be=we,Oe.r===2||Oe.r==12){var ye=n.read_shift(2);if(Fe-=2,!P.enc&&ye!==we&&((ye&255)<<8|ye>>8)!==we)throw new Error("rt mismatch: "+ye+"!="+we);Oe.r==12&&(n.l+=10,Fe-=10)}var te={};if(we===10?te=Oe.f(n,Fe,P):te=Fj(we,Oe,n,Fe,P),fe==0&&[9,521,1033,2057].indexOf(be)===-1)continue;switch(we){case 34:t.opts.Date1904=C.WBProps.date1904=te;break;case 134:t.opts.WriteProtect=!0;break;case 47:if(P.enc||(n.l=0),P.enc=te,!e.password)throw new Error("File is password-protected");if(te.valid==null)throw new Error("Encryption scheme unsupported");if(!te.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=te;break;case 66:var he=Number(te);switch(he){case 21010:he=1200;break;case 32768:he=1e4;break;case 32769:he=1252;break}yi(P.codepage=he),de=!0;break;case 317:P.rrtabid=te;break;case 25:P.winlocked=te;break;case 439:t.opts.RefreshAll=te;break;case 12:t.opts.CalcCount=te;break;case 16:t.opts.CalcDelta=te;break;case 17:t.opts.CalcIter=te;break;case 13:t.opts.CalcMode=te;break;case 14:t.opts.CalcPrecision=te;break;case 95:t.opts.CalcSaveRecalc=te;break;case 15:P.CalcRefMode=te;break;case 2211:t.opts.FullCalc=te;break;case 129:te.fDialog&&(i["!type"]="dialog"),te.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),te.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:A.push(te);break;case 430:U.push([te]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(te);break;case 24:case 536:J={Name:te.Name,Ref:_r(te.rgce,a,null,U,P)},te.itab>0&&(J.Sheet=te.itab-1),U.names.push(J),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(te),te.Name=="_xlnm._FilterDatabase"&&te.itab>0&&te.rgce&&te.rgce[0]&&te.rgce[0][0]&&te.rgce[0][0][0]=="PtgArea3d"&&(G[te.itab-1]={ref:Tt(te.rgce[0][0][1][2])});break;case 22:P.ExternCount=te;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(te),U.XTI=U.XTI.concat(te);break;case 2196:if(P.biff<8)break;J!=null&&(J.Comment=te[1]);break;case 18:i["!protect"]=te;break;case 19:te!==0&&P.WTF&&console.error("Password verifier: "+te);break;case 133:s[te.pos]=te,P.snames.push(te.name);break;case 10:{if(--fe)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=Tt(a),e.sheetRows&&e.sheetRows<=a.e.r){var qe=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=Tt(a),a.e.r=qe}a.e.r++,a.e.c++}Y.length>0&&(i["!merges"]=Y),ne.length>0&&(i["!objects"]=ne),V.length>0&&(i["!cols"]=V),se.length>0&&(i["!rows"]=se),C.Sheets.push(F)}f===""?c=i:r[f]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[we]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[te.BIFFVer]||8),P.biffguess=te.BIFFVer==0,te.BIFFVer==0&&te.dt==4096&&(P.biff=5,de=!0,yi(P.codepage=28591)),P.biff==8&&te.BIFFVer==0&&te.dt==16&&(P.biff=2),fe++)break;if(i=e.dense?[]:{},P.biff<8&&!de&&(de=!0,yi(P.codepage=e.codepage||1252)),P.biff<5||te.BIFFVer==0&&te.dt==4096){f===""&&(f="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var ot={pos:n.l-Fe,name:f};s[ot.pos]=ot,P.snames.push(f)}else f=(s[me]||{name:""}).name;te.dt==32&&(i["!type"]="chart"),te.dt==64&&(i["!type"]="macro"),Y=[],ne=[],P.arrayf=w=[],V=[],se=[],ue=!1,F={Hidden:(s[me]||{hs:0}).hs,name:f}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[te.r]||[])[te.c]:i[_t({c:te.c,r:te.r})])&&++te.c,k={ixfe:te.ixfe,XF:A[te.ixfe]||{},v:te.val,t:"n"},B>0&&(k.z=K[k.ixfe>>8&63]),qi(k,e,t.opts.Date1904),N({c:te.c,r:te.r},k,e);break;case 5:case 517:k={ixfe:te.ixfe,XF:A[te.ixfe],v:te.val,t:te.t},B>0&&(k.z=K[k.ixfe>>8&63]),qi(k,e,t.opts.Date1904),N({c:te.c,r:te.r},k,e);break;case 638:k={ixfe:te.ixfe,XF:A[te.ixfe],v:te.rknum,t:"n"},B>0&&(k.z=K[k.ixfe>>8&63]),qi(k,e,t.opts.Date1904),N({c:te.c,r:te.r},k,e);break;case 189:for(var ct=te.c;ct<=te.C;++ct){var Ce=te.rkrec[ct-te.c][0];k={ixfe:Ce,XF:A[Ce],v:te.rkrec[ct-te.c][1],t:"n"},B>0&&(k.z=K[k.ixfe>>8&63]),qi(k,e,t.opts.Date1904),N({c:ct,r:te.r},k,e)}break;case 6:case 518:case 1030:{if(te.val=="String"){l=te;break}if(k=Kf(te.val,te.cell.ixfe,te.tt),k.XF=A[k.ixfe],e.cellFormula){var _e=te.formula;if(_e&&_e[0]&&_e[0][0]&&_e[0][0][0]=="PtgExp"){var je=_e[0][0][1][0],wt=_e[0][0][1][1],kt=_t({r:je,c:wt});v[kt]?k.f=""+_r(te.formula,a,te.cell,U,P):k.F=((e.dense?(i[je]||[])[wt]:i[kt])||{}).F}else k.f=""+_r(te.formula,a,te.cell,U,P)}B>0&&(k.z=K[k.ixfe>>8&63]),qi(k,e,t.opts.Date1904),N(te.cell,k,e),l=te}break;case 7:case 519:if(l)l.val=te,k=Kf(te,l.cell.ixfe,"s"),k.XF=A[k.ixfe],e.cellFormula&&(k.f=""+_r(l.formula,a,l.cell,U,P)),B>0&&(k.z=K[k.ixfe>>8&63]),qi(k,e,t.opts.Date1904),N(l.cell,k,e),l=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(te);var Qt=_t(te[0].s);if(h=e.dense?(i[te[0].s.r]||[])[te[0].s.c]:i[Qt],e.cellFormula&&h){if(!l||!Qt||!h)break;h.f=""+_r(te[1],a,te[0],U,P),h.F=Tt(te[0])}}break;case 1212:{if(!e.cellFormula)break;if(d){if(!l)break;v[_t(l.cell)]=te[0],h=e.dense?(i[l.cell.r]||[])[l.cell.c]:i[_t(l.cell)],(h||{}).f=""+_r(te[0],a,u,U,P)}}break;case 253:k=Kf(o[te.isst].t,te.ixfe,"s"),o[te.isst].h&&(k.h=o[te.isst].h),k.XF=A[k.ixfe],B>0&&(k.z=K[k.ixfe>>8&63]),qi(k,e,t.opts.Date1904),N({c:te.c,r:te.r},k,e);break;case 513:e.sheetStubs&&(k={ixfe:te.ixfe,XF:A[te.ixfe],t:"z"},B>0&&(k.z=K[k.ixfe>>8&63]),qi(k,e,t.opts.Date1904),N({c:te.c,r:te.r},k,e));break;case 190:if(e.sheetStubs)for(var dn=te.c;dn<=te.C;++dn){var gn=te.ixfe[dn-te.c];k={ixfe:gn,XF:A[gn],t:"z"},B>0&&(k.z=K[k.ixfe>>8&63]),qi(k,e,t.opts.Date1904),N({c:dn,r:te.r},k,e)}break;case 214:case 516:case 4:k=Kf(te.val,te.ixfe,"s"),k.XF=A[k.ixfe],B>0&&(k.z=K[k.ixfe>>8&63]),qi(k,e,t.opts.Date1904),N({c:te.c,r:te.r},k,e);break;case 0:case 512:fe===1&&(a=te);break;case 252:o=te;break;case 1054:if(P.biff==4){K[B++]=te[1];for(var At=0;At<B+163&&pt[At]!=te[1];++At);At>=163&&es(te[1],B+163)}else es(te[1],te[0]);break;case 30:{K[B++]=te;for(var Yn=0;Yn<B+163&&pt[Yn]!=te;++Yn);Yn>=163&&es(te,B+163)}break;case 229:Y=Y.concat(te);break;case 93:ne[te.cmo[0]]=P.lastobj=te;break;case 438:P.lastobj.TxO=te;break;case 127:P.lastobj.ImData=te;break;case 440:for(g=te[0].s.r;g<=te[0].e.r;++g)for(p=te[0].s.c;p<=te[0].e.c;++p)h=e.dense?(i[g]||[])[p]:i[_t({c:p,r:g})],h&&(h.l=te[1]);break;case 2048:for(g=te[0].s.r;g<=te[0].e.r;++g)for(p=te[0].s.c;p<=te[0].e.c;++p)h=e.dense?(i[g]||[])[p]:i[_t({c:p,r:g})],h&&h.l&&(h.l.Tooltip=te[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;h=e.dense?(i[te[0].r]||[])[te[0].c]:i[_t(te[0])];var li=ne[te[2]];h||(e.dense?(i[te[0].r]||(i[te[0].r]=[]),h=i[te[0].r][te[0].c]={t:"z"}):h=i[_t(te[0])]={t:"z"},a.e.r=Math.max(a.e.r,te[0].r),a.s.r=Math.min(a.s.r,te[0].r),a.e.c=Math.max(a.e.c,te[0].c),a.s.c=Math.min(a.s.c,te[0].c)),h.c||(h.c=[]),m={a:te[1],t:li.TxO.t},h.c.push(m)}break;case 2173:vB(A[te.ixfe],te.ext);break;case 125:{if(!P.cellStyles)break;for(;te.e>=te.s;)V[te.e--]={width:te.w/256,level:te.level||0,hidden:!!(te.flags&1)},ue||(ue=!0,Sh(te.w/256)),Gs(V[te.e+1])}break;case 520:{var In={};te.level!=null&&(se[te.r]=In,In.level=te.level),te.hidden&&(se[te.r]=In,In.hidden=!0),te.hpt&&(se[te.r]=In,In.hpt=te.hpt,In.hpx=El(te.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||Sa(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[we]]=te;break;case 161:i["!margins"]||Sa(i["!margins"]={}),i["!margins"].header=te.header,i["!margins"].footer=te.footer;break;case 574:te.RTL&&(C.Views[0].RTL=!0);break;case 146:T=te;break;case 2198:R=te;break;case 140:x=te;break;case 442:f?F.CodeName=te||F.name:C.WBProps.CodeName=te||"ThisWorkbook";break}}else Oe||console.error("Missing Info for XLS Record 0x"+we.toString(16)),n.l+=Fe}return t.SheetNames=An(s).sort(function(Gn,bt){return Number(Gn)-Number(bt)}).map(function(Gn){return s[Gn].name}),e.bookSheets||(t.Sheets=r),!t.SheetNames.length&&c["!ref"]?(t.SheetNames.push("Sheet1"),t.Sheets&&(t.Sheets.Sheet1=c)):t.Preamble=c,t.Sheets&&G.forEach(function(Gn,bt){t.Sheets[t.SheetNames[bt]]["!autofilter"]=Gn}),t.Strings=o,t.SSF=rn(pt),P.enc&&(t.Encryption=P.enc),R&&(t.Themes=R),t.Metadata={},x!==void 0&&(t.Metadata.Country=x),U.names.length>0&&(C.Names=U.names),t.Workbook=C,t}var yo={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Oj(n,e,t){var r=ft.find(n,"/!DocumentSummaryInformation");if(r&&r.size>0)try{var i=Av(r,G0,yo.DSI);for(var s in i)e[s]=i[s]}catch(f){if(t.WTF)throw f}var a=ft.find(n,"/!SummaryInformation");if(a&&a.size>0)try{var l=Av(a,X0,yo.SI);for(var o in l)e[o]==null&&(e[o]=l[o])}catch(f){if(t.WTF)throw f}e.HeadingPairs&&e.TitlesOfParts&&(Zx(e.HeadingPairs,e.TitlesOfParts,e,t),delete e.HeadingPairs,delete e.TitlesOfParts)}function Mj(n,e){var t=[],r=[],i=[],s=0,a,l=iv(G0,"n"),o=iv(X0,"n");if(n.Props)for(a=An(n.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(l,a[s])?t:Object.prototype.hasOwnProperty.call(o,a[s])?r:i).push([a[s],n.Props[a[s]]]);if(n.Custprops)for(a=An(n.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(n.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(l,a[s])?t:Object.prototype.hasOwnProperty.call(o,a[s])?r:i).push([a[s],n.Custprops[a[s]]]);var f=[];for(s=0;s<i.length;++s)s4.indexOf(i[s][0])>-1||Jx.indexOf(i[s][0])>-1||i[s][1]!=null&&f.push(i[s]);r.length&&ft.utils.cfb_add(e,"/SummaryInformation",Fv(r,yo.SI,o,X0)),(t.length||f.length)&&ft.utils.cfb_add(e,"/DocumentSummaryInformation",Fv(t,yo.DSI,l,G0,f.length?f:null,yo.UDI))}function Ih(n,e){e||(e={}),Ph(e),lu(),e.codepage&&au(e.codepage);var t,r;if(n.FullPaths){if(ft.find(n,"/encryption"))throw new Error("File is password-protected");t=ft.find(n,"!CompObj"),r=ft.find(n,"/Workbook")||ft.find(n,"/Book")}else{switch(e.type){case"base64":n=Zr(ii(n));break;case"binary":n=Zr(n);break;case"buffer":break;case"array":Array.isArray(n)||(n=Array.prototype.slice.call(n));break}fr(n,0),r={content:n}}var i,s;if(t&&Cj(t),e.bookProps&&!e.bookSheets)i={};else{var a=Ct?"buffer":"array";if(r&&r.content)i=Dj(r.content,e);else if((s=ft.find(n,"PerfectOffice_MAIN"))&&s.content)i=Ta.to_workbook(s.content,(e.type=a,e));else if((s=ft.find(n,"NativeContent_MAIN"))&&s.content)i=Ta.to_workbook(s.content,(e.type=a,e));else throw(s=ft.find(n,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&n.FullPaths&&ft.find(n,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=qB(n))}var l={};return n.FullPaths&&Oj(n,l,e),i.Props=i.Custprops=l,e.bookFiles&&(i.cfb=n),i}function Ij(n,e){var t=e||{},r=ft.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return ft.utils.cfb_add(r,i,tT(n,t)),t.biff==8&&(n.Props||n.Custprops)&&Mj(n,r),t.biff==8&&n.vbaraw&&YB(r,ft.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var Yo={0:{f:iV},1:{f:dV},2:{f:OV},3:{f:wV},4:{f:_V},5:{f:AV},6:{f:LV},7:{f:TV},8:{f:WV},9:{f:VV},10:{f:UV},11:{f:HV},12:{f:pV},13:{f:IV},14:{f:yV},15:{f:vV},16:{f:q4},17:{f:$V},18:{f:EV},19:{f:mh},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:RW},40:{},42:{},43:{f:L7},44:{f:N7},45:{f:B7},46:{f:H7},47:{f:U7},48:{},49:{f:lR},50:{},51:{f:kB},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:_4},62:{f:PV},63:{f:DB},64:{f:sW},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Er,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tW},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:cV},148:{f:lV,p:16},151:{f:XV},152:{},153:{f:NW},154:{},155:{},156:{f:MW},157:{},158:{},159:{T:1,f:J9},160:{T:-1},161:{T:1,f:ja},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:jV},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:bB},336:{T:-1},337:{f:TB,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Y0},357:{},358:{},359:{},360:{T:1},361:{},362:{f:m4},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:KV},427:{f:JV},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:QV},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:fV},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:YV},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Y0},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:HB},633:{T:1},634:{T:-1},635:{T:1,f:BB},636:{T:-1},637:{f:uR},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:yW},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:aW},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},td={6:{f:i0},10:{f:Os},12:{f:$n},13:{f:$n},14:{f:Dn},15:{f:Dn},16:{f:br},17:{f:Dn},18:{f:Dn},19:{f:$n},20:{f:Pv},21:{f:Pv},23:{f:m4},24:{f:Rv},25:{f:Dn},26:{},27:{},28:{f:a9},29:{},34:{f:Dn},35:{f:Lv},38:{f:br},39:{f:br},40:{f:br},41:{f:br},42:{f:Dn},43:{f:Dn},47:{f:v7},49:{f:I$},51:{f:$n},60:{},61:{f:A$},64:{f:Dn},65:{f:M$},66:{f:$n},77:{},80:{},81:{},82:{},85:{f:$n},89:{},90:{},91:{},92:{f:g$},93:{f:f9},94:{},95:{f:Dn},96:{},97:{},99:{f:Dn},125:{f:_4},128:{f:G$},129:{f:b$},130:{f:$n},131:{f:Dn},132:{f:Dn},133:{f:w$},134:{},140:{f:g9},141:{f:$n},144:{},146:{f:w9},151:{},152:{},153:{},154:{},155:{},156:{f:$n},157:{},158:{},160:{f:C9},161:{f:x9},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:j$},190:{f:z$},193:{f:Os},197:{},198:{},199:{},200:{},201:{},202:{f:Dn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:$n},220:{},221:{f:Dn},222:{},224:{f:Y$},225:{f:_$},226:{f:Os},227:{},229:{f:l9},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:y$},253:{f:P$},255:{f:T$},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:a4},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Dn},353:{f:Os},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Q$},431:{f:Dn},432:{},433:{},434:{},437:{},438:{f:d9},439:{f:Dn},440:{f:h9},441:{},442:{f:pf},443:{},444:{f:$n},445:{},446:{},448:{f:Os},449:{f:C$,r:2},450:{f:Os},512:{f:Mv},513:{f:E9},515:{f:J$},516:{f:R$},517:{f:Nv},519:{f:A9},520:{f:S$},523:{},545:{f:$v},549:{f:Ov},566:{},574:{f:D$},638:{f:W$},659:{},1048:{},1054:{f:B$},1084:{},1212:{f:r9},2048:{f:m9},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Yf},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Os},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:k9,r:12},2173:{f:gB,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Dn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:n9,r:12},2197:{},2198:{f:uB,r:12},2199:{},2200:{},2201:{},2202:{f:i9,r:12},2203:{f:Os},2204:{},2205:{},2206:{},2207:{},2211:{f:E$},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:$n},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:T9},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:b9},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:Mv},1:{},2:{f:I9},3:{f:O9},4:{f:D9},5:{f:Nv},7:{f:P9},8:{},9:{f:Yf},11:{},22:{f:$n},30:{f:H$},31:{},32:{},33:{f:$v},36:{},37:{f:Ov},50:{f:L9},62:{},52:{},67:{},68:{f:$n},69:{},86:{},126:{},127:{f:F9},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:R9},223:{},234:{},354:{},421:{},518:{f:i0},521:{f:Yf},536:{f:Rv},547:{f:Lv},561:{},579:{},1030:{f:i0},1033:{f:Yf},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Je(n,e,t,r){var i=e;if(!isNaN(i)){var s=r||(t||[]).length||0,a=n.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&dh(t)&&n.push(t)}}function Nj(n,e,t,r){var i=r||(t||[]).length||0;if(i<=8224)return Je(n,e,t,i);var s=e;if(!isNaN(s)){for(var a=t.parts||[],l=0,o=0,f=0;f+(a[l]||8224)<=8224;)f+=a[l]||8224,l++;var c=n.next(4);for(c.write_shift(2,s),c.write_shift(2,f),n.push(t.slice(o,o+f)),o+=f;o<i;){for(c=n.next(4),c.write_shift(2,60),f=0;f+(a[l]||8224)<=8224;)f+=a[l]||8224,l++;c.write_shift(2,f),n.push(t.slice(o,o+f)),o+=f}}}function vf(n,e,t){return n||(n=De(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function Pj(n,e,t,r){var i=De(9);return vf(i,n,e),l4(t,r||"b",i),i}function Lj(n,e,t){var r=De(8+2*t.length);return vf(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function Rj(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?er(un(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?Je(n,2,N9(t,r,i)):Je(n,3,M9(t,r,i));return;case"b":case"e":Je(n,5,Pj(t,r,e.v,e.t));return;case"s":case"str":Je(n,4,Lj(t,r,(e.v||"").slice(0,255)));return}Je(n,1,vf(null,t,r))}function $j(n,e,t,r){var i=Array.isArray(e),s=It(e["!ref"]||"A1"),a,l="",o=[];if(s.e.c>255||s.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=Tt(s)}for(var f=s.s.r;f<=s.e.r;++f){l=xn(f);for(var c=s.s.c;c<=s.e.c;++c){f===s.s.r&&(o[c]=cn(c)),a=o[c]+l;var u=i?(e[f]||[])[c]:e[a];u&&Rj(n,u,f,c)}}}function Bj(n,e){for(var t=e||{},r=qr(),i=0,s=0;s<n.SheetNames.length;++s)n.SheetNames[s]==t.sheet&&(i=s);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Je(r,t.biff==4?1033:t.biff==3?521:9,yh(n,16,t)),$j(r,n.Sheets[n.SheetNames[i]],i,t),Je(r,10),r.end()}function Uj(n,e,t){Je(n,49,N$({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},t))}function Hj(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Je(n,1054,U$(i,e[i],t))})}function Vj(n,e){var t=De(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Je(n,2151,t),t=De(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),d4(It(e["!ref"]||"A1"),t),t.write_shift(4,4),Je(n,2152,t)}function Wj(n,e){for(var t=0;t<16;++t)Je(n,224,Iv({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Je(n,224,Iv(r,0,e))})}function jj(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Je(n,440,p9(r)),r[1].Tooltip&&Je(n,2048,_9(r))}delete e["!links"]}function zj(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&Je(n,125,y9(mu(i,r),i))})}}function qj(n,e,t,r,i){var s=16+ra(i.cellXfs,e,i);if(e.v==null&&!e.bf){Je(n,513,Na(t,r,s));return}if(e.bf)Je(n,6,bH(e,t,r,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?er(un(e.v)):e.v;Je(n,515,Z$(t,r,a,s));break;case"b":case"e":Je(n,517,K$(t,r,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var l=Dh(i.Strings,e.v,i.revStrings);Je(n,253,L$(t,r,l,s))}else Je(n,516,$$(t,r,(e.v||"").slice(0,255),s,i));break;default:Je(n,513,Na(t,r,s))}}function Yj(n,e,t){var r=qr(),i=t.SheetNames[n],s=t.Sheets[i]||{},a=(t||{}).Workbook||{},l=(a.Sheets||[])[n]||{},o=Array.isArray(s),f=e.biff==8,c,u="",d=[],h=It(s["!ref"]||"A1"),m=f?65536:16384;if(h.e.c>255||h.e.r>=m){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,m-1)}Je(r,2057,yh(t,16,e)),Je(r,13,gi(1)),Je(r,12,gi(100)),Je(r,15,Ir(!0)),Je(r,17,Ir(!1)),Je(r,16,Ma(.001)),Je(r,95,Ir(!0)),Je(r,42,Ir(!1)),Je(r,43,Ir(!1)),Je(r,130,gi(1)),Je(r,128,X$([0,0])),Je(r,131,Ir(!1)),Je(r,132,Ir(!1)),f&&zj(r,s["!cols"]),Je(r,512,V$(h,e)),f&&(s["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){u=xn(p);for(var g=h.s.c;g<=h.e.c;++g){p===h.s.r&&(d[g]=cn(g)),c=d[g]+u;var v=o?(s[p]||[])[g]:s[c];v&&(qj(r,v,p,g,e),f&&v.l&&s["!links"].push([c,v.l]))}}var w=l.CodeName||l.name||i;return f&&Je(r,574,O$((a.Views||[])[0])),f&&(s["!merges"]||[]).length&&Je(r,229,o9(s["!merges"])),f&&jj(r,s),Je(r,442,o4(w)),f&&Vj(r,s),Je(r,10),r.end()}function Gj(n,e,t){var r=qr(),i=(n||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},l=t.biff==8,o=t.biff==5;if(Je(r,2057,yh(n,5,t)),t.bookType=="xla"&&Je(r,135),Je(r,225,l?gi(1200):null),Je(r,193,KR(2)),o&&Je(r,191),o&&Je(r,192),Je(r,226),Je(r,92,v$("SheetJS",t)),Je(r,66,gi(l?1200:1252)),l&&Je(r,353,gi(0)),l&&Je(r,448),Je(r,317,S9(n.SheetNames.length)),l&&n.vbaraw&&Je(r,211),l&&n.vbaraw){var f=a.CodeName||"ThisWorkbook";Je(r,442,o4(f))}Je(r,156,gi(17)),Je(r,25,Ir(!1)),Je(r,18,Ir(!1)),Je(r,19,gi(0)),l&&Je(r,431,Ir(!1)),l&&Je(r,444,gi(0)),Je(r,61,F$()),Je(r,64,Ir(!1)),Je(r,141,gi(0)),Je(r,34,Ir(CW(n)=="true")),Je(r,14,Ir(!0)),l&&Je(r,439,Ir(!1)),Je(r,218,gi(0)),Uj(r,n,t),Hj(r,n.SSF,t),Wj(r,t),l&&Je(r,352,Ir(!1));var c=r.end(),u=qr();l&&Je(u,140,v9()),l&&t.Strings&&Nj(u,252,x$(t.Strings)),Je(u,10);var d=u.end(),h=qr(),m=0,p=0;for(p=0;p<n.SheetNames.length;++p)m+=(l?12:11)+(l?2:1)*n.SheetNames[p].length;var g=c.length+m+d.length;for(p=0;p<n.SheetNames.length;++p){var v=s[p]||{};Je(h,133,k$({pos:g,hs:v.Hidden||0,dt:0,name:n.SheetNames[p]},t)),g+=e[p].length}var w=h.end();if(m!=w.length)throw new Error("BS8 "+m+" != "+w.length);var k=[];return c.length&&k.push(c),w.length&&k.push(w),d.length&&k.push(d),rr(k)}function Xj(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=rn(pt)),n&&n.SSF&&(Il(),uf(n.SSF),t.revssf=fu(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Lh(t),t.cellXfs=[],ra(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=Yj(i,t,n);return r.unshift(Gj(n,r,t)),rr(r)}function tT(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=Lr(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Xj(n,e);case 4:case 3:case 2:return Bj(n,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function Gv(n,e){var t=e||{},r=t.dense?[]:{};n=n.replace(/<!--.*?-->/g,"");var i=n.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=n.match(/<\/table/i),a=i.index,l=s&&s.index||n.length,o=PL(n.slice(a,l),/(:?<tr[^>]*>)/i,"<tr>"),f=-1,c=0,u=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(a=0;a<o.length;++a){var p=o[a].trim(),g=p.slice(0,3).toLowerCase();if(g=="<tr"){if(++f,t.sheetRows&&t.sheetRows<=f){--f;break}c=0;continue}if(!(g!="<td"&&g!="<th")){var v=p.split(/<\/t[dh]>/i);for(l=0;l<v.length;++l){var w=v[l].trim();if(w.match(/<t[dh]/i)){for(var k=w,x=0;k.charAt(0)=="<"&&(x=k.indexOf(">"))>-1;)k=k.slice(x+1);for(var A=0;A<m.length;++A){var T=m[A];T.s.c==c&&T.s.r<f&&f<=T.e.r&&(c=T.e.c+1,A=-1)}var C=gt(w.slice(0,w.indexOf(">")));d=C.colspan?+C.colspan:1,((u=+C.rowspan)>1||d>1)&&m.push({s:{r:f,c},e:{r:f+(u||1)-1,c:c+d-1}});var F=C.t||C["data-t"]||"";if(!k.length){c+=d;continue}if(k=Fx(k),h.s.r>f&&(h.s.r=f),h.e.r<f&&(h.e.r=f),h.s.c>c&&(h.s.c=c),h.e.c<c&&(h.e.c=c),!k.length){c+=d;continue}var O={t:"s",v:k};t.raw||!k.trim().length||F=="s"||(k==="TRUE"?O={t:"b",v:!0}:k==="FALSE"?O={t:"b",v:!1}:isNaN($i(k))?isNaN(Tl(k).getDate())||(O={t:"d",v:un(k)},t.cellDates||(O={t:"n",v:er(O.v)}),O.z=t.dateNF||pt[14]):O={t:"n",v:$i(k)}),t.dense?(r[f]||(r[f]=[]),r[f][c]=O):r[_t({r:f,c})]=O,c+=d}}}}return r["!ref"]=Tt(h),m.length&&(r["!merges"]=m),r}function nT(n,e,t,r){for(var i=n["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var l=0,o=0,f=0;f<i.length;++f)if(!(i[f].s.r>t||i[f].s.c>a)&&!(i[f].e.r<t||i[f].e.c<a)){if(i[f].s.r<t||i[f].s.c<a){l=-1;break}l=i[f].e.r-i[f].s.r+1,o=i[f].e.c-i[f].s.c+1;break}if(!(l<0)){var c=_t({r:t,c:a}),u=r.dense?(n[t]||[])[a]:n[c],d=u&&u.v!=null&&(u.h||sh(u.w||(ns(u),u.w)||""))||"",h={};l>1&&(h.rowspan=l),o>1&&(h.colspan=o),r.editable?d='<span contenteditable="true">'+d+"</span>":u&&(h["data-t"]=u&&u.t||"z",u.v!=null&&(h["data-v"]=u.v),u.z!=null&&(h["data-z"]=u.z),u.l&&(u.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+u.l.Target+'">'+d+"</a>")),h.id=(r.id||"sjs")+"-"+c,s.push(Ke("td",d,h))}}var m="<tr>";return m+s.join("")+"</tr>"}var rT='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',iT="</body></html>";function Kj(n,e){var t=n.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!t||t.length==0)throw new Error("Invalid HTML: could not find <table>");if(t.length==1)return na(Gv(t[0],e),e);var r=Hh();return t.forEach(function(i,s){Vh(r,Gv(i,e),"Sheet"+(s+1))}),r}function sT(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function aT(n,e){var t=e||{},r=t.header!=null?t.header:rT,i=t.footer!=null?t.footer:iT,s=[r],a=Lr(n["!ref"]);t.dense=Array.isArray(n),s.push(sT(n,a,t));for(var l=a.s.r;l<=a.e.r;++l)s.push(nT(n,a,l,t));return s.push("</table>"+i),s.join("")}function lT(n,e,t){var r=t||{},i=0,s=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var a=typeof r.origin=="string"?_n(r.origin):r.origin;i=a.r,s=a.c}var l=e.getElementsByTagName("tr"),o=Math.min(r.sheetRows||1e7,l.length),f={s:{r:0,c:0},e:{r:i,c:s}};if(n["!ref"]){var c=Lr(n["!ref"]);f.s.r=Math.min(f.s.r,c.s.r),f.s.c=Math.min(f.s.c,c.s.c),f.e.r=Math.max(f.e.r,c.e.r),f.e.c=Math.max(f.e.c,c.e.c),i==-1&&(f.e.r=i=c.e.r+1)}var u=[],d=0,h=n["!rows"]||(n["!rows"]=[]),m=0,p=0,g=0,v=0,w=0,k=0;for(n["!cols"]||(n["!cols"]=[]);m<l.length&&p<o;++m){var x=l[m];if(Xv(x)){if(r.display)continue;h[p]={hidden:!0}}var A=x.children;for(g=v=0;g<A.length;++g){var T=A[g];if(!(r.display&&Xv(T))){var C=T.hasAttribute("data-v")?T.getAttribute("data-v"):T.hasAttribute("v")?T.getAttribute("v"):Fx(T.innerHTML),F=T.getAttribute("data-z")||T.getAttribute("z");for(d=0;d<u.length;++d){var O=u[d];O.s.c==v+s&&O.s.r<p+i&&p+i<=O.e.r&&(v=O.e.c+1-s,d=-1)}k=+T.getAttribute("colspan")||1,((w=+T.getAttribute("rowspan")||1)>1||k>1)&&u.push({s:{r:p+i,c:v+s},e:{r:p+i+(w||1)-1,c:v+s+(k||1)-1}});var I={t:"s",v:C},N=T.getAttribute("data-t")||T.getAttribute("t")||"";C!=null&&(C.length==0?I.t=N||"z":r.raw||C.trim().length==0||N=="s"||(C==="TRUE"?I={t:"b",v:!0}:C==="FALSE"?I={t:"b",v:!1}:isNaN($i(C))?isNaN(Tl(C).getDate())||(I={t:"d",v:un(C)},r.cellDates||(I={t:"n",v:er(I.v)}),I.z=r.dateNF||pt[14]):I={t:"n",v:$i(C)})),I.z===void 0&&F!=null&&(I.z=F);var P="",R=T.getElementsByTagName("A");if(R&&R.length)for(var Y=0;Y<R.length&&!(R[Y].hasAttribute("href")&&(P=R[Y].getAttribute("href"),P.charAt(0)!="#"));++Y);P&&P.charAt(0)!="#"&&(I.l={Target:P}),r.dense?(n[p+i]||(n[p+i]=[]),n[p+i][v+s]=I):n[_t({c:v+s,r:p+i})]=I,f.e.c<v+s&&(f.e.c=v+s),v+=k}}++p}return u.length&&(n["!merges"]=(n["!merges"]||[]).concat(u)),f.e.r=Math.max(f.e.r,p-1+i),n["!ref"]=Tt(f),p>=o&&(n["!fullref"]=Tt((f.e.r=l.length-m+p-1+i,f))),n}function oT(n,e){var t=e||{},r=t.dense?[]:{};return lT(r,n,e)}function Jj(n,e){return na(oT(n,e),e)}function Xv(n){var e="",t=Zj(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function Zj(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Qj(n){var e=n.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(r,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),t=Ut(e.replace(/<[^>]*>/g,""));return[t]}var Kv={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function fT(n,e){var t=e||{},r=ah(n),i=[],s,a,l={name:""},o="",f=0,c,u,d={},h=[],m=t.dense?[]:{},p,g,v={value:""},w="",k=0,x=[],A=-1,T=-1,C={s:{r:1e6,c:1e7},e:{r:0,c:0}},F=0,O={},I=[],N={},P=0,R=0,Y=[],ne=1,V=1,se=[],ue={Names:[]},U={},be=["",""],fe=[],B={},K="",G=0,J=!1,de=!1,me=0;for(Ho.lastIndex=0,r=r.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=Ho.exec(r);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"":p[1]==="/"?(C.e.c>=C.s.c&&C.e.r>=C.s.r?m["!ref"]=Tt(C):m["!ref"]="A1:A1",t.sheetRows>0&&t.sheetRows<=C.e.r&&(m["!fullref"]=m["!ref"],C.e.r=t.sheetRows-1,m["!ref"]=Tt(C)),I.length&&(m["!merges"]=I),Y.length&&(m["!rows"]=Y),c.name=c.||c.name,typeof JSON<"u"&&JSON.stringify(c),h.push(c.name),d[c.name]=m,de=!1):p[0].charAt(p[0].length-2)!=="/"&&(c=gt(p[0],!1),A=T=-1,C.s.r=C.s.c=1e7,C.e.r=C.e.c=0,m=t.dense?[]:{},I=[],Y=[],de=!0);break;case"table-row-group":p[1]==="/"?--F:++F;break;case"table-row":case"":if(p[1]==="/"){A+=ne,ne=1;break}if(u=gt(p[0],!1),u.?A=u.-1:A==-1&&(A=0),ne=+u["number-rows-repeated"]||1,ne<10)for(me=0;me<ne;++me)F>0&&(Y[A+me]={level:F});T=-1;break;case"covered-table-cell":p[1]!=="/"&&++T,t.sheetStubs&&(t.dense?(m[A]||(m[A]=[]),m[A][T]={t:"z"}):m[_t({r:A,c:T})]={t:"z"}),w="",x=[];break;case"table-cell":case"":if(p[0].charAt(p[0].length-2)==="/")++T,v=gt(p[0],!1),V=parseInt(v["number-columns-repeated"]||"1",10),g={t:"z",v:null},v.formula&&t.cellFormula!=!1&&(g.f=zv(Ut(v.formula))),(v.||v["value-type"])=="string"&&(g.t="s",g.v=Ut(v["string-value"]||""),t.dense?(m[A]||(m[A]=[]),m[A][T]=g):m[_t({r:A,c:T})]=g),T+=V-1;else if(p[1]!=="/"){++T,w="",k=0,x=[],V=1;var we=ne?A+ne-1:A;if(T>C.e.c&&(C.e.c=T),T<C.s.c&&(C.s.c=T),A<C.s.r&&(C.s.r=A),we>C.e.r&&(C.e.r=we),v=gt(p[0],!1),fe=[],B={},g={t:v.||v["value-type"],v:null},t.cellFormula)if(v.formula&&(v.formula=Ut(v.formula)),v["number-matrix-columns-spanned"]&&v["number-matrix-rows-spanned"]&&(P=parseInt(v["number-matrix-rows-spanned"],10)||0,R=parseInt(v["number-matrix-columns-spanned"],10)||0,N={s:{r:A,c:T},e:{r:A+P-1,c:T+R-1}},g.F=Tt(N),se.push([N,g.F])),v.formula)g.f=zv(v.formula);else for(me=0;me<se.length;++me)A>=se[me][0].s.r&&A<=se[me][0].e.r&&T>=se[me][0].s.c&&T<=se[me][0].e.c&&(g.F=se[me][1]);switch((v["number-columns-spanned"]||v["number-rows-spanned"])&&(P=parseInt(v["number-rows-spanned"],10)||0,R=parseInt(v["number-columns-spanned"],10)||0,N={s:{r:A,c:T},e:{r:A+P-1,c:T+R-1}},I.push(N)),v["number-columns-repeated"]&&(V=parseInt(v["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=on(v["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(v.value);break;case"percentage":g.t="n",g.v=parseFloat(v.value);break;case"currency":g.t="n",g.v=parseFloat(v.value);break;case"date":g.t="d",g.v=un(v["date-value"]),t.cellDates||(g.t="n",g.v=er(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=ML(v["time-value"])/86400,t.cellDates&&(g.t="d",g.v=cu(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(v.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",v["string-value"]!=null&&(w=Ut(v["string-value"]),x=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(J=!1,g.t==="s"&&(g.v=w||"",x.length&&(g.R=x),J=k==0),U.Target&&(g.l=U),fe.length>0&&(g.c=fe,fe=[]),w&&t.cellText!==!1&&(g.w=w),J&&(g.t="z",delete g.v),(!J||t.sheetStubs)&&!(t.sheetRows&&t.sheetRows<=A))for(var Fe=0;Fe<ne;++Fe){if(V=parseInt(v["number-columns-repeated"]||"1",10),t.dense)for(m[A+Fe]||(m[A+Fe]=[]),m[A+Fe][T]=Fe==0?g:rn(g);--V>0;)m[A+Fe][T+V]=rn(g);else for(m[_t({r:A+Fe,c:T})]=g;--V>0;)m[_t({r:A+Fe,c:T+V})]=rn(g);C.e.c<=T&&(C.e.c=T)}V=parseInt(v["number-columns-repeated"]||"1",10),T+=V-1,V=0,g={},w="",x=[]}U={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((s=i.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((s=i.pop())[0]!==p[3])throw"Bad state: "+s;B.t=w,x.length&&(B.R=x),B.a=K,fe.push(B)}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);K="",G=0,w="",k=0,x=[];break;case"creator":p[1]==="/"?K=r.slice(G,p.index):G=p.index+p[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((s=i.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&i.push([p[3],!1]);w="",k=0,x=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(O[l.name]=o,(s=i.pop())[0]!==p[3])throw"Bad state: "+s}else p[0].charAt(p[0].length-2)!=="/"&&(o="",l=gt(p[0],!1),i.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=gt(p[0],!1),o+=Kv[p[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=gt(p[0],!1),o+=Kv[p[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":o+=r.slice(f,p.index);break}else f=p.index+p[0].length;break;case"named-range":a=gt(p[0],!1),be=s0(a["cell-range-address"]);var Oe={Name:a.name,Ref:be[0]+"!"+be[1]};de&&(Oe.Sheet=h.length),ue.Names.push(Oe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(p[1]==="/"&&(!v||!v["string-value"])){var ye=Qj(r.slice(k,p.index));w=(w.length>0?w+`
`:"")+ye[0]}else gt(p[0],!1),k=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{be=s0(gt(p[0])["target-range-address"]),d[be[0]]["!autofilter"]={ref:be[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(U=gt(p[0],!1),!U.href)break;U.Target=Ut(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(be=s0(U.Target.slice(1)),U.Target="#"+be[0]+"!"+be[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(t.WTF)throw new Error(p)}}var te={Sheets:d,SheetNames:h,Workbook:ue};return t.bookSheets&&delete te.Sheets,te}function Jv(n,e){e=e||{},_i(n,"META-INF/manifest.xml")&&OR(Rn(n,"META-INF/manifest.xml"),e);var t=Qr(n,"content.xml");if(!t)throw new Error("Missing content.xml in ODS / UOF file");var r=fT(tn(t),e);return _i(n,"meta.xml")&&(r.Props=Xx(Rn(n,"meta.xml"))),r}function Zv(n,e){return fT(n,e)}var ez=function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Uo({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Mn+e}}(),Qv=function(){var n=function(s){return Zt(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(s,a,l){var o=[];o.push('      <table:table table:name="'+Zt(a.SheetNames[l])+`" table:style-name="ta1">
`);var f=0,c=0,u=Lr(s["!ref"]||"A1"),d=s["!merges"]||[],h=0,m=Array.isArray(s);if(s["!cols"])for(c=0;c<=u.e.c;++c)o.push("        <table:table-column"+(s["!cols"][c]?' table:style-name="co'+s["!cols"][c].ods+'"':"")+`></table:table-column>
`);var p="",g=s["!rows"]||[];for(f=0;f<u.s.r;++f)p=g[f]?' table:style-name="ro'+g[f].ods+'"':"",o.push("        <table:table-row"+p+`></table:table-row>
`);for(;f<=u.e.r;++f){for(p=g[f]?' table:style-name="ro'+g[f].ods+'"':"",o.push("        <table:table-row"+p+`>
`),c=0;c<u.s.c;++c)o.push(e);for(;c<=u.e.c;++c){var v=!1,w={},k="";for(h=0;h!=d.length;++h)if(!(d[h].s.c>c)&&!(d[h].s.r>f)&&!(d[h].e.c<c)&&!(d[h].e.r<f)){(d[h].s.c!=c||d[h].s.r!=f)&&(v=!0),w["table:number-columns-spanned"]=d[h].e.c-d[h].s.c+1,w["table:number-rows-spanned"]=d[h].e.r-d[h].s.r+1;break}if(v){o.push(t);continue}var x=_t({r:f,c}),A=m?(s[f]||[])[c]:s[x];if(A&&A.f&&(w["table:formula"]=Zt(SH(A.f)),A.F&&A.F.slice(0,x.length)==x)){var T=Lr(A.F);w["table:number-matrix-columns-spanned"]=T.e.c-T.s.c+1,w["table:number-matrix-rows-spanned"]=T.e.r-T.s.r+1}if(!A){o.push(e);continue}switch(A.t){case"b":k=A.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=A.v?"true":"false";break;case"n":k=A.w||String(A.v||0),w["office:value-type"]="float",w["office:value"]=A.v||0;break;case"s":case"str":k=A.v==null?"":A.v,w["office:value-type"]="string";break;case"d":k=A.w||un(A.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=un(A.v).toISOString(),w["table:style-name"]="ce1";break;default:o.push(e);continue}var C=n(k);if(A.l&&A.l.Target){var F=A.l.Target;F=F.charAt(0)=="#"?"#"+EH(F.slice(1)):F,F.charAt(0)!="#"&&!F.match(/^\w+:/)&&(F="../"+F),C=Ke("text:a",C,{"xlink:href":F.replace(/&/g,"&amp;")})}o.push("          "+Ke("table:table-cell",Ke("text:p",C,{}),w)+`
`)}o.push(`        </table:table-row>
`)}return o.push(`      </table:table>
`),o.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var l=0;a.SheetNames.map(function(f){return a.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var c=0;c<f["!cols"].length;++c)if(f["!cols"][c]){var u=f["!cols"][c];if(u.width==null&&u.wpx==null&&u.wch==null)continue;Gs(u),u.ods=l;var d=f["!cols"][c].wpx+"px";s.push('  <style:style style:name="co'+l+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),s.push(`  </style:style>
`),++l}}});var o=0;a.SheetNames.map(function(f){return a.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var c=0;c<f["!rows"].length;++c)if(f["!rows"][c]){f["!rows"][c].ods=o;var u=f["!rows"][c].hpx+"px";s.push('  <style:style style:name="ro'+o+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+u+`"/>
`),s.push(`  </style:style>
`),++o}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,l){var o=[Mn],f=Uo({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),c=Uo({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});l.bookType=="fods"?(o.push("<office:document"+f+c+`>
`),o.push(Gx().replace(/office:document-meta/g,"office:meta"))):o.push("<office:document-content"+f+`>
`),i(o,a),o.push(`  <office:body>
`),o.push(`    <office:spreadsheet>
`);for(var u=0;u!=a.SheetNames.length;++u)o.push(r(a.Sheets[a.SheetNames[u]],a,u));return o.push(`    </office:spreadsheet>
`),o.push(`  </office:body>
`),l.bookType=="fods"?o.push("</office:document>"):o.push("</office:document-content>"),o.join("")}}();function cT(n,e){if(e.bookType=="fods")return Qv(n,e);var t=nh(),r="",i=[],s=[];return r="mimetype",St(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",St(t,r,Qv(n,e)),i.push([r,"text/xml"]),s.push([r,"ContentFile"]),r="styles.xml",St(t,r,ez(n,e)),i.push([r,"text/xml"]),s.push([r,"StylesFile"]),r="meta.xml",St(t,r,Mn+Gx()),i.push([r,"text/xml"]),s.push([r,"MetadataFile"]),r="manifest.rdf",St(t,r,NR(s)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",St(t,r,MR(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Pa(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function nd(n){return typeof TextDecoder<"u"?new TextDecoder().decode(n):tn(ta(n))}function tz(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):Zr(Zi(n))}function nz(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function Ks(n){var e=n.reduce(function(i,s){return i+s.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function eb(n){return n-=n>>1&1431655765,n=(n&858993459)+(n>>2&858993459),(n+(n>>4)&252645135)*16843009>>>24}function rz(n,e){for(var t=(n[e+15]&127)<<7|n[e+14]>>1,r=n[e+14]&1,i=e+13;i>=e;--i)r=r*256+n[i];return(n[e+15]&128?-r:r)*Math.pow(10,t-6176)}function iz(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var s=0;i>=1;++s,i/=256)n[e+s]=i&255;n[e+15]|=t>=0?0:128}function Go(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Xt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Tn(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Ht(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Go(n,t),s=i&7;i=Math.floor(i/8);var a=0,l;if(i==0)break;switch(s){case 0:{for(var o=t[0];n[t[0]++]>=128;);l=n.slice(o,t[0])}break;case 5:a=4,l=n.slice(t[0],t[0]+a),t[0]+=a;break;case 1:a=8,l=n.slice(t[0],t[0]+a),t[0]+=a;break;case 2:a=Go(n,t),l=n.slice(t[0],t[0]+a),t[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(r))}var f={data:l,type:s};e[i]==null?e[i]=[f]:e[i].push(f)}return e}function or(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(Xt(r*8+i.type)),i.type==2&&e.push(Xt(i.data.length)),e.push(i.data))})}),Ks(e)}function Nh(n,e){return(n==null?void 0:n.map(function(t){return e(t.data)}))||[]}function di(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Go(n,r),s=Ht(n.slice(r[0],r[0]+i));r[0]+=i;var a={id:Tn(s[1][0].data),messages:[]};s[2].forEach(function(l){var o=Ht(l.data),f=Tn(o[3][0].data);a.messages.push({meta:o,data:n.slice(r[0],r[0]+f)}),r[0]+=f}),(e=s[3])!=null&&e[0]&&(a.merge=Tn(s[3][0].data)>>>0>0),t.push(a)}return t}function Qa(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Xt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Xt(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:Xt(a.data.length)}],r[2].push({data:or(a.meta),type:2})});var s=or(r);e.push(Xt(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Ks(e)}function sz(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Go(e,t),i=[];t[0]<e.length;){var s=e[t[0]]&3;if(s==0){var a=e[t[0]++]>>2;if(a<60)++a;else{var l=a-59;a=e[t[0]],l>1&&(a|=e[t[0]+1]<<8),l>2&&(a|=e[t[0]+2]<<16),l>3&&(a|=e[t[0]+3]<<24),a>>>=0,a++,t[0]+=l}i.push(e.slice(t[0],t[0]+a)),t[0]+=a;continue}else{var o=0,f=0;if(s==1?(f=(e[t[0]]>>2&7)+4,o=(e[t[0]++]&224)<<3,o|=e[t[0]++]):(f=(e[t[0]++]>>2)+1,s==2?(o=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(o=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[Ks(i)],o==0)throw new Error("Invalid offset 0");if(o>i[0].length)throw new Error("Invalid offset beyond length");if(f>=o)for(i.push(i[0].slice(-o)),f-=o;f>=i[i.length-1].length;)i.push(i[i.length-1]),f-=i[i.length-1].length;i.push(i[0].slice(-o,-o+f))}}var c=Ks(i);if(c.length!=r)throw new Error("Unexpected length: ".concat(c.length," != ").concat(r));return c}function hi(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(sz(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return Ks(e)}function el(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var s=Xt(r),a=s.length;e.push(s),r<=60?(a++,e.push(new Uint8Array([r-1<<2]))):r<=256?(a+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(a+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(a+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(a+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),a+=r,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,t+=r}return Ks(e)}function az(n,e,t,r){var i=Pa(n),s=i.getUint32(4,!0),a=(r>1?12:8)+eb(s&(r>1?3470:398))*4,l=-1,o=-1,f=NaN,c=new Date(2001,0,1);s&512&&(l=i.getUint32(a,!0),a+=4),a+=eb(s&(r>1?12288:4096))*4,s&16&&(o=i.getUint32(a,!0),a+=4),s&32&&(f=i.getFloat64(a,!0),a+=8),s&64&&(c.setTime(c.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var u;switch(n[2]){case 0:break;case 2:u={t:"n",v:f};break;case 3:u={t:"s",v:e[o]};break;case 5:u={t:"d",v:c};break;case 6:u={t:"b",v:f>0};break;case 7:u={t:"n",v:f/86400};break;case 8:u={t:"e",v:0};break;case 9:if(l>-1)u={t:"s",v:t[l]};else if(o>-1)u={t:"s",v:e[o]};else if(!isNaN(f))u={t:"n",v:f};else throw new Error("Unsupported cell type ".concat(n.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(n.slice(0,4)))}return u}function lz(n,e,t){var r=Pa(n),i=r.getUint32(8,!0),s=12,a=-1,l=-1,o=NaN,f=NaN,c=new Date(2001,0,1);i&1&&(o=rz(n,s),s+=16),i&2&&(f=r.getFloat64(s,!0),s+=8),i&4&&(c.setTime(c.getTime()+r.getFloat64(s,!0)*1e3),s+=8),i&8&&(l=r.getUint32(s,!0),s+=4),i&16&&(a=r.getUint32(s,!0),s+=4);var u;switch(n[1]){case 0:break;case 2:u={t:"n",v:o};break;case 3:u={t:"s",v:e[l]};break;case 5:u={t:"d",v:c};break;case 6:u={t:"b",v:f>0};break;case 7:u={t:"n",v:f/86400};break;case 8:u={t:"e",v:0};break;case 9:if(a>-1)u={t:"s",v:t[a]};else throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)));break;case 10:u={t:"n",v:o};break;default:throw new Error("Unsupported cell type ".concat(n[1]," : ").concat(i&31," : ").concat(n.slice(0,4)))}return u}function l0(n,e){var t=new Uint8Array(32),r=Pa(t),i=12,s=0;switch(t[0]=5,n.t){case"n":t[1]=2,iz(t,i,n.v),s|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,s,!0),t.slice(0,i)}function o0(n,e){var t=new Uint8Array(32),r=Pa(t),i=12,s=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),s|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,s,!0),t.slice(0,i)}function oz(n,e,t){switch(n[0]){case 0:case 1:case 2:case 3:return az(n,e,t,n[0]);case 5:return lz(n,e,t);default:throw new Error("Unsupported payload version ".concat(n[0]))}}function mr(n){var e=Ht(n);return Go(e[1][0].data)}function tb(n,e){var t=Ht(e.data),r=Tn(t[1][0].data),i=t[3],s=[];return(i||[]).forEach(function(a){var l=Ht(a.data),o=Tn(l[1][0].data)>>>0;switch(r){case 1:s[o]=nd(l[3][0].data);break;case 8:{var f=n[mr(l[9][0].data)][0],c=Ht(f.data),u=n[mr(c[1][0].data)][0],d=Tn(u.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=Ht(u.data);s[o]=h[3].map(function(m){return nd(m.data)}).join("")}break}}),s}function fz(n,e){var t,r,i,s,a,l,o,f,c,u,d,h,m,p,g=Ht(n),v=Tn(g[1][0].data)>>>0,w=Tn(g[2][0].data)>>>0,k=((r=(t=g[8])==null?void 0:t[0])==null?void 0:r.data)&&Tn(g[8][0].data)>0||!1,x,A;if((s=(i=g[7])==null?void 0:i[0])!=null&&s.data&&e!=0)x=(l=(a=g[7])==null?void 0:a[0])==null?void 0:l.data,A=(f=(o=g[6])==null?void 0:o[0])==null?void 0:f.data;else if((u=(c=g[4])==null?void 0:c[0])!=null&&u.data&&e!=1)x=(h=(d=g[4])==null?void 0:d[0])==null?void 0:h.data,A=(p=(m=g[3])==null?void 0:m[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var T=k?4:1,C=Pa(x),F=[],O=0;O<x.length/2;++O){var I=C.getUint16(O*2,!0);I<65535&&F.push([O,I])}if(F.length!=w)throw"Expected ".concat(w," cells, found ").concat(F.length);var N=[];for(O=0;O<F.length-1;++O)N[F[O][0]]=A.subarray(F[O][1]*T,F[O+1][1]*T);return F.length>=1&&(N[F[F.length-1][0]]=A.subarray(F[F.length-1][1]*T)),{R:v,cells:N}}function cz(n,e){var t,r=Ht(e.data),i=(t=r==null?void 0:r[7])!=null&&t[0]?Tn(r[7][0].data)>>>0>0?1:0:-1,s=Nh(r[5],function(a){return fz(a,i)});return{nrows:Tn(r[4][0].data)>>>0,data:s.reduce(function(a,l){return a[l.R]||(a[l.R]=[]),l.cells.forEach(function(o,f){if(a[l.R][f])throw new Error("Duplicate cell r=".concat(l.R," c=").concat(f));a[l.R][f]=o}),a},[])}}function uz(n,e,t){var r,i=Ht(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Tn(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Tn(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));t["!ref"]=Tt(s);var a=Ht(i[4][0].data),l=tb(n,n[mr(a[4][0].data)][0]),o=(r=a[17])!=null&&r[0]?tb(n,n[mr(a[17][0].data)][0]):[],f=Ht(a[3][0].data),c=0;f[1].forEach(function(u){var d=Ht(u.data),h=n[mr(d[2][0].data)][0],m=Tn(h.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var p=cz(n,h);p.data.forEach(function(g,v){g.forEach(function(w,k){var x=_t({r:c+v,c:k}),A=oz(w,l,o);A&&(t[x]=A)})}),c+=p.nrows})}function dz(n,e){var t=Ht(e.data),r={"!ref":"A1"},i=n[mr(t[2][0].data)],s=Tn(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return uz(n,i[0],r),r}function hz(n,e){var t,r=Ht(e.data),i={name:(t=r[1])!=null&&t[0]?nd(r[1][0].data):"",sheets:[]},s=Nh(r[2],mr);return s.forEach(function(a){n[a].forEach(function(l){var o=Tn(l.meta[1][0].data);o==6e3&&i.sheets.push(dz(n,l))})}),i}function pz(n,e){var t=Hh(),r=Ht(e.data),i=Nh(r[1],mr);if(i.forEach(function(s){n[s].forEach(function(a){var l=Tn(a.meta[1][0].data);if(l==2){var o=hz(n,a);o.sheets.forEach(function(f,c){Vh(t,f,c==0?o.name:o.name+"_"+c,!0)})}})}),t.SheetNames.length==0)throw new Error("Empty NUMBERS file");return t}function f0(n){var e,t,r,i,s={},a=[];if(n.FullPaths.forEach(function(o){if(o.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),n.FileIndex.forEach(function(o){if(o.name.match(/\.iwa$/)){var f;try{f=hi(o.content)}catch(u){return console.log("?? "+o.content.length+" "+(u.message||u))}var c;try{c=di(f)}catch(u){return console.log("## "+(u.message||u))}c.forEach(function(u){s[u.id]=u.messages,a.push(u.id)})}}),!a.length)throw new Error("File has no messages");var l=((i=(r=(t=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:t.meta)==null?void 0:r[1])==null?void 0:i[0].data)&&Tn(s[1][0].meta[1][0].data)==1&&s[1][0];if(l||a.forEach(function(o){s[o].forEach(function(f){var c=Tn(f.meta[1][0].data)>>>0;if(c==1)if(!l)l=f;else throw new Error("Document has multiple roots")})}),!l)throw new Error("Cannot find Document root");return pz(s,l)}function mz(n,e,t){var r,i,s,a;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var l=((a=(s=n[8])==null?void 0:s[0])==null?void 0:a.data)&&Tn(n[8][0].data)>0||!1;if(l)throw"Math only works with normal offsets";for(var o=0,f=Pa(n[7][0].data),c=0,u=[],d=Pa(n[4][0].data),h=0,m=[],p=0;p<e.length;++p){if(e[p]==null){f.setUint16(p*2,65535,!0),d.setUint16(p*2,65535);continue}f.setUint16(p*2,c,!0),d.setUint16(p*2,h,!0);var g,v;switch(typeof e[p]){case"string":g=l0({t:"s",v:e[p]},t),v=o0({t:"s",v:e[p]},t);break;case"number":g=l0({t:"n",v:e[p]},t),v=o0({t:"n",v:e[p]},t);break;case"boolean":g=l0({t:"b",v:e[p]},t),v=o0({t:"b",v:e[p]},t);break;default:throw new Error("Unsupported value "+e[p])}u.push(g),c+=g.length,m.push(v),h+=v.length,++o}for(n[2][0].data=Xt(o);p<n[7][0].data.length/2;++p)f.setUint16(p*2,65535,!0),d.setUint16(p*2,65535,!0);return n[6][0].data=Ks(u),n[3][0].data=Ks(m),o}function _z(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Lr(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Tt(r)));var s=Vc(t,{range:r,header:1}),a=["~Sh33tJ5~"];s.forEach(function(K){return K.forEach(function(G){typeof G=="string"&&a.push(G)})});var l={},o=[],f=ft.read(e.numbers,{type:"base64"});f.FileIndex.map(function(K,G){return[K,f.FullPaths[G]]}).forEach(function(K){var G=K[0],J=K[1];if(G.type==2&&G.name.match(/\.iwa/)){var de=G.content,me=hi(de),we=di(me);we.forEach(function(Fe){o.push(Fe.id),l[Fe.id]={deps:[],location:J,type:Tn(Fe.messages[0].meta[1][0].data)}})}}),o.sort(function(K,G){return K-G});var c=o.filter(function(K){return K>1}).map(function(K){return[K,Xt(K)]});f.FileIndex.map(function(K,G){return[K,f.FullPaths[G]]}).forEach(function(K){var G=K[0];if(K[1],!!G.name.match(/\.iwa/)){var J=di(hi(G.content));J.forEach(function(de){de.messages.forEach(function(me){c.forEach(function(we){de.messages.some(function(Fe){return Tn(Fe.meta[1][0].data)!=11006&&nz(Fe.data,we[1])})&&l[we[0]].deps.push(de.id)})})})}});for(var u=ft.find(f,l[1].location),d=di(hi(u.content)),h,m=0;m<d.length;++m){var p=d[m];p.id==1&&(h=p)}var g=mr(Ht(h.messages[0].data)[1][0].data);for(u=ft.find(f,l[g].location),d=di(hi(u.content)),m=0;m<d.length;++m)p=d[m],p.id==g&&(h=p);for(g=mr(Ht(h.messages[0].data)[2][0].data),u=ft.find(f,l[g].location),d=di(hi(u.content)),m=0;m<d.length;++m)p=d[m],p.id==g&&(h=p);for(g=mr(Ht(h.messages[0].data)[2][0].data),u=ft.find(f,l[g].location),d=di(hi(u.content)),m=0;m<d.length;++m)p=d[m],p.id==g&&(h=p);var v=Ht(h.messages[0].data);{v[6][0].data=Xt(r.e.r+1),v[7][0].data=Xt(r.e.c+1);var w=mr(v[46][0].data),k=ft.find(f,l[w].location),x=di(hi(k.content));{for(var A=0;A<x.length&&x[A].id!=w;++A);if(x[A].id!=w)throw"Bad ColumnRowUIDMapArchive";var T=Ht(x[A].messages[0].data);T[1]=[],T[2]=[],T[3]=[];for(var C=0;C<=r.e.c;++C){var F=[];F[1]=F[2]=[{type:0,data:Xt(C+420690)}],T[1].push({type:2,data:or(F)}),T[2].push({type:0,data:Xt(C)}),T[3].push({type:0,data:Xt(C)})}T[4]=[],T[5]=[],T[6]=[];for(var O=0;O<=r.e.r;++O)F=[],F[1]=F[2]=[{type:0,data:Xt(O+726270)}],T[4].push({type:2,data:or(F)}),T[5].push({type:0,data:Xt(O)}),T[6].push({type:0,data:Xt(O)});x[A].messages[0].data=or(T)}k.content=el(Qa(x)),k.size=k.content.length,delete v[46];var I=Ht(v[4][0].data);{I[7][0].data=Xt(r.e.r+1);var N=Ht(I[1][0].data),P=mr(N[2][0].data);k=ft.find(f,l[P].location),x=di(hi(k.content));{if(x[0].id!=P)throw"Bad HeaderStorageBucket";var R=Ht(x[0].messages[0].data);for(O=0;O<s.length;++O){var Y=Ht(R[2][0].data);Y[1][0].data=Xt(O),Y[4][0].data=Xt(s[O].length),R[2][O]={type:R[2][0].type,data:or(Y)}}x[0].messages[0].data=or(R)}k.content=el(Qa(x)),k.size=k.content.length;var ne=mr(I[2][0].data);k=ft.find(f,l[ne].location),x=di(hi(k.content));{if(x[0].id!=ne)throw"Bad HeaderStorageBucket";for(R=Ht(x[0].messages[0].data),C=0;C<=r.e.c;++C)Y=Ht(R[2][0].data),Y[1][0].data=Xt(C),Y[4][0].data=Xt(r.e.r+1),R[2][C]={type:R[2][0].type,data:or(Y)};x[0].messages[0].data=or(R)}k.content=el(Qa(x)),k.size=k.content.length;var V=mr(I[4][0].data);(function(){for(var K=ft.find(f,l[V].location),G=di(hi(K.content)),J,de=0;de<G.length;++de){var me=G[de];me.id==V&&(J=me)}var we=Ht(J.messages[0].data);{we[3]=[];var Fe=[];a.forEach(function(te,he){Fe[1]=[{type:0,data:Xt(he)}],Fe[2]=[{type:0,data:Xt(1)}],Fe[3]=[{type:2,data:tz(te)}],we[3].push({type:2,data:or(Fe)})})}J.messages[0].data=or(we);var Oe=Qa(G),ye=el(Oe);K.content=ye,K.size=K.content.length})();var se=Ht(I[3][0].data);{var ue=se[1][0];delete se[2];var U=Ht(ue.data);{var be=mr(U[2][0].data);(function(){for(var K=ft.find(f,l[be].location),G=di(hi(K.content)),J,de=0;de<G.length;++de){var me=G[de];me.id==be&&(J=me)}var we=Ht(J.messages[0].data);{delete we[6],delete se[7];var Fe=new Uint8Array(we[5][0].data);we[5]=[];for(var Oe=0,ye=0;ye<=r.e.r;++ye){var te=Ht(Fe);Oe+=mz(te,s[ye],a),te[1][0].data=Xt(ye),we[5].push({data:or(te),type:2})}we[1]=[{type:0,data:Xt(r.e.c+1)}],we[2]=[{type:0,data:Xt(r.e.r+1)}],we[3]=[{type:0,data:Xt(Oe)}],we[4]=[{type:0,data:Xt(r.e.r+1)}]}J.messages[0].data=or(we);var he=Qa(G),qe=el(he);K.content=qe,K.size=K.content.length})()}ue.data=or(U)}I[3][0].data=or(se)}v[4][0].data=or(I)}h.messages[0].data=or(v);var fe=Qa(d),B=el(fe);return u.content=B,u.size=u.content.length,f}function uT(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function Ph(n){uT([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(n)}function Lh(n){uT([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function gz(n){return Dt.WS.indexOf(n)>-1?"sheet":n==Dt.CS?"chart":n==Dt.DS?"dialog":n==Dt.MS?"macro":n&&n.length?n:"sheet"}function vz(n,e){if(!n)return 0;try{n=e.map(function(r){return r.id||(r.id=r.strRelID),[r.name,n["!id"][r.id].Target,gz(n["!id"][r.id].Type)]})}catch{return null}return!n||n.length===0?null:n}function bz(n,e,t,r,i,s,a,l,o,f,c,u){try{s[r]=vo(Qr(n,t,!0),e);var d=Rn(n,e),h;switch(l){case"sheet":h=zW(d,e,i,o,s[r],f,c,u);break;case"chart":if(h=qW(d,e,i,o,s[r],f,c,u),!h||!h["!drawel"])break;var m=so(h["!drawel"].Target,e),p=Vo(m),g=IB(Qr(n,m,!0),vo(Qr(n,p,!0),m)),v=so(g,m),w=Vo(v);h=wW(Qr(n,v,!0),v,o,vo(Qr(n,w,!0),v),f,h);break;case"macro":h=YW(d,e,i,o,s[r],f,c,u);break;case"dialog":h=GW(d,e,i,o,s[r],f,c,u);break;default:throw new Error("Unrecognized sheet type "+l)}a[r]=h;var k=[];s&&s[r]&&An(s[r]).forEach(function(x){var A="";if(s[r][x].Type==Dt.CMNT){A=so(s[r][x].Target,e);var T=ZW(Rn(n,A,!0),A,o);if(!T||!T.length)return;Uv(h,T,!1)}s[r][x].Type==Dt.TCMNT&&(A=so(s[r][x].Target,e),k=k.concat(PB(Rn(n,A,!0),o)))}),k&&k.length&&Uv(h,k,!0,o.people||[])}catch(x){if(o.WTF)throw x}}function ci(n){return n.charAt(0)=="/"?n.slice(1):n}function dT(n,e){if(Il(),e=e||{},Ph(e),_i(n,"META-INF/manifest.xml")||_i(n,"objectdata.xml"))return Jv(n,e);if(_i(n,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof f0<"u"){if(n.FileIndex)return f0(n);var t=ft.utils.cfb_new();return lv(n).forEach(function(Y){St(t,Y,Sx(n,Y))}),f0(t)}throw new Error("Unsupported NUMBERS file")}if(!_i(n,"[Content_Types].xml"))throw _i(n,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):_i(n,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var r=lv(n),i=FR(Qr(n,"[Content_Types].xml")),s=!1,a,l;if(i.workbooks.length===0&&(l="xl/workbook.xml",Rn(n,l,!0)&&i.workbooks.push(l)),i.workbooks.length===0){if(l="xl/workbook.bin",!Rn(n,l,!0))throw new Error("Could not find workbook");i.workbooks.push(l),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var o={},f={};if(!e.bookSheets&&!e.bookProps){if(bo=[],i.sst)try{bo=JW(Rn(n,ci(i.sst)),i.sst,e)}catch(Y){if(e.WTF)throw Y}e.cellStyles&&i.themes.length&&(o=KW(Qr(n,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(f=XW(Rn(n,ci(i.style)),i.style,o,e))}i.links.map(function(Y){try{var ne=vo(Qr(n,Vo(ci(Y))),Y);return ej(Rn(n,ci(Y)),ne,Y,e)}catch{}});var c=jW(Rn(n,ci(i.workbooks[0])),i.workbooks[0],e),u={},d="";i.coreprops.length&&(d=Rn(n,ci(i.coreprops[0]),!0),d&&(u=Xx(d)),i.extprops.length!==0&&(d=Rn(n,ci(i.extprops[0]),!0),d&&LR(d,u,e)));var h={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(d=Qr(n,ci(i.custprops[0]),!0),d&&(h=$R(d,e)));var m={};if((e.bookSheets||e.bookProps)&&(c.Sheets?a=c.Sheets.map(function(ne){return ne.name}):u.Worksheets&&u.SheetNames.length>0&&(a=u.SheetNames),e.bookProps&&(m.Props=u,m.Custprops=h),e.bookSheets&&typeof a<"u"&&(m.SheetNames=a),e.bookSheets?m.SheetNames:e.bookProps))return m;a={};var p={};e.bookDeps&&i.calcchain&&(p=QW(Rn(n,ci(i.calcchain)),i.calcchain));var g=0,v={},w,k;{var x=c.Sheets;u.Worksheets=x.length,u.SheetNames=[];for(var A=0;A!=x.length;++A)u.SheetNames[A]=x[A].name}var T=s?"bin":"xml",C=i.workbooks[0].lastIndexOf("/"),F=(i.workbooks[0].slice(0,C+1)+"_rels/"+i.workbooks[0].slice(C+1)+".rels").replace(/^\//,"");_i(n,F)||(F="xl/_rels/workbook."+T+".rels");var O=vo(Qr(n,F,!0),F.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=tj(Rn(n,ci(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=RB(Rn(n,ci(i.people[0])),e)),O&&(O=vz(O,c.Sheets));var I=Rn(n,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=u.Worksheets;++g){var N="sheet";if(O&&O[g]?(w="xl/"+O[g][1].replace(/[\/]?xl\//,""),_i(n,w)||(w=O[g][1]),_i(n,w)||(w=F.replace(/_rels\/.*$/,"")+O[g][1]),N=O[g][2]):(w="xl/worksheets/sheet"+(g+1-I)+"."+T,w=w.replace(/sheet0\./,"sheet.")),k=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(g!=e.sheets)continue e;break;case"string":if(u.SheetNames[g].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var P=!1,R=0;R!=e.sheets.length;++R)typeof e.sheets[R]=="number"&&e.sheets[R]==g&&(P=1),typeof e.sheets[R]=="string"&&e.sheets[R].toLowerCase()==u.SheetNames[g].toLowerCase()&&(P=1);if(!P)continue e}}bz(n,w,k,u.SheetNames[g],g,v,a,N,e,c,o,f)}return m={Directory:i,Workbook:c,Props:u,Custprops:h,Deps:p,Sheets:a,SheetNames:u.SheetNames,Strings:bo,Styles:f,Themes:o,SSF:rn(pt)},e&&e.bookFiles&&(n.files?(m.keys=r,m.files=n.files):(m.keys=[],m.files={},n.FullPaths.forEach(function(Y,ne){Y=Y.replace(/^Root Entry[\/]/,""),m.keys.push(Y),m.files[Y]=n.FileIndex[ne]}))),e&&e.bookVBA&&(i.vba.length>0?m.vbaraw=Rn(n,ci(i.vba[0]),!0):i.defaults&&i.defaults.bin===zB&&(m.vbaraw=Rn(n,"xl/vbaProject.bin",!0))),m}function wz(n,e){var t=e||{},r="Workbook",i=ft.find(n,r);try{if(r="/!DataSpaces/Version",i=ft.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(n7(i.content),r="/!DataSpaces/DataSpaceMap",i=ft.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var s=i7(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=ft.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var a=s7(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+r);if(r="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=ft.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);l7(i.content)}catch{}if(r="/EncryptionInfo",i=ft.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);var l=o7(i.content);if(r="/EncryptedPackage",i=ft.find(n,r),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+r);if(l[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(l[1],i.content,t.password||"",t);if(l[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(l[1],i.content,t.password||"",t);throw new Error("File is password-protected")}function kz(n,e){return e.bookType=="ods"?cT(n,e):e.bookType=="numbers"?_z(n,e):e.bookType=="xlsb"?yz(n,e):hT(n,e)}function yz(n,e){sl=1024,n&&!n.SSF&&(n.SSF=rn(pt)),n&&n.SSF&&(Il(),uf(n.SSF),e.revssf=fu(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,wo?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=N4.indexOf(e.bookType)>-1,i=wh();Lh(e=e||{});var s=nh(),a="",l=0;if(e.cellXfs=[],ra(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",St(s,a,Kx(n.Props,e)),i.coreprops.push(a),Kt(e.rels,2,a,Dt.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var o=[],f=0;f<n.SheetNames.length;++f)(n.Workbook.Sheets[f]||{}).Hidden!=2&&o.push(n.SheetNames[f]);n.Props.SheetNames=o}for(n.Props.Worksheets=n.Props.SheetNames.length,St(s,a,Qx(n.Props)),i.extprops.push(a),Kt(e.rels,3,a,Dt.EXT_PROPS),n.Custprops!==n.Props&&An(n.Custprops||{}).length>0&&(a="docProps/custom.xml",St(s,a,e4(n.Custprops)),i.custprops.push(a),Kt(e.rels,4,a,Dt.CUST_PROPS)),l=1;l<=n.SheetNames.length;++l){var c={"!id":{}},u=n.Sheets[n.SheetNames[l-1]],d=(u||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+l+"."+t,St(s,a,rj(l-1,a,e,n,c)),i.sheets.push(a),Kt(e.wbrels,-1,"worksheets/sheet"+l+"."+t,Dt.WS[0])}if(u){var h=u["!comments"],m=!1,p="";h&&h.length>0&&(p="xl/comments"+l+"."+t,St(s,p,aj(h,p)),i.comments.push(p),Kt(c,-1,"../comments"+l+"."+t,Dt.CMNT),m=!0),u["!legacy"]&&m&&St(s,"xl/drawings/vmlDrawing"+l+".vml",M4(l,u["!comments"])),delete u["!comments"],delete u["!legacy"]}c["!id"].rId1&&St(s,Vo(a),pl(c))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,St(s,a,sj(e.Strings,a,e)),i.strs.push(a),Kt(e.wbrels,-1,"sharedStrings."+t,Dt.SST)),a="xl/workbook."+t,St(s,a,nj(n,a)),i.workbooks.push(a),Kt(e.rels,1,a,Dt.WB),a="xl/theme/theme1.xml",St(s,a,Eh(n.Themes,e)),i.themes.push(a),Kt(e.wbrels,-1,"theme/theme1.xml",Dt.THEME),a="xl/styles."+t,St(s,a,ij(n,a,e)),i.styles.push(a),Kt(e.wbrels,-1,"styles."+t,Dt.STY),n.vbaraw&&r&&(a="xl/vbaProject.bin",St(s,a,n.vbaraw),i.vba.push(a),Kt(e.wbrels,-1,"vbaProject.bin",Dt.VBA)),a="xl/metadata."+t,St(s,a,lj(a)),i.metadata.push(a),Kt(e.wbrels,-1,"metadata."+t,Dt.XLMETA),St(s,"[Content_Types].xml",Yx(i,e)),St(s,"_rels/.rels",pl(e.rels)),St(s,"xl/_rels/workbook."+t+".rels",pl(e.wbrels)),delete e.revssf,delete e.ssf,s}function hT(n,e){sl=1024,n&&!n.SSF&&(n.SSF=rn(pt)),n&&n.SSF&&(Il(),uf(n.SSF),e.revssf=fu(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,wo?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=N4.indexOf(e.bookType)>-1,i=wh();Lh(e=e||{});var s=nh(),a="",l=0;if(e.cellXfs=[],ra(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),a="docProps/core.xml",St(s,a,Kx(n.Props,e)),i.coreprops.push(a),Kt(e.rels,2,a,Dt.CORE_PROPS),a="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var o=[],f=0;f<n.SheetNames.length;++f)(n.Workbook.Sheets[f]||{}).Hidden!=2&&o.push(n.SheetNames[f]);n.Props.SheetNames=o}n.Props.Worksheets=n.Props.SheetNames.length,St(s,a,Qx(n.Props)),i.extprops.push(a),Kt(e.rels,3,a,Dt.EXT_PROPS),n.Custprops!==n.Props&&An(n.Custprops||{}).length>0&&(a="docProps/custom.xml",St(s,a,e4(n.Custprops)),i.custprops.push(a),Kt(e.rels,4,a,Dt.CUST_PROPS));var c=["SheetJ5"];for(e.tcid=0,l=1;l<=n.SheetNames.length;++l){var u={"!id":{}},d=n.Sheets[n.SheetNames[l-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:a="xl/worksheets/sheet"+l+"."+t,St(s,a,z4(l-1,e,n,u)),i.sheets.push(a),Kt(e.wbrels,-1,"worksheets/sheet"+l+"."+t,Dt.WS[0])}if(d){var m=d["!comments"],p=!1,g="";if(m&&m.length>0){var v=!1;m.forEach(function(w){w[1].forEach(function(k){k.T==!0&&(v=!0)})}),v&&(g="xl/threadedComments/threadedComment"+l+"."+t,St(s,g,LB(m,c,e)),i.threadedcomments.push(g),Kt(u,-1,"../threadedComments/threadedComment"+l+"."+t,Dt.TCMNT)),g="xl/comments"+l+"."+t,St(s,g,I4(m)),i.comments.push(g),Kt(u,-1,"../comments"+l+"."+t,Dt.CMNT),p=!0}d["!legacy"]&&p&&St(s,"xl/drawings/vmlDrawing"+l+".vml",M4(l,d["!comments"])),delete d["!comments"],delete d["!legacy"]}u["!id"].rId1&&St(s,Vo(a),pl(u))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+t,St(s,a,w4(e.Strings,e)),i.strs.push(a),Kt(e.wbrels,-1,"sharedStrings."+t,Dt.SST)),a="xl/workbook."+t,St(s,a,J4(n)),i.workbooks.push(a),Kt(e.rels,1,a,Dt.WB),a="xl/theme/theme1.xml",St(s,a,Eh(n.Themes,e)),i.themes.push(a),Kt(e.wbrels,-1,"theme/theme1.xml",Dt.THEME),a="xl/styles."+t,St(s,a,A4(n,e)),i.styles.push(a),Kt(e.wbrels,-1,"styles."+t,Dt.STY),n.vbaraw&&r&&(a="xl/vbaProject.bin",St(s,a,n.vbaraw),i.vba.push(a),Kt(e.wbrels,-1,"vbaProject.bin",Dt.VBA)),a="xl/metadata."+t,St(s,a,O4()),i.metadata.push(a),Kt(e.wbrels,-1,"metadata."+t,Dt.XLMETA),c.length>1&&(a="xl/persons/person.xml",St(s,a,$B(c)),i.people.push(a),Kt(e.wbrels,-1,"persons/person.xml",Dt.PEOPLE)),St(s,"[Content_Types].xml",Yx(i,e)),St(s,"_rels/.rels",pl(e.rels)),St(s,"xl/_rels/workbook."+t+".rels",pl(e.wbrels)),delete e.revssf,delete e.ssf,s}function Rh(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=ii(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function xz(n,e){return ft.find(n,"EncryptedPackage")?wz(n,e):Ih(n,e)}function Tz(n,e){var t,r=n,i=e||{};return i.type||(i.type=Ct&&Buffer.isBuffer(n)?"buffer":"base64"),t=Ex(r,i),dT(t,i)}function pT(n,e){var t=0;e:for(;t<n.length;)switch(n.charCodeAt(t)){case 10:case 13:case 32:++t;break;case 60:return ed(n.slice(t),e);default:break e}return Sl.to_workbook(n,e)}function Sz(n,e){var t="",r=Rh(n,e);switch(e.type){case"base64":t=ii(n);break;case"binary":t=n;break;case"buffer":t=n.toString("binary");break;case"array":t=Oa(n);break;default:throw new Error("Unrecognized type "+e.type)}return r[0]==239&&r[1]==187&&r[2]==191&&(t=tn(t)),e.type="binary",pT(t,e)}function Ez(n,e){var t=n;return e.type=="base64"&&(t=ii(t)),t=Lt.utils.decode(1200,t.slice(2),"str"),e.type="binary",pT(t,e)}function Cz(n){return n.match(/[^\x00-\x7F]/)?Zi(n):n}function c0(n,e,t,r){return r?(t.type="string",Sl.to_workbook(n,t)):Sl.to_workbook(e,t)}function Hc(n,e){lu();var t=e||{};if(typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer)return Hc(new Uint8Array(n),(t=rn(t),t.type="array",t));typeof Uint8Array<"u"&&n instanceof Uint8Array&&!t.type&&(t.type=typeof Deno<"u"?"buffer":"array");var r=n,i=[0,0,0,0],s=!1;if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),_l={},t.dateNF&&(_l.dateNF=t.dateNF),t.type||(t.type=Ct&&Buffer.isBuffer(n)?"buffer":"base64"),t.type=="file"&&(t.type=Ct?"buffer":"binary",r=FL(n),typeof Uint8Array<"u"&&!Ct&&(t.type="array")),t.type=="string"&&(s=!0,t.type="binary",t.codepage=65001,r=Cz(n)),t.type=="array"&&typeof Uint8Array<"u"&&n instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),l=new Uint8Array(a);if(l.foo="bar",!l.foo)return t=rn(t),t.type="array",Hc(Zd(r),t)}switch((i=Rh(r,t))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return xz(ft.read(r,t),t);break;case 9:if(i[1]<=8)return Ih(r,t);break;case 60:return ed(r,t);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return B9(r,t);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return v4.to_workbook(r,t);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Tz(r,t):c0(n,r,t,s);case 239:return i[3]===60?ed(r,t):c0(n,r,t,s);case 255:if(i[1]===254)return Ez(r,t);if(i[1]===0&&i[2]===2&&i[3]===0)return Ta.to_workbook(r,t);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Ta.to_workbook(r,t);break;case 3:case 131:case 139:case 140:return Q0.to_workbook(r,t);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return S4.to_workbook(r,t);break;case 10:case 13:case 32:return Sz(r,t);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return $9.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?Q0.to_workbook(r,t):c0(n,r,t,s)}function nb(n,e){var t=e||{};return t.type="file",Hc(n,t)}function mT(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return df(e.file,ft.write(n,{type:Ct?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return ft.write(n,e)}function Az(n,e){var t=rn(e||{}),r=kz(n,t);return _T(r,t)}function Fz(n,e){var t=rn(e||{}),r=hT(n,t);return _T(r,t)}function _T(n,e){var t={},r=Ct?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?ft.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(cf(i))}return e.password&&typeof encrypt_agile<"u"?mT(encrypt_agile(i,e.password),e):e.type==="file"?df(e.file,i):e.type=="string"?tn(i):i}function Dz(n,e){var t=e||{},r=Ij(n,t);return mT(r,t)}function Xi(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return Ro(Zi(r));case"binary":return Zi(r);case"string":return n;case"file":return df(e.file,r,"utf8");case"buffer":return Ct?Ss(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):Xi(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Oz(n,e){switch(e.type){case"base64":return Ro(n);case"binary":return n;case"string":return n;case"file":return df(e.file,n,"binary");case"buffer":return Ct?Ss(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Jf(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?Ro(t):e.type=="string"?tn(t):t;case"file":return df(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function $h(n,e){lu(),K4(n);var t=rn(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=$h(n,t);return t.type="array",cf(r)}return Fz(n,t)}function _u(n,e){lu(),K4(n);var t=rn(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=_u(n,t);return t.type="array",cf(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return Xi(Ej(n,t),t);case"slk":case"sylk":return Xi(g4.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return Xi(aT(n.Sheets[n.SheetNames[i]],t),t);case"txt":return Oz(bT(n.Sheets[n.SheetNames[i]],t),t);case"csv":return Xi(Uh(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return Xi(v4.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return Jf(Q0.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return Xi(Sl.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return Xi(S4.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return Xi(b4.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return Xi(cT(n,t),t);case"wk1":return Jf(Ta.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return Jf(Ta.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),Jf(tT(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),Dz(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Az(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function Bh(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function rb(n,e,t){var r=t||{};return r.type="file",r.file=e,Bh(r),_u(n,r)}function Mz(n,e,t){var r=t||{};return r.type="file",r.file=e,Bh(r),$h(n,r)}function Iz(n,e,t,r){var i=t||{};i.type="file",i.file=n,Bh(i),i.type="buffer";var s=r;return s instanceof Function||(s=t),Us.writeFile(n,_u(e,i),s)}function gT(n,e,t,r,i,s,a,l){var o=xn(t),f=l.defval,c=l.raw||!Object.prototype.hasOwnProperty.call(l,"raw"),u=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:t,enumerable:!1})}catch{d.__rowNum__=t}else d.__rowNum__=t;if(!a||n[t])for(var h=e.s.c;h<=e.e.c;++h){var m=a?n[t][h]:n[r[h]+o];if(m===void 0||m.t===void 0){if(f===void 0)continue;s[h]!=null&&(d[s[h]]=f);continue}var p=m.v;switch(m.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(s[h]!=null){if(p==null)if(m.t=="e"&&p===null)d[s[h]]=null;else if(f!==void 0)d[s[h]]=f;else if(c&&p===null)d[s[h]]=null;else continue;else d[s[h]]=c&&(m.t!=="n"||m.t==="n"&&l.rawNumbers!==!1)?p:ns(m,p,l);p!=null&&(u=!1)}}return{row:d,isempty:u}}function Vc(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,s=[],a=0,l="",o={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},c=f.range!=null?f.range:n["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof c){case"string":o=It(c);break;case"number":o=It(n["!ref"]),o.s.r=c;break;default:o=c}r>0&&(i=0);var u=xn(o.s.r),d=[],h=[],m=0,p=0,g=Array.isArray(n),v=o.s.r,w=0,k={};g&&!n[v]&&(n[v]=[]);var x=f.skipHidden&&n["!cols"]||[],A=f.skipHidden&&n["!rows"]||[];for(w=o.s.c;w<=o.e.c;++w)if(!(x[w]||{}).hidden)switch(d[w]=cn(w),t=g?n[v][w]:n[d[w]+u],r){case 1:s[w]=w-o.s.c;break;case 2:s[w]=d[w];break;case 3:s[w]=f.header[w-o.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),l=a=ns(t,null,f),p=k[a]||0,!p)k[a]=1;else{do l=a+"_"+p++;while(k[l]);k[a]=p,k[l]=1}s[w]=l}for(v=o.s.r+i;v<=o.e.r;++v)if(!(A[v]||{}).hidden){var T=gT(n,o,v,d,r,s,g,f);(T.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(h[m++]=T.row)}return h.length=m,h}var ib=/"/g;function vT(n,e,t,r,i,s,a,l){for(var o=!0,f=[],c="",u=xn(t),d=e.s.c;d<=e.e.c;++d)if(r[d]){var h=l.dense?(n[t]||[])[d]:n[r[d]+u];if(h==null)c="";else if(h.v!=null){o=!1,c=""+(l.rawNumbers&&h.t=="n"?h.v:ns(h,null,l));for(var m=0,p=0;m!==c.length;++m)if((p=c.charCodeAt(m))===i||p===s||p===34||l.forceQuotes){c='"'+c.replace(ib,'""')+'"';break}c=="ID"&&(c='"ID"')}else h.f!=null&&!h.F?(o=!1,c="="+h.f,c.indexOf(",")>=0&&(c='"'+c.replace(ib,'""')+'"')):c="";f.push(c)}return l.blankrows===!1&&o?null:f.join(a)}function Uh(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=It(n["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),l=r.RS!==void 0?r.RS:`
`,o=l.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),c="",u=[];r.dense=Array.isArray(n);for(var d=r.skipHidden&&n["!cols"]||[],h=r.skipHidden&&n["!rows"]||[],m=i.s.c;m<=i.e.c;++m)(d[m]||{}).hidden||(u[m]=cn(m));for(var p=0,g=i.s.r;g<=i.e.r;++g)(h[g]||{}).hidden||(c=vT(n,i,g,u,a,o,s,r),c!=null&&(r.strip&&(c=c.replace(f,"")),(c||r.blankrows!==!1)&&t.push((p++?l:"")+c)));return delete r.dense,t.join("")}function bT(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Uh(n,e);if(typeof Lt>"u"||e.type=="string")return t;var r=Lt.utils.encode(1200,t,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function Nz(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=It(n["!ref"]),s="",a=[],l,o=[],f=Array.isArray(n);for(l=i.s.c;l<=i.e.c;++l)a[l]=cn(l);for(var c=i.s.r;c<=i.e.r;++c)for(s=xn(c),l=i.s.c;l<=i.e.c;++l)if(e=a[l]+s,t=f?(n[c]||[])[l]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}o[o.length]=e+"="+r}return o}function wT(n,e,t){var r=t||{},i=+!r.skipHeader,s=n||{},a=0,l=0;if(s&&r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var o=typeof r.origin=="string"?_n(r.origin):r.origin;a=o.r,l=o.c}var f,c={s:{c:0,r:0},e:{c:l,r:a+e.length-1+i}};if(s["!ref"]){var u=It(s["!ref"]);c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),a==-1&&(a=u.e.r+1,c.e.r=a+e.length-1+i)}else a==-1&&(a=0,c.e.r=e.length-1+i);var d=r.header||[],h=0;e.forEach(function(p,g){An(p).forEach(function(v){(h=d.indexOf(v))==-1&&(d[h=d.length]=v);var w=p[v],k="z",x="",A=_t({c:l+h,r:a+g+i});f=Xo(s,A),w&&typeof w=="object"&&!(w instanceof Date)?s[A]=w:(typeof w=="number"?k="n":typeof w=="boolean"?k="b":typeof w=="string"?k="s":w instanceof Date?(k="d",r.cellDates||(k="n",w=er(w)),x=r.dateNF||pt[14]):w===null&&r.nullError&&(k="e",w=0),f?(f.t=k,f.v=w,delete f.w,delete f.R,x&&(f.z=x)):s[A]=f={t:k,v:w},x&&(f.z=x))})}),c.e.c=Math.max(c.e.c,l+d.length-1);var m=xn(a);if(i)for(h=0;h<d.length;++h)s[cn(h+l)+m]={t:"s",v:d[h]};return s["!ref"]=Tt(c),s}function Pz(n,e){return wT(null,n,e)}function Xo(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=_n(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Xo(n,_t(e)):Xo(n,_t({r:e,c:t||0}))}function Lz(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Hh(){return{SheetNames:[],Sheets:{}}}function Vh(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var s=t.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=a+i)!=-1;++i);}if(X4(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Rz(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=Lz(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function $z(n,e){return n.z=e,n}function kT(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function Bz(n,e,t){return kT(n,"#"+e,t)}function Uz(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Hz(n,e,t,r){for(var i=typeof e!="string"?e:It(e),s=typeof e=="string"?e:Tt(e),a=i.s.r;a<=i.e.r;++a)for(var l=i.s.c;l<=i.e.c;++l){var o=Xo(n,a,l);o.t="n",o.F=s,delete o.v,a==i.s.r&&l==i.s.c&&(o.f=t,r&&(o.D=!0))}return n}var yT={encode_col:cn,encode_row:xn,encode_cell:_t,encode_range:Tt,decode_col:ph,decode_row:hh,split_cell:aR,decode_cell:_n,decode_range:Lr,format_cell:ns,sheet_add_aoa:Ux,sheet_add_json:wT,sheet_add_dom:lT,aoa_to_sheet:Pl,json_to_sheet:Pz,table_to_sheet:oT,table_to_book:Jj,sheet_to_csv:Uh,sheet_to_txt:bT,sheet_to_json:Vc,sheet_to_html:aT,sheet_to_formulae:Nz,sheet_to_row_object_array:Vc,sheet_get_cell:Xo,book_new:Hh,book_append_sheet:Vh,book_set_sheet_visibility:Rz,cell_set_number_format:$z,cell_set_hyperlink:kT,cell_set_internal_link:Bz,cell_add_comment:Uz,sheet_set_array_formula:Hz,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},gu;function Vz(n){gu=n}function Wz(n,e){var t=gu(),r=e??{};if(n==null||n["!ref"]==null)return t.push(null),t;var i=It(n["!ref"]),s=r.FS!==void 0?r.FS:",",a=s.charCodeAt(0),l=r.RS!==void 0?r.RS:`
`,o=l.charCodeAt(0),f=new RegExp((s=="|"?"\\|":s)+"+$"),c="",u=[];r.dense=Array.isArray(n);for(var d=r.skipHidden&&n["!cols"]||[],h=r.skipHidden&&n["!rows"]||[],m=i.s.c;m<=i.e.c;++m)(d[m]||{}).hidden||(u[m]=cn(m));var p=i.s.r,g=!1,v=0;return t._read=function(){if(!g)return g=!0,t.push("\uFEFF");for(;p<=i.e.r;)if(++p,!(h[p-1]||{}).hidden&&(c=vT(n,i,p-1,u,a,o,s,r),c!=null&&(r.strip&&(c=c.replace(f,"")),c||r.blankrows!==!1)))return t.push((v++?l:"")+c);return t.push(null)},t}function jz(n,e){var t=gu(),r=e||{},i=r.header!=null?r.header:rT,s=r.footer!=null?r.footer:iT;t.push(i);var a=Lr(n["!ref"]);r.dense=Array.isArray(n),t.push(sT(n,a,r));var l=a.s.r,o=!1;return t._read=function(){if(l>a.e.r)return o||(o=!0,t.push("</table>"+s)),t.push(null);for(;l<=a.e.r;){t.push(nT(n,a,l,r)),++l;break}},t}function zz(n,e){var t=gu({objectMode:!0});if(n==null||n["!ref"]==null)return t.push(null),t;var r={t:"n",v:0},i=0,s=1,a=[],l=0,o="",f={s:{r:0,c:0},e:{r:0,c:0}},c=e||{},u=c.range!=null?c.range:n["!ref"];switch(c.header===1?i=1:c.header==="A"?i=2:Array.isArray(c.header)&&(i=3),typeof u){case"string":f=It(u);break;case"number":f=It(n["!ref"]),f.s.r=u;break;default:f=u}i>0&&(s=0);var d=xn(f.s.r),h=[],m=0,p=Array.isArray(n),g=f.s.r,v=0,w={};p&&!n[g]&&(n[g]=[]);var k=c.skipHidden&&n["!cols"]||[],x=c.skipHidden&&n["!rows"]||[];for(v=f.s.c;v<=f.e.c;++v)if(!(k[v]||{}).hidden)switch(h[v]=cn(v),r=p?n[g][v]:n[h[v]+d],i){case 1:a[v]=v-f.s.c;break;case 2:a[v]=h[v];break;case 3:a[v]=c.header[v-f.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=l=ns(r,null,c),m=w[l]||0,!m)w[l]=1;else{do o=l+"_"+m++;while(w[o]);w[l]=m,w[o]=1}a[v]=o}return g=f.s.r+s,t._read=function(){for(;g<=f.e.r;)if(!(x[g-1]||{}).hidden){var A=gT(n,f,g,h,i,a,p,c);if(++g,A.isempty===!1||(i===1?c.blankrows!==!1:c.blankrows)){t.push(A.row);return}}return t.push(null)},t}var qz={to_json:zz,to_html:jz,to_csv:Wz,set_readable:Vz};const Yz=Lo.version,Gz=Object.freeze(Object.defineProperty({__proto__:null,CFB:ft,SSF:bx,parse_xlscfb:Ih,parse_zip:dT,read:Hc,readFile:nb,readFileSync:nb,set_cptable:ZP,set_fs:CL,stream:qz,utils:yT,version:Yz,write:_u,writeFile:rb,writeFileAsync:Iz,writeFileSync:rb,writeFileXLSX:Mz,writeXLSX:$h},Symbol.toStringTag,{value:"Module"}));function Xz(n){let e;return{c(){e=y("div"),_(e,"class","excel-table svelte-1qz20eb")},m(t,r){E(t,e,r),e.innerHTML=n[0],n[3](e)},p(t,[r]){r&1&&(e.innerHTML=t[0])},i:ce,o:ce,d(t){t&&S(e),n[3](null)}}}function Kz(n,e,t){let{table:r=""}=e,{store:i=[]}=e;function s(c){let u=Array.from(i),d=u.indexOf(c);d===-1?u.push(c):u.splice(d,1),t(2,i=u)}let a,l=[];function o(){function c(u,d){i.indexOf(d)!==-1?u.classList.add("selected"):u.classList.remove("selected")}Array.prototype.forEach.call(l,c)}ur(()=>{function c(){l=a.querySelectorAll("tr:first-child td")}c(),o();function u(p=0){let g=l[p];for(let v of l)v.classList.contains("selected")||(v.classList.remove("hover"),g===v&&v.classList.add("hover"))}function d(p){return Array.prototype.indexOf.call(p.parentElement.childNodes,p)}let h=null;function m(p){let g=p.target;if(g==h||(h=g,g.tagName!="TD"))return;let v=d(g);u(v)}a.addEventListener("mousemove",m),a.addEventListener("mouseleave",()=>u(-1)),a.addEventListener("mouseout",()=>u(-1)),a.addEventListener("click",p=>{let g=p.target;if(g.tagName!="TD")return;let v=d(g);s(v),o()})});function f(c){ve[c?"unshift":"push"](()=>{a=c,t(1,a)})}return n.$$set=c=>{"table"in c&&t(0,r=c.table),"store"in c&&t(2,i=c.store)},[r,a,i,f]}class Jz extends We{constructor(e){super(),Ve(this,e,Kz,Xz,$e,{table:0,store:2})}}function Zz(n){let e,t,r;function i(a){n[11](a)}let s={table:n[4]};return n[3]!==void 0&&(s.store=n[3]),e=new Jz({props:s}),ve.push(()=>Le(e,"store",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l&16&&(o.table=a[4]),!t&&l&8&&(t=!0,o.store=a[3],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function Qz(n){let e,t,r=n[2].name+"",i,s,a=n[3].join(",")+"",l;return{c(){e=y("h4"),t=q("table picker for field "),i=q(r),s=D(),l=q(a)},m(o,f){E(o,e,f),b(e,t),b(e,i),b(e,s),b(e,l)},p(o,f){f&4&&r!==(r=o[2].name+"")&&ke(i,r),f&8&&a!==(a=o[3].join(",")+"")&&ke(l,a)},d(o){o&&S(e)}}}function eq(n){let e,t,r,i,s;return{c(){e=y("button"),e.innerHTML='<span class="txt">Cancel</span>',t=D(),r=y("button"),r.innerHTML='<span class="txt">Save selection</span>',_(e,"type","button"),_(e,"class","btn btn-transparent"),_(r,"type","button"),_(r,"class","btn")},m(a,l){E(a,e,l),E(a,t,l),E(a,r,l),i||(s=[ae(e,"click",n[9]),ae(r,"click",n[10])],i=!0)},p:ce,d(a){a&&S(e),a&&S(t),a&&S(r),i=!1,it(s)}}}function tq(n){let e,t,r={popup:!0,class:"excel-picker-panel",$$slots:{footer:[eq],header:[Qz],default:[Zz]},$$scope:{ctx:n}};return e=new $r({props:r}),n[12](e),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&8220&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[12](null),j(e,i)}}}function Wh(n){return typeof n!="string"?[]:(n.match(/\$\{\d+\}/g)??[]).map(t=>Number(t.slice(2,-1)))}function Cl(n,e){let t=Wh(n),r=0;return n.replace(/\$\{\d+\}/g,()=>{let i=t[r++];return e[i]??""})}function bf(n){return typeof n!="string"?!1:n.startsWith("table`")}function nq(n,e,t){let r,{sheet:i}=e,s,a,l=[],{record:o}=e;function f(g){t(2,a=g);let v=o[a.name];bf(v)?t(3,l=Wh(v)):t(3,l=[]),s==null||s.show()}function c(){s==null||s.hide()}function u(){let g=l.map(v=>`\${${v}}`).join(" ");g.length>0&&t(6,o[a.name]=`table\`${g}\``,o),s==null||s.hide()}const d=()=>c(),h=()=>u();function m(g){l=g,t(3,l)}function p(g){ve[g?"unshift":"push"](()=>{s=g,t(1,s)})}return n.$$set=g=>{"sheet"in g&&t(7,i=g.sheet),"record"in g&&t(6,o=g.record)},n.$$.update=()=>{n.$$.dirty&128&&t(4,r=yT.sheet_to_html(i,{header:"",footer:""}))},[c,s,a,l,r,u,o,i,f,d,h,m,p]}class rq extends We{constructor(e){super(),Ve(this,e,nq,tq,$e,{sheet:7,record:6,show:8,hide:0})}get show(){return this.$$.ctx[8]}get hide(){return this.$$.ctx[0]}}function sb(n,e,t){const r=n.slice();return r[6]=e[t],r}function ab(n){let e,t,r,i=n[1],s=[];for(let a=0;a<i.length;a+=1)s[a]=lb(sb(n,i,a));return{c(){e=y("div"),t=y("div"),t.innerHTML='<div class="content svelte-1ffo4dh">sample data</div>',r=D();for(let a=0;a<s.length;a+=1)s[a].c();_(t,"class","list-item svelte-1ffo4dh"),_(e,"class","list svelte-1ffo4dh")},m(a,l){E(a,e,l),b(e,t),b(e,r);for(let o=0;o<s.length;o+=1)s[o].m(e,null)},p(a,l){if(l&2){i=a[1];let o;for(o=0;o<i.length;o+=1){const f=sb(a,i,o);s[o]?s[o].p(f,l):(s[o]=lb(f),s[o].c(),s[o].m(e,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}},d(a){a&&S(e),zt(s,a)}}}function lb(n){let e,t,r=n[6]+"",i,s;return{c(){e=y("div"),t=y("div"),i=q(r),s=D(),_(t,"class","content svelte-1ffo4dh"),_(e,"class","list-item svelte-1ffo4dh")},m(a,l){E(a,e,l),b(e,t),b(t,i),b(e,s)},p(a,l){l&2&&r!==(r=a[6]+"")&&ke(i,r)},d(a){a&&S(e)}}}function iq(n){let e,t,r,i,s,a,l,o;const f=n[5].default,c=Hn(f,n,n[4],null);let u=n[1].length>0&&ab(n);return{c(){e=y("div"),c&&c.c(),t=D(),r=y("div"),i=y("button"),i.innerHTML=`<i class="ri-table-line"></i> 
            <span class="text">Open table picker</span>`,s=D(),u&&u.c(),_(i,"type","button"),_(i,"class","btn btn-transparent btn-block btn-sm svelte-1ffo4dh"),_(r,"class","sample svelte-1ffo4dh"),_(e,"class","svelte-1ffo4dh")},m(d,h){E(d,e,h),c&&c.m(e,null),b(e,t),b(e,r),b(r,i),b(r,s),u&&u.m(r,null),a=!0,l||(o=ae(i,"click",function(){ar(n[0])&&n[0].apply(this,arguments)}),l=!0)},p(d,[h]){n=d,c&&c.p&&(!a||h&16)&&Wn(c,f,n,n[4],a?Vn(f,n[4],h,null):jn(n[4]),null),n[1].length>0?u?u.p(n,h):(u=ab(n),u.c(),u.m(r,null)):u&&(u.d(1),u=null)},i(d){a||(M(c,d),a=!0)},o(d){L(c,d),a=!1},d(d){d&&S(e),c&&c.d(d),u&&u.d(),l=!1,o()}}}function sq(n,e,t){let r,{$$slots:i={},$$scope:s}=e,{show:a=()=>{}}=e,{value:l}=e,{data:o}=e;return n.$$set=f=>{"show"in f&&t(0,a=f.show),"value"in f&&t(2,l=f.value),"data"in f&&t(3,o=f.data),"$$scope"in f&&t(4,s=f.$$scope)},n.$$.update=()=>{n.$$.dirty&12&&t(1,r=function(f,c){return c?Wh(c).length===0?[]:f.map(d=>Cl(c,d)):[]}(o,l))},[a,r,l,o,s,i]}class aq extends We{constructor(e){super(),Ve(this,e,sq,iq,$e,{show:0,value:2,data:3})}}function ob(n,e,t){const r=n.slice();return r[19]=e[t],r[20]=e,r[21]=t,r}function lq(n){let e,t,r;function i(a){n[16](a,n[19])}let s={field:n[19]};return n[0][n[19].name]!==void 0&&(s.value=n[0][n[19].name]),e=new nx({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l&2&&(o.field=n[19]),!t&&l&3&&(t=!0,o.value=n[0][n[19].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function oq(n){return{c:ce,m:ce,p:ce,i:ce,o:ce,d:ce}}function fq(n){let e,t,r;function i(a){n[15](a,n[19])}let s={field:n[19]};return n[0][n[19].name]!==void 0&&(s.value=n[0][n[19].name]),e=new tx({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l&2&&(o.field=n[19]),!t&&l&3&&(t=!0,o.value=n[0][n[19].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function cq(n){let e,t,r;function i(a){n[14](a,n[19])}let s={field:n[19]};return n[0][n[19].name]!==void 0&&(s.value=n[0][n[19].name]),e=new ex({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l&2&&(o.field=n[19]),!t&&l&3&&(t=!0,o.value=n[0][n[19].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function uq(n){let e,t,r;function i(a){n[13](a,n[19])}let s={field:n[19]};return n[0][n[19].name]!==void 0&&(s.value=n[0][n[19].name]),e=new Qy({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l&2&&(o.field=n[19]),!t&&l&3&&(t=!0,o.value=n[0][n[19].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function dq(n){let e,t,r;function i(a){n[12](a,n[19])}let s={field:n[19]};return n[0][n[19].name]!==void 0&&(s.value=n[0][n[19].name]),e=new sx({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l&2&&(o.field=n[19]),!t&&l&3&&(t=!0,o.value=n[0][n[19].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function hq(n){let e,t,r;function i(a){n[11](a,n[19])}let s={field:n[19]};return n[0][n[19].name]!==void 0&&(s.value=n[0][n[19].name]),e=new Zy({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l&2&&(o.field=n[19]),!t&&l&3&&(t=!0,o.value=n[0][n[19].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function pq(n){let e,t,r;function i(a){n[10](a,n[19])}let s={field:n[19]};return n[0][n[19].name]!==void 0&&(s.value=n[0][n[19].name]),e=new Jy({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l&2&&(o.field=n[19]),!t&&l&3&&(t=!0,o.value=n[0][n[19].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function mq(n){let e,t,r;function i(a){n[9](a,n[19])}let s={field:n[19]};return n[0][n[19].name]!==void 0&&(s.value=n[0][n[19].name]),e=new Ky({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l&2&&(o.field=n[19]),!t&&l&3&&(t=!0,o.value=n[0][n[19].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function _q(n){let e,t,r;function i(a){n[8](a,n[19])}let s={field:n[19]};return n[0][n[19].name]!==void 0&&(s.value=n[0][n[19].name]),e=new Xy({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l&2&&(o.field=n[19]),!t&&l&3&&(t=!0,o.value=n[0][n[19].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function gq(n){let e,t,r;function i(a){n[7](a,n[19])}let s={field:n[19]};return n[0][n[19].name]!==void 0&&(s.value=n[0][n[19].name]),e=new Gy({props:s}),ve.push(()=>Le(e,"value",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){n=a;const o={};l&2&&(o.field=n[19]),!t&&l&3&&(t=!0,o.value=n[0][n[19].name],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function vq(n){let e,t,r,i,s;const a=[gq,_q,mq,pq,hq,dq,uq,cq,fq,oq,lq],l=[];function o(f,c){return c&3&&(e=null),e==null&&(e=!!(f[19].type==="text"||bf(f[0][f[19].name]))),e?0:f[19].type==="number"?1:f[19].type==="bool"?2:f[19].type==="email"?3:f[19].type==="url"?4:f[19].type==="editor"?5:f[19].type==="date"?6:f[19].type==="select"?7:f[19].type==="json"?8:f[19].type==="file"?9:f[19].type==="relation"?10:-1}return~(t=o(n,-1))&&(r=l[t]=a[t](n)),{c(){r&&r.c(),i=D()},m(f,c){~t&&l[t].m(f,c),E(f,i,c),s=!0},p(f,c){let u=t;t=o(f,c),t===u?~t&&l[t].p(f,c):(r&&(Me(),L(l[u],1,1,()=>{l[u]=null}),Ie()),~t?(r=l[t],r?r.p(f,c):(r=l[t]=a[t](f),r.c()),M(r,1),r.m(i.parentNode,i)):r=null)},i(f){s||(M(r),s=!0)},o(f){L(r),s=!1},d(f){~t&&l[t].d(f),f&&S(i)}}}function fb(n,e){let t,r,i,s;function a(){return e[17](e[19])}function l(f){e[18](f,e[19])}let o={data:e[3].slice(0,3),show:a,$$slots:{default:[vq]},$$scope:{ctx:e}};return e[0][e[19].name]!==void 0&&(o.value=e[0][e[19].name]),r=new aq({props:o}),ve.push(()=>Le(r,"value",l)),{key:n,first:null,c(){t=Ge(),z(r.$$.fragment),this.first=t},m(f,c){E(f,t,c),W(r,f,c),s=!0},p(f,c){e=f;const u={};c&8&&(u.data=e[3].slice(0,3)),c&18&&(u.show=a),c&4194307&&(u.$$scope={dirty:c,ctx:e}),!i&&c&3&&(i=!0,u.value=e[0][e[19].name],He(()=>i=!1)),r.$set(u)},i(f){s||(M(r.$$.fragment,f),s=!0)},o(f){L(r.$$.fragment,f),s=!1},d(f){f&&S(t),j(r,f)}}}function bq(n){var m;let e,t,r,i,s=[],a=new Map,l,o,f;function c(p){n[5](p)}let u={sheet:n[2]};n[0]!==void 0&&(u.record=n[0]),e=new rq({props:u}),ve.push(()=>Le(e,"record",c)),n[6](e);let d=((m=n[1])==null?void 0:m.schema)||[];const h=p=>p[19].name;for(let p=0;p<d.length;p+=1){let g=ob(n,d,p),v=h(g);a.set(v,s[p]=fb(v,g))}return{c(){z(e.$$.fragment),r=D(),i=y("form");for(let p=0;p<s.length;p+=1)s[p].c();_(i,"action","")},m(p,g){W(e,p,g),E(p,r,g),E(p,i,g);for(let v=0;v<s.length;v+=1)s[v].m(i,null);l=!0,o||(f=ae(i,"submit",Yt(wq)),o=!0)},p(p,[g]){var w;const v={};g&4&&(v.sheet=p[2]),!t&&g&1&&(t=!0,v.record=p[0],He(()=>t=!1)),e.$set(v),g&27&&(d=((w=p[1])==null?void 0:w.schema)||[],Me(),s=sn(s,g,h,1,p,d,a,i,Tr,fb,null,ob),Ie())},i(p){if(!l){M(e.$$.fragment,p);for(let g=0;g<d.length;g+=1)M(s[g]);l=!0}},o(p){L(e.$$.fragment,p);for(let g=0;g<s.length;g+=1)L(s[g]);l=!1},d(p){n[6](null),j(e,p),p&&S(r),p&&S(i);for(let g=0;g<s.length;g+=1)s[g].d();o=!1,f()}}}const wq=()=>0;function kq(n,e,t){let{collection:r}=e,{record:i}=e,{sheet:s}=e,{data:a}=e,l;function o(T){i=T,t(0,i)}function f(T){ve[T?"unshift":"push"](()=>{l=T,t(4,l)})}function c(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}function u(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}function d(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}function h(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}function m(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}function p(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}function g(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}function v(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}function w(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}function k(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}const x=T=>l==null?void 0:l.show(T);function A(T,C){n.$$.not_equal(i[C.name],T)&&(i[C.name]=T,t(0,i))}return n.$$set=T=>{"collection"in T&&t(1,r=T.collection),"record"in T&&t(0,i=T.record),"sheet"in T&&t(2,s=T.sheet),"data"in T&&t(3,a=T.data)},[i,r,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A]}class yq extends We{constructor(e){super(),Ve(this,e,kq,bq,$e,{collection:1,record:0,sheet:2,data:3})}}function cb(n,e,t){const r=n.slice();return r[7]=e[t],r}function ub(n,e,t){const r=n.slice();return r[10]=e[t],r}function db(n,e,t){const r=n.slice();return r[10]=e[t],r}function hb(n,e,t){const r=n.slice();return r[4]=e[t],r}function pb(n,e,t){const r=n.slice();return r[10]=e[t],r}function mb(n,e,t){const r=n.slice();return r[10]=e[t],r}function _b(n,e){let t,r=e[10].name+"",i;return{key:n,first:null,c(){t=y("th"),i=q(r),this.first=t},m(s,a){E(s,t,a),b(t,i)},p(s,a){e=s,a&1&&r!==(r=e[10].name+"")&&ke(i,r)},d(s){s&&S(t)}}}function xq(n){let e,t=(n[2][n[10].name]??"")+"",r;return{c(){e=y("td"),r=q(t)},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&5&&t!==(t=(i[2][i[10].name]??"")+"")&&ke(r,t)},d(i){i&&S(e)}}}function Tq(n){let e,t=Cl(n[2][n[10].name],n[1][n[4]]).slice(6,-1)+"",r;return{c(){e=y("td"),r=q(t)},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&15&&t!==(t=Cl(i[2][i[10].name],i[1][i[4]]).slice(6,-1)+"")&&ke(r,t)},d(i){i&&S(e)}}}function gb(n,e){let t,r,i;function s(o,f){return f&5&&(r=null),r==null&&(r=!!bf(o[2][o[10].name])),r?Tq:xq}let a=s(e,-1),l=a(e);return{key:n,first:null,c(){t=Ge(),l.c(),i=Ge(),this.first=t},m(o,f){E(o,t,f),l.m(o,f),E(o,i,f)},p(o,f){e=o,a===(a=s(e,f))&&l?l.p(e,f):(l.d(1),l=a(e),l&&(l.c(),l.m(i.parentNode,i)))},d(o){o&&S(t),l.d(o),o&&S(i)}}}function vb(n){var l;let e,t=[],r=new Map,i,s=((l=n[0])==null?void 0:l.schema)??[];const a=o=>o[10].name;for(let o=0;o<s.length;o+=1){let f=pb(n,s,o),c=a(f);r.set(c,t[o]=gb(c,f))}return{c(){e=y("tr");for(let o=0;o<t.length;o+=1)t[o].c();i=D()},m(o,f){E(o,e,f);for(let c=0;c<t.length;c+=1)t[c].m(e,null);b(e,i)},p(o,f){var c;f&15&&(s=((c=o[0])==null?void 0:c.schema)??[],t=sn(t,f,a,1,o,s,r,e,Hi,gb,i,pb))},d(o){o&&S(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function bb(n,e){let t,r=e[10].name+"",i;return{key:n,first:null,c(){t=y("th"),i=q(r),this.first=t},m(s,a){E(s,t,a),b(t,i)},p(s,a){e=s,a&1&&r!==(r=e[10].name+"")&&ke(i,r)},d(s){s&&S(t)}}}function Sq(n){let e,t=(n[2][n[10].name]??"")+"",r;return{c(){e=y("td"),r=q(t)},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&5&&t!==(t=(i[2][i[10].name]??"")+"")&&ke(r,t)},d(i){i&&S(e)}}}function Eq(n){let e,t=Cl(n[2][n[10].name],n[7]).slice(6,-1)+"",r;return{c(){e=y("td"),r=q(t)},m(i,s){E(i,e,s),b(e,r)},p(i,s){s&23&&t!==(t=Cl(i[2][i[10].name],i[7]).slice(6,-1)+"")&&ke(r,t)},d(i){i&&S(e)}}}function wb(n,e){let t,r,i;function s(o,f){return f&5&&(r=null),r==null&&(r=!!bf(o[2][o[10].name])),r?Eq:Sq}let a=s(e,-1),l=a(e);return{key:n,first:null,c(){t=Ge(),l.c(),i=Ge(),this.first=t},m(o,f){E(o,t,f),l.m(o,f),E(o,i,f)},p(o,f){e=o,a===(a=s(e,f))&&l?l.p(e,f):(l.d(1),l=a(e),l&&(l.c(),l.m(i.parentNode,i)))},d(o){o&&S(t),l.d(o),o&&S(i)}}}function kb(n){var l;let e,t=[],r=new Map,i,s=((l=n[0])==null?void 0:l.schema)??[];const a=o=>o[10].name;for(let o=0;o<s.length;o+=1){let f=ub(n,s,o),c=a(f);r.set(c,t[o]=wb(c,f))}return{c(){e=y("tr");for(let o=0;o<t.length;o+=1)t[o].c();i=D()},m(o,f){E(o,e,f);for(let c=0;c<t.length;c+=1)t[c].m(e,null);b(e,i)},p(o,f){var c;f&23&&(s=((c=o[0])==null?void 0:c.schema)??[],t=sn(t,f,a,1,o,s,r,e,Hi,wb,i,ub))},d(o){o&&S(e);for(let f=0;f<t.length;f+=1)t[f].d()}}}function Cq(n){var be,fe;let e,t,r=n[3].length+"",i,s,a,l,o,f=[],c=new Map,u,d,h,m,p,g,v,w=n[1].length+"",k,x,A,T,C,F=[],O=new Map,I,N,P=((be=n[0])==null?void 0:be.schema)??[];const R=B=>B[10].name;for(let B=0;B<P.length;B+=1){let K=mb(n,P,B),G=R(K);c.set(G,f[B]=_b(G,K))}let Y=n[3],ne=[];for(let B=0;B<Y.length;B+=1)ne[B]=vb(hb(n,Y,B));let V=((fe=n[0])==null?void 0:fe.schema)??[];const se=B=>B[10].name;for(let B=0;B<V.length;B+=1){let K=db(n,V,B),G=se(K);O.set(G,F[B]=bb(G,K))}let ue=n[1].slice(n[4]),U=[];for(let B=0;B<ue.length;B+=1)U[B]=kb(cb(n,ue,B));return{c(){e=y("h4"),t=q(" "),i=q(r),s=D(),a=y("table"),l=y("thead"),o=y("tr");for(let B=0;B<f.length;B+=1)f[B].c();u=D(),d=y("tbody");for(let B=0;B<ne.length;B+=1)ne[B].c();h=D(),m=y("h4"),p=q(" "),g=q(n[4]),v=q("/"),k=q(w),x=D(),A=y("table"),T=y("thead"),C=y("tr");for(let B=0;B<F.length;B+=1)F[B].c();I=D(),N=y("tbody");for(let B=0;B<U.length;B+=1)U[B].c();_(a,"class","svelte-1laxvzx"),_(A,"class","svelte-1laxvzx")},m(B,K){E(B,e,K),b(e,t),b(e,i),E(B,s,K),E(B,a,K),b(a,l),b(l,o);for(let G=0;G<f.length;G+=1)f[G].m(o,null);b(a,u),b(a,d);for(let G=0;G<ne.length;G+=1)ne[G].m(d,null);E(B,h,K),E(B,m,K),b(m,p),b(m,g),b(m,v),b(m,k),E(B,x,K),E(B,A,K),b(A,T),b(T,C);for(let G=0;G<F.length;G+=1)F[G].m(C,null);b(A,I),b(A,N);for(let G=0;G<U.length;G+=1)U[G].m(N,null)},p(B,[K]){var G,J;if(K&8&&r!==(r=B[3].length+"")&&ke(i,r),K&1&&(P=((G=B[0])==null?void 0:G.schema)??[],f=sn(f,K,R,1,B,P,c,o,Hi,_b,null,mb)),K&15){Y=B[3];let de;for(de=0;de<Y.length;de+=1){const me=hb(B,Y,de);ne[de]?ne[de].p(me,K):(ne[de]=vb(me),ne[de].c(),ne[de].m(d,null))}for(;de<ne.length;de+=1)ne[de].d(1);ne.length=Y.length}if(K&16&&ke(g,B[4]),K&2&&w!==(w=B[1].length+"")&&ke(k,w),K&1&&(V=((J=B[0])==null?void 0:J.schema)??[],F=sn(F,K,se,1,B,V,O,C,Hi,bb,null,db)),K&23){ue=B[1].slice(B[4]);let de;for(de=0;de<ue.length;de+=1){const me=cb(B,ue,de);U[de]?U[de].p(me,K):(U[de]=kb(me),U[de].c(),U[de].m(N,null))}for(;de<U.length;de+=1)U[de].d(1);U.length=ue.length}},i:ce,o:ce,d(B){B&&S(e),B&&S(s),B&&S(a);for(let K=0;K<f.length;K+=1)f[K].d();zt(ne,B),B&&S(h),B&&S(m),B&&S(x),B&&S(A);for(let K=0;K<F.length;K+=1)F[K].d();zt(U,B)}}}function Aq(n,e,t){let{collection:r}=e,{data:i}=e,{record:s}=e,a=[],l=0;async function o(){for(;l<i.length;t(4,l++,l)){let f=s.clone();for(let c of r==null?void 0:r.schema)bf(f[c.name])&&(f[c.name]=Cl(f[c.name].slice(6,-1),i[l]));await Promise.resolve(Ue.collection(r.id).create(f.export())).then(()=>{}).catch(c=>{a.push(l),t(3,a)})}Qn("record import finished")}return n.$$set=f=>{"collection"in f&&t(0,r=f.collection),"data"in f&&t(1,i=f.data),"record"in f&&t(2,s=f.record)},[r,i,s,a,l,o]}class Fq extends We{constructor(e){super(),Ve(this,e,Aq,Cq,$e,{collection:0,data:1,record:2,save:5})}get save(){return this.$$.ctx[5]}}function yb(n){n[20]=n[22].sheet,n[21]=n[22].data}function Dq(n){let e,t,r,i,s,a;return{c(){e=q(`Parse Failed
            `),t=y("label"),t.textContent="Upload Excel",r=D(),i=y("input"),_(t,"class","btn btn-outline"),_(t,"for","panel-import-excel-input"),_(i,"class","hidden"),_(i,"id","panel-import-excel-input"),_(i,"type","file"),_(i,"accept",".xls,.xlsx,.csv")},m(l,o){E(l,e,o),E(l,t,o),E(l,r,o),E(l,i,o),s||(a=[ae(i,"click",Hq),ae(i,"change",n[16])],s=!0)},p:ce,i:ce,o:ce,d(l){l&&S(e),l&&S(t),l&&S(r),l&&S(i),s=!1,it(a)}}}function Oq(n){yb(n);let e,t,r,i;const s=[Iq,Mq],a=[];function l(o,f){return o[9]?0:1}return e=l(n),t=a[e]=s[e](n),{c(){t.c(),r=Ge()},m(o,f){a[e].m(o,f),E(o,r,f),i=!0},p(o,f){yb(o);let c=e;e=l(o),e===c?a[e].p(o,f):(Me(),L(a[c],1,1,()=>{a[c]=null}),Ie(),t=a[e],t?t.p(o,f):(t=a[e]=s[e](o),t.c()),M(t,1),t.m(r.parentNode,r))},i(o){i||(M(t),i=!0)},o(o){L(t),i=!1},d(o){a[e].d(o),o&&S(r)}}}function Mq(n){let e,t,r={record:n[10],collection:n[0],sheet:n[20],data:n[21]};return e=new yq({props:r}),n[15](e),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const a={};s&1&&(a.collection=i[0]),s&64&&(a.sheet=i[20]),s&64&&(a.data=i[21]),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[15](null),j(e,i)}}}function Iq(n){let e,t,r={record:n[10],collection:n[0],data:n[21]};return e=new Fq({props:r}),n[14](e),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const a={};s&1&&(a.collection=i[0]),s&64&&(a.data=i[21]),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[14](null),j(e,i)}}}function Nq(n){let e;return{c(){e=y("div"),e.textContent="loading",_(e,"class","loading")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function Pq(n){let e,t,r,i={ctx:n,current:null,token:null,hasCatch:!0,pending:Nq,then:Oq,catch:Dq,value:22,error:23,blocks:[,,,]};return oc(t=n[6],i),{c(){e=y("div"),i.block.c(),_(e,"class","tabs-content")},m(s,a){E(s,e,a),i.block.m(e,i.anchor=null),i.mount=()=>e,i.anchor=null,r=!0},p(s,a){n=s,i.ctx=n,a&64&&t!==(t=n[6])&&oc(t,i)||Nw(i,n,a)},i(s){r||(M(i.block),r=!0)},o(s){for(let a=0;a<3;a+=1){const l=i.blocks[a];L(l)}r=!1},d(s){s&&S(e),i.block.d(),i.token=null,i=null}}}function Lq(n){let e;return{c(){e=y("h4"),e.innerHTML="<strong>Import Records</strong>"},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function Rq(n){let e,t,r,i;return{c(){e=y("button"),t=y("span"),t.textContent="Fields Set Ok",_(t,"class","txt"),_(e,"type","submit"),_(e,"class","btn btn-expanded"),e.disabled=n[5],pe(e,"btn-loading",n[5])},m(s,a){E(s,e,a),b(e,t),r||(i=ae(e,"click",n[13]),r=!0)},p(s,a){a&32&&(e.disabled=s[5]),a&32&&pe(e,"btn-loading",s[5])},d(s){s&&S(e),r=!1,i()}}}function $q(n){let e,t,r,i,s,a,l;return{c(){e=y("button"),t=y("span"),t.textContent="Reset Fields",r=D(),i=y("button"),s=y("span"),s.textContent="Import Excel",_(t,"class","txt"),_(e,"type","button"),_(e,"class","btn btn-outline"),e.disabled=n[5],_(s,"class","txt"),_(i,"type","submit"),_(i,"class","btn btn-expanded"),i.disabled=n[5],pe(i,"btn-loading",n[5])},m(o,f){E(o,e,f),b(e,t),E(o,r,f),E(o,i,f),b(i,s),a||(l=[ae(e,"click",n[12]),ae(i,"click",n[3])],a=!0)},p(o,f){f&32&&(e.disabled=o[5]),f&32&&(i.disabled=o[5]),f&32&&pe(i,"btn-loading",o[5])},d(o){o&&S(e),o&&S(r),o&&S(i),a=!1,it(l)}}}function Bq(n){let e,t,r,i,s,a;function l(c,u){return c[9]?$q:Rq}let o=l(n),f=o(n);return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",r=D(),f.c(),i=Ge(),_(t,"class","txt"),_(e,"type","button"),_(e,"class","btn btn-transparent"),e.disabled=n[5]},m(c,u){E(c,e,u),b(e,t),E(c,r,u),f.m(c,u),E(c,i,u),s||(a=ae(e,"click",n[11]),s=!0)},p(c,u){u&32&&(e.disabled=c[5]),o===(o=l(c))&&f?f.p(c,u):(f.d(1),f=o(c),f&&(f.c(),f.m(i.parentNode,i)))},d(c){c&&S(e),c&&S(r),f.d(c),c&&S(i),s=!1,a()}}}function Uq(n){let e,t,r={class:"records-import-panel",$$slots:{footer:[Bq],header:[Lq],default:[Pq]},$$scope:{ctx:n}};return e=new $r({props:r}),n[17](e),e.$on("hide",n[18]),e.$on("show",n[19]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&16778209&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[17](null),j(e,i)}}}const Hq=n=>n.currentTarget.value=null;function Vq(n,e,t){let{collection:r}=e,i=new ws,s,a=!1,l=Promise.reject(1),o,f;function c(C){return t(6,l=new Promise(async(F,O)=>{const I=await jt(()=>Promise.resolve().then(()=>Gz),void 0,import.meta.url);let N=await C.arrayBuffer();const P=I.read(N);let R=P.Sheets[P.SheetNames[0]],Y=I.utils.sheet_to_json(R,{header:1});F({sheet:R,data:Y})})),s==null?void 0:s.show()}function u(){return s==null?void 0:s.hide()}function d(){t(5,a=!0),Promise.resolve().then(async()=>{await(f==null?void 0:f.save())}).finally(()=>{t(5,a=!1)})}let h=!1;const m=()=>u(),p=()=>t(9,h=!1),g=()=>t(9,h=!0);function v(C){ve[C?"unshift":"push"](()=>{f=C,t(8,f)})}function w(C){ve[C?"unshift":"push"](()=>{o=C,t(7,o)})}const k=C=>c(C.currentTarget.files[0]);function x(C){ve[C?"unshift":"push"](()=>{s=C,t(4,s)})}function A(C){mt.call(this,n,C)}function T(C){mt.call(this,n,C)}return n.$$set=C=>{"collection"in C&&t(0,r=C.collection)},[r,c,u,d,s,a,l,o,f,h,i,m,p,g,v,w,k,x,A,T]}class Wq extends We{constructor(e){super(),Ve(this,e,Vq,Uq,$e,{collection:0,show:1,hide:2,save:3})}get show(){return this.$$.ctx[1]}get hide(){return this.$$.ctx[2]}get save(){return this.$$.ctx[3]}}function xb(n,e,t){const r=n.slice();return r[55]=e[t],r}function Tb(n,e,t){const r=n.slice();return r[58]=e[t],r}function Sb(n,e,t){const r=n.slice();return r[58]=e[t],r}function Eb(n,e,t){const r=n.slice();return r[51]=e[t],r}function Cb(n){let e;function t(s,a){return s[12]?zq:jq}let r=t(n),i=r(n);return{c(){e=y("th"),i.c(),_(e,"class","bulk-select-col min-width")},m(s,a){E(s,e,a),i.m(e,null)},p(s,a){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e,null)))},d(s){s&&S(e),i.d()}}}function jq(n){let e,t,r,i,s,a,l;return{c(){e=y("div"),t=y("input"),i=D(),s=y("label"),_(t,"type","checkbox"),_(t,"id","checkbox_0"),t.disabled=r=!n[4].length,t.checked=n[16],_(s,"for","checkbox_0"),_(e,"class","form-field")},m(o,f){E(o,e,f),b(e,t),b(e,i),b(e,s),a||(l=ae(t,"change",n[28]),a=!0)},p(o,f){f[0]&16&&r!==(r=!o[4].length)&&(t.disabled=r),f[0]&65536&&(t.checked=o[16])},d(o){o&&S(e),a=!1,l()}}}function zq(n){let e;return{c(){e=y("span"),_(e,"class","loader loader-sm")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function Ab(n){let e,t,r;function i(a){n[29](a)}let s={class:"col-type-text col-field-id",name:"id",$$slots:{default:[qq]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new gr({props:s}),ve.push(()=>Le(e,"sort",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[2]&2&&(o.$$scope={dirty:l,ctx:a}),!t&&l[0]&1&&(t=!0,o.sort=a[0],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function qq(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="id",_(t,"class",X.getFieldTypeIcon("primary")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function Fb(n){let e=!n[7].includes("@username"),t,r=!n[7].includes("@email"),i,s,a=e&&Db(n),l=r&&Ob(n);return{c(){a&&a.c(),t=D(),l&&l.c(),i=Ge()},m(o,f){a&&a.m(o,f),E(o,t,f),l&&l.m(o,f),E(o,i,f),s=!0},p(o,f){f[0]&128&&(e=!o[7].includes("@username")),e?a?(a.p(o,f),f[0]&128&&M(a,1)):(a=Db(o),a.c(),M(a,1),a.m(t.parentNode,t)):a&&(Me(),L(a,1,1,()=>{a=null}),Ie()),f[0]&128&&(r=!o[7].includes("@email")),r?l?(l.p(o,f),f[0]&128&&M(l,1)):(l=Ob(o),l.c(),M(l,1),l.m(i.parentNode,i)):l&&(Me(),L(l,1,1,()=>{l=null}),Ie())},i(o){s||(M(a),M(l),s=!0)},o(o){L(a),L(l),s=!1},d(o){a&&a.d(o),o&&S(t),l&&l.d(o),o&&S(i)}}}function Db(n){let e,t,r;function i(a){n[30](a)}let s={class:"col-type-text col-field-id",name:"username",$$slots:{default:[Yq]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new gr({props:s}),ve.push(()=>Le(e,"sort",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[2]&2&&(o.$$scope={dirty:l,ctx:a}),!t&&l[0]&1&&(t=!0,o.sort=a[0],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function Yq(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="username",_(t,"class",X.getFieldTypeIcon("user")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function Ob(n){let e,t,r;function i(a){n[31](a)}let s={class:"col-type-email col-field-email",name:"email",$$slots:{default:[Gq]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new gr({props:s}),ve.push(()=>Le(e,"sort",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[2]&2&&(o.$$scope={dirty:l,ctx:a}),!t&&l[0]&1&&(t=!0,o.sort=a[0],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function Gq(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="email",_(t,"class",X.getFieldTypeIcon("email")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function Xq(n){let e,t,r,i,s,a=n[58].name+"",l;return{c(){e=y("div"),t=y("i"),i=D(),s=y("span"),l=q(a),_(t,"class",r=X.getFieldTypeIcon(n[58].type)),_(s,"class","txt"),_(e,"class","col-header-content")},m(o,f){E(o,e,f),b(e,t),b(e,i),b(e,s),b(s,l)},p(o,f){f[0]&262144&&r!==(r=X.getFieldTypeIcon(o[58].type))&&_(t,"class",r),f[0]&262144&&a!==(a=o[58].name+"")&&ke(l,a)},d(o){o&&S(e)}}}function Mb(n,e){let t,r,i,s;function a(o){e[32](o)}let l={class:"col-type-"+e[58].type+" col-field-"+e[58].name,name:e[58].name,$$slots:{default:[Xq]},$$scope:{ctx:e}};return e[0]!==void 0&&(l.sort=e[0]),r=new gr({props:l}),ve.push(()=>Le(r,"sort",a)),{key:n,first:null,c(){t=Ge(),z(r.$$.fragment),this.first=t},m(o,f){E(o,t,f),W(r,o,f),s=!0},p(o,f){e=o;const c={};f[0]&262144&&(c.class="col-type-"+e[58].type+" col-field-"+e[58].name),f[0]&262144&&(c.name=e[58].name),f[0]&262144|f[2]&2&&(c.$$scope={dirty:f,ctx:e}),!i&&f[0]&1&&(i=!0,c.sort=e[0],He(()=>i=!1)),r.$set(c)},i(o){s||(M(r.$$.fragment,o),s=!0)},o(o){L(r.$$.fragment,o),s=!1},d(o){o&&S(t),j(r,o)}}}function Ib(n){let e,t,r;function i(a){n[33](a)}let s={class:"col-type-date col-field-created",name:"created",$$slots:{default:[Kq]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new gr({props:s}),ve.push(()=>Le(e,"sort",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[2]&2&&(o.$$scope={dirty:l,ctx:a}),!t&&l[0]&1&&(t=!0,o.sort=a[0],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function Kq(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="created",_(t,"class",X.getFieldTypeIcon("date")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function Nb(n){let e,t,r;function i(a){n[34](a)}let s={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[Jq]},$$scope:{ctx:n}};return n[0]!==void 0&&(s.sort=n[0]),e=new gr({props:s}),ve.push(()=>Le(e,"sort",i)),{c(){z(e.$$.fragment)},m(a,l){W(e,a,l),r=!0},p(a,l){const o={};l[2]&2&&(o.$$scope={dirty:l,ctx:a}),!t&&l[0]&1&&(t=!0,o.sort=a[0],He(()=>t=!1)),e.$set(o)},i(a){r||(M(e.$$.fragment,a),r=!0)},o(a){L(e.$$.fragment,a),r=!1},d(a){j(e,a)}}}function Jq(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="updated",_(t,"class",X.getFieldTypeIcon("date")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function Pb(n){let e;return{c(){e=y("button"),e.innerHTML='<i class="ri-more-line"></i>',_(e,"type","button"),_(e,"aria-label","Toggle columns"),_(e,"class","btn btn-sm btn-transparent p-0")},m(t,r){E(t,e,r),n[35](e)},p:ce,d(t){t&&S(e),n[35](null)}}}function Lb(n){let e;function t(s,a){return s[12]?Qq:Zq}let r=t(n),i=r(n);return{c(){i.c(),e=Ge()},m(s,a){i.m(s,a),E(s,e,a)},p(s,a){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&S(e)}}}function Zq(n){let e,t,r,i,s;function a(f,c){var u,d;if((u=f[1])!=null&&u.length)return tY;if(!((d=f[2])!=null&&d.isView))return eY}let l=a(n),o=l&&l(n);return{c(){e=y("tr"),t=y("td"),r=y("h6"),r.textContent="No records found.",i=D(),o&&o.c(),s=D(),_(t,"colspan","99"),_(t,"class","txt-center txt-hint p-xs")},m(f,c){E(f,e,c),b(e,t),b(t,r),b(t,i),o&&o.m(t,null),b(e,s)},p(f,c){l===(l=a(f))&&o?o.p(f,c):(o&&o.d(1),o=l&&l(f),o&&(o.c(),o.m(t,null)))},d(f){f&&S(e),o&&o.d()}}}function Qq(n){let e;return{c(){e=y("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                    `},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function eY(n){let e,t,r;return{c(){e=y("button"),e.innerHTML=`<i class="ri-add-line"></i> 
                                    <span class="txt">New record</span>`,_(e,"type","button"),_(e,"class","btn btn-secondary btn-expanded m-t-sm")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[40]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function tY(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear filters</span>',_(e,"type","button"),_(e,"class","btn btn-hint btn-expanded m-t-sm")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[39]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function Rb(n){let e,t,r,i,s,a,l,o,f,c;function u(){return n[36](n[55])}return{c(){e=y("td"),t=y("div"),r=y("input"),a=D(),l=y("label"),_(r,"type","checkbox"),_(r,"id",i="checkbox_"+n[55].id),r.checked=s=n[6][n[55].id],_(l,"for",o="checkbox_"+n[55].id),_(t,"class","form-field"),_(e,"class","bulk-select-col min-width")},m(d,h){E(d,e,h),b(e,t),b(t,r),b(t,a),b(t,l),f||(c=[ae(r,"change",u),ae(t,"click",ri(n[26]))],f=!0)},p(d,h){n=d,h[0]&16&&i!==(i="checkbox_"+n[55].id)&&_(r,"id",i),h[0]&80&&s!==(s=n[6][n[55].id])&&(r.checked=s),h[0]&16&&o!==(o="checkbox_"+n[55].id)&&_(l,"for",o)},d(d){d&&S(e),f=!1,it(c)}}}function $b(n){let e,t,r,i,s,a,l=n[55].id+"",o,f,c;i=new Kd({props:{value:n[55].id}});let u=n[2].isAuth&&Bb(n);return{c(){e=y("td"),t=y("div"),r=y("div"),z(i.$$.fragment),s=D(),a=y("div"),o=q(l),f=D(),u&&u.c(),_(a,"class","txt"),_(r,"class","label"),_(t,"class","flex flex-gap-5"),_(e,"class","col-type-text col-field-id")},m(d,h){E(d,e,h),b(e,t),b(t,r),W(i,r,null),b(r,s),b(r,a),b(a,o),b(t,f),u&&u.m(t,null),c=!0},p(d,h){const m={};h[0]&16&&(m.value=d[55].id),i.$set(m),(!c||h[0]&16)&&l!==(l=d[55].id+"")&&ke(o,l),d[2].isAuth?u?u.p(d,h):(u=Bb(d),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i(d){c||(M(i.$$.fragment,d),c=!0)},o(d){L(i.$$.fragment,d),c=!1},d(d){d&&S(e),j(i),u&&u.d()}}}function Bb(n){let e;function t(s,a){return s[55].verified?rY:nY}let r=t(n),i=r(n);return{c(){i.c(),e=Ge()},m(s,a){i.m(s,a),E(s,e,a)},p(s,a){r!==(r=t(s))&&(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&S(e)}}}function nY(n){let e,t,r;return{c(){e=y("i"),_(e,"class","ri-error-warning-fill txt-sm txt-hint")},m(i,s){E(i,e,s),t||(r=st(xt.call(null,e,"Unverified")),t=!0)},d(i){i&&S(e),t=!1,r()}}}function rY(n){let e,t,r;return{c(){e=y("i"),_(e,"class","ri-checkbox-circle-fill txt-sm txt-success")},m(i,s){E(i,e,s),t||(r=st(xt.call(null,e,"Verified")),t=!0)},d(i){i&&S(e),t=!1,r()}}}function Ub(n){let e=!n[7].includes("@username"),t,r=!n[7].includes("@email"),i,s=e&&Hb(n),a=r&&Vb(n);return{c(){s&&s.c(),t=D(),a&&a.c(),i=Ge()},m(l,o){s&&s.m(l,o),E(l,t,o),a&&a.m(l,o),E(l,i,o)},p(l,o){o[0]&128&&(e=!l[7].includes("@username")),e?s?s.p(l,o):(s=Hb(l),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),o[0]&128&&(r=!l[7].includes("@email")),r?a?a.p(l,o):(a=Vb(l),a.c(),a.m(i.parentNode,i)):a&&(a.d(1),a=null)},d(l){s&&s.d(l),l&&S(t),a&&a.d(l),l&&S(i)}}}function Hb(n){let e,t;function r(a,l){return l[0]&16&&(t=null),t==null&&(t=!!X.isEmpty(a[55].username)),t?sY:iY}let i=r(n,[-1,-1,-1]),s=i(n);return{c(){e=y("td"),s.c(),_(e,"class","col-type-text col-field-username")},m(a,l){E(a,e,l),s.m(e,null)},p(a,l){i===(i=r(a,l))&&s?s.p(a,l):(s.d(1),s=i(a),s&&(s.c(),s.m(e,null)))},d(a){a&&S(e),s.d()}}}function iY(n){let e,t=n[55].username+"",r,i;return{c(){e=y("span"),r=q(t),_(e,"class","txt txt-ellipsis"),_(e,"title",i=n[55].username)},m(s,a){E(s,e,a),b(e,r)},p(s,a){a[0]&16&&t!==(t=s[55].username+"")&&ke(r,t),a[0]&16&&i!==(i=s[55].username)&&_(e,"title",i)},d(s){s&&S(e)}}}function sY(n){let e;return{c(){e=y("span"),e.textContent="N/A",_(e,"class","txt-hint")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function Vb(n){let e,t;function r(a,l){return l[0]&16&&(t=null),t==null&&(t=!!X.isEmpty(a[55].email)),t?lY:aY}let i=r(n,[-1,-1,-1]),s=i(n);return{c(){e=y("td"),s.c(),_(e,"class","col-type-text col-field-email")},m(a,l){E(a,e,l),s.m(e,null)},p(a,l){i===(i=r(a,l))&&s?s.p(a,l):(s.d(1),s=i(a),s&&(s.c(),s.m(e,null)))},d(a){a&&S(e),s.d()}}}function aY(n){let e,t=n[55].email+"",r,i;return{c(){e=y("span"),r=q(t),_(e,"class","txt txt-ellipsis"),_(e,"title",i=n[55].email)},m(s,a){E(s,e,a),b(e,r)},p(s,a){a[0]&16&&t!==(t=s[55].email+"")&&ke(r,t),a[0]&16&&i!==(i=s[55].email)&&_(e,"title",i)},d(s){s&&S(e)}}}function lY(n){let e;return{c(){e=y("span"),e.textContent="N/A",_(e,"class","txt-hint")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function Wb(n,e){let t,r,i,s;return r=new lx({props:{short:!0,record:e[55],field:e[58]}}),{key:n,first:null,c(){t=y("td"),z(r.$$.fragment),_(t,"class",i="col-type-"+e[58].type+" col-field-"+e[58].name),this.first=t},m(a,l){E(a,t,l),W(r,t,null),s=!0},p(a,l){e=a;const o={};l[0]&16&&(o.record=e[55]),l[0]&262144&&(o.field=e[58]),r.$set(o),(!s||l[0]&262144&&i!==(i="col-type-"+e[58].type+" col-field-"+e[58].name))&&_(t,"class",i)},i(a){s||(M(r.$$.fragment,a),s=!0)},o(a){L(r.$$.fragment,a),s=!1},d(a){a&&S(t),j(r)}}}function jb(n){let e,t,r;return t=new ys({props:{date:n[55].created}}),{c(){e=y("td"),z(t.$$.fragment),_(e,"class","col-type-date col-field-created")},m(i,s){E(i,e,s),W(t,e,null),r=!0},p(i,s){const a={};s[0]&16&&(a.date=i[55].created),t.$set(a)},i(i){r||(M(t.$$.fragment,i),r=!0)},o(i){L(t.$$.fragment,i),r=!1},d(i){i&&S(e),j(t)}}}function zb(n){let e,t,r;return t=new ys({props:{date:n[55].updated}}),{c(){e=y("td"),z(t.$$.fragment),_(e,"class","col-type-date col-field-updated")},m(i,s){E(i,e,s),W(t,e,null),r=!0},p(i,s){const a={};s[0]&16&&(a.date=i[55].updated),t.$set(a)},i(i){r||(M(t.$$.fragment,i),r=!0)},o(i){L(t.$$.fragment,i),r=!1},d(i){i&&S(e),j(t)}}}function qb(n,e){let t,r,i=!e[7].includes("@id"),s,a,l=[],o=new Map,f,c=e[10]&&!e[7].includes("@created"),u,d=e[9]&&!e[7].includes("@updated"),h,m,p,g,v,w,k=!e[2].isView&&Rb(e),x=i&&$b(e),A=e[2].isAuth&&Ub(e),T=e[18];const C=P=>P[58].name;for(let P=0;P<T.length;P+=1){let R=Tb(e,T,P),Y=C(R);o.set(Y,l[P]=Wb(Y,R))}let F=c&&jb(e),O=d&&zb(e);function I(){return e[37](e[55])}function N(...P){return e[38](e[55],...P)}return{key:n,first:null,c(){t=y("tr"),k&&k.c(),r=D(),x&&x.c(),s=D(),A&&A.c(),a=D();for(let P=0;P<l.length;P+=1)l[P].c();f=D(),F&&F.c(),u=D(),O&&O.c(),h=D(),m=y("td"),m.innerHTML='<i class="ri-arrow-right-line"></i>',p=D(),_(m,"class","col-type-action min-width"),_(t,"tabindex","0"),_(t,"class","row-handle"),this.first=t},m(P,R){E(P,t,R),k&&k.m(t,null),b(t,r),x&&x.m(t,null),b(t,s),A&&A.m(t,null),b(t,a);for(let Y=0;Y<l.length;Y+=1)l[Y].m(t,null);b(t,f),F&&F.m(t,null),b(t,u),O&&O.m(t,null),b(t,h),b(t,m),b(t,p),g=!0,v||(w=[ae(t,"click",I),ae(t,"keydown",N)],v=!0)},p(P,R){e=P,e[2].isView?k&&(k.d(1),k=null):k?k.p(e,R):(k=Rb(e),k.c(),k.m(t,r)),R[0]&128&&(i=!e[7].includes("@id")),i?x?(x.p(e,R),R[0]&128&&M(x,1)):(x=$b(e),x.c(),M(x,1),x.m(t,s)):x&&(Me(),L(x,1,1,()=>{x=null}),Ie()),e[2].isAuth?A?A.p(e,R):(A=Ub(e),A.c(),A.m(t,a)):A&&(A.d(1),A=null),R[0]&262160&&(T=e[18],Me(),l=sn(l,R,C,1,e,T,o,t,Tr,Wb,f,Tb),Ie()),R[0]&1152&&(c=e[10]&&!e[7].includes("@created")),c?F?(F.p(e,R),R[0]&1152&&M(F,1)):(F=jb(e),F.c(),M(F,1),F.m(t,u)):F&&(Me(),L(F,1,1,()=>{F=null}),Ie()),R[0]&640&&(d=e[9]&&!e[7].includes("@updated")),d?O?(O.p(e,R),R[0]&640&&M(O,1)):(O=zb(e),O.c(),M(O,1),O.m(t,h)):O&&(Me(),L(O,1,1,()=>{O=null}),Ie())},i(P){if(!g){M(x);for(let R=0;R<T.length;R+=1)M(l[R]);M(F),M(O),g=!0}},o(P){L(x);for(let R=0;R<l.length;R+=1)L(l[R]);L(F),L(O),g=!1},d(P){P&&S(t),k&&k.d(),x&&x.d(),A&&A.d();for(let R=0;R<l.length;R+=1)l[R].d();F&&F.d(),O&&O.d(),v=!1,it(w)}}}function oY(n){let e,t,r,i,s=!n[7].includes("@id"),a,l,o=[],f=new Map,c,u=n[10]&&!n[7].includes("@created"),d,h=n[9]&&!n[7].includes("@updated"),m,p,g,v,w=[],k=new Map,x,A=!n[2].isView&&Cb(n),T=s&&Ab(n),C=n[2].isAuth&&Fb(n),F=n[18];const O=V=>V[58].name;for(let V=0;V<F.length;V+=1){let se=Sb(n,F,V),ue=O(se);f.set(ue,o[V]=Mb(ue,se))}let I=u&&Ib(n),N=h&&Nb(n),P=n[15].length&&Pb(n),R=n[4];const Y=V=>V[2].isView?V[55]:V[55].id;for(let V=0;V<R.length;V+=1){let se=xb(n,R,V),ue=Y(se);k.set(ue,w[V]=qb(ue,se))}let ne=null;return R.length||(ne=Lb(n)),{c(){e=y("table"),t=y("thead"),r=y("tr"),A&&A.c(),i=D(),T&&T.c(),a=D(),C&&C.c(),l=D();for(let V=0;V<o.length;V+=1)o[V].c();c=D(),I&&I.c(),d=D(),N&&N.c(),m=D(),p=y("th"),P&&P.c(),g=D(),v=y("tbody");for(let V=0;V<w.length;V+=1)w[V].c();ne&&ne.c(),_(p,"class","col-type-action min-width"),_(e,"class","table"),pe(e,"table-loading",n[12])},m(V,se){E(V,e,se),b(e,t),b(t,r),A&&A.m(r,null),b(r,i),T&&T.m(r,null),b(r,a),C&&C.m(r,null),b(r,l);for(let ue=0;ue<o.length;ue+=1)o[ue].m(r,null);b(r,c),I&&I.m(r,null),b(r,d),N&&N.m(r,null),b(r,m),b(r,p),P&&P.m(p,null),b(e,g),b(e,v);for(let ue=0;ue<w.length;ue+=1)w[ue].m(v,null);ne&&ne.m(v,null),x=!0},p(V,se){V[2].isView?A&&(A.d(1),A=null):A?A.p(V,se):(A=Cb(V),A.c(),A.m(r,i)),se[0]&128&&(s=!V[7].includes("@id")),s?T?(T.p(V,se),se[0]&128&&M(T,1)):(T=Ab(V),T.c(),M(T,1),T.m(r,a)):T&&(Me(),L(T,1,1,()=>{T=null}),Ie()),V[2].isAuth?C?(C.p(V,se),se[0]&4&&M(C,1)):(C=Fb(V),C.c(),M(C,1),C.m(r,l)):C&&(Me(),L(C,1,1,()=>{C=null}),Ie()),se[0]&262145&&(F=V[18],Me(),o=sn(o,se,O,1,V,F,f,r,Tr,Mb,c,Sb),Ie()),se[0]&1152&&(u=V[10]&&!V[7].includes("@created")),u?I?(I.p(V,se),se[0]&1152&&M(I,1)):(I=Ib(V),I.c(),M(I,1),I.m(r,d)):I&&(Me(),L(I,1,1,()=>{I=null}),Ie()),se[0]&640&&(h=V[9]&&!V[7].includes("@updated")),h?N?(N.p(V,se),se[0]&640&&M(N,1)):(N=Nb(V),N.c(),M(N,1),N.m(r,m)):N&&(Me(),L(N,1,1,()=>{N=null}),Ie()),V[15].length?P?P.p(V,se):(P=Pb(V),P.c(),P.m(p,null)):P&&(P.d(1),P=null),se[0]&4986582&&(R=V[4],Me(),w=sn(w,se,Y,1,V,R,k,v,Tr,qb,null,xb),Ie(),!R.length&&ne?ne.p(V,se):R.length?ne&&(ne.d(1),ne=null):(ne=Lb(V),ne.c(),ne.m(v,null))),(!x||se[0]&4096)&&pe(e,"table-loading",V[12])},i(V){if(!x){M(T),M(C);for(let se=0;se<F.length;se+=1)M(o[se]);M(I),M(N);for(let se=0;se<R.length;se+=1)M(w[se]);x=!0}},o(V){L(T),L(C);for(let se=0;se<o.length;se+=1)L(o[se]);L(I),L(N);for(let se=0;se<w.length;se+=1)L(w[se]);x=!1},d(V){V&&S(e),A&&A.d(),T&&T.d(),C&&C.d();for(let se=0;se<o.length;se+=1)o[se].d();I&&I.d(),N&&N.d(),P&&P.d();for(let se=0;se<w.length;se+=1)w[se].d();ne&&ne.d()}}}function Yb(n){let e,t;return e=new ss({props:{class:"dropdown dropdown-right dropdown-nowrap columns-dropdown",trigger:n[14],$$slots:{default:[cY]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i[0]&16384&&(s.trigger=r[14]),i[0]&32896|i[2]&2&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function fY(n){let e,t,r,i,s,a=n[51].name+"",l,o,f,c,u;function d(...h){return n[27](n[51],...h)}return{c(){e=y("input"),i=D(),s=y("label"),l=q(a),f=D(),_(e,"type","checkbox"),_(e,"id",t=n[54]),e.checked=r=!n[7].includes(n[51].id),_(s,"for",o=n[54])},m(h,m){E(h,e,m),E(h,i,m),E(h,s,m),b(s,l),E(h,f,m),c||(u=ae(e,"change",d),c=!0)},p(h,m){n=h,m[1]&8388608&&t!==(t=n[54])&&_(e,"id",t),m[0]&32896&&r!==(r=!n[7].includes(n[51].id))&&(e.checked=r),m[0]&32768&&a!==(a=n[51].name+"")&&ke(l,a),m[1]&8388608&&o!==(o=n[54])&&_(s,"for",o)},d(h){h&&S(e),h&&S(i),h&&S(s),h&&S(f),c=!1,u()}}}function Gb(n,e){let t,r,i;return r=new Re({props:{class:"form-field form-field-sm form-field-toggle m-0 p-5",$$slots:{default:[fY,({uniqueId:s})=>({54:s}),({uniqueId:s})=>[0,s?8388608:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=Ge(),z(r.$$.fragment),this.first=t},m(s,a){E(s,t,a),W(r,s,a),i=!0},p(s,a){e=s;const l={};a[0]&32896|a[1]&8388608|a[2]&2&&(l.$$scope={dirty:a,ctx:e}),r.$set(l)},i(s){i||(M(r.$$.fragment,s),i=!0)},o(s){L(r.$$.fragment,s),i=!1},d(s){s&&S(t),j(r,s)}}}function cY(n){let e,t,r=[],i=new Map,s,a,l=n[15];const o=f=>f[51].id+f[51].name;for(let f=0;f<l.length;f+=1){let c=Eb(n,l,f),u=o(c);i.set(u,r[f]=Gb(u,c))}return{c(){e=y("div"),e.textContent="Toggle columns",t=D();for(let f=0;f<r.length;f+=1)r[f].c();s=Ge(),_(e,"class","txt-hint txt-sm p-5 m-b-5")},m(f,c){E(f,e,c),E(f,t,c);for(let u=0;u<r.length;u+=1)r[u].m(f,c);E(f,s,c),a=!0},p(f,c){c[0]&32896|c[1]&8388608&&(l=f[15],Me(),r=sn(r,c,o,1,f,l,i,s.parentNode,Tr,Gb,s,Eb),Ie())},i(f){if(!a){for(let c=0;c<l.length;c+=1)M(r[c]);a=!0}},o(f){for(let c=0;c<r.length;c+=1)L(r[c]);a=!1},d(f){f&&S(e),f&&S(t);for(let c=0;c<r.length;c+=1)r[c].d(f);f&&S(s)}}}function uY(n){let e,t,r=n[14]&&Yb(n);return{c(){r&&r.c(),e=Ge()},m(i,s){r&&r.m(i,s),E(i,e,s),t=!0},p(i,s){i[14]?r?(r.p(i,s),s[0]&16384&&M(r,1)):(r=Yb(i),r.c(),M(r,1),r.m(e.parentNode,e)):r&&(Me(),L(r,1,1,()=>{r=null}),Ie())},i(i){t||(M(r),t=!0)},o(i){L(r),t=!1},d(i){r&&r.d(i),i&&S(e)}}}function Xb(n){let e,t,r=n[4].length+"",i,s,a;return{c(){e=y("small"),t=q("Showing "),i=q(r),s=q(" of "),a=q(n[5]),_(e,"class","block txt-hint txt-right m-t-sm")},m(l,o){E(l,e,o),b(e,t),b(e,i),b(e,s),b(e,a)},p(l,o){o[0]&16&&r!==(r=l[4].length+"")&&ke(i,r),o[0]&32&&ke(a,l[5])},d(l){l&&S(e)}}}function Kb(n){let e,t,r,i,s=n[5]-n[4].length+"",a,l,o,f;return{c(){e=y("div"),t=y("button"),r=y("span"),i=q("Load more ("),a=q(s),l=q(")"),_(r,"class","txt"),_(t,"type","button"),_(t,"class","btn btn-lg btn-secondary btn-expanded"),pe(t,"btn-loading",n[12]),pe(t,"btn-disabled",n[12]),_(e,"class","block txt-center m-t-xs")},m(c,u){E(c,e,u),b(e,t),b(t,r),b(r,i),b(r,a),b(r,l),o||(f=ae(t,"click",n[41]),o=!0)},p(c,u){u[0]&48&&s!==(s=c[5]-c[4].length+"")&&ke(a,s),u[0]&4096&&pe(t,"btn-loading",c[12]),u[0]&4096&&pe(t,"btn-disabled",c[12])},d(c){c&&S(e),o=!1,f()}}}function Jb(n){let e,t,r,i,s,a,l=n[8]===1?"record":"records",o,f,c,u,d,h,m,p,g,v,w;return{c(){e=y("div"),t=y("div"),r=q("Selected "),i=y("strong"),s=q(n[8]),a=D(),o=q(l),f=D(),c=y("button"),c.innerHTML='<span class="txt">Reset</span>',u=D(),d=y("div"),h=D(),m=y("button"),m.innerHTML='<span class="txt">Delete selected</span>',_(t,"class","txt"),_(c,"type","button"),_(c,"class","btn btn-xs btn-transparent btn-outline p-l-5 p-r-5"),pe(c,"btn-disabled",n[13]),_(d,"class","flex-fill"),_(m,"type","button"),_(m,"class","btn btn-sm btn-transparent btn-danger"),pe(m,"btn-loading",n[13]),pe(m,"btn-disabled",n[13]),_(e,"class","bulkbar")},m(k,x){E(k,e,x),b(e,t),b(t,r),b(t,i),b(i,s),b(t,a),b(t,o),b(e,f),b(e,c),b(e,u),b(e,d),b(e,h),b(e,m),g=!0,v||(w=[ae(c,"click",n[42]),ae(m,"click",n[43])],v=!0)},p(k,x){(!g||x[0]&256)&&ke(s,k[8]),(!g||x[0]&256)&&l!==(l=k[8]===1?"record":"records")&&ke(o,l),(!g||x[0]&8192)&&pe(c,"btn-disabled",k[13]),(!g||x[0]&8192)&&pe(m,"btn-loading",k[13]),(!g||x[0]&8192)&&pe(m,"btn-disabled",k[13])},i(k){g||(k&&Nt(()=>{p||(p=ut(e,Si,{duration:150,y:5},!0)),p.run(1)}),g=!0)},o(k){k&&(p||(p=ut(e,Si,{duration:150,y:5},!1)),p.run(0)),g=!1},d(k){k&&S(e),k&&p&&p.end(),v=!1,it(w)}}}function dY(n){let e,t,r,i,s,a;e=new yd({props:{class:"table-wrapper",$$slots:{before:[uY],default:[oY]},$$scope:{ctx:n}}});let l=n[4].length&&Xb(n),o=n[4].length&&n[17]&&Kb(n),f=n[8]&&Jb(n);return{c(){z(e.$$.fragment),t=D(),l&&l.c(),r=D(),o&&o.c(),i=D(),f&&f.c(),s=Ge()},m(c,u){W(e,c,u),E(c,t,u),l&&l.m(c,u),E(c,r,u),o&&o.m(c,u),E(c,i,u),f&&f.m(c,u),E(c,s,u),a=!0},p(c,u){const d={};u[0]&382679|u[2]&2&&(d.$$scope={dirty:u,ctx:c}),e.$set(d),c[4].length?l?l.p(c,u):(l=Xb(c),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null),c[4].length&&c[17]?o?o.p(c,u):(o=Kb(c),o.c(),o.m(i.parentNode,i)):o&&(o.d(1),o=null),c[8]?f?(f.p(c,u),u[0]&256&&M(f,1)):(f=Jb(c),f.c(),M(f,1),f.m(s.parentNode,s)):f&&(Me(),L(f,1,1,()=>{f=null}),Ie())},i(c){a||(M(e.$$.fragment,c),M(f),a=!0)},o(c){L(e.$$.fragment,c),L(f),a=!1},d(c){j(e,c),c&&S(t),l&&l.d(c),c&&S(r),o&&o.d(c),c&&S(i),f&&f.d(c),c&&S(s)}}}const hY=/^([\+\-])?(\w+)$/;function pY(n,e,t){let r,i,s,a,l,o,f,c;const u=Fn();let{collection:d}=e,{sort:h=""}=e,{filter:m=""}=e,p=[],g=1,v=0,w={},k=!0,x=!1,A=0,T,C=[],F=[];function O(){d!=null&&d.id&&localStorage.setItem((d==null?void 0:d.id)+"@hiddenCollumns",JSON.stringify(C))}function I(){if(t(7,C=[]),!!(d!=null&&d.id))try{const _e=localStorage.getItem(d.id+"@hiddenCollumns");_e&&t(7,C=JSON.parse(_e)||[])}catch{}}async function N(){const _e=g;for(let je=1;je<=_e;je++)(je===1||a)&&await P(je,!1)}async function P(_e=1,je=!0){var dn,gn;if(!(d!=null&&d.id))return;t(12,k=!0);let wt=h;const kt=wt.match(hY),Qt=kt?i.find(At=>At.name===kt[2]):null;if(kt&&((gn=(dn=Qt==null?void 0:Qt.options)==null?void 0:dn.displayFields)==null?void 0:gn.length)>0){const At=[];for(const Yn of Qt.options.displayFields)At.push((kt[1]||"")+kt[2]+"."+Yn);wt=At.join(",")}return Ue.collection(d.id).getList(_e,30,{sort:wt,filter:m,expand:i.map(At=>At.name).join(","),$cancelKey:"records_list"}).then(async At=>{if(_e<=1&&R(),t(12,k=!1),t(11,g=At.page),t(5,v=At.totalItems),u("load",p.concat(At.items)),je){const Yn=++A;for(;At.items.length&&A==Yn;)t(4,p=p.concat(At.items.splice(0,15))),await X.yieldToMain()}else t(4,p=p.concat(At.items))}).catch(At=>{At!=null&&At.isAbort||(t(12,k=!1),console.warn(At),R(),Ue.errorResponseHandler(At,!1))})}function R(){t(4,p=[]),t(11,g=1),t(5,v=0),t(6,w={})}function Y(){o?ne():V()}function ne(){t(6,w={})}function V(){for(const _e of p)t(6,w[_e.id]=_e,w);t(6,w)}function se(_e){w[_e.id]?delete w[_e.id]:t(6,w[_e.id]=_e,w),t(6,w)}function ue(){Wr(`Do you really want to delete the selected ${l===1?"record":"records"}?`,U)}async function U(){if(x||!l||!(d!=null&&d.id))return;let _e=[];for(const je of Object.keys(w))_e.push(Ue.collection(d.id).delete(je));return t(13,x=!0),Promise.all(_e).then(()=>{Qn(`Successfully deleted the selected ${l===1?"record":"records"}.`),ne()}).catch(je=>{Ue.errorResponseHandler(je)}).finally(()=>(t(13,x=!1),N()))}function be(_e){mt.call(this,n,_e)}const fe=(_e,je)=>{je.target.checked?X.removeByValue(C,_e.id):X.pushUnique(C,_e.id),t(7,C)},B=()=>Y();function K(_e){h=_e,t(0,h)}function G(_e){h=_e,t(0,h)}function J(_e){h=_e,t(0,h)}function de(_e){h=_e,t(0,h)}function me(_e){h=_e,t(0,h)}function we(_e){h=_e,t(0,h)}function Fe(_e){ve[_e?"unshift":"push"](()=>{T=_e,t(14,T)})}const Oe=_e=>se(_e),ye=_e=>u("select",_e),te=(_e,je)=>{je.code==="Enter"&&(je.preventDefault(),u("select",_e))},he=()=>t(1,m=""),qe=()=>u("new"),ot=()=>P(g+1),ct=()=>ne(),Ce=()=>ue();return n.$$set=_e=>{"collection"in _e&&t(2,d=_e.collection),"sort"in _e&&t(0,h=_e.sort),"filter"in _e&&t(1,m=_e.filter)},n.$$.update=()=>{n.$$.dirty[0]&4&&d!=null&&d.id&&(I(),R()),n.$$.dirty[0]&4&&t(25,r=(d==null?void 0:d.schema)||[]),n.$$.dirty[0]&33554432&&(i=r.filter(_e=>_e.type==="relation")),n.$$.dirty[0]&33554560&&t(18,s=r.filter(_e=>!C.includes(_e.id))),n.$$.dirty[0]&7&&d!=null&&d.id&&h!==-1&&m!==-1&&P(1),n.$$.dirty[0]&48&&t(17,a=v>p.length),n.$$.dirty[0]&64&&t(8,l=Object.keys(w).length),n.$$.dirty[0]&272&&t(16,o=p.length&&l===p.length),n.$$.dirty[0]&128&&C!==-1&&O(),n.$$.dirty[0]&20&&t(10,f=!(d!=null&&d.isView)||p.length>0&&p[0].created!=""),n.$$.dirty[0]&20&&t(9,c=!(d!=null&&d.isView)||p.length>0&&p[0].updated!=""),n.$$.dirty[0]&33555972&&t(15,F=[].concat(d.isAuth?[{id:"@username",name:"username"},{id:"@email",name:"email"}]:[],r.map(_e=>({id:_e.id,name:_e.name})),f?{id:"@created",name:"created"}:[],c?{id:"@updated",name:"updated"}:[]))},[h,m,d,P,p,v,w,C,l,c,f,g,k,x,T,F,o,a,s,u,Y,ne,se,ue,N,r,be,fe,B,K,G,J,de,me,we,Fe,Oe,ye,te,he,qe,ot,ct,Ce]}class mY extends We{constructor(e){super(),Ve(this,e,pY,dY,$e,{collection:2,sort:0,filter:1,reloadLoadedPages:24,load:3},null,[-1,-1,-1])}get reloadLoadedPages(){return this.$$.ctx[24]}get load(){return this.$$.ctx[3]}}function _Y(n){let e,t,r,i;return e=new AM({}),r=new ai({props:{$$slots:{default:[bY]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment)},m(s,a){W(e,s,a),E(s,t,a),W(r,s,a),i=!0},p(s,a){const l={};a[0]&3063|a[1]&128&&(l.$$scope={dirty:a,ctx:s}),r.$set(l)},i(s){i||(M(e.$$.fragment,s),M(r.$$.fragment,s),i=!0)},o(s){L(e.$$.fragment,s),L(r.$$.fragment,s),i=!1},d(s){j(e,s),s&&S(t),j(r,s)}}}function gY(n){let e,t;return e=new ai({props:{center:!0,$$slots:{default:[yY]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i[0]&2064|i[1]&128&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function vY(n){let e,t;return e=new ai({props:{center:!0,$$slots:{default:[xY]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i[1]&128&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function Zb(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<i class="ri-settings-4-line"></i>',_(e,"type","button"),_(e,"aria-label","Edit collection"),_(e,"class","btn btn-transparent btn-circle")},m(i,s){E(i,e,s),t||(r=[st(xt.call(null,e,{text:"Edit collection",position:"right"})),ae(e,"click",n[16])],t=!0)},p:ce,d(i){i&&S(e),t=!1,it(r)}}}function Qb(n){let e,t,r,i,s,a,l;return{c(){e=y("label"),e.innerHTML=`<i class="ri-upload-line"></i> 
                        <span class="txt">Import Excel</span>`,t=D(),r=y("input"),i=D(),s=y("button"),s.innerHTML=`<i class="ri-add-line"></i> 
                        <span class="txt">New record</span>`,_(e,"for","import-excel-input"),_(e,"class","btn btn-outline"),_(r,"class","hidden"),_(r,"id","import-excel-input"),_(r,"type","file"),_(r,"accept",".xls,.xlsx,.csv"),_(s,"type","button"),_(s,"class","btn btn-expanded")},m(o,f){E(o,e,f),E(o,t,f),E(o,r,f),E(o,i,f),E(o,s,f),a||(l=[ae(r,"click",SY),ae(r,"change",n[19]),ae(s,"click",n[20])],a=!0)},p:ce,d(o){o&&S(e),o&&S(t),o&&S(r),o&&S(i),o&&S(s),a=!1,it(l)}}}function bY(n){let e,t,r,i,s,a=n[2].name+"",l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T,C,F,O,I,N=!n[11]&&Zb(n);u=new kd({}),u.$on("refresh",n[17]);let P=!n[2].isView&&Qb(n);v=new Zc({props:{value:n[0],autocompleteCollection:n[2]}}),v.$on("submit",n[21]);function R(V){n[23](V)}function Y(V){n[24](V)}let ne={collection:n[2]};return n[0]!==void 0&&(ne.filter=n[0]),n[1]!==void 0&&(ne.sort=n[1]),A=new mY({props:ne}),n[22](A),ve.push(()=>Le(A,"filter",R)),ve.push(()=>Le(A,"sort",Y)),A.$on("select",n[25]),A.$on("new",n[26]),{c(){e=y("header"),t=y("nav"),r=y("div"),r.textContent="Collections",i=D(),s=y("div"),l=q(a),o=D(),f=y("div"),N&&N.c(),c=D(),z(u.$$.fragment),d=D(),h=y("div"),m=y("button"),m.innerHTML=`<i class="ri-code-s-slash-line"></i> 
                    <span class="txt">API Preview</span>`,p=D(),P&&P.c(),g=D(),z(v.$$.fragment),w=D(),k=y("div"),x=D(),z(A.$$.fragment),_(r,"class","breadcrumb-item"),_(s,"class","breadcrumb-item"),_(t,"class","breadcrumbs"),_(f,"class","inline-flex gap-5"),_(m,"type","button"),_(m,"class","btn btn-outline"),_(h,"class","btns-group"),_(e,"class","page-header"),_(k,"class","clearfix m-b-base")},m(V,se){E(V,e,se),b(e,t),b(t,r),b(t,i),b(t,s),b(s,l),b(e,o),b(e,f),N&&N.m(f,null),b(f,c),W(u,f,null),b(e,d),b(e,h),b(h,m),b(h,p),P&&P.m(h,null),E(V,g,se),W(v,V,se),E(V,w,se),E(V,k,se),E(V,x,se),W(A,V,se),F=!0,O||(I=ae(m,"click",n[18]),O=!0)},p(V,se){(!F||se[0]&4)&&a!==(a=V[2].name+"")&&ke(l,a),V[11]?N&&(N.d(1),N=null):N?N.p(V,se):(N=Zb(V),N.c(),N.m(f,c)),V[2].isView?P&&(P.d(1),P=null):P?P.p(V,se):(P=Qb(V),P.c(),P.m(h,null));const ue={};se[0]&1&&(ue.value=V[0]),se[0]&4&&(ue.autocompleteCollection=V[2]),v.$set(ue);const U={};se[0]&4&&(U.collection=V[2]),!T&&se[0]&1&&(T=!0,U.filter=V[0],He(()=>T=!1)),!C&&se[0]&2&&(C=!0,U.sort=V[1],He(()=>C=!1)),A.$set(U)},i(V){F||(M(u.$$.fragment,V),M(v.$$.fragment,V),M(A.$$.fragment,V),F=!0)},o(V){L(u.$$.fragment,V),L(v.$$.fragment,V),L(A.$$.fragment,V),F=!1},d(V){V&&S(e),N&&N.d(),j(u),P&&P.d(),V&&S(g),j(v,V),V&&S(w),V&&S(k),V&&S(x),n[22](null),j(A,V),O=!1,I()}}}function wY(n){let e,t,r,i,s;return{c(){e=y("h1"),e.textContent="Create your first collection to add records!",t=D(),r=y("button"),r.innerHTML=`<i class="ri-add-line"></i> 
                    <span class="txt">Create new collection</span>`,_(e,"class","m-b-10"),_(r,"type","button"),_(r,"class","btn btn-expanded-lg btn-lg")},m(a,l){E(a,e,l),E(a,t,l),E(a,r,l),i||(s=ae(r,"click",n[15]),i=!0)},p:ce,d(a){a&&S(e),a&&S(t),a&&S(r),i=!1,s()}}}function kY(n){let e;return{c(){e=y("h1"),e.textContent="You don't have any collections yet.",_(e,"class","m-b-10")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function yY(n){let e,t,r;function i(l,o){return l[11]?kY:wY}let s=i(n),a=s(n);return{c(){e=y("div"),t=y("div"),t.innerHTML='<i class="ri-database-2-line"></i>',r=D(),a.c(),_(t,"class","icon"),_(e,"class","placeholder-section m-b-base")},m(l,o){E(l,e,o),b(e,t),b(e,r),a.m(e,null)},p(l,o){s===(s=i(l))&&a?a.p(l,o):(a.d(1),a=s(l),a&&(a.c(),a.m(e,null)))},d(l){l&&S(e),a.d()}}}function xY(n){let e;return{c(){e=y("div"),e.innerHTML=`<span class="loader loader-lg"></span> 
            <h1>Loading collections...</h1>`,_(e,"class","placeholder-section m-b-base")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function TY(n){let e,t,r,i,s,a,l,o,f,c,u,d,h;const m=[vY,gY,_Y],p=[];function g(T,C){return T[3]&&!T[10].length?0:T[10].length?2:1}e=g(n),t=p[e]=m[e](n);let v={};i=new Gd({props:v}),n[27](i);let w={};a=new LM({props:w}),n[28](a);let k={collection:n[2]};o=new ax({props:k}),n[29](o),o.$on("save",n[30]),o.$on("delete",n[31]);let x={collection:n[2]};c=new Wq({props:x}),n[32](c),c.$on("save",n[33]);let A={collection:n[2]};return d=new GP({props:A}),n[34](d),{c(){t.c(),r=D(),z(i.$$.fragment),s=D(),z(a.$$.fragment),l=D(),z(o.$$.fragment),f=D(),z(c.$$.fragment),u=D(),z(d.$$.fragment)},m(T,C){p[e].m(T,C),E(T,r,C),W(i,T,C),E(T,s,C),W(a,T,C),E(T,l,C),W(o,T,C),E(T,f,C),W(c,T,C),E(T,u,C),W(d,T,C),h=!0},p(T,C){let F=e;e=g(T),e===F?p[e].p(T,C):(Me(),L(p[F],1,1,()=>{p[F]=null}),Ie(),t=p[e],t?t.p(T,C):(t=p[e]=m[e](T),t.c()),M(t,1),t.m(r.parentNode,r));const O={};i.$set(O);const I={};a.$set(I);const N={};C[0]&4&&(N.collection=T[2]),o.$set(N);const P={};C[0]&4&&(P.collection=T[2]),c.$set(P);const R={};C[0]&4&&(R.collection=T[2]),d.$set(R)},i(T){h||(M(t),M(i.$$.fragment,T),M(a.$$.fragment,T),M(o.$$.fragment,T),M(c.$$.fragment,T),M(d.$$.fragment,T),h=!0)},o(T){L(t),L(i.$$.fragment,T),L(a.$$.fragment,T),L(o.$$.fragment,T),L(c.$$.fragment,T),L(d.$$.fragment,T),h=!1},d(T){p[e].d(T),T&&S(r),n[27](null),j(i,T),T&&S(s),n[28](null),j(a,T),T&&S(l),n[29](null),j(o,T),T&&S(f),n[32](null),j(c,T),T&&S(u),n[34](null),j(d,T)}}}const SY=n=>n.currentTarget.value=null;function EY(n,e,t){let r,i,s,a,l,o,f;Et(n,qs,J=>t(2,i=J)),Et(n,En,J=>t(35,s=J)),Et(n,Cc,J=>t(3,a=J)),Et(n,ld,J=>t(14,l=J)),Et(n,ea,J=>t(10,o=J)),Et(n,vl,J=>t(11,f=J));const c=new URLSearchParams(l);let u,d,h,m,p,g,v=c.get("filter")||"",w=c.get("sort")||"",k=c.get("collectionId")||(i==null?void 0:i.id);function x(){t(12,k=i==null?void 0:i.id),t(0,v=""),t(1,w="-created"),i!=null&&i.isView&&!X.extractColumnsFromQuery(i.options.query).includes("created")&&t(1,w="")}Wy(k);const A=()=>u==null?void 0:u.show(),T=()=>u==null?void 0:u.show(i),C=()=>g==null?void 0:g.load(),F=()=>d==null?void 0:d.show(i),O=J=>p.show(J.currentTarget.files[0]),I=()=>h==null?void 0:h.show(),N=J=>t(0,v=J.detail);function P(J){ve[J?"unshift":"push"](()=>{g=J,t(9,g)})}function R(J){v=J,t(0,v)}function Y(J){w=J,t(1,w)}const ne=J=>{i.isView?m.show(J==null?void 0:J.detail):h==null||h.show(J==null?void 0:J.detail)},V=()=>h==null?void 0:h.show();function se(J){ve[J?"unshift":"push"](()=>{u=J,t(4,u)})}function ue(J){ve[J?"unshift":"push"](()=>{d=J,t(5,d)})}function U(J){ve[J?"unshift":"push"](()=>{h=J,t(6,h)})}const be=()=>g==null?void 0:g.reloadLoadedPages(),fe=()=>g==null?void 0:g.reloadLoadedPages();function B(J){ve[J?"unshift":"push"](()=>{p=J,t(8,p)})}const K=()=>g==null?void 0:g.reloadLoadedPages();function G(J){ve[J?"unshift":"push"](()=>{m=J,t(7,m)})}return n.$$.update=()=>{if(n.$$.dirty[0]&16384&&t(13,r=new URLSearchParams(l)),n.$$.dirty[0]&12296&&!a&&r.get("collectionId")&&r.get("collectionId")!=k&&l8(r.get("collectionId")),n.$$.dirty[0]&4100&&i!=null&&i.id&&k!=i.id&&x(),n.$$.dirty[0]&7&&(w||v||i!=null&&i.id)){const J=new URLSearchParams({collectionId:(i==null?void 0:i.id)||"",filter:v,sort:w}).toString();Js("/collections?"+J)}n.$$.dirty[0]&4&&kr(En,s=(i==null?void 0:i.name)||"Collections",s)},[v,w,i,a,u,d,h,m,p,g,o,f,k,r,l,A,T,C,F,O,I,N,P,R,Y,ne,V,se,ue,U,be,fe,B,K,G]}class CY extends We{constructor(e){super(),Ve(this,e,EY,TY,$e,{},null,[-1,-1])}}function AY(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T,C,F,O;return{c(){e=y("aside"),t=y("div"),r=y("div"),r.textContent="System",i=D(),s=y("a"),s.innerHTML=`<i class="ri-home-gear-line"></i> 
            <span class="txt">Application</span>`,a=D(),l=y("a"),l.innerHTML=`<i class="ri-send-plane-2-line"></i> 
            <span class="txt">Mail settings</span>`,o=D(),f=y("a"),f.innerHTML=`<i class="ri-archive-drawer-line"></i> 
            <span class="txt">Files storage</span>`,c=D(),u=y("div"),u.innerHTML='<span class="txt">Sync</span>',d=D(),h=y("a"),h.innerHTML=`<i class="ri-uninstall-line"></i> 
            <span class="txt">Export collections</span>`,m=D(),p=y("a"),p.innerHTML=`<i class="ri-install-line"></i> 
            <span class="txt">Import collections</span>`,g=D(),v=y("div"),v.textContent="Authentication",w=D(),k=y("a"),k.innerHTML=`<i class="ri-lock-password-line"></i> 
            <span class="txt">Auth providers</span>`,x=D(),A=y("a"),A.innerHTML=`<i class="ri-key-line"></i> 
            <span class="txt">Token options</span>`,T=D(),C=y("a"),C.innerHTML=`<i class="ri-shield-user-line"></i> 
            <span class="txt">Admins</span>`,_(r,"class","sidebar-title"),_(s,"href","/settings"),_(s,"class","sidebar-list-item"),_(l,"href","/settings/mail"),_(l,"class","sidebar-list-item"),_(f,"href","/settings/storage"),_(f,"class","sidebar-list-item"),_(u,"class","sidebar-title"),_(h,"href","/settings/export-collections"),_(h,"class","sidebar-list-item"),_(p,"href","/settings/import-collections"),_(p,"class","sidebar-list-item"),_(v,"class","sidebar-title"),_(k,"href","/settings/auth-providers"),_(k,"class","sidebar-list-item"),_(A,"href","/settings/tokens"),_(A,"class","sidebar-list-item"),_(C,"href","/settings/admins"),_(C,"class","sidebar-list-item"),_(t,"class","sidebar-content"),_(e,"class","page-sidebar settings-sidebar")},m(I,N){E(I,e,N),b(e,t),b(t,r),b(t,i),b(t,s),b(t,a),b(t,l),b(t,o),b(t,f),b(t,c),b(t,u),b(t,d),b(t,h),b(t,m),b(t,p),b(t,g),b(t,v),b(t,w),b(t,k),b(t,x),b(t,A),b(t,T),b(t,C),F||(O=[st(Ni.call(null,s,{path:"/settings"})),st(Fr.call(null,s)),st(Ni.call(null,l,{path:"/settings/mail/?.*"})),st(Fr.call(null,l)),st(Ni.call(null,f,{path:"/settings/storage/?.*"})),st(Fr.call(null,f)),st(Ni.call(null,h,{path:"/settings/export-collections/?.*"})),st(Fr.call(null,h)),st(Ni.call(null,p,{path:"/settings/import-collections/?.*"})),st(Fr.call(null,p)),st(Ni.call(null,k,{path:"/settings/auth-providers/?.*"})),st(Fr.call(null,k)),st(Ni.call(null,A,{path:"/settings/tokens/?.*"})),st(Fr.call(null,A)),st(Ni.call(null,C,{path:"/settings/admins/?.*"})),st(Fr.call(null,C))],F=!0)},p:ce,i:ce,o:ce,d(I){I&&S(e),F=!1,it(O)}}}class ia extends We{constructor(e){super(),Ve(this,e,null,AY,$e,{})}}function e2(n,e,t){const r=n.slice();return r[30]=e[t],r}function t2(n){let e,t;return e=new Re({props:{class:"form-field readonly",name:"id",$$slots:{default:[FY,({uniqueId:r})=>({29:r}),({uniqueId:r})=>[r?536870912:0]]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i[0]&536870914|i[1]&4&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function FY(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p;return{c(){e=y("label"),t=y("i"),r=D(),i=y("span"),i.textContent="id",a=D(),l=y("div"),o=y("i"),c=D(),u=y("input"),_(t,"class",X.getFieldTypeIcon("primary")),_(i,"class","txt"),_(e,"for",s=n[29]),_(o,"class","ri-calendar-event-line txt-disabled"),_(l,"class","form-field-addon"),_(u,"type","text"),_(u,"id",d=n[29]),u.value=h=n[1].id,u.readOnly=!0},m(g,v){E(g,e,v),b(e,t),b(e,r),b(e,i),E(g,a,v),E(g,l,v),b(l,o),E(g,c,v),E(g,u,v),m||(p=st(f=xt.call(null,o,{text:`Created: ${n[1].created}
Updated: ${n[1].updated}`,position:"left"})),m=!0)},p(g,v){v[0]&536870912&&s!==(s=g[29])&&_(e,"for",s),f&&ar(f.update)&&v[0]&2&&f.update.call(null,{text:`Created: ${g[1].created}
Updated: ${g[1].updated}`,position:"left"}),v[0]&536870912&&d!==(d=g[29])&&_(u,"id",d),v[0]&2&&h!==(h=g[1].id)&&u.value!==h&&(u.value=h)},d(g){g&&S(e),g&&S(a),g&&S(l),g&&S(c),g&&S(u),m=!1,p()}}}function n2(n){let e,t,r,i,s,a,l;function o(){return n[17](n[30])}return{c(){e=y("button"),t=y("img"),i=D(),Ui(t.src,r="./images/avatars/avatar"+n[30]+".svg")||_(t,"src",r),_(t,"alt","Avatar "+n[30]),_(e,"type","button"),_(e,"class",s="link-fade thumb thumb-circle "+(n[30]==n[2]?"thumb-active":"thumb-sm"))},m(f,c){E(f,e,c),b(e,t),b(e,i),a||(l=ae(e,"click",o),a=!0)},p(f,c){n=f,c[0]&4&&s!==(s="link-fade thumb thumb-circle "+(n[30]==n[2]?"thumb-active":"thumb-sm"))&&_(e,"class",s)},d(f){f&&S(e),a=!1,l()}}}function DY(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("label"),t=y("i"),r=D(),i=y("span"),i.textContent="Email",a=D(),l=y("input"),_(t,"class",X.getFieldTypeIcon("email")),_(i,"class","txt"),_(e,"for",s=n[29]),_(l,"type","email"),_(l,"autocomplete","off"),_(l,"id",o=n[29]),l.required=!0},m(u,d){E(u,e,d),b(e,t),b(e,r),b(e,i),E(u,a,d),E(u,l,d),Ne(l,n[3]),f||(c=ae(l,"input",n[18]),f=!0)},p(u,d){d[0]&536870912&&s!==(s=u[29])&&_(e,"for",s),d[0]&536870912&&o!==(o=u[29])&&_(l,"id",o),d[0]&8&&l.value!==u[3]&&Ne(l,u[3])},d(u){u&&S(e),u&&S(a),u&&S(l),f=!1,c()}}}function r2(n){let e,t;return e=new Re({props:{class:"form-field form-field-toggle",$$slots:{default:[OY,({uniqueId:r})=>({29:r}),({uniqueId:r})=>[r?536870912:0]]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i[0]&536870928|i[1]&4&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function OY(n){let e,t,r,i,s,a,l,o;return{c(){e=y("input"),r=D(),i=y("label"),s=q("Change password"),_(e,"type","checkbox"),_(e,"id",t=n[29]),_(i,"for",a=n[29])},m(f,c){E(f,e,c),e.checked=n[4],E(f,r,c),E(f,i,c),b(i,s),l||(o=ae(e,"change",n[19]),l=!0)},p(f,c){c[0]&536870912&&t!==(t=f[29])&&_(e,"id",t),c[0]&16&&(e.checked=f[4]),c[0]&536870912&&a!==(a=f[29])&&_(i,"for",a)},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,o()}}}function i2(n){let e,t,r,i,s,a,l,o,f;return i=new Re({props:{class:"form-field required",name:"password",$$slots:{default:[MY,({uniqueId:c})=>({29:c}),({uniqueId:c})=>[c?536870912:0]]},$$scope:{ctx:n}}}),l=new Re({props:{class:"form-field required",name:"passwordConfirm",$$slots:{default:[IY,({uniqueId:c})=>({29:c}),({uniqueId:c})=>[c?536870912:0]]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),r=y("div"),z(i.$$.fragment),s=D(),a=y("div"),z(l.$$.fragment),_(r,"class","col-sm-6"),_(a,"class","col-sm-6"),_(t,"class","grid"),_(e,"class","col-12")},m(c,u){E(c,e,u),b(e,t),b(t,r),W(i,r,null),b(t,s),b(t,a),W(l,a,null),f=!0},p(c,u){const d={};u[0]&536871168|u[1]&4&&(d.$$scope={dirty:u,ctx:c}),i.$set(d);const h={};u[0]&536871424|u[1]&4&&(h.$$scope={dirty:u,ctx:c}),l.$set(h)},i(c){f||(M(i.$$.fragment,c),M(l.$$.fragment,c),c&&Nt(()=>{o||(o=ut(t,Sn,{duration:150},!0)),o.run(1)}),f=!0)},o(c){L(i.$$.fragment,c),L(l.$$.fragment,c),c&&(o||(o=ut(t,Sn,{duration:150},!1)),o.run(0)),f=!1},d(c){c&&S(e),j(i),j(l),c&&o&&o.end()}}}function MY(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("label"),t=y("i"),r=D(),i=y("span"),i.textContent="Password",a=D(),l=y("input"),_(t,"class","ri-lock-line"),_(i,"class","txt"),_(e,"for",s=n[29]),_(l,"type","password"),_(l,"autocomplete","new-password"),_(l,"id",o=n[29]),l.required=!0},m(u,d){E(u,e,d),b(e,t),b(e,r),b(e,i),E(u,a,d),E(u,l,d),Ne(l,n[8]),f||(c=ae(l,"input",n[20]),f=!0)},p(u,d){d[0]&536870912&&s!==(s=u[29])&&_(e,"for",s),d[0]&536870912&&o!==(o=u[29])&&_(l,"id",o),d[0]&256&&l.value!==u[8]&&Ne(l,u[8])},d(u){u&&S(e),u&&S(a),u&&S(l),f=!1,c()}}}function IY(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("label"),t=y("i"),r=D(),i=y("span"),i.textContent="Password confirm",a=D(),l=y("input"),_(t,"class","ri-lock-line"),_(i,"class","txt"),_(e,"for",s=n[29]),_(l,"type","password"),_(l,"autocomplete","new-password"),_(l,"id",o=n[29]),l.required=!0},m(u,d){E(u,e,d),b(e,t),b(e,r),b(e,i),E(u,a,d),E(u,l,d),Ne(l,n[9]),f||(c=ae(l,"input",n[21]),f=!0)},p(u,d){d[0]&536870912&&s!==(s=u[29])&&_(e,"for",s),d[0]&536870912&&o!==(o=u[29])&&_(l,"id",o),d[0]&512&&l.value!==u[9]&&Ne(l,u[9])},d(u){u&&S(e),u&&S(a),u&&S(l),f=!1,c()}}}function NY(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m=!n[1].isNew&&t2(n),p=[0,1,2,3,4,5,6,7,8,9],g=[];for(let k=0;k<10;k+=1)g[k]=n2(e2(n,p,k));o=new Re({props:{class:"form-field required",name:"email",$$slots:{default:[DY,({uniqueId:k})=>({29:k}),({uniqueId:k})=>[k?536870912:0]]},$$scope:{ctx:n}}});let v=!n[1].isNew&&r2(n),w=(n[1].isNew||n[4])&&i2(n);return{c(){e=y("form"),m&&m.c(),t=D(),r=y("div"),i=y("p"),i.textContent="Avatar",s=D(),a=y("div");for(let k=0;k<10;k+=1)g[k].c();l=D(),z(o.$$.fragment),f=D(),v&&v.c(),c=D(),w&&w.c(),_(i,"class","section-title"),_(a,"class","flex flex-gap-xs flex-wrap"),_(r,"class","content"),_(e,"id",n[11]),_(e,"class","grid"),_(e,"autocomplete","off")},m(k,x){E(k,e,x),m&&m.m(e,null),b(e,t),b(e,r),b(r,i),b(r,s),b(r,a);for(let A=0;A<10;A+=1)g[A].m(a,null);b(e,l),W(o,e,null),b(e,f),v&&v.m(e,null),b(e,c),w&&w.m(e,null),u=!0,d||(h=ae(e,"submit",Yt(n[12])),d=!0)},p(k,x){if(k[1].isNew?m&&(Me(),L(m,1,1,()=>{m=null}),Ie()):m?(m.p(k,x),x[0]&2&&M(m,1)):(m=t2(k),m.c(),M(m,1),m.m(e,t)),x[0]&4){p=[0,1,2,3,4,5,6,7,8,9];let T;for(T=0;T<10;T+=1){const C=e2(k,p,T);g[T]?g[T].p(C,x):(g[T]=n2(C),g[T].c(),g[T].m(a,null))}for(;T<10;T+=1)g[T].d(1)}const A={};x[0]&536870920|x[1]&4&&(A.$$scope={dirty:x,ctx:k}),o.$set(A),k[1].isNew?v&&(Me(),L(v,1,1,()=>{v=null}),Ie()):v?(v.p(k,x),x[0]&2&&M(v,1)):(v=r2(k),v.c(),M(v,1),v.m(e,c)),k[1].isNew||k[4]?w?(w.p(k,x),x[0]&18&&M(w,1)):(w=i2(k),w.c(),M(w,1),w.m(e,null)):w&&(Me(),L(w,1,1,()=>{w=null}),Ie())},i(k){u||(M(m),M(o.$$.fragment,k),M(v),M(w),u=!0)},o(k){L(m),L(o.$$.fragment,k),L(v),L(w),u=!1},d(k){k&&S(e),m&&m.d(),zt(g,k),j(o),v&&v.d(),w&&w.d(),d=!1,h()}}}function PY(n){let e,t=n[1].isNew?"New admin":"Edit admin",r;return{c(){e=y("h4"),r=q(t)},m(i,s){E(i,e,s),b(e,r)},p(i,s){s[0]&2&&t!==(t=i[1].isNew?"New admin":"Edit admin")&&ke(r,t)},d(i){i&&S(e)}}}function s2(n){let e,t,r,i,s,a,l,o,f;return a=new ss({props:{class:"dropdown dropdown-upside dropdown-left dropdown-nowrap",$$slots:{default:[LY]},$$scope:{ctx:n}}}),{c(){e=y("button"),t=y("span"),r=D(),i=y("i"),s=D(),z(a.$$.fragment),l=D(),o=y("div"),_(i,"class","ri-more-line"),_(e,"type","button"),_(e,"aria-label","More"),_(e,"class","btn btn-sm btn-circle btn-transparent"),_(o,"class","flex-fill")},m(c,u){E(c,e,u),b(e,t),b(e,r),b(e,i),b(e,s),W(a,e,null),E(c,l,u),E(c,o,u),f=!0},p(c,u){const d={};u[1]&4&&(d.$$scope={dirty:u,ctx:c}),a.$set(d)},i(c){f||(M(a.$$.fragment,c),f=!0)},o(c){L(a.$$.fragment,c),f=!1},d(c){c&&S(e),j(a),c&&S(l),c&&S(o)}}}function LY(n){let e,t,r;return{c(){e=y("button"),e.innerHTML=`<i class="ri-delete-bin-7-line"></i> 
                        <span class="txt">Delete</span>`,_(e,"type","button"),_(e,"class","dropdown-item txt-danger")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[15]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function RY(n){let e,t,r,i,s,a,l=n[1].isNew?"Create":"Save changes",o,f,c,u,d,h=!n[1].isNew&&s2(n);return{c(){h&&h.c(),e=D(),t=y("button"),r=y("span"),r.textContent="Cancel",i=D(),s=y("button"),a=y("span"),o=q(l),_(r,"class","txt"),_(t,"type","button"),_(t,"class","btn btn-transparent"),t.disabled=n[6],_(a,"class","txt"),_(s,"type","submit"),_(s,"form",n[11]),_(s,"class","btn btn-expanded"),s.disabled=f=!n[10]||n[6],pe(s,"btn-loading",n[6])},m(m,p){h&&h.m(m,p),E(m,e,p),E(m,t,p),b(t,r),E(m,i,p),E(m,s,p),b(s,a),b(a,o),c=!0,u||(d=ae(t,"click",n[16]),u=!0)},p(m,p){m[1].isNew?h&&(Me(),L(h,1,1,()=>{h=null}),Ie()):h?(h.p(m,p),p[0]&2&&M(h,1)):(h=s2(m),h.c(),M(h,1),h.m(e.parentNode,e)),(!c||p[0]&64)&&(t.disabled=m[6]),(!c||p[0]&2)&&l!==(l=m[1].isNew?"Create":"Save changes")&&ke(o,l),(!c||p[0]&1088&&f!==(f=!m[10]||m[6]))&&(s.disabled=f),(!c||p[0]&64)&&pe(s,"btn-loading",m[6])},i(m){c||(M(h),c=!0)},o(m){L(h),c=!1},d(m){h&&h.d(m),m&&S(e),m&&S(t),m&&S(i),m&&S(s),u=!1,d()}}}function $Y(n){let e,t,r={popup:!0,class:"admin-panel",beforeHide:n[22],$$slots:{footer:[RY],header:[PY],default:[NY]},$$scope:{ctx:n}};return e=new $r({props:r}),n[23](e),e.$on("hide",n[24]),e.$on("show",n[25]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,s){const a={};s[0]&1152&&(a.beforeHide=i[22]),s[0]&1886|s[1]&4&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[23](null),j(e,i)}}}function BY(n,e,t){let r;const i=Fn(),s="admin_"+X.randomString(5);let a,l=new Ea,o=!1,f=!1,c=0,u="",d="",h="",m=!1;function p(V){return v(V),t(7,f=!0),a==null?void 0:a.show()}function g(){return a==null?void 0:a.hide()}function v(V){t(1,l=V!=null&&V.clone?V.clone():new Ea),w()}function w(){t(4,m=!1),t(3,u=(l==null?void 0:l.email)||""),t(2,c=(l==null?void 0:l.avatar)||0),t(8,d=""),t(9,h=""),Ti({})}function k(){if(o||!r)return;t(6,o=!0);const V={email:u,avatar:c};(l.isNew||m)&&(V.password=d,V.passwordConfirm=h);let se;l.isNew?se=Ue.admins.create(V):se=Ue.admins.update(l.id,V),se.then(async ue=>{var U;t(7,f=!1),g(),Qn(l.isNew?"Successfully created admin.":"Successfully updated admin."),i("save",ue),((U=Ue.authStore.model)==null?void 0:U.id)===ue.id&&Ue.authStore.save(Ue.authStore.token,ue)}).catch(ue=>{Ue.errorResponseHandler(ue)}).finally(()=>{t(6,o=!1)})}function x(){l!=null&&l.id&&Wr("Do you really want to delete the selected admin?",()=>Ue.admins.delete(l.id).then(()=>{t(7,f=!1),g(),Qn("Successfully deleted admin."),i("delete",l)}).catch(V=>{Ue.errorResponseHandler(V)}))}const A=()=>x(),T=()=>g(),C=V=>t(2,c=V);function F(){u=this.value,t(3,u)}function O(){m=this.checked,t(4,m)}function I(){d=this.value,t(8,d)}function N(){h=this.value,t(9,h)}const P=()=>r&&f?(Wr("You have unsaved changes. Do you really want to close the panel?",()=>{t(7,f=!1),g()}),!1):!0;function R(V){ve[V?"unshift":"push"](()=>{a=V,t(5,a)})}function Y(V){mt.call(this,n,V)}function ne(V){mt.call(this,n,V)}return n.$$.update=()=>{n.$$.dirty[0]&30&&t(10,r=l.isNew&&u!=""||m||u!==l.email||c!==l.avatar)},[g,l,c,u,m,a,o,f,d,h,r,s,k,x,p,A,T,C,F,O,I,N,P,R,Y,ne]}class UY extends We{constructor(e){super(),Ve(this,e,BY,$Y,$e,{show:14,hide:0},null,[-1,-1])}get show(){return this.$$.ctx[14]}get hide(){return this.$$.ctx[0]}}function a2(n,e,t){const r=n.slice();return r[24]=e[t],r}function HY(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="id",_(t,"class",X.getFieldTypeIcon("primary")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function VY(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="email",_(t,"class",X.getFieldTypeIcon("email")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function WY(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="created",_(t,"class",X.getFieldTypeIcon("date")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function jY(n){let e,t,r,i;return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),i.textContent="updated",_(t,"class",X.getFieldTypeIcon("date")),_(i,"class","txt"),_(e,"class","col-header-content")},m(s,a){E(s,e,a),b(e,t),b(e,r),b(e,i)},p:ce,d(s){s&&S(e)}}}function l2(n){let e;function t(s,a){return s[5]?qY:zY}let r=t(n),i=r(n);return{c(){i.c(),e=Ge()},m(s,a){i.m(s,a),E(s,e,a)},p(s,a){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&S(e)}}}function zY(n){var l;let e,t,r,i,s,a=((l=n[1])==null?void 0:l.length)&&o2(n);return{c(){e=y("tr"),t=y("td"),r=y("h6"),r.textContent="No admins found.",i=D(),a&&a.c(),s=D(),_(t,"colspan","99"),_(t,"class","txt-center txt-hint p-xs")},m(o,f){E(o,e,f),b(e,t),b(t,r),b(t,i),a&&a.m(t,null),b(e,s)},p(o,f){var c;(c=o[1])!=null&&c.length?a?a.p(o,f):(a=o2(o),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},d(o){o&&S(e),a&&a.d()}}}function qY(n){let e;return{c(){e=y("tr"),e.innerHTML=`<td colspan="99" class="p-xs"><span class="skeleton-loader m-0"></span></td> 
                        `},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function o2(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear filters</span>',_(e,"type","button"),_(e,"class","btn btn-hint btn-expanded m-t-sm")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[17]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function f2(n){let e;return{c(){e=y("span"),e.textContent="You",_(e,"class","label label-warning m-l-5")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function c2(n,e){let t,r,i,s,a,l,o,f,c,u,d,h=e[24].id+"",m,p,g,v,w,k=e[24].email+"",x,A,T,C,F,O,I,N,P,R,Y,ne,V,se;c=new Kd({props:{value:e[24].id}});let ue=e[24].id===e[7].id&&f2();F=new ys({props:{date:e[24].created}}),N=new ys({props:{date:e[24].updated}});function U(){return e[15](e[24])}function be(...fe){return e[16](e[24],...fe)}return{key:n,first:null,c(){t=y("tr"),r=y("td"),i=y("figure"),s=y("img"),l=D(),o=y("td"),f=y("div"),z(c.$$.fragment),u=D(),d=y("span"),m=q(h),p=D(),ue&&ue.c(),g=D(),v=y("td"),w=y("span"),x=q(k),T=D(),C=y("td"),z(F.$$.fragment),O=D(),I=y("td"),z(N.$$.fragment),P=D(),R=y("td"),R.innerHTML='<i class="ri-arrow-right-line"></i>',Y=D(),Ui(s.src,a="./images/avatars/avatar"+(e[24].avatar||0)+".svg")||_(s,"src",a),_(s,"alt","Admin avatar"),_(i,"class","thumb thumb-sm thumb-circle"),_(r,"class","min-width"),_(d,"class","txt"),_(f,"class","label"),_(o,"class","col-type-text col-field-id"),_(w,"class","txt txt-ellipsis"),_(w,"title",A=e[24].email),_(v,"class","col-type-email col-field-email"),_(C,"class","col-type-date col-field-created"),_(I,"class","col-type-date col-field-updated"),_(R,"class","col-type-action min-width"),_(t,"tabindex","0"),_(t,"class","row-handle"),this.first=t},m(fe,B){E(fe,t,B),b(t,r),b(r,i),b(i,s),b(t,l),b(t,o),b(o,f),W(c,f,null),b(f,u),b(f,d),b(d,m),b(o,p),ue&&ue.m(o,null),b(t,g),b(t,v),b(v,w),b(w,x),b(t,T),b(t,C),W(F,C,null),b(t,O),b(t,I),W(N,I,null),b(t,P),b(t,R),b(t,Y),ne=!0,V||(se=[ae(t,"click",U),ae(t,"keydown",be)],V=!0)},p(fe,B){e=fe,(!ne||B&16&&!Ui(s.src,a="./images/avatars/avatar"+(e[24].avatar||0)+".svg"))&&_(s,"src",a);const K={};B&16&&(K.value=e[24].id),c.$set(K),(!ne||B&16)&&h!==(h=e[24].id+"")&&ke(m,h),e[24].id===e[7].id?ue||(ue=f2(),ue.c(),ue.m(o,null)):ue&&(ue.d(1),ue=null),(!ne||B&16)&&k!==(k=e[24].email+"")&&ke(x,k),(!ne||B&16&&A!==(A=e[24].email))&&_(w,"title",A);const G={};B&16&&(G.date=e[24].created),F.$set(G);const J={};B&16&&(J.date=e[24].updated),N.$set(J)},i(fe){ne||(M(c.$$.fragment,fe),M(F.$$.fragment,fe),M(N.$$.fragment,fe),ne=!0)},o(fe){L(c.$$.fragment,fe),L(F.$$.fragment,fe),L(N.$$.fragment,fe),ne=!1},d(fe){fe&&S(t),j(c),ue&&ue.d(),j(F),j(N),V=!1,it(se)}}}function YY(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A=[],T=new Map,C;function F(U){n[11](U)}let O={class:"col-type-text",name:"id",$$slots:{default:[HY]},$$scope:{ctx:n}};n[2]!==void 0&&(O.sort=n[2]),a=new gr({props:O}),ve.push(()=>Le(a,"sort",F));function I(U){n[12](U)}let N={class:"col-type-email col-field-email",name:"email",$$slots:{default:[VY]},$$scope:{ctx:n}};n[2]!==void 0&&(N.sort=n[2]),f=new gr({props:N}),ve.push(()=>Le(f,"sort",I));function P(U){n[13](U)}let R={class:"col-type-date col-field-created",name:"created",$$slots:{default:[WY]},$$scope:{ctx:n}};n[2]!==void 0&&(R.sort=n[2]),d=new gr({props:R}),ve.push(()=>Le(d,"sort",P));function Y(U){n[14](U)}let ne={class:"col-type-date col-field-updated",name:"updated",$$slots:{default:[jY]},$$scope:{ctx:n}};n[2]!==void 0&&(ne.sort=n[2]),p=new gr({props:ne}),ve.push(()=>Le(p,"sort",Y));let V=n[4];const se=U=>U[24].id;for(let U=0;U<V.length;U+=1){let be=a2(n,V,U),fe=se(be);T.set(fe,A[U]=c2(fe,be))}let ue=null;return V.length||(ue=l2(n)),{c(){e=y("table"),t=y("thead"),r=y("tr"),i=y("th"),s=D(),z(a.$$.fragment),o=D(),z(f.$$.fragment),u=D(),z(d.$$.fragment),m=D(),z(p.$$.fragment),v=D(),w=y("th"),k=D(),x=y("tbody");for(let U=0;U<A.length;U+=1)A[U].c();ue&&ue.c(),_(i,"class","min-width"),_(w,"class","col-type-action min-width"),_(e,"class","table"),pe(e,"table-loading",n[5])},m(U,be){E(U,e,be),b(e,t),b(t,r),b(r,i),b(r,s),W(a,r,null),b(r,o),W(f,r,null),b(r,u),W(d,r,null),b(r,m),W(p,r,null),b(r,v),b(r,w),b(e,k),b(e,x);for(let fe=0;fe<A.length;fe+=1)A[fe].m(x,null);ue&&ue.m(x,null),C=!0},p(U,be){const fe={};be&134217728&&(fe.$$scope={dirty:be,ctx:U}),!l&&be&4&&(l=!0,fe.sort=U[2],He(()=>l=!1)),a.$set(fe);const B={};be&134217728&&(B.$$scope={dirty:be,ctx:U}),!c&&be&4&&(c=!0,B.sort=U[2],He(()=>c=!1)),f.$set(B);const K={};be&134217728&&(K.$$scope={dirty:be,ctx:U}),!h&&be&4&&(h=!0,K.sort=U[2],He(()=>h=!1)),d.$set(K);const G={};be&134217728&&(G.$$scope={dirty:be,ctx:U}),!g&&be&4&&(g=!0,G.sort=U[2],He(()=>g=!1)),p.$set(G),be&186&&(V=U[4],Me(),A=sn(A,be,se,1,U,V,T,x,Tr,c2,null,a2),Ie(),!V.length&&ue?ue.p(U,be):V.length?ue&&(ue.d(1),ue=null):(ue=l2(U),ue.c(),ue.m(x,null))),(!C||be&32)&&pe(e,"table-loading",U[5])},i(U){if(!C){M(a.$$.fragment,U),M(f.$$.fragment,U),M(d.$$.fragment,U),M(p.$$.fragment,U);for(let be=0;be<V.length;be+=1)M(A[be]);C=!0}},o(U){L(a.$$.fragment,U),L(f.$$.fragment,U),L(d.$$.fragment,U),L(p.$$.fragment,U);for(let be=0;be<A.length;be+=1)L(A[be]);C=!1},d(U){U&&S(e),j(a),j(f),j(d),j(p);for(let be=0;be<A.length;be+=1)A[be].d();ue&&ue.d()}}}function u2(n){let e,t,r=n[4].length+"",i,s,a=n[4].length+"",l;return{c(){e=y("small"),t=q("Showing "),i=q(r),s=q(" of "),l=q(a),_(e,"class","block txt-hint txt-right m-t-sm")},m(o,f){E(o,e,f),b(e,t),b(e,i),b(e,s),b(e,l)},p(o,f){f&16&&r!==(r=o[4].length+"")&&ke(i,r),f&16&&a!==(a=o[4].length+"")&&ke(l,a)},d(o){o&&S(e)}}}function GY(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T,C;o=new kd({}),o.$on("refresh",n[8]),m=new Zc({props:{value:n[1],placeholder:"Search filter, eg. email='test@example.com'",extraAutocompleteKeys:["email"]}}),m.$on("submit",n[10]),w=new yd({props:{class:"table-wrapper",$$slots:{default:[YY]},$$scope:{ctx:n}}});let F=n[4].length&&u2(n);return{c(){e=y("header"),t=y("nav"),r=y("div"),r.textContent="Settings",i=D(),s=y("div"),a=q(n[6]),l=D(),z(o.$$.fragment),f=D(),c=y("div"),u=D(),d=y("button"),d.innerHTML=`<i class="ri-add-line"></i> 
            <span class="txt">New admin</span>`,h=D(),z(m.$$.fragment),p=D(),g=y("div"),v=D(),z(w.$$.fragment),k=D(),F&&F.c(),x=Ge(),_(r,"class","breadcrumb-item"),_(s,"class","breadcrumb-item"),_(t,"class","breadcrumbs"),_(c,"class","flex-fill"),_(d,"type","button"),_(d,"class","btn btn-expanded"),_(e,"class","page-header"),_(g,"class","clearfix m-b-base")},m(O,I){E(O,e,I),b(e,t),b(t,r),b(t,i),b(t,s),b(s,a),b(e,l),W(o,e,null),b(e,f),b(e,c),b(e,u),b(e,d),E(O,h,I),W(m,O,I),E(O,p,I),E(O,g,I),E(O,v,I),W(w,O,I),E(O,k,I),F&&F.m(O,I),E(O,x,I),A=!0,T||(C=ae(d,"click",n[9]),T=!0)},p(O,I){(!A||I&64)&&ke(a,O[6]);const N={};I&2&&(N.value=O[1]),m.$set(N);const P={};I&134217918&&(P.$$scope={dirty:I,ctx:O}),w.$set(P),O[4].length?F?F.p(O,I):(F=u2(O),F.c(),F.m(x.parentNode,x)):F&&(F.d(1),F=null)},i(O){A||(M(o.$$.fragment,O),M(m.$$.fragment,O),M(w.$$.fragment,O),A=!0)},o(O){L(o.$$.fragment,O),L(m.$$.fragment,O),L(w.$$.fragment,O),A=!1},d(O){O&&S(e),j(o),O&&S(h),j(m,O),O&&S(p),O&&S(g),O&&S(v),j(w,O),O&&S(k),F&&F.d(O),O&&S(x),T=!1,C()}}}function XY(n){let e,t,r,i,s,a;e=new ia({}),r=new ai({props:{$$slots:{default:[GY]},$$scope:{ctx:n}}});let l={};return s=new UY({props:l}),n[18](s),s.$on("save",n[19]),s.$on("delete",n[20]),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment),i=D(),z(s.$$.fragment)},m(o,f){W(e,o,f),E(o,t,f),W(r,o,f),E(o,i,f),W(s,o,f),a=!0},p(o,[f]){const c={};f&134217982&&(c.$$scope={dirty:f,ctx:o}),r.$set(c);const u={};s.$set(u)},i(o){a||(M(e.$$.fragment,o),M(r.$$.fragment,o),M(s.$$.fragment,o),a=!0)},o(o){L(e.$$.fragment,o),L(r.$$.fragment,o),L(s.$$.fragment,o),a=!1},d(o){j(e,o),o&&S(t),j(r,o),o&&S(i),n[18](null),j(s,o)}}}function KY(n,e,t){let r,i,s;Et(n,ld,N=>t(21,r=N)),Et(n,En,N=>t(6,i=N)),Et(n,wd,N=>t(7,s=N)),kr(En,i="Admins",i);const a=new URLSearchParams(r);let l,o=[],f=!1,c=a.get("filter")||"",u=a.get("sort")||"-created";function d(){return t(5,f=!0),t(4,o=[]),Ue.admins.getFullList(100,{sort:u||"-created",filter:c}).then(N=>{t(4,o=N),t(5,f=!1)}).catch(N=>{N!=null&&N.isAbort||(t(5,f=!1),console.warn(N),h(),Ue.errorResponseHandler(N,!1))})}function h(){t(4,o=[])}const m=()=>d(),p=()=>l==null?void 0:l.show(),g=N=>t(1,c=N.detail);function v(N){u=N,t(2,u)}function w(N){u=N,t(2,u)}function k(N){u=N,t(2,u)}function x(N){u=N,t(2,u)}const A=N=>l==null?void 0:l.show(N),T=(N,P)=>{(P.code==="Enter"||P.code==="Space")&&(P.preventDefault(),l==null||l.show(N))},C=()=>t(1,c="");function F(N){ve[N?"unshift":"push"](()=>{l=N,t(3,l)})}const O=()=>d(),I=()=>d();return n.$$.update=()=>{if(n.$$.dirty&6&&u!==-1&&c!==-1){const N=new URLSearchParams({filter:c,sort:u}).toString();Js("/settings/admins?"+N),d()}},[d,c,u,l,o,f,i,s,m,p,g,v,w,k,x,A,T,C,F,O,I]}class JY extends We{constructor(e){super(),Ve(this,e,KY,XY,$e,{loadAdmins:0})}get loadAdmins(){return this.$$.ctx[0]}}function ZY(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Email"),i=D(),s=y("input"),_(e,"for",r=n[8]),_(s,"type","email"),_(s,"id",a=n[8]),s.required=!0,s.autofocus=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0]),s.focus(),l||(o=ae(s,"input",n[4]),l=!0)},p(f,c){c&256&&r!==(r=f[8])&&_(e,"for",r),c&256&&a!==(a=f[8])&&_(s,"id",a),c&1&&s.value!==f[0]&&Ne(s,f[0])},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function QY(n){let e,t,r,i,s,a,l,o,f,c,u;return{c(){e=y("label"),t=q("Password"),i=D(),s=y("input"),l=D(),o=y("div"),f=y("a"),f.textContent="Forgotten password?",_(e,"for",r=n[8]),_(s,"type","password"),_(s,"id",a=n[8]),s.required=!0,_(f,"href","/request-password-reset"),_(f,"class","link-hint"),_(o,"class","help-block")},m(d,h){E(d,e,h),b(e,t),E(d,i,h),E(d,s,h),Ne(s,n[1]),E(d,l,h),E(d,o,h),b(o,f),c||(u=[ae(s,"input",n[5]),st(Fr.call(null,f))],c=!0)},p(d,h){h&256&&r!==(r=d[8])&&_(e,"for",r),h&256&&a!==(a=d[8])&&_(s,"id",a),h&2&&s.value!==d[1]&&Ne(s,d[1])},d(d){d&&S(e),d&&S(i),d&&S(s),d&&S(l),d&&S(o),c=!1,it(u)}}}function eG(n){let e,t,r,i,s,a,l,o,f,c,u;return i=new Re({props:{class:"form-field required",name:"identity",$$slots:{default:[ZY,({uniqueId:d})=>({8:d}),({uniqueId:d})=>d?256:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field required",name:"password",$$slots:{default:[QY,({uniqueId:d})=>({8:d}),({uniqueId:d})=>d?256:0]},$$scope:{ctx:n}}}),{c(){e=y("form"),t=y("div"),t.innerHTML="<h4>Admin sign in</h4>",r=D(),z(i.$$.fragment),s=D(),z(a.$$.fragment),l=D(),o=y("button"),o.innerHTML=`<span class="txt">Login</span> 
            <i class="ri-arrow-right-line"></i>`,_(t,"class","content txt-center m-b-base"),_(o,"type","submit"),_(o,"class","btn btn-lg btn-block btn-next"),pe(o,"btn-disabled",n[2]),pe(o,"btn-loading",n[2]),_(e,"class","block")},m(d,h){E(d,e,h),b(e,t),b(e,r),W(i,e,null),b(e,s),W(a,e,null),b(e,l),b(e,o),f=!0,c||(u=ae(e,"submit",Yt(n[3])),c=!0)},p(d,h){const m={};h&769&&(m.$$scope={dirty:h,ctx:d}),i.$set(m);const p={};h&770&&(p.$$scope={dirty:h,ctx:d}),a.$set(p),(!f||h&4)&&pe(o,"btn-disabled",d[2]),(!f||h&4)&&pe(o,"btn-loading",d[2])},i(d){f||(M(i.$$.fragment,d),M(a.$$.fragment,d),f=!0)},o(d){L(i.$$.fragment,d),L(a.$$.fragment,d),f=!1},d(d){d&&S(e),j(i),j(a),c=!1,u()}}}function tG(n){let e,t;return e=new Vk({props:{$$slots:{default:[eG]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,[i]){const s={};i&519&&(s.$$scope={dirty:i,ctx:r}),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function nG(n,e,t){let r;Et(n,ld,u=>t(6,r=u));const i=new URLSearchParams(r);let s=i.get("demoEmail")||"",a=i.get("demoPassword")||"",l=!1;function o(){if(!l)return t(2,l=!0),Ue.admins.authWithPassword(s,a).then(()=>{vd(),Js("/")}).catch(()=>{Co("Invalid login credentials.")}).finally(()=>{t(2,l=!1)})}function f(){s=this.value,t(0,s)}function c(){a=this.value,t(1,a)}return[s,a,l,o,f,c]}class rG extends We{constructor(e){super(),Ve(this,e,nG,tG,$e,{})}}function iG(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A;r=new Re({props:{class:"form-field required",name:"meta.appName",$$slots:{default:[aG,({uniqueId:C})=>({19:C}),({uniqueId:C})=>C?524288:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field required",name:"meta.appUrl",$$slots:{default:[lG,({uniqueId:C})=>({19:C}),({uniqueId:C})=>C?524288:0]},$$scope:{ctx:n}}}),o=new Re({props:{class:"form-field required",name:"logs.maxDays",$$slots:{default:[oG,({uniqueId:C})=>({19:C}),({uniqueId:C})=>C?524288:0]},$$scope:{ctx:n}}}),c=new Re({props:{class:"form-field form-field-toggle",name:"meta.hideControls",$$slots:{default:[fG,({uniqueId:C})=>({19:C}),({uniqueId:C})=>C?524288:0]},$$scope:{ctx:n}}});let T=n[3]&&d2(n);return{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),l=D(),z(o.$$.fragment),f=D(),z(c.$$.fragment),u=D(),d=y("div"),h=y("div"),m=D(),T&&T.c(),p=D(),g=y("button"),v=y("span"),v.textContent="Save changes",_(t,"class","col-lg-6"),_(s,"class","col-lg-6"),_(h,"class","flex-fill"),_(v,"class","txt"),_(g,"type","submit"),_(g,"class","btn btn-expanded"),g.disabled=w=!n[3]||n[2],pe(g,"btn-loading",n[2]),_(d,"class","col-lg-12 flex"),_(e,"class","grid")},m(C,F){E(C,e,F),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),b(e,l),W(o,e,null),b(e,f),W(c,e,null),b(e,u),b(e,d),b(d,h),b(d,m),T&&T.m(d,null),b(d,p),b(d,g),b(g,v),k=!0,x||(A=ae(g,"click",n[13]),x=!0)},p(C,F){const O={};F&1572865&&(O.$$scope={dirty:F,ctx:C}),r.$set(O);const I={};F&1572865&&(I.$$scope={dirty:F,ctx:C}),a.$set(I);const N={};F&1572865&&(N.$$scope={dirty:F,ctx:C}),o.$set(N);const P={};F&1572865&&(P.$$scope={dirty:F,ctx:C}),c.$set(P),C[3]?T?T.p(C,F):(T=d2(C),T.c(),T.m(d,p)):T&&(T.d(1),T=null),(!k||F&12&&w!==(w=!C[3]||C[2]))&&(g.disabled=w),(!k||F&4)&&pe(g,"btn-loading",C[2])},i(C){k||(M(r.$$.fragment,C),M(a.$$.fragment,C),M(o.$$.fragment,C),M(c.$$.fragment,C),k=!0)},o(C){L(r.$$.fragment,C),L(a.$$.fragment,C),L(o.$$.fragment,C),L(c.$$.fragment,C),k=!1},d(C){C&&S(e),j(r),j(a),j(o),j(c),T&&T.d(),x=!1,A()}}}function sG(n){let e;return{c(){e=y("div"),_(e,"class","loader")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function aG(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Application name"),i=D(),s=y("input"),_(e,"for",r=n[19]),_(s,"type","text"),_(s,"id",a=n[19]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].meta.appName),l||(o=ae(s,"input",n[8]),l=!0)},p(f,c){c&524288&&r!==(r=f[19])&&_(e,"for",r),c&524288&&a!==(a=f[19])&&_(s,"id",a),c&1&&s.value!==f[0].meta.appName&&Ne(s,f[0].meta.appName)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function lG(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Application url"),i=D(),s=y("input"),_(e,"for",r=n[19]),_(s,"type","text"),_(s,"id",a=n[19]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].meta.appUrl),l||(o=ae(s,"input",n[9]),l=!0)},p(f,c){c&524288&&r!==(r=f[19])&&_(e,"for",r),c&524288&&a!==(a=f[19])&&_(s,"id",a),c&1&&s.value!==f[0].meta.appUrl&&Ne(s,f[0].meta.appUrl)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function oG(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Logs max days retention"),i=D(),s=y("input"),_(e,"for",r=n[19]),_(s,"type","number"),_(s,"id",a=n[19]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].logs.maxDays),l||(o=ae(s,"input",n[10]),l=!0)},p(f,c){c&524288&&r!==(r=f[19])&&_(e,"for",r),c&524288&&a!==(a=f[19])&&_(s,"id",a),c&1&&nn(s.value)!==f[0].logs.maxDays&&Ne(s,f[0].logs.maxDays)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function fG(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("input"),r=D(),i=y("label"),s=y("span"),s.textContent="Hide collection create and edit controls",a=D(),l=y("i"),_(e,"type","checkbox"),_(e,"id",t=n[19]),_(s,"class","txt"),_(l,"class","ri-information-line link-hint"),_(i,"for",o=n[19])},m(u,d){E(u,e,d),e.checked=n[0].meta.hideControls,E(u,r,d),E(u,i,d),b(i,s),b(i,a),b(i,l),f||(c=[ae(e,"change",n[11]),st(xt.call(null,l,{text:"This could prevent making accidental schema changes when in production environment.",position:"right"}))],f=!0)},p(u,d){d&524288&&t!==(t=u[19])&&_(e,"id",t),d&1&&(e.checked=u[0].meta.hideControls),d&524288&&o!==(o=u[19])&&_(i,"for",o)},d(u){u&&S(e),u&&S(r),u&&S(i),f=!1,it(c)}}}function d2(n){let e,t,r,i;return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",_(t,"class","txt"),_(e,"type","button"),_(e,"class","btn btn-transparent btn-hint"),e.disabled=n[2]},m(s,a){E(s,e,a),b(e,t),r||(i=ae(e,"click",n[12]),r=!0)},p(s,a){a&4&&(e.disabled=s[2])},d(s){s&&S(e),r=!1,i()}}}function cG(n){let e,t,r,i,s,a,l,o,f;const c=[sG,iG],u=[];function d(h,m){return h[1]?0:1}return s=d(n),a=u[s]=c[s](n),{c(){e=y("header"),e.innerHTML=`<nav class="breadcrumbs"><div class="breadcrumb-item">Settings</div> 
            <div class="breadcrumb-item">Application</div></nav>`,t=D(),r=y("div"),i=y("form"),a.c(),_(e,"class","page-header"),_(i,"class","panel"),_(i,"autocomplete","off"),_(r,"class","wrapper")},m(h,m){E(h,e,m),E(h,t,m),E(h,r,m),b(r,i),u[s].m(i,null),l=!0,o||(f=ae(i,"submit",Yt(n[4])),o=!0)},p(h,m){let p=s;s=d(h),s===p?u[s].p(h,m):(Me(),L(u[p],1,1,()=>{u[p]=null}),Ie(),a=u[s],a?a.p(h,m):(a=u[s]=c[s](h),a.c()),M(a,1),a.m(i,null))},i(h){l||(M(a),l=!0)},o(h){L(a),l=!1},d(h){h&&S(e),h&&S(t),h&&S(r),u[s].d(),o=!1,f()}}}function uG(n){let e,t,r,i;return e=new ia({}),r=new ai({props:{$$slots:{default:[cG]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment)},m(s,a){W(e,s,a),E(s,t,a),W(r,s,a),i=!0},p(s,[a]){const l={};a&1048591&&(l.$$scope={dirty:a,ctx:s}),r.$set(l)},i(s){i||(M(e.$$.fragment,s),M(r.$$.fragment,s),i=!0)},o(s){L(e.$$.fragment,s),L(r.$$.fragment,s),i=!1},d(s){j(e,s),s&&S(t),j(r,s)}}}function dG(n,e,t){let r,i,s,a;Et(n,vl,T=>t(14,i=T)),Et(n,pc,T=>t(15,s=T)),Et(n,En,T=>t(16,a=T)),kr(En,a="Application settings",a);let l={},o={},f=!1,c=!1,u="";d();async function d(){t(1,f=!0);try{const T=await Ue.settings.getAll()||{};m(T)}catch(T){Ue.errorResponseHandler(T)}t(1,f=!1)}async function h(){if(!(c||!r)){t(2,c=!0);try{const T=await Ue.settings.update(X.filterRedactedProps(o));m(T),Qn("Successfully saved application settings.")}catch(T){Ue.errorResponseHandler(T)}t(2,c=!1)}}function m(T={}){var C,F;kr(pc,s=(C=T==null?void 0:T.meta)==null?void 0:C.appName,s),kr(vl,i=!!((F=T==null?void 0:T.meta)!=null&&F.hideControls),i),t(0,o={meta:(T==null?void 0:T.meta)||{},logs:(T==null?void 0:T.logs)||{}}),t(6,l=JSON.parse(JSON.stringify(o)))}function p(){t(0,o=JSON.parse(JSON.stringify(l||{})))}function g(){o.meta.appName=this.value,t(0,o)}function v(){o.meta.appUrl=this.value,t(0,o)}function w(){o.logs.maxDays=nn(this.value),t(0,o)}function k(){o.meta.hideControls=this.checked,t(0,o)}const x=()=>p(),A=()=>h();return n.$$.update=()=>{n.$$.dirty&64&&t(7,u=JSON.stringify(l)),n.$$.dirty&129&&t(3,r=u!=JSON.stringify(o))},[o,f,c,r,h,p,l,u,g,v,w,k,x,A]}class hG extends We{constructor(e){super(),Ve(this,e,dG,uG,$e,{})}}function pG(n){let e,t,r,i=[{type:"password"},{autocomplete:"new-password"},n[5]],s={};for(let a=0;a<i.length;a+=1)s=Mt(s,i[a]);return{c(){e=y("input"),ts(e,s)},m(a,l){E(a,e,l),e.autofocus&&e.focus(),n[7](e),Ne(e,n[0]),t||(r=ae(e,"input",n[8]),t=!0)},p(a,l){ts(e,s=Rr(i,[{type:"password"},{autocomplete:"new-password"},l&32&&a[5]])),l&1&&e.value!==a[0]&&Ne(e,a[0])},d(a){a&&S(e),n[7](null),t=!1,r()}}}function mG(n){let e,t,r,i,s,a,l=[{readOnly:!0},{type:"text"},{placeholder:n[1]},n[5]],o={};for(let f=0;f<l.length;f+=1)o=Mt(o,l[f]);return{c(){e=y("div"),t=y("button"),t.innerHTML='<i class="ri-key-line"></i>',r=D(),i=y("input"),_(t,"type","button"),_(t,"class","btn btn-transparent btn-circle"),_(e,"class","form-field-addon"),ts(i,o)},m(f,c){E(f,e,c),b(e,t),E(f,r,c),E(f,i,c),i.autofocus&&i.focus(),s||(a=[st(xt.call(null,t,{position:"left",text:"Set new value"})),ae(t,"click",n[6])],s=!0)},p(f,c){ts(i,o=Rr(l,[{readOnly:!0},{type:"text"},c&2&&{placeholder:f[1]},c&32&&f[5]]))},d(f){f&&S(e),f&&S(r),f&&S(i),s=!1,it(a)}}}function _G(n){let e;function t(s,a){return s[3]?mG:pG}let r=t(n),i=r(n);return{c(){i.c(),e=Ge()},m(s,a){i.m(s,a),E(s,e,a)},p(s,[a]){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},i:ce,o:ce,d(s){i.d(s),s&&S(e)}}}function gG(n,e,t){const r=["value","mask"];let i=zn(e,r),{value:s=""}=e,{mask:a="******"}=e,l,o=!1;async function f(){t(0,s=""),t(3,o=!1),await Pr(),l==null||l.focus()}const c=()=>f();function u(h){ve[h?"unshift":"push"](()=>{l=h,t(2,l)})}function d(){s=this.value,t(0,s)}return n.$$set=h=>{e=Mt(Mt({},e),rs(h)),t(5,i=zn(e,r)),"value"in h&&t(0,s=h.value),"mask"in h&&t(1,a=h.mask)},n.$$.update=()=>{n.$$.dirty&3&&t(3,o=s===a)},[s,a,l,o,f,i,c,u,d]}class jh extends We{constructor(e){super(),Ve(this,e,gG,_G,$e,{value:0,mask:1})}}function vG(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p;return{c(){e=y("label"),t=q("Subject"),i=D(),s=y("input"),l=D(),o=y("div"),f=q(`Available placeholder parameters:
            `),c=y("button"),c.textContent=`{APP_NAME} 
            `,u=q(`,
            `),d=y("button"),d.textContent=`{APP_URL} 
            `,h=q("."),_(e,"for",r=n[31]),_(s,"type","text"),_(s,"id",a=n[31]),_(s,"spellcheck","false"),s.required=!0,_(c,"type","button"),_(c,"class","label label-sm link-primary txt-mono"),_(d,"type","button"),_(d,"class","label label-sm link-primary txt-mono"),_(o,"class","help-block")},m(g,v){E(g,e,v),b(e,t),E(g,i,v),E(g,s,v),Ne(s,n[0].subject),E(g,l,v),E(g,o,v),b(o,f),b(o,c),b(o,u),b(o,d),b(o,h),m||(p=[ae(s,"input",n[13]),ae(c,"click",n[14]),ae(d,"click",n[15])],m=!0)},p(g,v){v[1]&1&&r!==(r=g[31])&&_(e,"for",r),v[1]&1&&a!==(a=g[31])&&_(s,"id",a),v[0]&1&&s.value!==g[0].subject&&Ne(s,g[0].subject)},d(g){g&&S(e),g&&S(i),g&&S(s),g&&S(l),g&&S(o),m=!1,it(p)}}}function bG(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v;return{c(){e=y("label"),t=q("Action URL"),i=D(),s=y("input"),l=D(),o=y("div"),f=q(`Available placeholder parameters:
            `),c=y("button"),c.textContent=`{APP_NAME} 
            `,u=q(`,
            `),d=y("button"),d.textContent=`{APP_URL} 
            `,h=q(`,
            `),m=y("button"),m.textContent=`{TOKEN} 
            `,p=q("."),_(e,"for",r=n[31]),_(s,"type","text"),_(s,"id",a=n[31]),_(s,"spellcheck","false"),s.required=!0,_(c,"type","button"),_(c,"class","label label-sm link-primary txt-mono"),_(d,"type","button"),_(d,"class","label label-sm link-primary txt-mono"),_(m,"type","button"),_(m,"class","label label-sm link-primary txt-mono"),_(m,"title","Required parameter"),_(o,"class","help-block")},m(w,k){E(w,e,k),b(e,t),E(w,i,k),E(w,s,k),Ne(s,n[0].actionUrl),E(w,l,k),E(w,o,k),b(o,f),b(o,c),b(o,u),b(o,d),b(o,h),b(o,m),b(o,p),g||(v=[ae(s,"input",n[16]),ae(c,"click",n[17]),ae(d,"click",n[18]),ae(m,"click",n[19])],g=!0)},p(w,k){k[1]&1&&r!==(r=w[31])&&_(e,"for",r),k[1]&1&&a!==(a=w[31])&&_(s,"id",a),k[0]&1&&s.value!==w[0].actionUrl&&Ne(s,w[0].actionUrl)},d(w){w&&S(e),w&&S(i),w&&S(s),w&&S(l),w&&S(o),g=!1,it(v)}}}function wG(n){let e,t,r,i;return{c(){e=y("textarea"),_(e,"id",t=n[31]),_(e,"class","txt-mono"),_(e,"spellcheck","false"),_(e,"rows","14"),e.required=!0},m(s,a){E(s,e,a),Ne(e,n[0].body),r||(i=ae(e,"input",n[21]),r=!0)},p(s,a){a[1]&1&&t!==(t=s[31])&&_(e,"id",t),a[0]&1&&Ne(e,s[0].body)},i:ce,o:ce,d(s){s&&S(e),r=!1,i()}}}function kG(n){let e,t,r,i;function s(o){n[20](o)}var a=n[4];function l(o){let f={id:o[31],language:"html"};return o[0].body!==void 0&&(f.value=o[0].body),{props:f}}return a&&(e=sr(a,l(n)),ve.push(()=>Le(e,"value",s))),{c(){e&&z(e.$$.fragment),r=Ge()},m(o,f){e&&W(e,o,f),E(o,r,f),i=!0},p(o,f){const c={};if(f[1]&1&&(c.id=o[31]),!t&&f[0]&1&&(t=!0,c.value=o[0].body,He(()=>t=!1)),a!==(a=o[4])){if(e){Me();const u=e;L(u.$$.fragment,1,0,()=>{j(u,1)}),Ie()}a?(e=sr(a,l(o)),ve.push(()=>Le(e,"value",s)),z(e.$$.fragment),M(e.$$.fragment,1),W(e,r.parentNode,r)):e=null}else a&&e.$set(c)},i(o){i||(e&&M(e.$$.fragment,o),i=!0)},o(o){e&&L(e.$$.fragment,o),i=!1},d(o){o&&S(r),e&&j(e,o)}}}function yG(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x;const A=[kG,wG],T=[];function C(F,O){return F[4]&&!F[5]?0:1}return s=C(n),a=T[s]=A[s](n),{c(){e=y("label"),t=q("Body (HTML)"),i=D(),a.c(),l=D(),o=y("div"),f=q(`Available placeholder parameters:
            `),c=y("button"),c.textContent=`{APP_NAME} 
            `,u=q(`,
            `),d=y("button"),d.textContent=`{APP_URL} 
            `,h=q(`,
            `),m=y("button"),m.textContent=`{TOKEN} 
            `,p=q(`,
            `),g=y("button"),g.textContent=`{ACTION_URL} 
            `,v=q("."),_(e,"for",r=n[31]),_(c,"type","button"),_(c,"class","label label-sm link-primary txt-mono"),_(d,"type","button"),_(d,"class","label label-sm link-primary txt-mono"),_(m,"type","button"),_(m,"class","label label-sm link-primary txt-mono"),_(g,"type","button"),_(g,"class","label label-sm link-primary txt-mono"),_(g,"title","Required parameter"),_(o,"class","help-block")},m(F,O){E(F,e,O),b(e,t),E(F,i,O),T[s].m(F,O),E(F,l,O),E(F,o,O),b(o,f),b(o,c),b(o,u),b(o,d),b(o,h),b(o,m),b(o,p),b(o,g),b(o,v),w=!0,k||(x=[ae(c,"click",n[22]),ae(d,"click",n[23]),ae(m,"click",n[24]),ae(g,"click",n[25])],k=!0)},p(F,O){(!w||O[1]&1&&r!==(r=F[31]))&&_(e,"for",r);let I=s;s=C(F),s===I?T[s].p(F,O):(Me(),L(T[I],1,1,()=>{T[I]=null}),Ie(),a=T[s],a?a.p(F,O):(a=T[s]=A[s](F),a.c()),M(a,1),a.m(l.parentNode,l))},i(F){w||(M(a),w=!0)},o(F){L(a),w=!1},d(F){F&&S(e),F&&S(i),T[s].d(F),F&&S(l),F&&S(o),k=!1,it(x)}}}function xG(n){let e,t,r,i,s,a;return e=new Re({props:{class:"form-field required",name:n[1]+".subject",$$slots:{default:[vG,({uniqueId:l})=>({31:l}),({uniqueId:l})=>[0,l?1:0]]},$$scope:{ctx:n}}}),r=new Re({props:{class:"form-field required",name:n[1]+".actionUrl",$$slots:{default:[bG,({uniqueId:l})=>({31:l}),({uniqueId:l})=>[0,l?1:0]]},$$scope:{ctx:n}}}),s=new Re({props:{class:"form-field m-0 required",name:n[1]+".body",$$slots:{default:[yG,({uniqueId:l})=>({31:l}),({uniqueId:l})=>[0,l?1:0]]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment),i=D(),z(s.$$.fragment)},m(l,o){W(e,l,o),E(l,t,o),W(r,l,o),E(l,i,o),W(s,l,o),a=!0},p(l,o){const f={};o[0]&2&&(f.name=l[1]+".subject"),o[0]&1|o[1]&3&&(f.$$scope={dirty:o,ctx:l}),e.$set(f);const c={};o[0]&2&&(c.name=l[1]+".actionUrl"),o[0]&1|o[1]&3&&(c.$$scope={dirty:o,ctx:l}),r.$set(c);const u={};o[0]&2&&(u.name=l[1]+".body"),o[0]&49|o[1]&3&&(u.$$scope={dirty:o,ctx:l}),s.$set(u)},i(l){a||(M(e.$$.fragment,l),M(r.$$.fragment,l),M(s.$$.fragment,l),a=!0)},o(l){L(e.$$.fragment,l),L(r.$$.fragment,l),L(s.$$.fragment,l),a=!1},d(l){j(e,l),l&&S(t),j(r,l),l&&S(i),j(s,l)}}}function h2(n){let e,t,r,i,s;return{c(){e=y("i"),_(e,"class","ri-error-warning-fill txt-danger")},m(a,l){E(a,e,l),r=!0,i||(s=st(xt.call(null,e,{text:"Has errors",position:"left"})),i=!0)},i(a){r||(a&&Nt(()=>{t||(t=ut(e,qn,{duration:150,start:.7},!0)),t.run(1)}),r=!0)},o(a){a&&(t||(t=ut(e,qn,{duration:150,start:.7},!1)),t.run(0)),r=!1},d(a){a&&S(e),a&&t&&t.end(),i=!1,s()}}}function TG(n){let e,t,r,i,s,a,l,o,f,c=n[6]&&h2();return{c(){e=y("div"),t=y("i"),r=D(),i=y("span"),s=q(n[2]),a=D(),l=y("div"),o=D(),c&&c.c(),f=Ge(),_(t,"class","ri-draft-line"),_(i,"class","txt"),_(e,"class","inline-flex"),_(l,"class","flex-fill")},m(u,d){E(u,e,d),b(e,t),b(e,r),b(e,i),b(i,s),E(u,a,d),E(u,l,d),E(u,o,d),c&&c.m(u,d),E(u,f,d)},p(u,d){d[0]&4&&ke(s,u[2]),u[6]?c?d[0]&64&&M(c,1):(c=h2(),c.c(),M(c,1),c.m(f.parentNode,f)):c&&(Me(),L(c,1,1,()=>{c=null}),Ie())},d(u){u&&S(e),u&&S(a),u&&S(l),u&&S(o),c&&c.d(u),u&&S(f)}}}function SG(n){let e,t;const r=[n[8]];let i={$$slots:{header:[TG],default:[xG]},$$scope:{ctx:n}};for(let s=0;s<r.length;s+=1)i=Mt(i,r[s]);return e=new fl({props:i}),n[26](e),e.$on("expand",n[27]),e.$on("collapse",n[28]),e.$on("toggle",n[29]),{c(){z(e.$$.fragment)},m(s,a){W(e,s,a),t=!0},p(s,a){const l=a[0]&256?Rr(r,[is(s[8])]):{};a[0]&119|a[1]&2&&(l.$$scope={dirty:a,ctx:s}),e.$set(l)},i(s){t||(M(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){n[26](null),j(e,s)}}}let p2;function EG(n,e,t){let r;const i=["key","title","config","expand","collapse","collapseSiblings"];let s=zn(e,i),a;Et(n,xs,U=>t(12,a=U));let{key:l}=e,{title:o}=e,{config:f={}}=e,c,u=p2,d=!1;function h(){c==null||c.expand()}function m(){c==null||c.collapse()}function p(){c==null||c.collapseSiblings()}async function g(){u||d||(t(5,d=!0),t(4,u=(await jt(()=>import("./CodeEditor-b4b6d977.js"),["./CodeEditor-b4b6d977.js","./index-a6ccb683.js"],import.meta.url)).default),p2=u,t(5,d=!1))}function v(U){X.copyToClipboard(U),Uk(`Copied ${U} to clipboard`,2e3)}g();function w(){f.subject=this.value,t(0,f)}const k=()=>v("{APP_NAME}"),x=()=>v("{APP_URL}");function A(){f.actionUrl=this.value,t(0,f)}const T=()=>v("{APP_NAME}"),C=()=>v("{APP_URL}"),F=()=>v("{TOKEN}");function O(U){n.$$.not_equal(f.body,U)&&(f.body=U,t(0,f))}function I(){f.body=this.value,t(0,f)}const N=()=>v("{APP_NAME}"),P=()=>v("{APP_URL}"),R=()=>v("{TOKEN}"),Y=()=>v("{ACTION_URL}");function ne(U){ve[U?"unshift":"push"](()=>{c=U,t(3,c)})}function V(U){mt.call(this,n,U)}function se(U){mt.call(this,n,U)}function ue(U){mt.call(this,n,U)}return n.$$set=U=>{e=Mt(Mt({},e),rs(U)),t(8,s=zn(e,i)),"key"in U&&t(1,l=U.key),"title"in U&&t(2,o=U.title),"config"in U&&t(0,f=U.config)},n.$$.update=()=>{n.$$.dirty[0]&4098&&t(6,r=!X.isEmpty(X.getNestedVal(a,l))),n.$$.dirty[0]&3&&(f.enabled||Ca(l))},[f,l,o,c,u,d,r,v,s,h,m,p,a,w,k,x,A,T,C,F,O,I,N,P,R,Y,ne,V,se,ue]}class u0 extends We{constructor(e){super(),Ve(this,e,EG,SG,$e,{key:1,title:2,config:0,expand:9,collapse:10,collapseSiblings:11},null,[-1,-1])}get expand(){return this.$$.ctx[9]}get collapse(){return this.$$.ctx[10]}get collapseSiblings(){return this.$$.ctx[11]}}function m2(n,e,t){const r=n.slice();return r[21]=e[t],r}function _2(n,e){let t,r,i,s,a,l=e[21].label+"",o,f,c,u,d;return{key:n,first:null,c(){t=y("div"),r=y("input"),s=D(),a=y("label"),o=q(l),c=D(),_(r,"type","radio"),_(r,"name","template"),_(r,"id",i=e[20]+e[21].value),r.__value=e[21].value,r.value=r.__value,e[11][0].push(r),_(a,"for",f=e[20]+e[21].value),_(t,"class","form-field-block"),this.first=t},m(h,m){E(h,t,m),b(t,r),r.checked=r.__value===e[2],b(t,s),b(t,a),b(a,o),b(t,c),u||(d=ae(r,"change",e[10]),u=!0)},p(h,m){e=h,m&1048576&&i!==(i=e[20]+e[21].value)&&_(r,"id",i),m&4&&(r.checked=r.__value===e[2]),m&1048576&&f!==(f=e[20]+e[21].value)&&_(a,"for",f)},d(h){h&&S(t),e[11][0].splice(e[11][0].indexOf(r),1),u=!1,d()}}}function CG(n){let e=[],t=new Map,r,i=n[7];const s=a=>a[21].value;for(let a=0;a<i.length;a+=1){let l=m2(n,i,a),o=s(l);t.set(o,e[a]=_2(o,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ge()},m(a,l){for(let o=0;o<e.length;o+=1)e[o].m(a,l);E(a,r,l)},p(a,l){l&1048708&&(i=a[7],e=sn(e,l,s,1,a,i,t,r.parentNode,Hi,_2,r,m2))},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&S(r)}}}function AG(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("To email address"),i=D(),s=y("input"),_(e,"for",r=n[20]),_(s,"type","email"),_(s,"id",a=n[20]),s.autofocus=!0,s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[1]),s.focus(),l||(o=ae(s,"input",n[12]),l=!0)},p(f,c){c&1048576&&r!==(r=f[20])&&_(e,"for",r),c&1048576&&a!==(a=f[20])&&_(s,"id",a),c&2&&s.value!==f[1]&&Ne(s,f[1])},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function FG(n){let e,t,r,i,s,a,l;return t=new Re({props:{class:"form-field required",name:"template",$$slots:{default:[CG,({uniqueId:o})=>({20:o}),({uniqueId:o})=>o?1048576:0]},$$scope:{ctx:n}}}),i=new Re({props:{class:"form-field required m-0",name:"email",$$slots:{default:[AG,({uniqueId:o})=>({20:o}),({uniqueId:o})=>o?1048576:0]},$$scope:{ctx:n}}}),{c(){e=y("form"),z(t.$$.fragment),r=D(),z(i.$$.fragment),_(e,"id",n[6]),_(e,"autocomplete","off")},m(o,f){E(o,e,f),W(t,e,null),b(e,r),W(i,e,null),s=!0,a||(l=ae(e,"submit",Yt(n[13])),a=!0)},p(o,f){const c={};f&17825796&&(c.$$scope={dirty:f,ctx:o}),t.$set(c);const u={};f&17825794&&(u.$$scope={dirty:f,ctx:o}),i.$set(u)},i(o){s||(M(t.$$.fragment,o),M(i.$$.fragment,o),s=!0)},o(o){L(t.$$.fragment,o),L(i.$$.fragment,o),s=!1},d(o){o&&S(e),j(t),j(i),a=!1,l()}}}function DG(n){let e;return{c(){e=y("h4"),e.textContent="Send test email",_(e,"class","center txt-break")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function OG(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("button"),t=q("Close"),r=D(),i=y("button"),s=y("i"),a=D(),l=y("span"),l.textContent="Send",_(e,"type","button"),_(e,"class","btn btn-transparent"),e.disabled=n[4],_(s,"class","ri-mail-send-line"),_(l,"class","txt"),_(i,"type","submit"),_(i,"form",n[6]),_(i,"class","btn btn-expanded"),i.disabled=o=!n[5]||n[4],pe(i,"btn-loading",n[4])},m(u,d){E(u,e,d),b(e,t),E(u,r,d),E(u,i,d),b(i,s),b(i,a),b(i,l),f||(c=ae(e,"click",n[0]),f=!0)},p(u,d){d&16&&(e.disabled=u[4]),d&48&&o!==(o=!u[5]||u[4])&&(i.disabled=o),d&16&&pe(i,"btn-loading",u[4])},d(u){u&&S(e),u&&S(r),u&&S(i),f=!1,c()}}}function MG(n){let e,t,r={class:"overlay-panel-sm email-test-popup",overlayClose:!n[4],escClose:!n[4],beforeHide:n[14],popup:!0,$$slots:{footer:[OG],header:[DG],default:[FG]},$$scope:{ctx:n}};return e=new $r({props:r}),n[15](e),e.$on("show",n[16]),e.$on("hide",n[17]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&16&&(a.overlayClose=!i[4]),s&16&&(a.escClose=!i[4]),s&16&&(a.beforeHide=i[14]),s&16777270&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[15](null),j(e,i)}}}const d0="last_email_test",g2="email_test_request";function IG(n,e,t){let r;const i=Fn(),s="email_test_"+X.randomString(5),a=[{label:'"Verification" template',value:"verification"},{label:'"Password reset" template',value:"password-reset"},{label:'"Confirm email change" template',value:"email-change"}];let l,o=localStorage.getItem(d0),f=a[0].value,c=!1,u=null;function d(C="",F=""){t(1,o=C||localStorage.getItem(d0)),t(2,f=F||a[0].value),Ti({}),l==null||l.show()}function h(){return clearTimeout(u),l==null?void 0:l.hide()}async function m(){if(!(!r||c)){t(4,c=!0),localStorage==null||localStorage.setItem(d0,o),clearTimeout(u),u=setTimeout(()=>{Ue.cancelRequest(g2),Co("Test email send timeout.")},3e4);try{await Ue.settings.testEmail(o,f,{$cancelKey:g2}),Qn("Successfully sent test email."),i("submit"),t(4,c=!1),await Pr(),h()}catch(C){t(4,c=!1),Ue.errorResponseHandler(C)}clearTimeout(u)}}const p=[[]];function g(){f=this.__value,t(2,f)}function v(){o=this.value,t(1,o)}const w=()=>m(),k=()=>!c;function x(C){ve[C?"unshift":"push"](()=>{l=C,t(3,l)})}function A(C){mt.call(this,n,C)}function T(C){mt.call(this,n,C)}return n.$$.update=()=>{n.$$.dirty&6&&t(5,r=!!o&&!!f)},[h,o,f,l,c,r,s,a,m,d,g,p,v,w,k,x,A,T]}class NG extends We{constructor(e){super(),Ve(this,e,IG,MG,$e,{show:9,hide:0})}get show(){return this.$$.ctx[9]}get hide(){return this.$$.ctx[0]}}function PG(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T,C,F,O,I;r=new Re({props:{class:"form-field required",name:"meta.senderName",$$slots:{default:[RG,({uniqueId:fe})=>({31:fe}),({uniqueId:fe})=>[0,fe?1:0]]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field required",name:"meta.senderAddress",$$slots:{default:[$G,({uniqueId:fe})=>({31:fe}),({uniqueId:fe})=>[0,fe?1:0]]},$$scope:{ctx:n}}});function N(fe){n[14](fe)}let P={single:!0,key:"meta.verificationTemplate",title:'Default "Verification" email template'};n[0].meta.verificationTemplate!==void 0&&(P.config=n[0].meta.verificationTemplate),f=new u0({props:P}),ve.push(()=>Le(f,"config",N));function R(fe){n[15](fe)}let Y={single:!0,key:"meta.resetPasswordTemplate",title:'Default "Password reset" email template'};n[0].meta.resetPasswordTemplate!==void 0&&(Y.config=n[0].meta.resetPasswordTemplate),d=new u0({props:Y}),ve.push(()=>Le(d,"config",R));function ne(fe){n[16](fe)}let V={single:!0,key:"meta.confirmEmailChangeTemplate",title:'Default "Confirm email change" email template'};n[0].meta.confirmEmailChangeTemplate!==void 0&&(V.config=n[0].meta.confirmEmailChangeTemplate),p=new u0({props:V}),ve.push(()=>Le(p,"config",ne)),x=new Re({props:{class:"form-field form-field-toggle m-b-sm",$$slots:{default:[BG,({uniqueId:fe})=>({31:fe}),({uniqueId:fe})=>[0,fe?1:0]]},$$scope:{ctx:n}}});let se=n[0].smtp.enabled&&v2(n);function ue(fe,B){return fe[4]?YG:qG}let U=ue(n),be=U(n);return{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),l=D(),o=y("div"),z(f.$$.fragment),u=D(),z(d.$$.fragment),m=D(),z(p.$$.fragment),v=D(),w=y("hr"),k=D(),z(x.$$.fragment),A=D(),se&&se.c(),T=D(),C=y("div"),F=y("div"),O=D(),be.c(),_(t,"class","col-lg-6"),_(s,"class","col-lg-6"),_(e,"class","grid m-b-base"),_(o,"class","accordions"),_(F,"class","flex-fill"),_(C,"class","flex")},m(fe,B){E(fe,e,B),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),E(fe,l,B),E(fe,o,B),W(f,o,null),b(o,u),W(d,o,null),b(o,m),W(p,o,null),E(fe,v,B),E(fe,w,B),E(fe,k,B),W(x,fe,B),E(fe,A,B),se&&se.m(fe,B),E(fe,T,B),E(fe,C,B),b(C,F),b(C,O),be.m(C,null),I=!0},p(fe,B){const K={};B[0]&1|B[1]&3&&(K.$$scope={dirty:B,ctx:fe}),r.$set(K);const G={};B[0]&1|B[1]&3&&(G.$$scope={dirty:B,ctx:fe}),a.$set(G);const J={};!c&&B[0]&1&&(c=!0,J.config=fe[0].meta.verificationTemplate,He(()=>c=!1)),f.$set(J);const de={};!h&&B[0]&1&&(h=!0,de.config=fe[0].meta.resetPasswordTemplate,He(()=>h=!1)),d.$set(de);const me={};!g&&B[0]&1&&(g=!0,me.config=fe[0].meta.confirmEmailChangeTemplate,He(()=>g=!1)),p.$set(me);const we={};B[0]&1|B[1]&3&&(we.$$scope={dirty:B,ctx:fe}),x.$set(we),fe[0].smtp.enabled?se?(se.p(fe,B),B[0]&1&&M(se,1)):(se=v2(fe),se.c(),M(se,1),se.m(T.parentNode,T)):se&&(Me(),L(se,1,1,()=>{se=null}),Ie()),U===(U=ue(fe))&&be?be.p(fe,B):(be.d(1),be=U(fe),be&&(be.c(),be.m(C,null)))},i(fe){I||(M(r.$$.fragment,fe),M(a.$$.fragment,fe),M(f.$$.fragment,fe),M(d.$$.fragment,fe),M(p.$$.fragment,fe),M(x.$$.fragment,fe),M(se),I=!0)},o(fe){L(r.$$.fragment,fe),L(a.$$.fragment,fe),L(f.$$.fragment,fe),L(d.$$.fragment,fe),L(p.$$.fragment,fe),L(x.$$.fragment,fe),L(se),I=!1},d(fe){fe&&S(e),j(r),j(a),fe&&S(l),fe&&S(o),j(f),j(d),j(p),fe&&S(v),fe&&S(w),fe&&S(k),j(x,fe),fe&&S(A),se&&se.d(fe),fe&&S(T),fe&&S(C),be.d()}}}function LG(n){let e;return{c(){e=y("div"),_(e,"class","loader")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function RG(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Sender name"),i=D(),s=y("input"),_(e,"for",r=n[31]),_(s,"type","text"),_(s,"id",a=n[31]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].meta.senderName),l||(o=ae(s,"input",n[12]),l=!0)},p(f,c){c[1]&1&&r!==(r=f[31])&&_(e,"for",r),c[1]&1&&a!==(a=f[31])&&_(s,"id",a),c[0]&1&&s.value!==f[0].meta.senderName&&Ne(s,f[0].meta.senderName)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function $G(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Sender address"),i=D(),s=y("input"),_(e,"for",r=n[31]),_(s,"type","email"),_(s,"id",a=n[31]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].meta.senderAddress),l||(o=ae(s,"input",n[13]),l=!0)},p(f,c){c[1]&1&&r!==(r=f[31])&&_(e,"for",r),c[1]&1&&a!==(a=f[31])&&_(s,"id",a),c[0]&1&&s.value!==f[0].meta.senderAddress&&Ne(s,f[0].meta.senderAddress)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function BG(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("input"),r=D(),i=y("label"),s=y("span"),s.innerHTML="Use SMTP mail server <strong>(recommended)</strong>",a=D(),l=y("i"),_(e,"type","checkbox"),_(e,"id",t=n[31]),e.required=!0,_(s,"class","txt"),_(l,"class","ri-information-line link-hint"),_(i,"for",o=n[31])},m(u,d){E(u,e,d),e.checked=n[0].smtp.enabled,E(u,r,d),E(u,i,d),b(i,s),b(i,a),b(i,l),f||(c=[ae(e,"change",n[17]),st(xt.call(null,l,{text:'By default PocketBase uses the unix "sendmail" command for sending emails. For better emails deliverability it is recommended to use a SMTP mail server.',position:"top"}))],f=!0)},p(u,d){d[1]&1&&t!==(t=u[31])&&_(e,"id",t),d[0]&1&&(e.checked=u[0].smtp.enabled),d[1]&1&&o!==(o=u[31])&&_(i,"for",o)},d(u){u&&S(e),u&&S(r),u&&S(i),f=!1,it(c)}}}function v2(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T;return r=new Re({props:{class:"form-field required",name:"smtp.host",$$slots:{default:[UG,({uniqueId:C})=>({31:C}),({uniqueId:C})=>[0,C?1:0]]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field required",name:"smtp.port",$$slots:{default:[HG,({uniqueId:C})=>({31:C}),({uniqueId:C})=>[0,C?1:0]]},$$scope:{ctx:n}}}),f=new Re({props:{class:"form-field required",name:"smtp.tls",$$slots:{default:[VG,({uniqueId:C})=>({31:C}),({uniqueId:C})=>[0,C?1:0]]},$$scope:{ctx:n}}}),d=new Re({props:{class:"form-field",name:"smtp.authMethod",$$slots:{default:[WG,({uniqueId:C})=>({31:C}),({uniqueId:C})=>[0,C?1:0]]},$$scope:{ctx:n}}}),p=new Re({props:{class:"form-field",name:"smtp.username",$$slots:{default:[jG,({uniqueId:C})=>({31:C}),({uniqueId:C})=>[0,C?1:0]]},$$scope:{ctx:n}}}),w=new Re({props:{class:"form-field",name:"smtp.password",$$slots:{default:[zG,({uniqueId:C})=>({31:C}),({uniqueId:C})=>[0,C?1:0]]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),l=D(),o=y("div"),z(f.$$.fragment),c=D(),u=y("div"),z(d.$$.fragment),h=D(),m=y("div"),z(p.$$.fragment),g=D(),v=y("div"),z(w.$$.fragment),k=D(),x=y("div"),_(t,"class","col-lg-4"),_(s,"class","col-lg-2"),_(o,"class","col-lg-3"),_(u,"class","col-lg-3"),_(m,"class","col-lg-6"),_(v,"class","col-lg-6"),_(x,"class","col-lg-12"),_(e,"class","grid")},m(C,F){E(C,e,F),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),b(e,l),b(e,o),W(f,o,null),b(e,c),b(e,u),W(d,u,null),b(e,h),b(e,m),W(p,m,null),b(e,g),b(e,v),W(w,v,null),b(e,k),b(e,x),T=!0},p(C,F){const O={};F[0]&1|F[1]&3&&(O.$$scope={dirty:F,ctx:C}),r.$set(O);const I={};F[0]&1|F[1]&3&&(I.$$scope={dirty:F,ctx:C}),a.$set(I);const N={};F[0]&1|F[1]&3&&(N.$$scope={dirty:F,ctx:C}),f.$set(N);const P={};F[0]&1|F[1]&3&&(P.$$scope={dirty:F,ctx:C}),d.$set(P);const R={};F[0]&1|F[1]&3&&(R.$$scope={dirty:F,ctx:C}),p.$set(R);const Y={};F[0]&1|F[1]&3&&(Y.$$scope={dirty:F,ctx:C}),w.$set(Y)},i(C){T||(M(r.$$.fragment,C),M(a.$$.fragment,C),M(f.$$.fragment,C),M(d.$$.fragment,C),M(p.$$.fragment,C),M(w.$$.fragment,C),C&&Nt(()=>{A||(A=ut(e,Sn,{duration:150},!0)),A.run(1)}),T=!0)},o(C){L(r.$$.fragment,C),L(a.$$.fragment,C),L(f.$$.fragment,C),L(d.$$.fragment,C),L(p.$$.fragment,C),L(w.$$.fragment,C),C&&(A||(A=ut(e,Sn,{duration:150},!1)),A.run(0)),T=!1},d(C){C&&S(e),j(r),j(a),j(f),j(d),j(p),j(w),C&&A&&A.end()}}}function UG(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("SMTP server host"),i=D(),s=y("input"),_(e,"for",r=n[31]),_(s,"type","text"),_(s,"id",a=n[31]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].smtp.host),l||(o=ae(s,"input",n[18]),l=!0)},p(f,c){c[1]&1&&r!==(r=f[31])&&_(e,"for",r),c[1]&1&&a!==(a=f[31])&&_(s,"id",a),c[0]&1&&s.value!==f[0].smtp.host&&Ne(s,f[0].smtp.host)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function HG(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Port"),i=D(),s=y("input"),_(e,"for",r=n[31]),_(s,"type","number"),_(s,"id",a=n[31]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].smtp.port),l||(o=ae(s,"input",n[19]),l=!0)},p(f,c){c[1]&1&&r!==(r=f[31])&&_(e,"for",r),c[1]&1&&a!==(a=f[31])&&_(s,"id",a),c[0]&1&&nn(s.value)!==f[0].smtp.port&&Ne(s,f[0].smtp.port)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function VG(n){let e,t,r,i,s,a,l;function o(c){n[20](c)}let f={id:n[31],items:n[6]};return n[0].smtp.tls!==void 0&&(f.keyOfSelected=n[0].smtp.tls),s=new $a({props:f}),ve.push(()=>Le(s,"keyOfSelected",o)),{c(){e=y("label"),t=q("TLS encryption"),i=D(),z(s.$$.fragment),_(e,"for",r=n[31])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u[1]&1&&r!==(r=c[31]))&&_(e,"for",r);const d={};u[1]&1&&(d.id=c[31]),!a&&u[0]&1&&(a=!0,d.keyOfSelected=c[0].smtp.tls,He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function WG(n){let e,t,r,i,s,a,l;function o(c){n[21](c)}let f={id:n[31],items:n[7]};return n[0].smtp.authMethod!==void 0&&(f.keyOfSelected=n[0].smtp.authMethod),s=new $a({props:f}),ve.push(()=>Le(s,"keyOfSelected",o)),{c(){e=y("label"),t=q("AUTH method"),i=D(),z(s.$$.fragment),_(e,"for",r=n[31])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u[1]&1&&r!==(r=c[31]))&&_(e,"for",r);const d={};u[1]&1&&(d.id=c[31]),!a&&u[0]&1&&(a=!0,d.keyOfSelected=c[0].smtp.authMethod,He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function jG(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Username"),i=D(),s=y("input"),_(e,"for",r=n[31]),_(s,"type","text"),_(s,"id",a=n[31])},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[0].smtp.username),l||(o=ae(s,"input",n[22]),l=!0)},p(f,c){c[1]&1&&r!==(r=f[31])&&_(e,"for",r),c[1]&1&&a!==(a=f[31])&&_(s,"id",a),c[0]&1&&s.value!==f[0].smtp.username&&Ne(s,f[0].smtp.username)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function zG(n){let e,t,r,i,s,a,l;function o(c){n[23](c)}let f={id:n[31]};return n[0].smtp.password!==void 0&&(f.value=n[0].smtp.password),s=new jh({props:f}),ve.push(()=>Le(s,"value",o)),{c(){e=y("label"),t=q("Password"),i=D(),z(s.$$.fragment),_(e,"for",r=n[31])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u[1]&1&&r!==(r=c[31]))&&_(e,"for",r);const d={};u[1]&1&&(d.id=c[31]),!a&&u[0]&1&&(a=!0,d.value=c[0].smtp.password,He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function qG(n){let e,t,r;return{c(){e=y("button"),e.innerHTML=`<i class="ri-mail-check-line"></i> 
                            <span class="txt">Send test email</span>`,_(e,"type","button"),_(e,"class","btn btn-expanded btn-outline")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[26]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function YG(n){let e,t,r,i,s,a,l,o;return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",r=D(),i=y("button"),s=y("span"),s.textContent="Save changes",_(t,"class","txt"),_(e,"type","button"),_(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3],_(s,"class","txt"),_(i,"type","submit"),_(i,"class","btn btn-expanded"),i.disabled=a=!n[4]||n[3],pe(i,"btn-loading",n[3])},m(f,c){E(f,e,c),b(e,t),E(f,r,c),E(f,i,c),b(i,s),l||(o=[ae(e,"click",n[24]),ae(i,"click",n[25])],l=!0)},p(f,c){c[0]&8&&(e.disabled=f[3]),c[0]&24&&a!==(a=!f[4]||f[3])&&(i.disabled=a),c[0]&8&&pe(i,"btn-loading",f[3])},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,it(o)}}}function GG(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g;const v=[LG,PG],w=[];function k(x,A){return x[2]?0:1}return d=k(n),h=w[d]=v[d](n),{c(){e=y("header"),t=y("nav"),r=y("div"),r.textContent="Settings",i=D(),s=y("div"),a=q(n[5]),l=D(),o=y("div"),f=y("form"),c=y("div"),c.innerHTML="<p>Configure common settings for sending emails.</p>",u=D(),h.c(),_(r,"class","breadcrumb-item"),_(s,"class","breadcrumb-item"),_(t,"class","breadcrumbs"),_(e,"class","page-header"),_(c,"class","content txt-xl m-b-base"),_(f,"class","panel"),_(f,"autocomplete","off"),_(o,"class","wrapper")},m(x,A){E(x,e,A),b(e,t),b(t,r),b(t,i),b(t,s),b(s,a),E(x,l,A),E(x,o,A),b(o,f),b(f,c),b(f,u),w[d].m(f,null),m=!0,p||(g=ae(f,"submit",Yt(n[27])),p=!0)},p(x,A){(!m||A[0]&32)&&ke(a,x[5]);let T=d;d=k(x),d===T?w[d].p(x,A):(Me(),L(w[T],1,1,()=>{w[T]=null}),Ie(),h=w[d],h?h.p(x,A):(h=w[d]=v[d](x),h.c()),M(h,1),h.m(f,null))},i(x){m||(M(h),m=!0)},o(x){L(h),m=!1},d(x){x&&S(e),x&&S(l),x&&S(o),w[d].d(),p=!1,g()}}}function XG(n){let e,t,r,i,s,a;e=new ia({}),r=new ai({props:{$$slots:{default:[GG]},$$scope:{ctx:n}}});let l={};return s=new NG({props:l}),n[28](s),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment),i=D(),z(s.$$.fragment)},m(o,f){W(e,o,f),E(o,t,f),W(r,o,f),E(o,i,f),W(s,o,f),a=!0},p(o,f){const c={};f[0]&63|f[1]&2&&(c.$$scope={dirty:f,ctx:o}),r.$set(c);const u={};s.$set(u)},i(o){a||(M(e.$$.fragment,o),M(r.$$.fragment,o),M(s.$$.fragment,o),a=!0)},o(o){L(e.$$.fragment,o),L(r.$$.fragment,o),L(s.$$.fragment,o),a=!1},d(o){j(e,o),o&&S(t),j(r,o),o&&S(i),n[28](null),j(s,o)}}}function KG(n,e,t){let r,i,s;Et(n,En,ue=>t(5,s=ue));const a=[{label:"Auto (StartTLS)",value:!1},{label:"Always",value:!0}],l=[{label:"PLAIN (default)",value:"PLAIN"},{label:"LOGIN",value:"LOGIN"}];kr(En,s="Mail settings",s);let o,f={},c={},u=!1,d=!1;h();async function h(){t(2,u=!0);try{const ue=await Ue.settings.getAll()||{};p(ue)}catch(ue){Ue.errorResponseHandler(ue)}t(2,u=!1)}async function m(){if(!(d||!i)){t(3,d=!0);try{const ue=await Ue.settings.update(X.filterRedactedProps(c));p(ue),Ti({}),Qn("Successfully saved mail settings.")}catch(ue){Ue.errorResponseHandler(ue)}t(3,d=!1)}}function p(ue={}){t(0,c={meta:(ue==null?void 0:ue.meta)||{},smtp:(ue==null?void 0:ue.smtp)||{}}),c.smtp.authMethod||t(0,c.smtp.authMethod=l[0].value,c),t(10,f=JSON.parse(JSON.stringify(c)))}function g(){t(0,c=JSON.parse(JSON.stringify(f||{})))}function v(){c.meta.senderName=this.value,t(0,c)}function w(){c.meta.senderAddress=this.value,t(0,c)}function k(ue){n.$$.not_equal(c.meta.verificationTemplate,ue)&&(c.meta.verificationTemplate=ue,t(0,c))}function x(ue){n.$$.not_equal(c.meta.resetPasswordTemplate,ue)&&(c.meta.resetPasswordTemplate=ue,t(0,c))}function A(ue){n.$$.not_equal(c.meta.confirmEmailChangeTemplate,ue)&&(c.meta.confirmEmailChangeTemplate=ue,t(0,c))}function T(){c.smtp.enabled=this.checked,t(0,c)}function C(){c.smtp.host=this.value,t(0,c)}function F(){c.smtp.port=nn(this.value),t(0,c)}function O(ue){n.$$.not_equal(c.smtp.tls,ue)&&(c.smtp.tls=ue,t(0,c))}function I(ue){n.$$.not_equal(c.smtp.authMethod,ue)&&(c.smtp.authMethod=ue,t(0,c))}function N(){c.smtp.username=this.value,t(0,c)}function P(ue){n.$$.not_equal(c.smtp.password,ue)&&(c.smtp.password=ue,t(0,c))}const R=()=>g(),Y=()=>m(),ne=()=>o==null?void 0:o.show(),V=()=>m();function se(ue){ve[ue?"unshift":"push"](()=>{o=ue,t(1,o)})}return n.$$.update=()=>{n.$$.dirty[0]&1024&&t(11,r=JSON.stringify(f)),n.$$.dirty[0]&2049&&t(4,i=r!=JSON.stringify(c))},[c,o,u,d,i,s,a,l,m,g,f,r,v,w,k,x,A,T,C,F,O,I,N,P,R,Y,ne,V,se]}class JG extends We{constructor(e){super(),Ve(this,e,KG,XG,$e,{},null,[-1,-1])}}function ZG(n){var x,A;let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p;e=new Re({props:{class:"form-field form-field-toggle",$$slots:{default:[eX,({uniqueId:T})=>({25:T}),({uniqueId:T})=>T?33554432:0]},$$scope:{ctx:n}}});let g=((x=n[0].s3)==null?void 0:x.enabled)!=n[1].s3.enabled&&b2(n),v=n[1].s3.enabled&&w2(n),w=((A=n[1].s3)==null?void 0:A.enabled)&&!n[6]&&!n[3]&&k2(n),k=n[6]&&y2(n);return{c(){z(e.$$.fragment),t=D(),g&&g.c(),r=D(),v&&v.c(),i=D(),s=y("div"),a=y("div"),l=D(),w&&w.c(),o=D(),k&&k.c(),f=D(),c=y("button"),u=y("span"),u.textContent="Save changes",_(a,"class","flex-fill"),_(u,"class","txt"),_(c,"type","submit"),_(c,"class","btn btn-expanded"),c.disabled=d=!n[6]||n[3],pe(c,"btn-loading",n[3]),_(s,"class","flex")},m(T,C){W(e,T,C),E(T,t,C),g&&g.m(T,C),E(T,r,C),v&&v.m(T,C),E(T,i,C),E(T,s,C),b(s,a),b(s,l),w&&w.m(s,null),b(s,o),k&&k.m(s,null),b(s,f),b(s,c),b(c,u),h=!0,m||(p=ae(c,"click",n[19]),m=!0)},p(T,C){var O,I;const F={};C&100663298&&(F.$$scope={dirty:C,ctx:T}),e.$set(F),((O=T[0].s3)==null?void 0:O.enabled)!=T[1].s3.enabled?g?(g.p(T,C),C&3&&M(g,1)):(g=b2(T),g.c(),M(g,1),g.m(r.parentNode,r)):g&&(Me(),L(g,1,1,()=>{g=null}),Ie()),T[1].s3.enabled?v?(v.p(T,C),C&2&&M(v,1)):(v=w2(T),v.c(),M(v,1),v.m(i.parentNode,i)):v&&(Me(),L(v,1,1,()=>{v=null}),Ie()),(I=T[1].s3)!=null&&I.enabled&&!T[6]&&!T[3]?w?w.p(T,C):(w=k2(T),w.c(),w.m(s,o)):w&&(w.d(1),w=null),T[6]?k?k.p(T,C):(k=y2(T),k.c(),k.m(s,f)):k&&(k.d(1),k=null),(!h||C&72&&d!==(d=!T[6]||T[3]))&&(c.disabled=d),(!h||C&8)&&pe(c,"btn-loading",T[3])},i(T){h||(M(e.$$.fragment,T),M(g),M(v),h=!0)},o(T){L(e.$$.fragment,T),L(g),L(v),h=!1},d(T){j(e,T),T&&S(t),g&&g.d(T),T&&S(r),v&&v.d(T),T&&S(i),T&&S(s),w&&w.d(),k&&k.d(),m=!1,p()}}}function QG(n){let e;return{c(){e=y("div"),_(e,"class","loader")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function eX(n){let e,t,r,i,s,a,l,o;return{c(){e=y("input"),r=D(),i=y("label"),s=q("Use S3 storage"),_(e,"type","checkbox"),_(e,"id",t=n[25]),e.required=!0,_(i,"for",a=n[25])},m(f,c){E(f,e,c),e.checked=n[1].s3.enabled,E(f,r,c),E(f,i,c),b(i,s),l||(o=ae(e,"change",n[11]),l=!0)},p(f,c){c&33554432&&t!==(t=f[25])&&_(e,"id",t),c&2&&(e.checked=f[1].s3.enabled),c&33554432&&a!==(a=f[25])&&_(i,"for",a)},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,o()}}}function b2(n){var O;let e,t,r,i,s,a,l,o=(O=n[0].s3)!=null&&O.enabled?"S3 storage":"local file system",f,c,u,d=n[1].s3.enabled?"S3 storage":"local file system",h,m,p,g,v,w,k,x,A,T,C,F;return{c(){e=y("div"),t=y("div"),r=y("div"),r.innerHTML='<i class="ri-error-warning-line"></i>',i=D(),s=y("div"),a=q(`If you have existing uploaded files, you'll have to migrate them manually from
                                the
                                `),l=y("strong"),f=q(o),c=q(`
                                to the
                                `),u=y("strong"),h=q(d),m=q(`.
                                `),p=y("br"),g=q(`
                                There are numerous command line tools that can help you, such as:
                                `),v=y("a"),v.textContent=`rclone
                                `,w=q(`,
                                `),k=y("a"),k.textContent=`s5cmd
                                `,x=q(", etc."),A=D(),T=y("div"),_(r,"class","icon"),_(v,"href","https://github.com/rclone/rclone"),_(v,"target","_blank"),_(v,"rel","noopener noreferrer"),_(v,"class","txt-bold"),_(k,"href","https://github.com/peak/s5cmd"),_(k,"target","_blank"),_(k,"rel","noopener noreferrer"),_(k,"class","txt-bold"),_(s,"class","content"),_(t,"class","alert alert-warning m-0"),_(T,"class","clearfix m-t-base")},m(I,N){E(I,e,N),b(e,t),b(t,r),b(t,i),b(t,s),b(s,a),b(s,l),b(l,f),b(s,c),b(s,u),b(u,h),b(s,m),b(s,p),b(s,g),b(s,v),b(s,w),b(s,k),b(s,x),b(e,A),b(e,T),F=!0},p(I,N){var P;(!F||N&1)&&o!==(o=(P=I[0].s3)!=null&&P.enabled?"S3 storage":"local file system")&&ke(f,o),(!F||N&2)&&d!==(d=I[1].s3.enabled?"S3 storage":"local file system")&&ke(h,d)},i(I){F||(I&&Nt(()=>{C||(C=ut(e,Sn,{duration:150},!0)),C.run(1)}),F=!0)},o(I){I&&(C||(C=ut(e,Sn,{duration:150},!1)),C.run(0)),F=!1},d(I){I&&S(e),I&&C&&C.end()}}}function w2(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T;return r=new Re({props:{class:"form-field required",name:"s3.endpoint",$$slots:{default:[tX,({uniqueId:C})=>({25:C}),({uniqueId:C})=>C?33554432:0]},$$scope:{ctx:n}}}),a=new Re({props:{class:"form-field required",name:"s3.bucket",$$slots:{default:[nX,({uniqueId:C})=>({25:C}),({uniqueId:C})=>C?33554432:0]},$$scope:{ctx:n}}}),f=new Re({props:{class:"form-field required",name:"s3.region",$$slots:{default:[rX,({uniqueId:C})=>({25:C}),({uniqueId:C})=>C?33554432:0]},$$scope:{ctx:n}}}),d=new Re({props:{class:"form-field required",name:"s3.accessKey",$$slots:{default:[iX,({uniqueId:C})=>({25:C}),({uniqueId:C})=>C?33554432:0]},$$scope:{ctx:n}}}),p=new Re({props:{class:"form-field required",name:"s3.secret",$$slots:{default:[sX,({uniqueId:C})=>({25:C}),({uniqueId:C})=>C?33554432:0]},$$scope:{ctx:n}}}),w=new Re({props:{class:"form-field",name:"s3.forcePathStyle",$$slots:{default:[aX,({uniqueId:C})=>({25:C}),({uniqueId:C})=>C?33554432:0]},$$scope:{ctx:n}}}),{c(){e=y("div"),t=y("div"),z(r.$$.fragment),i=D(),s=y("div"),z(a.$$.fragment),l=D(),o=y("div"),z(f.$$.fragment),c=D(),u=y("div"),z(d.$$.fragment),h=D(),m=y("div"),z(p.$$.fragment),g=D(),v=y("div"),z(w.$$.fragment),k=D(),x=y("div"),_(t,"class","col-lg-6"),_(s,"class","col-lg-3"),_(o,"class","col-lg-3"),_(u,"class","col-lg-6"),_(m,"class","col-lg-6"),_(v,"class","col-lg-12"),_(x,"class","col-lg-12"),_(e,"class","grid")},m(C,F){E(C,e,F),b(e,t),W(r,t,null),b(e,i),b(e,s),W(a,s,null),b(e,l),b(e,o),W(f,o,null),b(e,c),b(e,u),W(d,u,null),b(e,h),b(e,m),W(p,m,null),b(e,g),b(e,v),W(w,v,null),b(e,k),b(e,x),T=!0},p(C,F){const O={};F&100663298&&(O.$$scope={dirty:F,ctx:C}),r.$set(O);const I={};F&100663298&&(I.$$scope={dirty:F,ctx:C}),a.$set(I);const N={};F&100663298&&(N.$$scope={dirty:F,ctx:C}),f.$set(N);const P={};F&100663298&&(P.$$scope={dirty:F,ctx:C}),d.$set(P);const R={};F&100663298&&(R.$$scope={dirty:F,ctx:C}),p.$set(R);const Y={};F&100663298&&(Y.$$scope={dirty:F,ctx:C}),w.$set(Y)},i(C){T||(M(r.$$.fragment,C),M(a.$$.fragment,C),M(f.$$.fragment,C),M(d.$$.fragment,C),M(p.$$.fragment,C),M(w.$$.fragment,C),C&&Nt(()=>{A||(A=ut(e,Sn,{duration:150},!0)),A.run(1)}),T=!0)},o(C){L(r.$$.fragment,C),L(a.$$.fragment,C),L(f.$$.fragment,C),L(d.$$.fragment,C),L(p.$$.fragment,C),L(w.$$.fragment,C),C&&(A||(A=ut(e,Sn,{duration:150},!1)),A.run(0)),T=!1},d(C){C&&S(e),j(r),j(a),j(f),j(d),j(p),j(w),C&&A&&A.end()}}}function tX(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Endpoint"),i=D(),s=y("input"),_(e,"for",r=n[25]),_(s,"type","text"),_(s,"id",a=n[25]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[1].s3.endpoint),l||(o=ae(s,"input",n[12]),l=!0)},p(f,c){c&33554432&&r!==(r=f[25])&&_(e,"for",r),c&33554432&&a!==(a=f[25])&&_(s,"id",a),c&2&&s.value!==f[1].s3.endpoint&&Ne(s,f[1].s3.endpoint)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function nX(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Bucket"),i=D(),s=y("input"),_(e,"for",r=n[25]),_(s,"type","text"),_(s,"id",a=n[25]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[1].s3.bucket),l||(o=ae(s,"input",n[13]),l=!0)},p(f,c){c&33554432&&r!==(r=f[25])&&_(e,"for",r),c&33554432&&a!==(a=f[25])&&_(s,"id",a),c&2&&s.value!==f[1].s3.bucket&&Ne(s,f[1].s3.bucket)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function rX(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Region"),i=D(),s=y("input"),_(e,"for",r=n[25]),_(s,"type","text"),_(s,"id",a=n[25]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[1].s3.region),l||(o=ae(s,"input",n[14]),l=!0)},p(f,c){c&33554432&&r!==(r=f[25])&&_(e,"for",r),c&33554432&&a!==(a=f[25])&&_(s,"id",a),c&2&&s.value!==f[1].s3.region&&Ne(s,f[1].s3.region)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function iX(n){let e,t,r,i,s,a,l,o;return{c(){e=y("label"),t=q("Access key"),i=D(),s=y("input"),_(e,"for",r=n[25]),_(s,"type","text"),_(s,"id",a=n[25]),s.required=!0},m(f,c){E(f,e,c),b(e,t),E(f,i,c),E(f,s,c),Ne(s,n[1].s3.accessKey),l||(o=ae(s,"input",n[15]),l=!0)},p(f,c){c&33554432&&r!==(r=f[25])&&_(e,"for",r),c&33554432&&a!==(a=f[25])&&_(s,"id",a),c&2&&s.value!==f[1].s3.accessKey&&Ne(s,f[1].s3.accessKey)},d(f){f&&S(e),f&&S(i),f&&S(s),l=!1,o()}}}function sX(n){let e,t,r,i,s,a,l;function o(c){n[16](c)}let f={id:n[25],required:!0};return n[1].s3.secret!==void 0&&(f.value=n[1].s3.secret),s=new jh({props:f}),ve.push(()=>Le(s,"value",o)),{c(){e=y("label"),t=q("Secret"),i=D(),z(s.$$.fragment),_(e,"for",r=n[25])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u&33554432&&r!==(r=c[25]))&&_(e,"for",r);const d={};u&33554432&&(d.id=c[25]),!a&&u&2&&(a=!0,d.value=c[1].s3.secret,He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function aX(n){let e,t,r,i,s,a,l,o,f,c;return{c(){e=y("input"),r=D(),i=y("label"),s=y("span"),s.textContent="Force path-style addressing",a=D(),l=y("i"),_(e,"type","checkbox"),_(e,"id",t=n[25]),_(s,"class","txt"),_(l,"class","ri-information-line link-hint"),_(i,"for",o=n[25])},m(u,d){E(u,e,d),e.checked=n[1].s3.forcePathStyle,E(u,r,d),E(u,i,d),b(i,s),b(i,a),b(i,l),f||(c=[ae(e,"change",n[17]),st(xt.call(null,l,{text:'Forces the request to use path-style addressing, eg. "https://s3.amazonaws.com/BUCKET/KEY" instead of the default "https://BUCKET.s3.amazonaws.com/KEY".',position:"top"}))],f=!0)},p(u,d){d&33554432&&t!==(t=u[25])&&_(e,"id",t),d&2&&(e.checked=u[1].s3.forcePathStyle),d&33554432&&o!==(o=u[25])&&_(i,"for",o)},d(u){u&&S(e),u&&S(r),u&&S(i),f=!1,it(c)}}}function k2(n){let e;function t(s,a){return s[4]?fX:s[5]?oX:lX}let r=t(n),i=r(n);return{c(){i.c(),e=Ge()},m(s,a){i.m(s,a),E(s,e,a)},p(s,a){r===(r=t(s))&&i?i.p(s,a):(i.d(1),i=r(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&S(e)}}}function lX(n){let e;return{c(){e=y("div"),e.innerHTML=`<i class="ri-checkbox-circle-line txt-success"></i> 
                                <span class="txt">S3 connected successfully</span>`,_(e,"class","label label-sm label-success entrance-right")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function oX(n){let e,t,r,i;return{c(){e=y("div"),e.innerHTML=`<i class="ri-error-warning-line txt-warning"></i> 
                                <span class="txt">Failed to establish S3 connection</span>`,_(e,"class","label label-sm label-warning entrance-right")},m(s,a){var l;E(s,e,a),r||(i=st(t=xt.call(null,e,(l=n[5].data)==null?void 0:l.message)),r=!0)},p(s,a){var l;t&&ar(t.update)&&a&32&&t.update.call(null,(l=s[5].data)==null?void 0:l.message)},d(s){s&&S(e),r=!1,i()}}}function fX(n){let e;return{c(){e=y("span"),_(e,"class","loader loader-sm")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function y2(n){let e,t,r,i;return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",_(t,"class","txt"),_(e,"type","button"),_(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3]},m(s,a){E(s,e,a),b(e,t),r||(i=ae(e,"click",n[18]),r=!0)},p(s,a){a&8&&(e.disabled=s[3])},d(s){s&&S(e),r=!1,i()}}}function cX(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g;const v=[QG,ZG],w=[];function k(x,A){return x[2]?0:1}return d=k(n),h=w[d]=v[d](n),{c(){e=y("header"),t=y("nav"),r=y("div"),r.textContent="Settings",i=D(),s=y("div"),a=q(n[7]),l=D(),o=y("div"),f=y("form"),c=y("div"),c.innerHTML=`<p>By default PocketBase uses the local file system to store uploaded files.</p> 
                <p>If you have limited disk space, you could optionally connect to a S3 compatible storage.</p>`,u=D(),h.c(),_(r,"class","breadcrumb-item"),_(s,"class","breadcrumb-item"),_(t,"class","breadcrumbs"),_(e,"class","page-header"),_(c,"class","content txt-xl m-b-base"),_(f,"class","panel"),_(f,"autocomplete","off"),_(o,"class","wrapper")},m(x,A){E(x,e,A),b(e,t),b(t,r),b(t,i),b(t,s),b(s,a),E(x,l,A),E(x,o,A),b(o,f),b(f,c),b(f,u),w[d].m(f,null),m=!0,p||(g=ae(f,"submit",Yt(n[20])),p=!0)},p(x,A){(!m||A&128)&&ke(a,x[7]);let T=d;d=k(x),d===T?w[d].p(x,A):(Me(),L(w[T],1,1,()=>{w[T]=null}),Ie(),h=w[d],h?h.p(x,A):(h=w[d]=v[d](x),h.c()),M(h,1),h.m(f,null))},i(x){m||(M(h),m=!0)},o(x){L(h),m=!1},d(x){x&&S(e),x&&S(l),x&&S(o),w[d].d(),p=!1,g()}}}function uX(n){let e,t,r,i;return e=new ia({}),r=new ai({props:{$$slots:{default:[cX]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment)},m(s,a){W(e,s,a),E(s,t,a),W(r,s,a),i=!0},p(s,[a]){const l={};a&67109119&&(l.$$scope={dirty:a,ctx:s}),r.$set(l)},i(s){i||(M(e.$$.fragment,s),M(r.$$.fragment,s),i=!0)},o(s){L(e.$$.fragment,s),L(r.$$.fragment,s),i=!1},d(s){j(e,s),s&&S(t),j(r,s)}}}const Zf="s3_test_request";function dX(n,e,t){let r,i,s;Et(n,En,P=>t(7,s=P)),kr(En,s="Files storage",s);let a={},l={},o=!1,f=!1,c=!1,u=null,d=null;h();async function h(){t(2,o=!0);try{const P=await Ue.settings.getAll()||{};p(P)}catch(P){Ue.errorResponseHandler(P)}t(2,o=!1)}async function m(){if(!(f||!i)){t(3,f=!0);try{Ue.cancelRequest(Zf);const P=await Ue.settings.update(X.filterRedactedProps(l));Ti({}),await p(P),vd(),u?aE("Successfully saved but failed to establish S3 connection."):Qn("Successfully saved files storage settings.")}catch(P){Ue.errorResponseHandler(P)}t(3,f=!1)}}async function p(P={}){t(1,l={s3:(P==null?void 0:P.s3)||{}}),t(0,a=JSON.parse(JSON.stringify(l))),await v()}async function g(){t(1,l=JSON.parse(JSON.stringify(a||{}))),await v()}async function v(){if(t(5,u=null),!!l.s3.enabled){Ue.cancelRequest(Zf),clearTimeout(d),d=setTimeout(()=>{Ue.cancelRequest(Zf),addErrorToast("S3 test connection timeout.")},3e4),t(4,c=!0);try{await Ue.settings.testS3({$cancelKey:Zf})}catch(P){t(5,u=P)}t(4,c=!1),clearTimeout(d)}}ur(()=>()=>{clearTimeout(d)});function w(){l.s3.enabled=this.checked,t(1,l)}function k(){l.s3.endpoint=this.value,t(1,l)}function x(){l.s3.bucket=this.value,t(1,l)}function A(){l.s3.region=this.value,t(1,l)}function T(){l.s3.accessKey=this.value,t(1,l)}function C(P){n.$$.not_equal(l.s3.secret,P)&&(l.s3.secret=P,t(1,l))}function F(){l.s3.forcePathStyle=this.checked,t(1,l)}const O=()=>g(),I=()=>m(),N=()=>m();return n.$$.update=()=>{n.$$.dirty&1&&t(10,r=JSON.stringify(a)),n.$$.dirty&1026&&t(6,i=r!=JSON.stringify(l))},[a,l,o,f,c,u,i,s,m,g,r,w,k,x,A,T,C,F,O,I,N]}class hX extends We{constructor(e){super(),Ve(this,e,dX,uX,$e,{})}}function pX(n){let e,t,r,i,s,a,l,o;return{c(){e=y("input"),r=D(),i=y("label"),s=q("Enable"),_(e,"type","checkbox"),_(e,"id",t=n[21]),_(i,"for",a=n[21])},m(f,c){E(f,e,c),e.checked=n[0].enabled,E(f,r,c),E(f,i,c),b(i,s),l||(o=ae(e,"change",n[13]),l=!0)},p(f,c){c&2097152&&t!==(t=f[21])&&_(e,"id",t),c&1&&(e.checked=f[0].enabled),c&2097152&&a!==(a=f[21])&&_(i,"for",a)},d(f){f&&S(e),f&&S(r),f&&S(i),l=!1,o()}}}function mX(n){let e,t,r,i,s,a,l,o,f;return{c(){e=y("label"),t=q("Client ID"),i=D(),s=y("input"),_(e,"for",r=n[21]),_(s,"type","text"),_(s,"id",a=n[21]),s.required=l=n[0].enabled},m(c,u){E(c,e,u),b(e,t),E(c,i,u),E(c,s,u),Ne(s,n[0].clientId),o||(f=ae(s,"input",n[14]),o=!0)},p(c,u){u&2097152&&r!==(r=c[21])&&_(e,"for",r),u&2097152&&a!==(a=c[21])&&_(s,"id",a),u&1&&l!==(l=c[0].enabled)&&(s.required=l),u&1&&s.value!==c[0].clientId&&Ne(s,c[0].clientId)},d(c){c&&S(e),c&&S(i),c&&S(s),o=!1,f()}}}function _X(n){let e,t,r,i,s,a,l;function o(c){n[15](c)}let f={id:n[21],required:n[0].enabled};return n[0].clientSecret!==void 0&&(f.value=n[0].clientSecret),s=new jh({props:f}),ve.push(()=>Le(s,"value",o)),{c(){e=y("label"),t=q("Client secret"),i=D(),z(s.$$.fragment),_(e,"for",r=n[21])},m(c,u){E(c,e,u),b(e,t),E(c,i,u),W(s,c,u),l=!0},p(c,u){(!l||u&2097152&&r!==(r=c[21]))&&_(e,"for",r);const d={};u&2097152&&(d.id=c[21]),u&1&&(d.required=c[0].enabled),!a&&u&1&&(a=!0,d.value=c[0].clientSecret,He(()=>a=!1)),s.$set(d)},i(c){l||(M(s.$$.fragment,c),l=!0)},o(c){L(s.$$.fragment,c),l=!1},d(c){c&&S(e),c&&S(i),j(s,c)}}}function x2(n){let e,t,r,i;function s(o){n[16](o)}var a=n[4];function l(o){let f={key:o[1]};return o[0]!==void 0&&(f.config=o[0]),{props:f}}return a&&(t=sr(a,l(n)),ve.push(()=>Le(t,"config",s))),{c(){e=y("div"),t&&z(t.$$.fragment),_(e,"class","col-lg-12")},m(o,f){E(o,e,f),t&&W(t,e,null),i=!0},p(o,f){const c={};if(f&2&&(c.key=o[1]),!r&&f&1&&(r=!0,c.config=o[0],He(()=>r=!1)),a!==(a=o[4])){if(t){Me();const u=t;L(u.$$.fragment,1,0,()=>{j(u,1)}),Ie()}a?(t=sr(a,l(o)),ve.push(()=>Le(t,"config",s)),z(t.$$.fragment),M(t.$$.fragment,1),W(t,e,null)):t=null}else a&&t.$set(c)},i(o){i||(t&&M(t.$$.fragment,o),i=!0)},o(o){t&&L(t.$$.fragment,o),i=!1},d(o){o&&S(e),t&&j(t)}}}function gX(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v;t=new Re({props:{class:"form-field form-field-toggle m-b-0",name:n[1]+".enabled",$$slots:{default:[pX,({uniqueId:k})=>({21:k}),({uniqueId:k})=>k?2097152:0]},$$scope:{ctx:n}}}),c=new Re({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".clientId",$$slots:{default:[mX,({uniqueId:k})=>({21:k}),({uniqueId:k})=>k?2097152:0]},$$scope:{ctx:n}}}),h=new Re({props:{class:"form-field "+(n[0].enabled?"required":""),name:n[1]+".clientSecret",$$slots:{default:[_X,({uniqueId:k})=>({21:k}),({uniqueId:k})=>k?2097152:0]},$$scope:{ctx:n}}});let w=n[4]&&x2(n);return{c(){e=y("div"),z(t.$$.fragment),r=D(),i=y("button"),i.innerHTML='<span class="txt">Clear all fields</span>',s=D(),a=y("div"),l=y("div"),o=D(),f=y("div"),z(c.$$.fragment),u=D(),d=y("div"),z(h.$$.fragment),m=D(),w&&w.c(),_(i,"type","button"),_(i,"class","btn btn-sm btn-transparent btn-hint m-l-auto"),_(e,"class","flex"),_(l,"class","col-12 spacing"),_(f,"class","col-lg-6"),_(d,"class","col-lg-6"),_(a,"class","grid")},m(k,x){E(k,e,x),W(t,e,null),b(e,r),b(e,i),E(k,s,x),E(k,a,x),b(a,l),b(a,o),b(a,f),W(c,f,null),b(a,u),b(a,d),W(h,d,null),b(a,m),w&&w.m(a,null),p=!0,g||(v=ae(i,"click",n[7]),g=!0)},p(k,x){const A={};x&2&&(A.name=k[1]+".enabled"),x&6291457&&(A.$$scope={dirty:x,ctx:k}),t.$set(A);const T={};x&1&&(T.class="form-field "+(k[0].enabled?"required":"")),x&2&&(T.name=k[1]+".clientId"),x&6291457&&(T.$$scope={dirty:x,ctx:k}),c.$set(T);const C={};x&1&&(C.class="form-field "+(k[0].enabled?"required":"")),x&2&&(C.name=k[1]+".clientSecret"),x&6291457&&(C.$$scope={dirty:x,ctx:k}),h.$set(C),k[4]?w?(w.p(k,x),x&16&&M(w,1)):(w=x2(k),w.c(),M(w,1),w.m(a,null)):w&&(Me(),L(w,1,1,()=>{w=null}),Ie())},i(k){p||(M(t.$$.fragment,k),M(c.$$.fragment,k),M(h.$$.fragment,k),M(w),p=!0)},o(k){L(t.$$.fragment,k),L(c.$$.fragment,k),L(h.$$.fragment,k),L(w),p=!1},d(k){k&&S(e),j(t),k&&S(s),k&&S(a),j(c),j(h),w&&w.d(),g=!1,v()}}}function T2(n){let e;return{c(){e=y("i"),_(e,"class",n[3])},m(t,r){E(t,e,r)},p(t,r){r&8&&_(e,"class",t[3])},d(t){t&&S(e)}}}function S2(n){let e,t,r,i,s;return{c(){e=y("i"),_(e,"class","ri-error-warning-fill txt-danger")},m(a,l){E(a,e,l),r=!0,i||(s=st(xt.call(null,e,{text:"Has errors",position:"left"})),i=!0)},i(a){r||(a&&Nt(()=>{t||(t=ut(e,qn,{duration:150,start:.7},!0)),t.run(1)}),r=!0)},o(a){a&&(t||(t=ut(e,qn,{duration:150,start:.7},!1)),t.run(0)),r=!1},d(a){a&&S(e),a&&t&&t.end(),i=!1,s()}}}function vX(n){let e;return{c(){e=y("span"),e.textContent="Disabled",_(e,"class","label label-hint")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function bX(n){let e;return{c(){e=y("span"),e.textContent="Enabled",_(e,"class","label label-success")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function wX(n){let e,t,r,i,s,a,l,o=n[1].substring(0,n[1].length-4)+"",f,c,u,d,h,m,p,g=n[3]&&T2(n),v=n[6]&&S2();function w(A,T){return A[0].enabled?bX:vX}let k=w(n),x=k(n);return{c(){e=y("div"),g&&g.c(),t=D(),r=y("span"),i=q(n[2]),s=D(),a=y("em"),l=q("("),f=q(o),c=q(")"),u=D(),d=y("div"),h=D(),v&&v.c(),m=D(),x.c(),p=Ge(),_(r,"class","txt"),_(a,"class","txt-hint"),_(e,"class","inline-flex"),_(d,"class","flex-fill")},m(A,T){E(A,e,T),g&&g.m(e,null),b(e,t),b(e,r),b(r,i),b(e,s),b(e,a),b(a,l),b(a,f),b(a,c),E(A,u,T),E(A,d,T),E(A,h,T),v&&v.m(A,T),E(A,m,T),x.m(A,T),E(A,p,T)},p(A,T){A[3]?g?g.p(A,T):(g=T2(A),g.c(),g.m(e,t)):g&&(g.d(1),g=null),T&4&&ke(i,A[2]),T&2&&o!==(o=A[1].substring(0,A[1].length-4)+"")&&ke(f,o),A[6]?v?T&64&&M(v,1):(v=S2(),v.c(),M(v,1),v.m(m.parentNode,m)):v&&(Me(),L(v,1,1,()=>{v=null}),Ie()),k!==(k=w(A))&&(x.d(1),x=k(A),x&&(x.c(),x.m(p.parentNode,p)))},d(A){A&&S(e),g&&g.d(),A&&S(u),A&&S(d),A&&S(h),v&&v.d(A),A&&S(m),x.d(A),A&&S(p)}}}function kX(n){let e,t;const r=[n[8]];let i={$$slots:{header:[wX],default:[gX]},$$scope:{ctx:n}};for(let s=0;s<r.length;s+=1)i=Mt(i,r[s]);return e=new fl({props:i}),n[17](e),e.$on("expand",n[18]),e.$on("collapse",n[19]),e.$on("toggle",n[20]),{c(){z(e.$$.fragment)},m(s,a){W(e,s,a),t=!0},p(s,[a]){const l=a&256?Rr(r,[is(s[8])]):{};a&4194399&&(l.$$scope={dirty:a,ctx:s}),e.$set(l)},i(s){t||(M(e.$$.fragment,s),t=!0)},o(s){L(e.$$.fragment,s),t=!1},d(s){n[17](null),j(e,s)}}}function yX(n,e,t){let r;const i=["key","title","icon","config","optionsComponent","expand","collapse","collapseSiblings"];let s=zn(e,i),a;Et(n,xs,O=>t(12,a=O));let{key:l}=e,{title:o}=e,{icon:f=""}=e,{config:c={}}=e,{optionsComponent:u}=e,d;function h(){d==null||d.expand()}function m(){d==null||d.collapse()}function p(){d==null||d.collapseSiblings()}function g(){for(let O in c)t(0,c[O]="",c);t(0,c.enabled=!1,c)}function v(){c.enabled=this.checked,t(0,c)}function w(){c.clientId=this.value,t(0,c)}function k(O){n.$$.not_equal(c.clientSecret,O)&&(c.clientSecret=O,t(0,c))}function x(O){c=O,t(0,c)}function A(O){ve[O?"unshift":"push"](()=>{d=O,t(5,d)})}function T(O){mt.call(this,n,O)}function C(O){mt.call(this,n,O)}function F(O){mt.call(this,n,O)}return n.$$set=O=>{e=Mt(Mt({},e),rs(O)),t(8,s=zn(e,i)),"key"in O&&t(1,l=O.key),"title"in O&&t(2,o=O.title),"icon"in O&&t(3,f=O.icon),"config"in O&&t(0,c=O.config),"optionsComponent"in O&&t(4,u=O.optionsComponent)},n.$$.update=()=>{n.$$.dirty&4098&&t(6,r=!X.isEmpty(X.getNestedVal(a,l))),n.$$.dirty&3&&(c.enabled||Ca(l))},[c,l,o,f,u,d,r,g,s,h,m,p,a,v,w,k,x,A,T,C,F]}class xX extends We{constructor(e){super(),Ve(this,e,yX,kX,$e,{key:1,title:2,icon:3,config:0,optionsComponent:4,expand:9,collapse:10,collapseSiblings:11})}get expand(){return this.$$.ctx[9]}get collapse(){return this.$$.ctx[10]}get collapseSiblings(){return this.$$.ctx[11]}}function E2(n,e,t){const r=n.slice();return r[18]=e[t][0],r[19]=e[t][1],r[20]=e,r[21]=t,r}function TX(n){let e,t,r,i,s,a,l,o,f,c,u,d=Object.entries(xl),h=[];for(let v=0;v<d.length;v+=1)h[v]=A2(E2(n,d,v));const m=v=>L(h[v],1,1,()=>{h[v]=null});let p=!n[4]&&F2(n),g=n[5]&&D2(n);return{c(){e=y("div");for(let v=0;v<h.length;v+=1)h[v].c();t=D(),p&&p.c(),r=D(),i=y("div"),s=y("div"),a=D(),g&&g.c(),l=D(),o=y("button"),f=y("span"),f.textContent="Save changes",_(e,"class","accordions"),_(s,"class","flex-fill"),_(f,"class","txt"),_(o,"type","submit"),_(o,"class","btn btn-expanded"),o.disabled=c=!n[5]||n[3],pe(o,"btn-loading",n[3]),_(i,"class","flex m-t-base")},m(v,w){E(v,e,w);for(let k=0;k<h.length;k+=1)h[k].m(e,null);E(v,t,w),p&&p.m(v,w),E(v,r,w),E(v,i,w),b(i,s),b(i,a),g&&g.m(i,null),b(i,l),b(i,o),b(o,f),u=!0},p(v,w){if(w&19){d=Object.entries(xl);let k;for(k=0;k<d.length;k+=1){const x=E2(v,d,k);h[k]?(h[k].p(x,w),M(h[k],1)):(h[k]=A2(x),h[k].c(),M(h[k],1),h[k].m(e,null))}for(Me(),k=d.length;k<h.length;k+=1)m(k);Ie()}v[4]?p&&(p.d(1),p=null):p?p.p(v,w):(p=F2(v),p.c(),p.m(r.parentNode,r)),v[5]?g?g.p(v,w):(g=D2(v),g.c(),g.m(i,l)):g&&(g.d(1),g=null),(!u||w&40&&c!==(c=!v[5]||v[3]))&&(o.disabled=c),(!u||w&8)&&pe(o,"btn-loading",v[3])},i(v){if(!u){for(let w=0;w<d.length;w+=1)M(h[w]);u=!0}},o(v){h=h.filter(Boolean);for(let w=0;w<h.length;w+=1)L(h[w]);u=!1},d(v){v&&S(e),zt(h,v),v&&S(t),p&&p.d(v),v&&S(r),v&&S(i),g&&g.d()}}}function SX(n){let e;return{c(){e=y("div"),_(e,"class","loader")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function C2(n){let e,t=n[18],r,i;const s=()=>n[12](e,t),a=()=>n[12](null,t);function l(f){n[13](f,n[18])}let o={single:!0,key:n[18],title:n[19].title,icon:n[19].icon||"ri-fingerprint-line",optionsComponent:n[19].optionsComponent};return n[0][n[18]]!==void 0&&(o.config=n[0][n[18]]),e=new xX({props:o}),s(),ve.push(()=>Le(e,"config",l)),{c(){z(e.$$.fragment)},m(f,c){W(e,f,c),i=!0},p(f,c){n=f,t!==n[18]&&(a(),t=n[18],s());const u={};!r&&c&1&&(r=!0,u.config=n[0][n[18]],He(()=>r=!1)),e.$set(u)},i(f){i||(M(e.$$.fragment,f),i=!0)},o(f){L(e.$$.fragment,f),i=!1},d(f){a(),j(e,f)}}}function A2(n){var i;let e,t,r=(n[4]||!n[19].hidden||((i=n[0][n[18]])==null?void 0:i.enabled))&&C2(n);return{c(){r&&r.c(),e=Ge()},m(s,a){r&&r.m(s,a),E(s,e,a),t=!0},p(s,a){var l;s[4]||!s[19].hidden||(l=s[0][s[18]])!=null&&l.enabled?r?(r.p(s,a),a&17&&M(r,1)):(r=C2(s),r.c(),M(r,1),r.m(e.parentNode,e)):r&&(Me(),L(r,1,1,()=>{r=null}),Ie())},i(s){t||(M(r),t=!0)},o(s){L(r),t=!1},d(s){r&&r.d(s),s&&S(e)}}}function F2(n){let e,t,r,i,s,a,l,o,f;return{c(){e=y("button"),t=y("i"),r=D(),i=y("span"),s=q("Show all ("),a=q(n[6]),l=q(")"),_(t,"class","ri-arrow-down-s-line"),_(i,"class","txt"),_(e,"type","button"),_(e,"class","btn btn-sm btn-transparent btn-hint m-t-10")},m(c,u){E(c,e,u),b(e,t),b(e,r),b(e,i),b(i,s),b(i,a),b(i,l),o||(f=ae(e,"click",n[14]),o=!0)},p(c,u){u&64&&ke(a,c[6])},d(c){c&&S(e),o=!1,f()}}}function D2(n){let e,t,r,i;return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",_(t,"class","txt"),_(e,"type","button"),_(e,"class","btn btn-transparent btn-hint"),e.disabled=n[3]},m(s,a){E(s,e,a),b(e,t),r||(i=ae(e,"click",n[15]),r=!0)},p(s,a){a&8&&(e.disabled=s[3])},d(s){s&&S(e),r=!1,i()}}}function EX(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g;const v=[SX,TX],w=[];function k(x,A){return x[2]?0:1}return d=k(n),h=w[d]=v[d](n),{c(){e=y("header"),t=y("nav"),r=y("div"),r.textContent="Settings",i=D(),s=y("div"),a=q(n[7]),l=D(),o=y("div"),f=y("form"),c=y("h6"),c.textContent="Manage the allowed users OAuth2 sign-in/sign-up methods.",u=D(),h.c(),_(r,"class","breadcrumb-item"),_(s,"class","breadcrumb-item"),_(t,"class","breadcrumbs"),_(e,"class","page-header"),_(c,"class","m-b-base"),_(f,"class","panel"),_(f,"autocomplete","off"),_(o,"class","wrapper")},m(x,A){E(x,e,A),b(e,t),b(t,r),b(t,i),b(t,s),b(s,a),E(x,l,A),E(x,o,A),b(o,f),b(f,c),b(f,u),w[d].m(f,null),m=!0,p||(g=ae(f,"submit",Yt(n[8])),p=!0)},p(x,A){(!m||A&128)&&ke(a,x[7]);let T=d;d=k(x),d===T?w[d].p(x,A):(Me(),L(w[T],1,1,()=>{w[T]=null}),Ie(),h=w[d],h?h.p(x,A):(h=w[d]=v[d](x),h.c()),M(h,1),h.m(f,null))},i(x){m||(M(h),m=!0)},o(x){L(h),m=!1},d(x){x&&S(e),x&&S(l),x&&S(o),w[d].d(),p=!1,g()}}}function CX(n){let e,t,r,i;return e=new ia({}),r=new ai({props:{$$slots:{default:[EX]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment)},m(s,a){W(e,s,a),E(s,t,a),W(r,s,a),i=!0},p(s,[a]){const l={};a&4194559&&(l.$$scope={dirty:a,ctx:s}),r.$set(l)},i(s){i||(M(e.$$.fragment,s),M(r.$$.fragment,s),i=!0)},o(s){L(e.$$.fragment,s),L(r.$$.fragment,s),i=!1},d(s){j(e,s),s&&S(t),j(r,s)}}}function AX(n,e,t){let r,i,s,a;Et(n,En,A=>t(7,a=A)),kr(En,a="Auth providers",a);let l={},o={},f={},c=!1,u=!1,d=!1;h();async function h(){t(2,c=!0);try{const A=await Ue.settings.getAll()||{};p(A)}catch(A){Ue.errorResponseHandler(A)}t(2,c=!1)}async function m(){var A;if(!(u||!i)){t(3,u=!0);try{const T=await Ue.settings.update(X.filterRedactedProps(f));p(T),Ti({}),(A=l[Object.keys(l)[0]])==null||A.collapseSiblings(),Qn("Successfully updated auth providers.")}catch(T){Ue.errorResponseHandler(T)}t(3,u=!1)}}function p(A){A=A||{},t(0,f={});for(const T in xl)t(0,f[T]=Object.assign({enabled:!1},A[T]),f);t(10,o=JSON.parse(JSON.stringify(f)))}function g(){t(0,f=JSON.parse(JSON.stringify(o||{})))}function v(A,T){ve[A?"unshift":"push"](()=>{l[T]=A,t(1,l)})}function w(A,T){n.$$.not_equal(f[T],A)&&(f[T]=A,t(0,f))}const k=()=>t(4,d=!0),x=()=>g();return n.$$.update=()=>{n.$$.dirty&1024&&t(11,r=JSON.stringify(o)),n.$$.dirty&2049&&t(5,i=r!=JSON.stringify(f))},t(6,s=Object.values(xl).filter(A=>A.hidden).length),[f,l,c,u,d,i,s,a,m,g,o,r,v,w,k,x]}class FX extends We{constructor(e){super(),Ve(this,e,AX,CX,$e,{})}}function O2(n,e,t){const r=n.slice();return r[16]=e[t],r[17]=e,r[18]=t,r}function DX(n){let e=[],t=new Map,r,i,s,a,l,o,f,c,u,d,h,m=n[5];const p=v=>v[16].key;for(let v=0;v<m.length;v+=1){let w=O2(n,m,v),k=p(w);t.set(k,e[v]=M2(k,w))}let g=n[3]&&I2(n);return{c(){for(let v=0;v<e.length;v+=1)e[v].c();r=D(),i=y("div"),s=y("div"),a=D(),g&&g.c(),l=D(),o=y("button"),f=y("span"),f.textContent="Save changes",_(s,"class","flex-fill"),_(f,"class","txt"),_(o,"type","submit"),_(o,"class","btn btn-expanded"),o.disabled=c=!n[3]||n[2],pe(o,"btn-loading",n[2]),_(i,"class","flex")},m(v,w){for(let k=0;k<e.length;k+=1)e[k].m(v,w);E(v,r,w),E(v,i,w),b(i,s),b(i,a),g&&g.m(i,null),b(i,l),b(i,o),b(o,f),u=!0,d||(h=ae(o,"click",n[13]),d=!0)},p(v,w){w&524321&&(m=v[5],Me(),e=sn(e,w,p,1,v,m,t,r.parentNode,Tr,M2,r,O2),Ie()),v[3]?g?g.p(v,w):(g=I2(v),g.c(),g.m(i,l)):g&&(g.d(1),g=null),(!u||w&12&&c!==(c=!v[3]||v[2]))&&(o.disabled=c),(!u||w&4)&&pe(o,"btn-loading",v[2])},i(v){if(!u){for(let w=0;w<m.length;w+=1)M(e[w]);u=!0}},o(v){for(let w=0;w<e.length;w+=1)L(e[w]);u=!1},d(v){for(let w=0;w<e.length;w+=1)e[w].d(v);v&&S(r),v&&S(i),g&&g.d(),d=!1,h()}}}function OX(n){let e;return{c(){e=y("div"),_(e,"class","loader")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function MX(n){let e,t=n[16].label+"",r,i,s,a,l,o,f,c,u,d,h;function m(){n[10].call(l,n[16])}function p(){return n[11](n[16])}return{c(){e=y("label"),r=q(t),i=q(" duration (in seconds)"),a=D(),l=y("input"),f=D(),c=y("div"),u=y("span"),u.textContent="Invalidate all previously issued tokens",_(e,"for",s=n[19]),_(l,"type","number"),_(l,"id",o=n[19]),l.required=!0,_(u,"class","link-primary"),pe(u,"txt-success",n[0][n[16].key].secret),_(c,"class","help-block")},m(g,v){E(g,e,v),b(e,r),b(e,i),E(g,a,v),E(g,l,v),Ne(l,n[0][n[16].key].duration),E(g,f,v),E(g,c,v),b(c,u),d||(h=[ae(l,"input",m),ae(u,"click",p)],d=!0)},p(g,v){n=g,v&524288&&s!==(s=n[19])&&_(e,"for",s),v&524288&&o!==(o=n[19])&&_(l,"id",o),v&33&&nn(l.value)!==n[0][n[16].key].duration&&Ne(l,n[0][n[16].key].duration),v&33&&pe(u,"txt-success",n[0][n[16].key].secret)},d(g){g&&S(e),g&&S(a),g&&S(l),g&&S(f),g&&S(c),d=!1,it(h)}}}function M2(n,e){let t,r,i;return r=new Re({props:{class:"form-field required",name:e[16].key+".duration",$$slots:{default:[MX,({uniqueId:s})=>({19:s}),({uniqueId:s})=>s?524288:0]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=Ge(),z(r.$$.fragment),this.first=t},m(s,a){E(s,t,a),W(r,s,a),i=!0},p(s,a){e=s;const l={};a&1572865&&(l.$$scope={dirty:a,ctx:e}),r.$set(l)},i(s){i||(M(r.$$.fragment,s),i=!0)},o(s){L(r.$$.fragment,s),i=!1},d(s){s&&S(t),j(r,s)}}}function I2(n){let e,t,r,i;return{c(){e=y("button"),t=y("span"),t.textContent="Cancel",_(t,"class","txt"),_(e,"type","button"),_(e,"class","btn btn-transparent btn-hint"),e.disabled=n[2]},m(s,a){E(s,e,a),b(e,t),r||(i=ae(e,"click",n[12]),r=!0)},p(s,a){a&4&&(e.disabled=s[2])},d(s){s&&S(e),r=!1,i()}}}function IX(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g;const v=[OX,DX],w=[];function k(x,A){return x[1]?0:1}return d=k(n),h=w[d]=v[d](n),{c(){e=y("header"),t=y("nav"),r=y("div"),r.textContent="Settings",i=D(),s=y("div"),a=q(n[4]),l=D(),o=y("div"),f=y("form"),c=y("div"),c.innerHTML="<p>Adjust common token options.</p>",u=D(),h.c(),_(r,"class","breadcrumb-item"),_(s,"class","breadcrumb-item"),_(t,"class","breadcrumbs"),_(e,"class","page-header"),_(c,"class","content m-b-sm txt-xl"),_(f,"class","panel"),_(f,"autocomplete","off"),_(o,"class","wrapper")},m(x,A){E(x,e,A),b(e,t),b(t,r),b(t,i),b(t,s),b(s,a),E(x,l,A),E(x,o,A),b(o,f),b(f,c),b(f,u),w[d].m(f,null),m=!0,p||(g=ae(f,"submit",Yt(n[6])),p=!0)},p(x,A){(!m||A&16)&&ke(a,x[4]);let T=d;d=k(x),d===T?w[d].p(x,A):(Me(),L(w[T],1,1,()=>{w[T]=null}),Ie(),h=w[d],h?h.p(x,A):(h=w[d]=v[d](x),h.c()),M(h,1),h.m(f,null))},i(x){m||(M(h),m=!0)},o(x){L(h),m=!1},d(x){x&&S(e),x&&S(l),x&&S(o),w[d].d(),p=!1,g()}}}function NX(n){let e,t,r,i;return e=new ia({}),r=new ai({props:{$$slots:{default:[IX]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment)},m(s,a){W(e,s,a),E(s,t,a),W(r,s,a),i=!0},p(s,[a]){const l={};a&1048607&&(l.$$scope={dirty:a,ctx:s}),r.$set(l)},i(s){i||(M(e.$$.fragment,s),M(r.$$.fragment,s),i=!0)},o(s){L(e.$$.fragment,s),L(r.$$.fragment,s),i=!1},d(s){j(e,s),s&&S(t),j(r,s)}}}function PX(n,e,t){let r,i,s;Et(n,En,k=>t(4,s=k));const a=[{key:"recordAuthToken",label:"Auth record authentication token"},{key:"recordVerificationToken",label:"Auth record email verification token"},{key:"recordPasswordResetToken",label:"Auth record password reset token"},{key:"recordEmailChangeToken",label:"Auth record email change token"},{key:"adminAuthToken",label:"Admins auth token"},{key:"adminPasswordResetToken",label:"Admins password reset token"}];kr(En,s="Token options",s);let l={},o={},f=!1,c=!1;u();async function u(){t(1,f=!0);try{const k=await Ue.settings.getAll()||{};h(k)}catch(k){Ue.errorResponseHandler(k)}t(1,f=!1)}async function d(){if(!(c||!i)){t(2,c=!0);try{const k=await Ue.settings.update(X.filterRedactedProps(o));h(k),Qn("Successfully saved tokens options.")}catch(k){Ue.errorResponseHandler(k)}t(2,c=!1)}}function h(k){var x;k=k||{},t(0,o={});for(const A of a)t(0,o[A.key]={duration:((x=k[A.key])==null?void 0:x.duration)||0},o);t(8,l=JSON.parse(JSON.stringify(o)))}function m(){t(0,o=JSON.parse(JSON.stringify(l||{})))}function p(k){o[k.key].duration=nn(this.value),t(0,o)}const g=k=>{o[k.key].secret?(delete o[k.key].secret,t(0,o)):t(0,o[k.key].secret=X.randomString(50),o)},v=()=>m(),w=()=>d();return n.$$.update=()=>{n.$$.dirty&256&&t(9,r=JSON.stringify(l)),n.$$.dirty&513&&t(3,i=r!=JSON.stringify(o))},[o,f,c,i,s,a,d,m,l,r,p,g,v,w]}class LX extends We{constructor(e){super(),Ve(this,e,PX,NX,$e,{})}}function RX(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m;return a=new Hy({props:{content:n[2]}}),{c(){e=y("div"),e.innerHTML=`<p>Below you&#39;ll find your current collections configuration that you could import in
                        another PocketBase environment.</p>`,t=D(),r=y("div"),i=y("button"),i.innerHTML='<span class="txt">Copy</span>',s=D(),z(a.$$.fragment),l=D(),o=y("div"),f=y("div"),c=D(),u=y("button"),u.innerHTML=`<i class="ri-download-line"></i> 
                        <span class="txt">Download as JSON</span>`,_(e,"class","content txt-xl m-b-base"),_(i,"type","button"),_(i,"class","btn btn-sm btn-transparent fade copy-schema svelte-jm5c4z"),_(r,"tabindex","0"),_(r,"class","export-preview svelte-jm5c4z"),_(f,"class","flex-fill"),_(u,"type","button"),_(u,"class","btn btn-expanded"),_(o,"class","flex m-t-base")},m(p,g){E(p,e,g),E(p,t,g),E(p,r,g),b(r,i),b(r,s),W(a,r,null),n[8](r),E(p,l,g),E(p,o,g),b(o,f),b(o,c),b(o,u),d=!0,h||(m=[ae(i,"click",n[7]),ae(r,"keydown",n[9]),ae(u,"click",n[10])],h=!0)},p(p,g){const v={};g&4&&(v.content=p[2]),a.$set(v)},i(p){d||(M(a.$$.fragment,p),d=!0)},o(p){L(a.$$.fragment,p),d=!1},d(p){p&&S(e),p&&S(t),p&&S(r),j(a),n[8](null),p&&S(l),p&&S(o),h=!1,it(m)}}}function $X(n){let e;return{c(){e=y("div"),_(e,"class","loader")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function BX(n){let e,t,r,i,s,a,l,o,f,c,u,d;const h=[$X,RX],m=[];function p(g,v){return g[1]?0:1}return c=p(n),u=m[c]=h[c](n),{c(){e=y("header"),t=y("nav"),r=y("div"),r.textContent="Settings",i=D(),s=y("div"),a=q(n[3]),l=D(),o=y("div"),f=y("div"),u.c(),_(r,"class","breadcrumb-item"),_(s,"class","breadcrumb-item"),_(t,"class","breadcrumbs"),_(e,"class","page-header"),_(f,"class","panel"),_(o,"class","wrapper")},m(g,v){E(g,e,v),b(e,t),b(t,r),b(t,i),b(t,s),b(s,a),E(g,l,v),E(g,o,v),b(o,f),m[c].m(f,null),d=!0},p(g,v){(!d||v&8)&&ke(a,g[3]);let w=c;c=p(g),c===w?m[c].p(g,v):(Me(),L(m[w],1,1,()=>{m[w]=null}),Ie(),u=m[c],u?u.p(g,v):(u=m[c]=h[c](g),u.c()),M(u,1),u.m(f,null))},i(g){d||(M(u),d=!0)},o(g){L(u),d=!1},d(g){g&&S(e),g&&S(l),g&&S(o),m[c].d()}}}function UX(n){let e,t,r,i;return e=new ia({}),r=new ai({props:{$$slots:{default:[BX]},$$scope:{ctx:n}}}),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment)},m(s,a){W(e,s,a),E(s,t,a),W(r,s,a),i=!0},p(s,[a]){const l={};a&8207&&(l.$$scope={dirty:a,ctx:s}),r.$set(l)},i(s){i||(M(e.$$.fragment,s),M(r.$$.fragment,s),i=!0)},o(s){L(e.$$.fragment,s),L(r.$$.fragment,s),i=!1},d(s){j(e,s),s&&S(t),j(r,s)}}}function HX(n,e,t){let r,i;Et(n,En,g=>t(3,i=g)),kr(En,i="Export collections",i);const s="export_"+X.randomString(5);let a,l=[],o=!1;f();async function f(){t(1,o=!0);try{t(6,l=await Ue.collections.getFullList(100,{$cancelKey:s}));for(let g of l)delete g.created,delete g.updated}catch(g){Ue.errorResponseHandler(g)}t(1,o=!1)}function c(){X.downloadJson(l,"pb_schema")}function u(){X.copyToClipboard(r),Uk("The configuration was copied to your clipboard!",3e3)}const d=()=>u();function h(g){ve[g?"unshift":"push"](()=>{a=g,t(0,a)})}const m=g=>{if(g.ctrlKey&&g.code==="KeyA"){g.preventDefault();const v=window.getSelection(),w=document.createRange();w.selectNodeContents(a),v.removeAllRanges(),v.addRange(w)}},p=()=>c();return n.$$.update=()=>{n.$$.dirty&64&&t(2,r=JSON.stringify(l,null,4))},[a,o,r,i,c,u,l,d,h,m,p]}class VX extends We{constructor(e){super(),Ve(this,e,HX,UX,$e,{})}}function N2(n,e,t){const r=n.slice();return r[14]=e[t],r}function P2(n,e,t){const r=n.slice();return r[17]=e[t][0],r[18]=e[t][1],r}function L2(n,e,t){const r=n.slice();return r[14]=e[t],r}function R2(n,e,t){const r=n.slice();return r[17]=e[t][0],r[23]=e[t][1],r}function $2(n,e,t){const r=n.slice();return r[14]=e[t],r}function B2(n,e,t){const r=n.slice();return r[17]=e[t][0],r[18]=e[t][1],r}function U2(n,e,t){const r=n.slice();return r[30]=e[t],r}function WX(n){let e,t,r,i,s=n[1].name+"",a,l=n[9]&&H2(),o=n[0].name!==n[1].name&&V2(n);return{c(){e=y("div"),l&&l.c(),t=D(),o&&o.c(),r=D(),i=y("strong"),a=q(s),_(i,"class","txt"),_(e,"class","inline-flex fleg-gap-5")},m(f,c){E(f,e,c),l&&l.m(e,null),b(e,t),o&&o.m(e,null),b(e,r),b(e,i),b(i,a)},p(f,c){f[9]?l||(l=H2(),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f[0].name!==f[1].name?o?o.p(f,c):(o=V2(f),o.c(),o.m(e,r)):o&&(o.d(1),o=null),c[0]&2&&s!==(s=f[1].name+"")&&ke(a,s)},d(f){f&&S(e),l&&l.d(),o&&o.d()}}}function jX(n){var a;let e,t,r,i=((a=n[0])==null?void 0:a.name)+"",s;return{c(){e=y("span"),e.textContent="Deleted",t=D(),r=y("strong"),s=q(i),_(e,"class","label label-danger")},m(l,o){E(l,e,o),E(l,t,o),E(l,r,o),b(r,s)},p(l,o){var f;o[0]&1&&i!==(i=((f=l[0])==null?void 0:f.name)+"")&&ke(s,i)},d(l){l&&S(e),l&&S(t),l&&S(r)}}}function zX(n){var a;let e,t,r,i=((a=n[1])==null?void 0:a.name)+"",s;return{c(){e=y("span"),e.textContent="Added",t=D(),r=y("strong"),s=q(i),_(e,"class","label label-success")},m(l,o){E(l,e,o),E(l,t,o),E(l,r,o),b(r,s)},p(l,o){var f;o[0]&2&&i!==(i=((f=l[1])==null?void 0:f.name)+"")&&ke(s,i)},d(l){l&&S(e),l&&S(t),l&&S(r)}}}function H2(n){let e;return{c(){e=y("span"),e.textContent="Changed",_(e,"class","label label-warning")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function V2(n){let e,t=n[0].name+"",r,i,s;return{c(){e=y("strong"),r=q(t),i=D(),s=y("i"),_(e,"class","txt-strikethrough txt-hint"),_(s,"class","ri-arrow-right-line txt-sm")},m(a,l){E(a,e,l),b(e,r),E(a,i,l),E(a,s,l)},p(a,l){l[0]&1&&t!==(t=a[0].name+"")&&ke(r,t)},d(a){a&&S(e),a&&S(i),a&&S(s)}}}function W2(n){var g,v;let e,t,r,i=n[30]+"",s,a,l,o,f=n[12]((g=n[0])==null?void 0:g[n[30]])+"",c,u,d,h,m=n[12]((v=n[1])==null?void 0:v[n[30]])+"",p;return{c(){var w,k,x,A,T,C;e=y("tr"),t=y("td"),r=y("span"),s=q(i),a=D(),l=y("td"),o=y("pre"),c=q(f),u=D(),d=y("td"),h=y("pre"),p=q(m),_(t,"class","min-width svelte-lmkr38"),_(o,"class","txt"),_(l,"class","svelte-lmkr38"),pe(l,"changed-old-col",!n[10]&&Hr((w=n[0])==null?void 0:w[n[30]],(k=n[1])==null?void 0:k[n[30]])),pe(l,"changed-none-col",n[10]),_(h,"class","txt"),_(d,"class","svelte-lmkr38"),pe(d,"changed-new-col",!n[5]&&Hr((x=n[0])==null?void 0:x[n[30]],(A=n[1])==null?void 0:A[n[30]])),pe(d,"changed-none-col",n[5]),_(e,"class","svelte-lmkr38"),pe(e,"txt-primary",Hr((T=n[0])==null?void 0:T[n[30]],(C=n[1])==null?void 0:C[n[30]]))},m(w,k){E(w,e,k),b(e,t),b(t,r),b(r,s),b(e,a),b(e,l),b(l,o),b(o,c),b(e,u),b(e,d),b(d,h),b(h,p)},p(w,k){var x,A,T,C,F,O,I,N;k[0]&1&&f!==(f=w[12]((x=w[0])==null?void 0:x[w[30]])+"")&&ke(c,f),k[0]&3075&&pe(l,"changed-old-col",!w[10]&&Hr((A=w[0])==null?void 0:A[w[30]],(T=w[1])==null?void 0:T[w[30]])),k[0]&1024&&pe(l,"changed-none-col",w[10]),k[0]&2&&m!==(m=w[12]((C=w[1])==null?void 0:C[w[30]])+"")&&ke(p,m),k[0]&2083&&pe(d,"changed-new-col",!w[5]&&Hr((F=w[0])==null?void 0:F[w[30]],(O=w[1])==null?void 0:O[w[30]])),k[0]&32&&pe(d,"changed-none-col",w[5]),k[0]&2051&&pe(e,"txt-primary",Hr((I=w[0])==null?void 0:I[w[30]],(N=w[1])==null?void 0:N[w[30]]))},d(w){w&&S(e)}}}function j2(n){let e,t=n[6],r=[];for(let i=0;i<t.length;i+=1)r[i]=q2($2(n,t,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ge()},m(i,s){for(let a=0;a<r.length;a+=1)r[a].m(i,s);E(i,e,s)},p(i,s){if(s[0]&4160){t=i[6];let a;for(a=0;a<t.length;a+=1){const l=$2(i,t,a);r[a]?r[a].p(l,s):(r[a]=q2(l),r[a].c(),r[a].m(e.parentNode,e))}for(;a<r.length;a+=1)r[a].d(1);r.length=t.length}},d(i){zt(r,i),i&&S(e)}}}function z2(n){let e,t,r=n[17]+"",i,s,a,l,o=n[12](n[18])+"",f,c,u,d;return{c(){e=y("tr"),t=y("td"),i=q(r),s=D(),a=y("td"),l=y("pre"),f=q(o),c=D(),u=y("td"),d=D(),_(t,"class","min-width field-key-col svelte-lmkr38"),_(l,"class","txt"),_(a,"class","changed-old-col svelte-lmkr38"),_(u,"class","changed-none-col svelte-lmkr38"),_(e,"class","txt-primary svelte-lmkr38")},m(h,m){E(h,e,m),b(e,t),b(t,i),b(e,s),b(e,a),b(a,l),b(l,f),b(e,c),b(e,u),b(e,d)},p(h,m){m[0]&64&&r!==(r=h[17]+"")&&ke(i,r),m[0]&64&&o!==(o=h[12](h[18])+"")&&ke(f,o)},d(h){h&&S(e)}}}function q2(n){let e,t,r,i,s=n[14].name+"",a,l,o,f,c,u,d,h=n[14].name+"",m,p,g,v,w=Object.entries(n[14]),k=[];for(let x=0;x<w.length;x+=1)k[x]=z2(B2(n,w,x));return{c(){e=y("tr"),t=y("th"),r=y("span"),i=q("field: "),a=q(s),l=D(),o=y("span"),f=q("Deleted - "),c=y("small"),u=q("All stored data related to "),d=y("strong"),m=q(h),p=q(" will be deleted!"),g=D();for(let x=0;x<k.length;x+=1)k[x].c();v=Ge(),_(r,"class","txt"),_(o,"class","label label-danger m-l-5 svelte-lmkr38"),_(t,"class","min-width svelte-lmkr38"),_(t,"colspan","3"),_(e,"class","svelte-lmkr38")},m(x,A){E(x,e,A),b(e,t),b(t,r),b(r,i),b(r,a),b(t,l),b(t,o),b(o,f),b(o,c),b(c,u),b(c,d),b(d,m),b(c,p),E(x,g,A);for(let T=0;T<k.length;T+=1)k[T].m(x,A);E(x,v,A)},p(x,A){if(A[0]&64&&s!==(s=x[14].name+"")&&ke(a,s),A[0]&64&&h!==(h=x[14].name+"")&&ke(m,h),A[0]&4160){w=Object.entries(x[14]);let T;for(T=0;T<w.length;T+=1){const C=B2(x,w,T);k[T]?k[T].p(C,A):(k[T]=z2(C),k[T].c(),k[T].m(v.parentNode,v))}for(;T<k.length;T+=1)k[T].d(1);k.length=w.length}},d(x){x&&S(e),x&&S(g),zt(k,x),x&&S(v)}}}function Y2(n){let e;return{c(){e=y("span"),e.textContent="Changed",_(e,"class","label label-warning m-l-5 svelte-lmkr38")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function G2(n){var p;let e,t,r=n[17]+"",i,s,a,l,o=n[12]((p=vi(n[3],n[14].id))==null?void 0:p[n[17]])+"",f,c,u,d,h=n[12](n[23])+"",m;return{c(){var g,v,w;e=y("tr"),t=y("td"),i=q(r),s=D(),a=y("td"),l=y("pre"),f=q(o),c=D(),u=y("td"),d=y("pre"),m=q(h),_(t,"class","min-width field-key-col svelte-lmkr38"),_(l,"class","txt"),_(a,"class","svelte-lmkr38"),pe(a,"changed-old-col",Hr((g=vi(n[3],n[14].id))==null?void 0:g[n[17]],n[23])),_(d,"class","txt"),_(u,"class","svelte-lmkr38"),pe(u,"changed-new-col",Hr((v=vi(n[3],n[14].id))==null?void 0:v[n[17]],n[23])),_(e,"class","svelte-lmkr38"),pe(e,"txt-primary",Hr((w=vi(n[3],n[14].id))==null?void 0:w[n[17]],n[23]))},m(g,v){E(g,e,v),b(e,t),b(t,i),b(e,s),b(e,a),b(a,l),b(l,f),b(e,c),b(e,u),b(u,d),b(d,m)},p(g,v){var w,k,x,A;v[0]&128&&r!==(r=g[17]+"")&&ke(i,r),v[0]&136&&o!==(o=g[12]((w=vi(g[3],g[14].id))==null?void 0:w[g[17]])+"")&&ke(f,o),v[0]&136&&pe(a,"changed-old-col",Hr((k=vi(g[3],g[14].id))==null?void 0:k[g[17]],g[23])),v[0]&128&&h!==(h=g[12](g[23])+"")&&ke(m,h),v[0]&136&&pe(u,"changed-new-col",Hr((x=vi(g[3],g[14].id))==null?void 0:x[g[17]],g[23])),v[0]&136&&pe(e,"txt-primary",Hr((A=vi(g[3],g[14].id))==null?void 0:A[g[17]],g[23]))},d(g){g&&S(e)}}}function X2(n){let e,t,r,i,s=n[14].name+"",a,l,o=Hr(vi(n[3],n[14].id),vi(n[4],n[14].id)),f,c,u=o&&Y2(),d=Object.entries(n[14]),h=[];for(let m=0;m<d.length;m+=1)h[m]=G2(R2(n,d,m));return{c(){e=y("tr"),t=y("th"),r=y("span"),i=q("field: "),a=q(s),l=D(),u&&u.c(),f=D();for(let m=0;m<h.length;m+=1)h[m].c();c=Ge(),_(r,"class","txt"),_(t,"class","min-width svelte-lmkr38"),_(t,"colspan","3"),_(e,"class","svelte-lmkr38")},m(m,p){E(m,e,p),b(e,t),b(t,r),b(r,i),b(r,a),b(t,l),u&&u.m(t,null),E(m,f,p);for(let g=0;g<h.length;g+=1)h[g].m(m,p);E(m,c,p)},p(m,p){if(p[0]&128&&s!==(s=m[14].name+"")&&ke(a,s),p[0]&152&&(o=Hr(vi(m[3],m[14].id),vi(m[4],m[14].id))),o?u||(u=Y2(),u.c(),u.m(t,null)):u&&(u.d(1),u=null),p[0]&4232){d=Object.entries(m[14]);let g;for(g=0;g<d.length;g+=1){const v=R2(m,d,g);h[g]?h[g].p(v,p):(h[g]=G2(v),h[g].c(),h[g].m(c.parentNode,c))}for(;g<h.length;g+=1)h[g].d(1);h.length=d.length}},d(m){m&&S(e),u&&u.d(),m&&S(f),zt(h,m),m&&S(c)}}}function K2(n){let e,t,r=n[17]+"",i,s,a,l,o,f,c=n[12](n[18])+"",u,d;return{c(){e=y("tr"),t=y("td"),i=q(r),s=D(),a=y("td"),l=D(),o=y("td"),f=y("pre"),u=q(c),d=D(),_(t,"class","min-width field-key-col svelte-lmkr38"),_(a,"class","changed-none-col svelte-lmkr38"),_(f,"class","txt"),_(o,"class","changed-new-col svelte-lmkr38"),_(e,"class","txt-primary svelte-lmkr38")},m(h,m){E(h,e,m),b(e,t),b(t,i),b(e,s),b(e,a),b(e,l),b(e,o),b(o,f),b(f,u),b(e,d)},p(h,m){m[0]&256&&r!==(r=h[17]+"")&&ke(i,r),m[0]&256&&c!==(c=h[12](h[18])+"")&&ke(u,c)},d(h){h&&S(e)}}}function J2(n){let e,t,r,i,s=n[14].name+"",a,l,o,f,c,u=Object.entries(n[14]),d=[];for(let h=0;h<u.length;h+=1)d[h]=K2(P2(n,u,h));return{c(){e=y("tr"),t=y("th"),r=y("span"),i=q("field: "),a=q(s),l=D(),o=y("span"),o.textContent="Added",f=D();for(let h=0;h<d.length;h+=1)d[h].c();c=Ge(),_(r,"class","txt"),_(o,"class","label label-success m-l-5 svelte-lmkr38"),_(t,"class","min-width svelte-lmkr38"),_(t,"colspan","3"),_(e,"class","svelte-lmkr38")},m(h,m){E(h,e,m),b(e,t),b(t,r),b(r,i),b(r,a),b(t,l),b(t,o),E(h,f,m);for(let p=0;p<d.length;p+=1)d[p].m(h,m);E(h,c,m)},p(h,m){if(m[0]&256&&s!==(s=h[14].name+"")&&ke(a,s),m[0]&4352){u=Object.entries(h[14]);let p;for(p=0;p<u.length;p+=1){const g=P2(h,u,p);d[p]?d[p].p(g,m):(d[p]=K2(g),d[p].c(),d[p].m(c.parentNode,c))}for(;p<d.length;p+=1)d[p].d(1);d.length=u.length}},d(h){h&&S(e),h&&S(f),zt(d,h),h&&S(c)}}}function qX(n){let e,t,r,i,s,a,l,o,f;function c(x,A){var T,C;return(T=x[0])!=null&&T.id?(C=x[1])!=null&&C.id?WX:jX:zX}let u=c(n),d=u(n),h=n[11],m=[];for(let x=0;x<h.length;x+=1)m[x]=W2(U2(n,h,x));let p=(n[2]||n[5])&&j2(n),g=n[7],v=[];for(let x=0;x<g.length;x+=1)v[x]=X2(L2(n,g,x));let w=n[8],k=[];for(let x=0;x<w.length;x+=1)k[x]=J2(N2(n,w,x));return{c(){e=y("div"),d.c(),t=D(),r=y("table"),i=y("thead"),i.innerHTML=`<tr class="svelte-lmkr38"><th class="svelte-lmkr38">Props</th> 
            <th width="10%" class="svelte-lmkr38">Old</th> 
            <th width="10%" class="svelte-lmkr38">New</th></tr>`,s=D(),a=y("tbody");for(let x=0;x<m.length;x+=1)m[x].c();l=D(),p&&p.c(),o=D();for(let x=0;x<v.length;x+=1)v[x].c();f=D();for(let x=0;x<k.length;x+=1)k[x].c();_(e,"class","section-title"),_(r,"class","table collections-diff-table m-b-base svelte-lmkr38")},m(x,A){E(x,e,A),d.m(e,null),E(x,t,A),E(x,r,A),b(r,i),b(r,s),b(r,a);for(let T=0;T<m.length;T+=1)m[T].m(a,null);b(a,l),p&&p.m(a,null),b(a,o);for(let T=0;T<v.length;T+=1)v[T].m(a,null);b(a,f);for(let T=0;T<k.length;T+=1)k[T].m(a,null)},p(x,A){if(u===(u=c(x))&&d?d.p(x,A):(d.d(1),d=u(x),d&&(d.c(),d.m(e,null))),A[0]&7203){h=x[11];let T;for(T=0;T<h.length;T+=1){const C=U2(x,h,T);m[T]?m[T].p(C,A):(m[T]=W2(C),m[T].c(),m[T].m(a,l))}for(;T<m.length;T+=1)m[T].d(1);m.length=h.length}if(x[2]||x[5]?p?p.p(x,A):(p=j2(x),p.c(),p.m(a,o)):p&&(p.d(1),p=null),A[0]&4248){g=x[7];let T;for(T=0;T<g.length;T+=1){const C=L2(x,g,T);v[T]?v[T].p(C,A):(v[T]=X2(C),v[T].c(),v[T].m(a,f))}for(;T<v.length;T+=1)v[T].d(1);v.length=g.length}if(A[0]&4352){w=x[8];let T;for(T=0;T<w.length;T+=1){const C=N2(x,w,T);k[T]?k[T].p(C,A):(k[T]=J2(C),k[T].c(),k[T].m(a,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=w.length}},i:ce,o:ce,d(x){x&&S(e),d.d(),x&&S(t),x&&S(r),zt(m,x),p&&p.d(),zt(v,x),zt(k,x)}}}function vi(n,e){n=n||[];for(let t of n)if(t.id==e)return t;return null}function Hr(n,e){return n===e?!1:JSON.stringify(n)!==JSON.stringify(e)}function YX(n,e,t){let r,i,s,{collectionA:a=new zr}=e,{collectionB:l=new zr}=e,{deleteMissing:o=!1}=e,f=[],c=[],u=[],d=[],h=[];const m=Object.keys(new zr().export()).filter(v=>!["schema","created","updated"].includes(v));function p(){t(4,c=Array.isArray(l==null?void 0:l.schema)?l==null?void 0:l.schema.concat():[]),o||t(4,c=c.concat(f.filter(v=>!c.find(w=>v.id==w.id))))}function g(v){return typeof v>"u"?"":X.isObject(v)?JSON.stringify(v,null,4):v}return n.$$set=v=>{"collectionA"in v&&t(0,a=v.collectionA),"collectionB"in v&&t(1,l=v.collectionB),"deleteMissing"in v&&t(2,o=v.deleteMissing)},n.$$.update=()=>{n.$$.dirty[0]&2&&t(5,r=!(l!=null&&l.id)&&!(l!=null&&l.name)),n.$$.dirty[0]&33&&t(10,i=!r&&!(a!=null&&a.id)),n.$$.dirty[0]&1&&t(3,f=Array.isArray(a==null?void 0:a.schema)?a==null?void 0:a.schema.concat():[]),n.$$.dirty[0]&7&&(typeof(a==null?void 0:a.schema)<"u"||typeof(l==null?void 0:l.schema)<"u"||typeof o<"u")&&p(),n.$$.dirty[0]&24&&t(6,u=f.filter(v=>!c.find(w=>v.id==w.id))),n.$$.dirty[0]&24&&t(7,d=c.filter(v=>f.find(w=>w.id==v.id))),n.$$.dirty[0]&24&&t(8,h=c.filter(v=>!f.find(w=>w.id==v.id))),n.$$.dirty[0]&7&&t(9,s=X.hasCollectionChanges(a,l,o))},[a,l,o,f,c,r,u,d,h,s,i,m,g]}class GX extends We{constructor(e){super(),Ve(this,e,YX,qX,$e,{collectionA:0,collectionB:1,deleteMissing:2},null,[-1,-1])}}function Z2(n,e,t){const r=n.slice();return r[17]=e[t],r}function Q2(n){let e,t;return e=new GX({props:{collectionA:n[17].old,collectionB:n[17].new,deleteMissing:n[3]}}),{c(){z(e.$$.fragment)},m(r,i){W(e,r,i),t=!0},p(r,i){const s={};i&4&&(s.collectionA=r[17].old),i&4&&(s.collectionB=r[17].new),i&8&&(s.deleteMissing=r[3]),e.$set(s)},i(r){t||(M(e.$$.fragment,r),t=!0)},o(r){L(e.$$.fragment,r),t=!1},d(r){j(e,r)}}}function XX(n){let e,t,r=n[2],i=[];for(let a=0;a<r.length;a+=1)i[a]=Q2(Z2(n,r,a));const s=a=>L(i[a],1,1,()=>{i[a]=null});return{c(){for(let a=0;a<i.length;a+=1)i[a].c();e=Ge()},m(a,l){for(let o=0;o<i.length;o+=1)i[o].m(a,l);E(a,e,l),t=!0},p(a,l){if(l&12){r=a[2];let o;for(o=0;o<r.length;o+=1){const f=Z2(a,r,o);i[o]?(i[o].p(f,l),M(i[o],1)):(i[o]=Q2(f),i[o].c(),M(i[o],1),i[o].m(e.parentNode,e))}for(Me(),o=r.length;o<i.length;o+=1)s(o);Ie()}},i(a){if(!t){for(let l=0;l<r.length;l+=1)M(i[l]);t=!0}},o(a){i=i.filter(Boolean);for(let l=0;l<i.length;l+=1)L(i[l]);t=!1},d(a){zt(i,a),a&&S(e)}}}function KX(n){let e;return{c(){e=y("h4"),e.textContent="Side-by-side diff",_(e,"class","center txt-break")},m(t,r){E(t,e,r)},p:ce,d(t){t&&S(e)}}}function JX(n){let e,t,r,i,s,a,l;return{c(){e=y("button"),t=q("Close"),r=D(),i=y("button"),s=y("span"),s.textContent="Confirm and import",_(e,"type","button"),_(e,"class","btn btn-transparent"),e.disabled=n[4],_(s,"class","txt"),_(i,"type","button"),_(i,"class","btn btn-expanded"),i.disabled=n[4],pe(i,"btn-loading",n[4])},m(o,f){E(o,e,f),b(e,t),E(o,r,f),E(o,i,f),b(i,s),a||(l=[ae(e,"click",n[0]),ae(i,"click",n[9])],a=!0)},p(o,f){f&16&&(e.disabled=o[4]),f&16&&(i.disabled=o[4]),f&16&&pe(i,"btn-loading",o[4])},d(o){o&&S(e),o&&S(r),o&&S(i),a=!1,it(l)}}}function ZX(n){let e,t,r={class:"full-width-popup import-popup",overlayClose:!1,escClose:!n[4],beforeHide:n[10],popup:!0,$$slots:{footer:[JX],header:[KX],default:[XX]},$$scope:{ctx:n}};return e=new $r({props:r}),n[11](e),e.$on("show",n[12]),e.$on("hide",n[13]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&16&&(a.escClose=!i[4]),s&16&&(a.beforeHide=i[10]),s&1048604&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[11](null),j(e,i)}}}function QX(n,e,t){const r=Fn();let i,s=[],a=[],l=[],o=!1,f=!1;function c(x,A,T=!1){t(7,s=x),t(8,a=A),t(3,o=T),i==null||i.show()}function u(){return i==null?void 0:i.hide()}function d(){t(2,l=[]);for(const x of s){const A=X.findByKey(a,"id",x.id)||null;(o&&!(A!=null&&A.id)||A!=null&&A.id&&X.hasCollectionChanges(x,A,o))&&l.push({old:x,new:A})}for(const x of a){const A=X.findByKey(s,"id",x.id)||null;A!=null&&A.id||l.push({old:A,new:x})}}function h(){const x=[];if(o)for(const A of s){const T=X.findByKey(a,"id",A.id);if(!T)x.push(A.name+".*");else{const C=Array.isArray(A.schema)?A.schema:[];for(const F of C)X.findByKey(T.schema,"id",F.id)||x.push(`${A.name}.${F.name} (${F.id})`)}}x.length?Wr(`Do you really want to delete the following collection fields and their related records data:
- ${x.join(`
- `)}`,()=>{m()}):m()}async function m(){if(!f){t(4,f=!0);try{await Ue.collections.import(a,o),Qn("Successfully imported collections configuration."),r("submit")}catch(x){Ue.errorResponseHandler(x)}t(4,f=!1),u()}}const p=()=>h(),g=()=>!f;function v(x){ve[x?"unshift":"push"](()=>{i=x,t(1,i)})}function w(x){mt.call(this,n,x)}function k(x){mt.call(this,n,x)}return n.$$.update=()=>{n.$$.dirty&384&&Array.isArray(s)&&Array.isArray(a)&&d()},[u,i,l,o,f,h,c,s,a,p,g,v,w,k]}class eK extends We{constructor(e){super(),Ve(this,e,QX,ZX,$e,{show:6,hide:0})}get show(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[0]}}function ew(n,e,t){const r=n.slice();return r[32]=e[t],r}function tw(n,e,t){const r=n.slice();return r[35]=e[t],r}function nw(n,e,t){const r=n.slice();return r[32]=e[t],r}function tK(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w,k,x,A,T,C;o=new Re({props:{class:"form-field "+(n[6]?"":"field-error"),name:"collections",$$slots:{default:[rK,({uniqueId:R})=>({40:R}),({uniqueId:R})=>[0,R?512:0]]},$$scope:{ctx:n}}});let F=!1,O=n[6]&&n[1].length&&!n[7]&&iw(),I=n[6]&&n[1].length&&n[7]&&sw(n),N=n[13].length&&_w(n),P=!!n[0]&&gw(n);return{c(){e=y("input"),t=D(),r=y("div"),i=y("p"),s=q(`Paste below the collections configuration you want to import or
                        `),a=y("button"),a.innerHTML='<span class="txt">Load from JSON file</span>',l=D(),z(o.$$.fragment),f=D(),c=D(),O&&O.c(),u=D(),I&&I.c(),d=D(),N&&N.c(),h=D(),m=y("div"),P&&P.c(),p=D(),g=y("div"),v=D(),w=y("button"),k=y("span"),k.textContent="Review",_(e,"type","file"),_(e,"class","hidden"),_(e,"accept",".json"),_(a,"class","btn btn-outline btn-sm m-l-5"),pe(a,"btn-loading",n[12]),_(r,"class","content txt-xl m-b-base"),_(g,"class","flex-fill"),_(k,"class","txt"),_(w,"type","button"),_(w,"class","btn btn-expanded btn-warning m-l-auto"),w.disabled=x=!n[14],_(m,"class","flex m-t-base")},m(R,Y){E(R,e,Y),n[19](e),E(R,t,Y),E(R,r,Y),b(r,i),b(i,s),b(i,a),E(R,l,Y),W(o,R,Y),E(R,f,Y),E(R,c,Y),O&&O.m(R,Y),E(R,u,Y),I&&I.m(R,Y),E(R,d,Y),N&&N.m(R,Y),E(R,h,Y),E(R,m,Y),P&&P.m(m,null),b(m,p),b(m,g),b(m,v),b(m,w),b(w,k),A=!0,T||(C=[ae(e,"change",n[20]),ae(a,"click",n[21]),ae(w,"click",n[26])],T=!0)},p(R,Y){(!A||Y[0]&4096)&&pe(a,"btn-loading",R[12]);const ne={};Y[0]&64&&(ne.class="form-field "+(R[6]?"":"field-error")),Y[0]&65|Y[1]&1536&&(ne.$$scope={dirty:Y,ctx:R}),o.$set(ne),R[6]&&R[1].length&&!R[7]?O||(O=iw(),O.c(),O.m(u.parentNode,u)):O&&(O.d(1),O=null),R[6]&&R[1].length&&R[7]?I?I.p(R,Y):(I=sw(R),I.c(),I.m(d.parentNode,d)):I&&(I.d(1),I=null),R[13].length?N?N.p(R,Y):(N=_w(R),N.c(),N.m(h.parentNode,h)):N&&(N.d(1),N=null),R[0]?P?P.p(R,Y):(P=gw(R),P.c(),P.m(m,p)):P&&(P.d(1),P=null),(!A||Y[0]&16384&&x!==(x=!R[14]))&&(w.disabled=x)},i(R){A||(M(o.$$.fragment,R),M(F),A=!0)},o(R){L(o.$$.fragment,R),L(F),A=!1},d(R){R&&S(e),n[19](null),R&&S(t),R&&S(r),R&&S(l),j(o,R),R&&S(f),R&&S(c),O&&O.d(R),R&&S(u),I&&I.d(R),R&&S(d),N&&N.d(R),R&&S(h),R&&S(m),P&&P.d(),T=!1,it(C)}}}function nK(n){let e;return{c(){e=y("div"),_(e,"class","loader")},m(t,r){E(t,e,r)},p:ce,i:ce,o:ce,d(t){t&&S(e)}}}function rw(n){let e;return{c(){e=y("div"),e.textContent="Invalid collections configuration.",_(e,"class","help-block help-block-error")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function rK(n){let e,t,r,i,s,a,l,o,f,c,u=!!n[0]&&!n[6]&&rw();return{c(){e=y("label"),t=q("Collections"),i=D(),s=y("textarea"),l=D(),u&&u.c(),o=Ge(),_(e,"for",r=n[40]),_(e,"class","p-b-10"),_(s,"id",a=n[40]),_(s,"class","code"),_(s,"spellcheck","false"),_(s,"rows","15"),s.required=!0},m(d,h){E(d,e,h),b(e,t),E(d,i,h),E(d,s,h),Ne(s,n[0]),E(d,l,h),u&&u.m(d,h),E(d,o,h),f||(c=ae(s,"input",n[22]),f=!0)},p(d,h){h[1]&512&&r!==(r=d[40])&&_(e,"for",r),h[1]&512&&a!==(a=d[40])&&_(s,"id",a),h[0]&1&&Ne(s,d[0]),d[0]&&!d[6]?u||(u=rw(),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},d(d){d&&S(e),d&&S(i),d&&S(s),d&&S(l),u&&u.d(d),d&&S(o),f=!1,c()}}}function iw(n){let e;return{c(){e=y("div"),e.innerHTML=`<div class="icon"><i class="ri-information-line"></i></div> 
                        <div class="content"><string>Your collections configuration is already up-to-date!</string></div>`,_(e,"class","alert alert-info")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function sw(n){let e,t,r,i,s,a=n[9].length&&aw(n),l=n[4].length&&fw(n),o=n[8].length&&hw(n);return{c(){e=y("h5"),e.textContent="Detected changes",t=D(),r=y("div"),a&&a.c(),i=D(),l&&l.c(),s=D(),o&&o.c(),_(e,"class","section-title"),_(r,"class","list")},m(f,c){E(f,e,c),E(f,t,c),E(f,r,c),a&&a.m(r,null),b(r,i),l&&l.m(r,null),b(r,s),o&&o.m(r,null)},p(f,c){f[9].length?a?a.p(f,c):(a=aw(f),a.c(),a.m(r,i)):a&&(a.d(1),a=null),f[4].length?l?l.p(f,c):(l=fw(f),l.c(),l.m(r,s)):l&&(l.d(1),l=null),f[8].length?o?o.p(f,c):(o=hw(f),o.c(),o.m(r,null)):o&&(o.d(1),o=null)},d(f){f&&S(e),f&&S(t),f&&S(r),a&&a.d(),l&&l.d(),o&&o.d()}}}function aw(n){let e=[],t=new Map,r,i=n[9];const s=a=>a[32].id;for(let a=0;a<i.length;a+=1){let l=nw(n,i,a),o=s(l);t.set(o,e[a]=ow(o,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ge()},m(a,l){for(let o=0;o<e.length;o+=1)e[o].m(a,l);E(a,r,l)},p(a,l){l[0]&512&&(i=a[9],e=sn(e,l,s,1,a,i,t,r.parentNode,Hi,ow,r,nw))},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&S(r)}}}function lw(n){let e,t,r=n[32].id+"",i,s;return{c(){e=y("small"),t=q("("),i=q(r),s=q(")"),_(e,"class","txt-hint")},m(a,l){E(a,e,l),b(e,t),b(e,i),b(e,s)},p(a,l){l[0]&512&&r!==(r=a[32].id+"")&&ke(i,r)},d(a){a&&S(e)}}}function ow(n,e){let t,r,i,s,a=e[32].name+"",l,o,f,c=e[32].id&&lw(e);return{key:n,first:null,c(){t=y("div"),r=y("span"),r.textContent="Deleted",i=D(),s=y("strong"),l=q(a),o=D(),c&&c.c(),f=D(),_(r,"class","label label-danger list-label svelte-1jx20fl"),_(t,"class","list-item"),this.first=t},m(u,d){E(u,t,d),b(t,r),b(t,i),b(t,s),b(s,l),b(t,o),c&&c.m(t,null),b(t,f)},p(u,d){e=u,d[0]&512&&a!==(a=e[32].name+"")&&ke(l,a),e[32].id?c?c.p(e,d):(c=lw(e),c.c(),c.m(t,f)):c&&(c.d(1),c=null)},d(u){u&&S(t),c&&c.d()}}}function fw(n){let e=[],t=new Map,r,i=n[4];const s=a=>a[35].old.id+a[35].new.id;for(let a=0;a<i.length;a+=1){let l=tw(n,i,a),o=s(l);t.set(o,e[a]=dw(o,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ge()},m(a,l){for(let o=0;o<e.length;o+=1)e[o].m(a,l);E(a,r,l)},p(a,l){l[0]&16&&(i=a[4],e=sn(e,l,s,1,a,i,t,r.parentNode,Hi,dw,r,tw))},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&S(r)}}}function cw(n){let e,t=n[35].old.name+"",r,i,s;return{c(){e=y("strong"),r=q(t),i=D(),s=y("i"),_(e,"class","txt-strikethrough txt-hint"),_(s,"class","ri-arrow-right-line txt-sm")},m(a,l){E(a,e,l),b(e,r),E(a,i,l),E(a,s,l)},p(a,l){l[0]&16&&t!==(t=a[35].old.name+"")&&ke(r,t)},d(a){a&&S(e),a&&S(i),a&&S(s)}}}function uw(n){let e,t,r=n[35].new.id+"",i,s;return{c(){e=y("small"),t=q("("),i=q(r),s=q(")"),_(e,"class","txt-hint")},m(a,l){E(a,e,l),b(e,t),b(e,i),b(e,s)},p(a,l){l[0]&16&&r!==(r=a[35].new.id+"")&&ke(i,r)},d(a){a&&S(e)}}}function dw(n,e){let t,r,i,s,a,l,o=e[35].new.name+"",f,c,u,d=e[35].old.name!==e[35].new.name&&cw(e),h=e[35].new.id&&uw(e);return{key:n,first:null,c(){t=y("div"),r=y("span"),r.textContent="Changed",i=D(),s=y("div"),d&&d.c(),a=D(),l=y("strong"),f=q(o),c=D(),h&&h.c(),u=D(),_(r,"class","label label-warning list-label svelte-1jx20fl"),_(s,"class","inline-flex flex-gap-5"),_(t,"class","list-item"),this.first=t},m(m,p){E(m,t,p),b(t,r),b(t,i),b(t,s),d&&d.m(s,null),b(s,a),b(s,l),b(l,f),b(s,c),h&&h.m(s,null),b(t,u)},p(m,p){e=m,e[35].old.name!==e[35].new.name?d?d.p(e,p):(d=cw(e),d.c(),d.m(s,a)):d&&(d.d(1),d=null),p[0]&16&&o!==(o=e[35].new.name+"")&&ke(f,o),e[35].new.id?h?h.p(e,p):(h=uw(e),h.c(),h.m(s,null)):h&&(h.d(1),h=null)},d(m){m&&S(t),d&&d.d(),h&&h.d()}}}function hw(n){let e=[],t=new Map,r,i=n[8];const s=a=>a[32].id;for(let a=0;a<i.length;a+=1){let l=ew(n,i,a),o=s(l);t.set(o,e[a]=mw(o,l))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();r=Ge()},m(a,l){for(let o=0;o<e.length;o+=1)e[o].m(a,l);E(a,r,l)},p(a,l){l[0]&256&&(i=a[8],e=sn(e,l,s,1,a,i,t,r.parentNode,Hi,mw,r,ew))},d(a){for(let l=0;l<e.length;l+=1)e[l].d(a);a&&S(r)}}}function pw(n){let e,t,r=n[32].id+"",i,s;return{c(){e=y("small"),t=q("("),i=q(r),s=q(")"),_(e,"class","txt-hint")},m(a,l){E(a,e,l),b(e,t),b(e,i),b(e,s)},p(a,l){l[0]&256&&r!==(r=a[32].id+"")&&ke(i,r)},d(a){a&&S(e)}}}function mw(n,e){let t,r,i,s,a=e[32].name+"",l,o,f,c=e[32].id&&pw(e);return{key:n,first:null,c(){t=y("div"),r=y("span"),r.textContent="Added",i=D(),s=y("strong"),l=q(a),o=D(),c&&c.c(),f=D(),_(r,"class","label label-success list-label svelte-1jx20fl"),_(t,"class","list-item"),this.first=t},m(u,d){E(u,t,d),b(t,r),b(t,i),b(t,s),b(s,l),b(t,o),c&&c.m(t,null),b(t,f)},p(u,d){e=u,d[0]&256&&a!==(a=e[32].name+"")&&ke(l,a),e[32].id?c?c.p(e,d):(c=pw(e),c.c(),c.m(t,f)):c&&(c.d(1),c=null)},d(u){u&&S(t),c&&c.d()}}}function _w(n){let e,t,r,i,s,a,l,o;return{c(){e=y("div"),t=y("div"),t.innerHTML='<i class="ri-error-warning-line"></i>',r=D(),i=y("div"),i.innerHTML=`<string>Some of the imported collections share the same name and/or fields but are
                                imported with different IDs. You can replace them in the import if you want
                                to.</string>`,s=D(),a=y("button"),a.innerHTML='<span class="txt">Replace with original ids</span>',_(t,"class","icon"),_(i,"class","content"),_(a,"type","button"),_(a,"class","btn btn-warning btn-sm btn-outline"),_(e,"class","alert alert-warning m-t-base")},m(f,c){E(f,e,c),b(e,t),b(e,r),b(e,i),b(e,s),b(e,a),l||(o=ae(a,"click",n[24]),l=!0)},p:ce,d(f){f&&S(e),l=!1,o()}}}function gw(n){let e,t,r;return{c(){e=y("button"),e.innerHTML='<span class="txt">Clear</span>',_(e,"type","button"),_(e,"class","btn btn-transparent link-hint")},m(i,s){E(i,e,s),t||(r=ae(e,"click",n[25]),t=!0)},p:ce,d(i){i&&S(e),t=!1,r()}}}function iK(n){let e,t,r,i,s,a,l,o,f,c,u,d;const h=[nK,tK],m=[];function p(g,v){return g[5]?0:1}return c=p(n),u=m[c]=h[c](n),{c(){e=y("header"),t=y("nav"),r=y("div"),r.textContent="Settings",i=D(),s=y("div"),a=q(n[15]),l=D(),o=y("div"),f=y("div"),u.c(),_(r,"class","breadcrumb-item"),_(s,"class","breadcrumb-item"),_(t,"class","breadcrumbs"),_(e,"class","page-header"),_(f,"class","panel"),_(o,"class","wrapper")},m(g,v){E(g,e,v),b(e,t),b(t,r),b(t,i),b(t,s),b(s,a),E(g,l,v),E(g,o,v),b(o,f),m[c].m(f,null),d=!0},p(g,v){(!d||v[0]&32768)&&ke(a,g[15]);let w=c;c=p(g),c===w?m[c].p(g,v):(Me(),L(m[w],1,1,()=>{m[w]=null}),Ie(),u=m[c],u?u.p(g,v):(u=m[c]=h[c](g),u.c()),M(u,1),u.m(f,null))},i(g){d||(M(u),d=!0)},o(g){L(u),d=!1},d(g){g&&S(e),g&&S(l),g&&S(o),m[c].d()}}}function sK(n){let e,t,r,i,s,a;e=new ia({}),r=new ai({props:{$$slots:{default:[iK]},$$scope:{ctx:n}}});let l={};return s=new eK({props:l}),n[27](s),s.$on("submit",n[28]),{c(){z(e.$$.fragment),t=D(),z(r.$$.fragment),i=D(),z(s.$$.fragment)},m(o,f){W(e,o,f),E(o,t,f),W(r,o,f),E(o,i,f),W(s,o,f),a=!0},p(o,f){const c={};f[0]&65535|f[1]&1024&&(c.$$scope={dirty:f,ctx:o}),r.$set(c);const u={};s.$set(u)},i(o){a||(M(e.$$.fragment,o),M(r.$$.fragment,o),M(s.$$.fragment,o),a=!0)},o(o){L(e.$$.fragment,o),L(r.$$.fragment,o),L(s.$$.fragment,o),a=!1},d(o){j(e,o),o&&S(t),j(r,o),o&&S(i),n[27](null),j(s,o)}}}function aK(n,e,t){let r,i,s,a,l,o,f;Et(n,En,U=>t(15,f=U)),kr(En,f="Import collections",f);let c,u,d="",h=!1,m=[],p=[],g=!0,v=[],w=!1;k();async function k(){t(5,w=!0);try{t(2,p=await Ue.collections.getFullList(200));for(let U of p)delete U.created,delete U.updated}catch(U){Ue.errorResponseHandler(U)}t(5,w=!1)}function x(){if(t(4,v=[]),!!r)for(let U of m){const be=X.findByKey(p,"id",U.id);!(be!=null&&be.id)||!X.hasCollectionChanges(be,U,g)||v.push({new:U,old:be})}}function A(){t(1,m=[]);try{t(1,m=JSON.parse(d))}catch{}Array.isArray(m)?t(1,m=X.filterDuplicatesByKey(m)):t(1,m=[]);for(let U of m)delete U.created,delete U.updated,U.schema=X.filterDuplicatesByKey(U.schema)}function T(){var U,be;for(let fe of m){const B=X.findByKey(p,"name",fe.name)||X.findByKey(p,"id",fe.id);if(!B)continue;const K=fe.id,G=B.id;fe.id=G;const J=Array.isArray(B.schema)?B.schema:[],de=Array.isArray(fe.schema)?fe.schema:[];for(const me of de){const we=X.findByKey(J,"name",me.name);we&&we.id&&(me.id=we.id)}for(let me of m)if(Array.isArray(me.schema))for(let we of me.schema)(U=we.options)!=null&&U.collectionId&&((be=we.options)==null?void 0:be.collectionId)===K&&(we.options.collectionId=G)}t(0,d=JSON.stringify(m,null,4))}function C(U){t(12,h=!0);const be=new FileReader;be.onload=async fe=>{t(12,h=!1),t(10,c.value="",c),t(0,d=fe.target.result),await Pr(),m.length||(Co("Invalid collections configuration."),F())},be.onerror=fe=>{console.warn(fe),Co("Failed to load the imported JSON."),t(12,h=!1),t(10,c.value="",c)},be.readAsText(U)}function F(){t(0,d=""),t(10,c.value="",c),Ti({})}function O(U){ve[U?"unshift":"push"](()=>{c=U,t(10,c)})}const I=()=>{c.files.length&&C(c.files[0])},N=()=>{c.click()};function P(){d=this.value,t(0,d)}function R(){g=this.checked,t(3,g)}const Y=()=>T(),ne=()=>F(),V=()=>u==null?void 0:u.show(p,m,g);function se(U){ve[U?"unshift":"push"](()=>{u=U,t(11,u)})}const ue=()=>F();return n.$$.update=()=>{n.$$.dirty[0]&1&&typeof d<"u"&&A(),n.$$.dirty[0]&3&&t(6,r=!!d&&m.length&&m.length===m.filter(U=>!!U.id&&!!U.name).length),n.$$.dirty[0]&78&&t(9,i=p.filter(U=>r&&g&&!X.findByKey(m,"id",U.id))),n.$$.dirty[0]&70&&t(8,s=m.filter(U=>r&&!X.findByKey(p,"id",U.id))),n.$$.dirty[0]&10&&(typeof m<"u"||typeof g<"u")&&x(),n.$$.dirty[0]&785&&t(7,a=!!d&&(i.length||s.length||v.length)),n.$$.dirty[0]&224&&t(14,l=!w&&r&&a),n.$$.dirty[0]&6&&t(13,o=m.filter(U=>{let be=X.findByKey(p,"name",U.name)||X.findByKey(p,"id",U.id);if(!be)return!1;if(be.id!=U.id)return!0;const fe=Array.isArray(be.schema)?be.schema:[],B=Array.isArray(U.schema)?U.schema:[];for(const K of B){if(X.findByKey(fe,"id",K.id))continue;const J=X.findByKey(fe,"name",K.name);if(J&&K.id!=J.id)return!0}return!1}))},[d,m,p,g,v,w,r,a,s,i,c,u,h,o,l,f,T,C,F,O,I,N,P,R,Y,ne,V,se,ue]}class lK extends We{constructor(e){super(),Ve(this,e,aK,sK,$e,{},null,[-1,-1])}}const Kn=[async n=>{const e=new URLSearchParams(window.location.search);return n.location!=="/"&&e.has("installer")?Js("/"):!0}],oK={"/login":Pn({component:rG,conditions:Kn.concat([n=>!Ue.authStore.isValid]),userData:{showAppSidebar:!1}}),"/request-password-reset":Pn({asyncComponent:()=>jt(()=>import("./PageAdminRequestPasswordReset-50560fc0.js"),[],import.meta.url),conditions:Kn.concat([n=>!Ue.authStore.isValid]),userData:{showAppSidebar:!1}}),"/confirm-password-reset/:token":Pn({asyncComponent:()=>jt(()=>import("./PageAdminConfirmPasswordReset-6bf0bd3d.js"),[],import.meta.url),conditions:Kn.concat([n=>!Ue.authStore.isValid]),userData:{showAppSidebar:!1}}),"/collections":Pn({component:CY,conditions:Kn.concat([n=>Ue.authStore.isValid]),userData:{showAppSidebar:!0}}),"/logs":Pn({component:a8,conditions:Kn.concat([n=>Ue.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings":Pn({component:hG,conditions:Kn.concat([n=>Ue.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/admins":Pn({component:JY,conditions:Kn.concat([n=>Ue.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/mail":Pn({component:JG,conditions:Kn.concat([n=>Ue.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/storage":Pn({component:hX,conditions:Kn.concat([n=>Ue.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/auth-providers":Pn({component:FX,conditions:Kn.concat([n=>Ue.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/tokens":Pn({component:LX,conditions:Kn.concat([n=>Ue.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/export-collections":Pn({component:VX,conditions:Kn.concat([n=>Ue.authStore.isValid]),userData:{showAppSidebar:!0}}),"/settings/import-collections":Pn({component:lK,conditions:Kn.concat([n=>Ue.authStore.isValid]),userData:{showAppSidebar:!0}}),"/users/confirm-password-reset/:token":Pn({asyncComponent:()=>jt(()=>import("./PageRecordConfirmPasswordReset-b9a20c08.js"),[],import.meta.url),conditions:Kn,userData:{showAppSidebar:!1}}),"/auth/confirm-password-reset/:token":Pn({asyncComponent:()=>jt(()=>import("./PageRecordConfirmPasswordReset-b9a20c08.js"),[],import.meta.url),conditions:Kn,userData:{showAppSidebar:!1}}),"/users/confirm-verification/:token":Pn({asyncComponent:()=>jt(()=>import("./PageRecordConfirmVerification-2fa6f00e.js"),[],import.meta.url),conditions:Kn,userData:{showAppSidebar:!1}}),"/auth/confirm-verification/:token":Pn({asyncComponent:()=>jt(()=>import("./PageRecordConfirmVerification-2fa6f00e.js"),[],import.meta.url),conditions:Kn,userData:{showAppSidebar:!1}}),"/users/confirm-email-change/:token":Pn({asyncComponent:()=>jt(()=>import("./PageRecordConfirmEmailChange-b7ab3d12.js"),[],import.meta.url),conditions:Kn,userData:{showAppSidebar:!1}}),"/auth/confirm-email-change/:token":Pn({asyncComponent:()=>jt(()=>import("./PageRecordConfirmEmailChange-b7ab3d12.js"),[],import.meta.url),conditions:Kn,userData:{showAppSidebar:!1}}),"*":Pn({component:CE,userData:{showAppSidebar:!1}})};function fK(n,{from:e,to:t},r={}){const i=getComputedStyle(n),s=i.transform==="none"?"":i.transform,[a,l]=i.transformOrigin.split(" ").map(parseFloat),o=e.left+e.width*a/t.width-(t.left+a),f=e.top+e.height*l/t.height-(t.top+l),{delay:c=0,duration:u=h=>Math.sqrt(h)*120,easing:d=Jc}=r;return{delay:c,duration:ar(u)?u(Math.sqrt(o*o+f*f)):u,easing:d,css:(h,m)=>{const p=m*o,g=m*f,v=h+m*e.width/t.width,w=h+m*e.height/t.height;return`transform: ${s} translate(${p}px, ${g}px) scale(${v}, ${w});`}}}function vw(n,e,t){const r=n.slice();return r[2]=e[t],r}function cK(n){let e;return{c(){e=y("i"),_(e,"class","ri-alert-line")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function uK(n){let e;return{c(){e=y("i"),_(e,"class","ri-error-warning-line")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function dK(n){let e;return{c(){e=y("i"),_(e,"class","ri-checkbox-circle-line")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function hK(n){let e;return{c(){e=y("i"),_(e,"class","ri-information-line")},m(t,r){E(t,e,r)},d(t){t&&S(e)}}}function bw(n,e){let t,r,i,s,a=e[2].message+"",l,o,f,c,u,d,h=ce,m,p,g;function v(A,T){return A[2].type==="info"?hK:A[2].type==="success"?dK:A[2].type==="warning"?uK:cK}let w=v(e),k=w(e);function x(){return e[1](e[2])}return{key:n,first:null,c(){t=y("div"),r=y("div"),k.c(),i=D(),s=y("div"),l=q(a),o=D(),f=y("button"),f.innerHTML='<i class="ri-close-line"></i>',c=D(),_(r,"class","icon"),_(s,"class","content"),_(f,"type","button"),_(f,"class","close"),_(t,"class","alert txt-break"),pe(t,"alert-info",e[2].type=="info"),pe(t,"alert-success",e[2].type=="success"),pe(t,"alert-danger",e[2].type=="error"),pe(t,"alert-warning",e[2].type=="warning"),this.first=t},m(A,T){E(A,t,T),b(t,r),k.m(r,null),b(t,i),b(t,s),b(s,l),b(t,o),b(t,f),b(t,c),m=!0,p||(g=ae(f,"click",Yt(x)),p=!0)},p(A,T){e=A,w!==(w=v(e))&&(k.d(1),k=w(e),k&&(k.c(),k.m(r,null))),(!m||T&1)&&a!==(a=e[2].message+"")&&ke(l,a),(!m||T&1)&&pe(t,"alert-info",e[2].type=="info"),(!m||T&1)&&pe(t,"alert-success",e[2].type=="success"),(!m||T&1)&&pe(t,"alert-danger",e[2].type=="error"),(!m||T&1)&&pe(t,"alert-warning",e[2].type=="warning")},r(){d=t.getBoundingClientRect()},f(){MT(t),h(),Aw(t,d)},a(){h(),h=OT(t,d,fK,{duration:150})},i(A){m||(Nt(()=>{u||(u=ut(t,dc,{duration:150},!0)),u.run(1)}),m=!0)},o(A){u||(u=ut(t,dc,{duration:150},!1)),u.run(0),m=!1},d(A){A&&S(t),k.d(),A&&u&&u.end(),p=!1,g()}}}function pK(n){let e,t=[],r=new Map,i,s=n[0];const a=l=>l[2].message;for(let l=0;l<s.length;l+=1){let o=vw(n,s,l),f=a(o);r.set(f,t[l]=bw(f,o))}return{c(){e=y("div");for(let l=0;l<t.length;l+=1)t[l].c();_(e,"class","toasts-wrapper")},m(l,o){E(l,e,o);for(let f=0;f<t.length;f+=1)t[f].m(e,null);i=!0},p(l,[o]){if(o&1){s=l[0],Me();for(let f=0;f<t.length;f+=1)t[f].r();t=sn(t,o,a,1,l,s,r,e,PT,bw,null,vw);for(let f=0;f<t.length;f+=1)t[f].a();Ie()}},i(l){if(!i){for(let o=0;o<s.length;o+=1)M(t[o]);i=!0}},o(l){for(let o=0;o<t.length;o+=1)L(t[o]);i=!1},d(l){l&&S(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function mK(n,e,t){let r;return Et(n,Xc,s=>t(0,r=s)),[r,s=>Hk(s)]}class _K extends We{constructor(e){super(),Ve(this,e,mK,pK,$e,{})}}function gK(n){var i;let e,t=((i=n[1])==null?void 0:i.text)+"",r;return{c(){e=y("h4"),r=q(t),_(e,"class","block center txt-break"),_(e,"slot","header")},m(s,a){E(s,e,a),b(e,r)},p(s,a){var l;a&2&&t!==(t=((l=s[1])==null?void 0:l.text)+"")&&ke(r,t)},d(s){s&&S(e)}}}function vK(n){let e,t,r,i,s,a,l;return{c(){e=y("button"),t=y("span"),t.textContent="No",r=D(),i=y("button"),s=y("span"),s.textContent="Yes",_(t,"class","txt"),e.autofocus=!0,_(e,"type","button"),_(e,"class","btn btn-transparent btn-expanded-sm"),e.disabled=n[2],_(s,"class","txt"),_(i,"type","button"),_(i,"class","btn btn-danger btn-expanded"),i.disabled=n[2],pe(i,"btn-loading",n[2])},m(o,f){E(o,e,f),b(e,t),E(o,r,f),E(o,i,f),b(i,s),e.focus(),a||(l=[ae(e,"click",n[4]),ae(i,"click",n[5])],a=!0)},p(o,f){f&4&&(e.disabled=o[2]),f&4&&(i.disabled=o[2]),f&4&&pe(i,"btn-loading",o[2])},d(o){o&&S(e),o&&S(r),o&&S(i),a=!1,it(l)}}}function bK(n){let e,t,r={class:"confirm-popup hide-content overlay-panel-sm",overlayClose:!n[2],escClose:!n[2],btnClose:!1,popup:!0,$$slots:{footer:[vK],header:[gK]},$$scope:{ctx:n}};return e=new $r({props:r}),n[6](e),e.$on("hide",n[7]),{c(){z(e.$$.fragment)},m(i,s){W(e,i,s),t=!0},p(i,[s]){const a={};s&4&&(a.overlayClose=!i[2]),s&4&&(a.escClose=!i[2]),s&271&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(M(e.$$.fragment,i),t=!0)},o(i){L(e.$$.fragment,i),t=!1},d(i){n[6](null),j(e,i)}}}function wK(n,e,t){let r;Et(n,zd,u=>t(1,r=u));let i,s=!1,a=!1;const l=()=>{t(3,a=!1),i==null||i.hide()},o=async()=>{r!=null&&r.yesCallback&&(t(2,s=!0),await Promise.resolve(r.yesCallback()),t(2,s=!1)),t(3,a=!0),i==null||i.hide()};function f(u){ve[u?"unshift":"push"](()=>{i=u,t(0,i)})}const c=async()=>{!a&&(r!=null&&r.noCallback)&&r.noCallback(),await Pr(),t(3,a=!1),jy()};return n.$$.update=()=>{n.$$.dirty&3&&r!=null&&r.text&&(t(3,a=!1),i==null||i.show())},[i,r,s,a,l,o,f,c]}class kK extends We{constructor(e){super(),Ve(this,e,wK,bK,$e,{})}}function ww(n){let e,t,r,i,s,a,l,o,f,c,u,d,h,m,p,g,v,w;return p=new ss({props:{class:"dropdown dropdown-nowrap dropdown-upside dropdown-left",$$slots:{default:[yK]},$$scope:{ctx:n}}}),{c(){var k;e=y("aside"),t=y("a"),t.innerHTML='<img src="./images/logo.svg" alt="PocketBase logo" width="40" height="40"/>',r=D(),i=y("nav"),s=y("a"),s.innerHTML='<i class="ri-database-2-line"></i>',a=D(),l=y("a"),l.innerHTML='<i class="ri-line-chart-line"></i>',o=D(),f=y("a"),f.innerHTML='<i class="ri-tools-line"></i>',c=D(),u=y("figure"),d=y("img"),m=D(),z(p.$$.fragment),_(t,"href","/"),_(t,"class","logo logo-sm"),_(s,"href","/collections"),_(s,"class","menu-item"),_(s,"aria-label","Collections"),_(l,"href","/logs"),_(l,"class","menu-item"),_(l,"aria-label","Logs"),_(f,"href","/settings"),_(f,"class","menu-item"),_(f,"aria-label","Settings"),_(i,"class","main-menu"),Ui(d.src,h="./images/avatars/avatar"+(((k=n[0])==null?void 0:k.avatar)||0)+".svg")||_(d,"src",h),_(d,"alt","Avatar"),_(u,"class","thumb thumb-circle link-hint closable"),_(e,"class","app-sidebar")},m(k,x){E(k,e,x),b(e,t),b(e,r),b(e,i),b(i,s),b(i,a),b(i,l),b(i,o),b(i,f),b(e,c),b(e,u),b(u,d),b(u,m),W(p,u,null),g=!0,v||(w=[st(Fr.call(null,t)),st(Fr.call(null,s)),st(Ni.call(null,s,{path:"/collections/?.*",className:"current-route"})),st(xt.call(null,s,{text:"Collections",position:"right"})),st(Fr.call(null,l)),st(Ni.call(null,l,{path:"/logs/?.*",className:"current-route"})),st(xt.call(null,l,{text:"Logs",position:"right"})),st(Fr.call(null,f)),st(Ni.call(null,f,{path:"/settings/?.*",className:"current-route"})),st(xt.call(null,f,{text:"Settings",position:"right"}))],v=!0)},p(k,x){var T;(!g||x&1&&!Ui(d.src,h="./images/avatars/avatar"+(((T=k[0])==null?void 0:T.avatar)||0)+".svg"))&&_(d,"src",h);const A={};x&1024&&(A.$$scope={dirty:x,ctx:k}),p.$set(A)},i(k){g||(M(p.$$.fragment,k),g=!0)},o(k){L(p.$$.fragment,k),g=!1},d(k){k&&S(e),j(p),v=!1,it(w)}}}function yK(n){let e,t,r,i,s,a,l;return{c(){e=y("a"),e.innerHTML=`<i class="ri-shield-user-line"></i> 
                        <span class="txt">Manage admins</span>`,t=D(),r=y("hr"),i=D(),s=y("button"),s.innerHTML=`<i class="ri-logout-circle-line"></i> 
                        <span class="txt">Logout</span>`,_(e,"href","/settings/admins"),_(e,"class","dropdown-item closable"),_(s,"type","button"),_(s,"class","dropdown-item closable")},m(o,f){E(o,e,f),E(o,t,f),E(o,r,f),E(o,i,f),E(o,s,f),a||(l=[st(Fr.call(null,e)),ae(s,"click",n[6])],a=!0)},p:ce,d(o){o&&S(e),o&&S(t),o&&S(r),o&&S(i),o&&S(s),a=!1,it(l)}}}function xK(n){var h;let e,t,r,i,s,a,l,o,f,c,u;document.title=e=X.joinNonEmpty([n[3],n[2],"PocketBase"]," - ");let d=((h=n[0])==null?void 0:h.id)&&n[1]&&ww(n);return a=new WT({props:{routes:oK}}),a.$on("routeLoading",n[4]),a.$on("conditionsFailed",n[5]),o=new _K({}),c=new kK({}),{c(){t=D(),r=y("div"),d&&d.c(),i=D(),s=y("div"),z(a.$$.fragment),l=D(),z(o.$$.fragment),f=D(),z(c.$$.fragment),_(s,"class","app-body"),_(r,"class","app-layout")},m(m,p){E(m,t,p),E(m,r,p),d&&d.m(r,null),b(r,i),b(r,s),W(a,s,null),b(s,l),W(o,s,null),E(m,f,p),W(c,m,p),u=!0},p(m,[p]){var g;(!u||p&12)&&e!==(e=X.joinNonEmpty([m[3],m[2],"PocketBase"]," - "))&&(document.title=e),(g=m[0])!=null&&g.id&&m[1]?d?(d.p(m,p),p&3&&M(d,1)):(d=ww(m),d.c(),M(d,1),d.m(r,i)):d&&(Me(),L(d,1,1,()=>{d=null}),Ie())},i(m){u||(M(d),M(a.$$.fragment,m),M(o.$$.fragment,m),M(c.$$.fragment,m),u=!0)},o(m){L(d),L(a.$$.fragment,m),L(o.$$.fragment,m),L(c.$$.fragment,m),u=!1},d(m){m&&S(t),m&&S(r),d&&d.d(),j(a),j(o),m&&S(f),j(c,m)}}}function TK(n,e,t){let r,i,s,a;Et(n,vl,h=>t(8,r=h)),Et(n,pc,h=>t(2,i=h)),Et(n,wd,h=>t(0,s=h)),Et(n,En,h=>t(3,a=h));let l,o=!1;function f(h){var m,p,g,v;((m=h==null?void 0:h.detail)==null?void 0:m.location)!==l&&(t(1,o=!!((g=(p=h==null?void 0:h.detail)==null?void 0:p.userData)!=null&&g.showAppSidebar)),l=(v=h==null?void 0:h.detail)==null?void 0:v.location,kr(En,a="",a),Ti({}),jy())}function c(){Js("/")}async function u(){var h,m;if(s!=null&&s.id)try{const p=await Ue.settings.getAll({$cancelKey:"initialAppSettings"});kr(pc,i=((h=p==null?void 0:p.meta)==null?void 0:h.appName)||"",i),kr(vl,r=!!((m=p==null?void 0:p.meta)!=null&&m.hideControls),r)}catch(p){p!=null&&p.isAbort||console.warn("Failed to load app settings.",p)}}function d(){Ue.logout()}return n.$$.update=()=>{n.$$.dirty&1&&s!=null&&s.id&&u()},[s,o,i,a,f,c,d]}class SK extends We{constructor(e){super(),Ve(this,e,TK,xK,$e,{})}}new SK({target:document.getElementById("app")});export{it as A,Qn as B,X as C,Js as D,Ge as E,Vk as F,fd as G,Qh as H,Et as I,ea as J,Fn as K,ur as L,ve as M,Hy as N,sn as O,Hi as P,Tr as Q,zr as R,We as S,h0 as T,L as a,D as b,z as c,j as d,y as e,_ as f,E as g,b as h,Ve as i,st as j,Me as k,Fr as l,W as m,Ie as n,S as o,Ue as p,Re as q,pe as r,$e as s,M as t,ae as u,Yt as v,q as w,ke as x,ce as y,Ne as z};
